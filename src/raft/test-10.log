=== RUN   TestSnapshotAllCrash2D
Test (2D): crash and restart all servers ...
term 1 server 2 vote for server 0
term 1 server 1 vote for server 0
term 1 server 0 get vote from server 2
term 1 server 0 become leader
------------------------------------------------------
term 1 server 0 get outdate rpc reply from server 1
flag 73212 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 7309 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
server 1 log:
[{<nil> 0 0}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
server 2 log:
[{<nil> 0 0}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 6140463353379838629 (index 1) to leader 0
flag 44336 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
[{6140463353379838629 1 1}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 33887 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
[{6140463353379838629 1 1}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
server 2 log:
[{<nil> 0 0} {6140463353379838629 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
server 1 log:
[{<nil> 0 0} {6140463353379838629 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6140463353379838629 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6140463353379838629 1 1}]
------------------------------------------------------
flag 15163 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 32226 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
server 2 log:
[{<nil> 0 0} {6140463353379838629 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
server 1 log:
[{<nil> 0 0} {6140463353379838629 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6140463353379838629 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6140463353379838629 1 1}]
------------------------------------------------------
client write log 6191866474864260553 (index 2) to leader 0
flag 41363 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
[{6191866474864260553 1 2}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 96268 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
[{6191866474864260553 1 2}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
server 2 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
server 1 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2}]
------------------------------------------------------
flag 35697 term 1 leader 0 nextIndex[1]: 3  matchIndex[1]: 2
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 47197 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
server 2 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
server 1 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2}]
------------------------------------------------------
client write log 9221362350044389142 (index 3) to leader 0
flag 68410 term 1 leader 0 nextIndex[1]: 3  matchIndex[1]: 2
[{9221362350044389142 1 3}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 3534 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
[{9221362350044389142 1 3}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
server 2 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
server 1 log:
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=4
update matchIndex[2]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3}]
------------------------------------------------------
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=4
update matchIndex[1]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3}]
------------------------------------------------------
flag 37956 term 1 leader 0 nextIndex[1]: 4  matchIndex[1]: 3
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
flag 34583 term 1 leader 0 nextIndex[2]: 4  matchIndex[2]: 3
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:3 
server 2 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=4
update matchIndex[2]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:3 
server 1 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=4
update matchIndex[1]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3}]
------------------------------------------------------
client write log 7334247928905397397 (index 4) to leader 0
flag 44601 term 1 leader 0 nextIndex[1]: 4  matchIndex[1]: 3
[{7334247928905397397 1 4}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
flag 78283 term 1 leader 0 nextIndex[2]: 4  matchIndex[2]: 3
[{7334247928905397397 1 4}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:3 
server 2 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=5
update matchIndex[2]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:3 
server 1 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=5
update matchIndex[1]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4}]
------------------------------------------------------
flag 5083 term 1 leader 0 nextIndex[1]: 5  matchIndex[1]: 4
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
flag 49103 term 1 leader 0 nextIndex[2]: 5  matchIndex[2]: 4
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:4 
server 2 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=5
update matchIndex[2]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:4 
server 1 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=5
update matchIndex[1]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4}]
------------------------------------------------------
client write log 7539678096381414769 (index 5) to leader 0
flag 42452 term 1 leader 0 nextIndex[1]: 5  matchIndex[1]: 4
[{7539678096381414769 1 5}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
flag 41608 term 1 leader 0 nextIndex[2]: 5  matchIndex[2]: 4
[{7539678096381414769 1 5}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:4 
server 2 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:4 
server 1 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=6
update matchIndex[2]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=6
update matchIndex[1]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5}]
------------------------------------------------------
flag 28405 term 1 leader 0 nextIndex[1]: 6  matchIndex[1]: 5
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
flag 67892 term 1 leader 0 nextIndex[2]: 6  matchIndex[2]: 5
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:5 
server 2 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=6
update matchIndex[2]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:5 
server 1 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=6
update matchIndex[1]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5}]
------------------------------------------------------
client write log 2515044129442051940 (index 6) to leader 0
flag 75308 term 1 leader 0 nextIndex[1]: 6  matchIndex[1]: 5
[{2515044129442051940 1 6}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
flag 48036 term 1 leader 0 nextIndex[2]: 6  matchIndex[2]: 5
[{2515044129442051940 1 6}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:5 
server 2 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:5 
server 1 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=7
update matchIndex[2]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=7
update matchIndex[1]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6}]
------------------------------------------------------
flag 15786 term 1 leader 0 nextIndex[1]: 7  matchIndex[1]: 6
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
flag 79628 term 1 leader 0 nextIndex[2]: 7  matchIndex[2]: 6
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:6 
server 2 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:6 
server 1 log:
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=7
update matchIndex[2]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6}]
------------------------------------------------------
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=7
update matchIndex[1]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6}]
------------------------------------------------------
client write log 8151153077963330534 (index 7) to leader 0
flag 89505 term 1 leader 0 nextIndex[1]: 7  matchIndex[1]: 6
[{8151153077963330534 1 7}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
flag 55509 term 1 leader 0 nextIndex[2]: 7  matchIndex[2]: 6
[{8151153077963330534 1 7}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:6 
server 2 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6} {8151153077963330534 1 7}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:6 
server 1 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6} {8151153077963330534 1 7}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=8
update matchIndex[2]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6} {8151153077963330534 1 7}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=8
update matchIndex[1]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6} {8151153077963330534 1 7}]
------------------------------------------------------
flag 66612 term 1 leader 0 nextIndex[1]: 8  matchIndex[1]: 7
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
flag 22287 term 1 leader 0 nextIndex[2]: 8  matchIndex[2]: 7
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:7 
server 1 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6} {8151153077963330534 1 7}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=8
update matchIndex[1]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6} {8151153077963330534 1 7}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:7 
server 2 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6} {8151153077963330534 1 7}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=8
update matchIndex[2]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6} {8151153077963330534 1 7}]
------------------------------------------------------
client write log 287028897308835212 (index 8) to leader 0
flag 10057 term 1 leader 0 nextIndex[1]: 8  matchIndex[1]: 7
[{287028897308835212 1 8}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
flag 24214 term 1 leader 0 nextIndex[2]: 8  matchIndex[2]: 7
[{287028897308835212 1 8}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:7 
server 2 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6} {8151153077963330534 1 7} {287028897308835212 1 8}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:7 
server 1 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6} {8151153077963330534 1 7} {287028897308835212 1 8}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=9
update matchIndex[2]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6} {8151153077963330534 1 7} {287028897308835212 1 8}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=9
update matchIndex[1]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6} {8151153077963330534 1 7} {287028897308835212 1 8}]
------------------------------------------------------
flag 49575 term 1 leader 0 nextIndex[1]: 9  matchIndex[1]: 8
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 19940 term 1 leader 0 nextIndex[2]: 9  matchIndex[2]: 8
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:8 
server 2 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6} {8151153077963330534 1 7} {287028897308835212 1 8}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=9
update matchIndex[2]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6} {8151153077963330534 1 7} {287028897308835212 1 8}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:8 
server 1 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6} {8151153077963330534 1 7} {287028897308835212 1 8}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=9
update matchIndex[1]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6} {8151153077963330534 1 7} {287028897308835212 1 8}]
------------------------------------------------------
client write log 1968582339273904638 (index 9) to leader 0
flag 276 term 1 leader 0 nextIndex[1]: 9  matchIndex[1]: 8
[{1968582339273904638 1 9}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 1846 term 1 leader 0 nextIndex[2]: 9  matchIndex[2]: 8
[{1968582339273904638 1 9}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:8 
server 2 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6} {8151153077963330534 1 7} {287028897308835212 1 8} {1968582339273904638 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=9
leader log:
term 1 server 1 AppendEntries true commitIndex:8 
server 1 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6} {8151153077963330534 1 7} {287028897308835212 1 8} {1968582339273904638 1 9}]
------------------------------------------------------
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6} {8151153077963330534 1 7} {287028897308835212 1 8} {1968582339273904638 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6} {8151153077963330534 1 7} {287028897308835212 1 8} {1968582339273904638 1 9}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
flag 28037 term 1 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 83395 term 1 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:9 
server 2 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6} {8151153077963330534 1 7} {287028897308835212 1 8} {1968582339273904638 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:9 
server 1 log:
[{<nil> 0 0} {6140463353379838629 1 1} {6191866474864260553 1 2} {9221362350044389142 1 3} {7334247928905397397 1 4} {7539678096381414769 1 5} {2515044129442051940 1 6} {8151153077963330534 1 7} {287028897308835212 1 8} {1968582339273904638 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
client write log 6647986153042008470 (index 10) to leader 0
flag 69290 term 1 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
[{6647986153042008470 1 10}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 79740 term 1 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
[{6647986153042008470 1 10}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:9 
server 2 log:
[{snapshot 1 9} {6647986153042008470 1 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6647986153042008470 1 10}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:9 
server 1 log:
[{snapshot 1 9} {6647986153042008470 1 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6647986153042008470 1 10}]
------------------------------------------------------
flag 95551 term 1 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 670 term 1 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:10 
server 2 log:
[{snapshot 1 9} {6647986153042008470 1 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6647986153042008470 1 10}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:10 
server 1 log:
[{snapshot 1 9} {6647986153042008470 1 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6647986153042008470 1 10}]
------------------------------------------------------
client write log 1019199386409543540 (index 11) to leader 0
flag 93585 term 1 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
[{1019199386409543540 1 11}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 22840 term 1 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
[{1019199386409543540 1 11}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:10 
server 2 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:10 
server 1 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11}]
------------------------------------------------------
flag 21685 term 1 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 32610 term 1 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:11 
server 2 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:11 
server 1 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11}]
------------------------------------------------------
client write log 4245321113127324729 (index 12) to leader 0
flag 19153 term 1 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
[{4245321113127324729 1 12}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 44841 term 1 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
[{4245321113127324729 1 12}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:11 
server 2 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:11 
server 1 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12}]
------------------------------------------------------
flag 83242 term 1 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 59904 term 1 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:12 
server 2 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:12 
server 1 log:
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12}]
------------------------------------------------------
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 1 voteFor 0 logs [{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 1 voteFor 0 logs [{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 1 voteFor 0 logs [{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12}]
!!!!!! server 2 crash
flag 80588 term 1 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 26411 term 1 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 2 server 1 vote for server 2
term 2 server 0 vote for server 2
term 2 server 2 get vote from server 0
term 2 server 2 become leader
------------------------------------------------------
term 2 server 2 get outdate rpc reply from server 1
flag 61897 term 2 leader 2 nextIndex[0]: 13  matchIndex[0]: 0
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 75909 term 2 leader 2 nextIndex[1]: 13  matchIndex[1]: 0
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:9 
server 1 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:9 
server 0 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12}]
------------------------------------------------------
client write log 3036847049812455807 (index 13) to leader 2
flag 54322 term 2 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
[{3036847049812455807 2 13}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 6557 term 2 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
[{3036847049812455807 2 13}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:9 
server 1 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:9 
server 0 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13}]
------------------------------------------------------
flag 51759 term 2 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
flag 62931 term 2 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:13 
server 1 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:13 
server 0 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13}]
------------------------------------------------------
client write log 1633035384070365418 (index 14) to leader 2
flag 32402 term 2 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
[{1633035384070365418 2 14}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
flag 78329 term 2 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
[{1633035384070365418 2 14}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:13 
server 1 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:13 
server 0 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14}]
------------------------------------------------------
flag 7550 term 2 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
flag 22867 term 2 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:14 
server 1 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:14 
server 0 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14}]
------------------------------------------------------
client write log 5847495858653808358 (index 15) to leader 2
flag 9409 term 2 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
[{5847495858653808358 2 15}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
flag 51454 term 2 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
[{5847495858653808358 2 15}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:14 
server 1 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:14 
server 0 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15}]
------------------------------------------------------
flag 92916 term 2 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
flag 24374 term 2 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:15 
server 1 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:15 
server 0 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15}]
------------------------------------------------------
client write log 1216684167131697291 (index 16) to leader 2
flag 19279 term 2 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
[{1216684167131697291 2 16}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
flag 69166 term 2 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
[{1216684167131697291 2 16}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:15 
server 1 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:15 
server 0 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 13->12
------------------------------------------------------
flag 16156 term 2 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
flag 74206 term 2 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:16 
server 1 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:16 
server 0 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16}]
------------------------------------------------------
client write log 9007836439471867763 (index 17) to leader 2
flag 51065 term 2 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
[{9007836439471867763 2 17}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
flag 73325 term 2 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
[{9007836439471867763 2 17}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:16 
server 1 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16} {9007836439471867763 2 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16} {9007836439471867763 2 17}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:16 
server 0 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16} {9007836439471867763 2 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16} {9007836439471867763 2 17}]
------------------------------------------------------
flag 44878 term 2 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
flag 54248 term 2 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:17 
server 1 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16} {9007836439471867763 2 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16} {9007836439471867763 2 17}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:17 
server 0 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16} {9007836439471867763 2 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16} {9007836439471867763 2 17}]
------------------------------------------------------
client write log 3316399520937453200 (index 18) to leader 2
flag 74146 term 2 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
[{3316399520937453200 2 18}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
flag 30395 term 2 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
[{3316399520937453200 2 18}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:17 
server 1 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16} {9007836439471867763 2 17} {3316399520937453200 2 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16} {9007836439471867763 2 17} {3316399520937453200 2 18}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:17 
server 0 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16} {9007836439471867763 2 17} {3316399520937453200 2 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16} {9007836439471867763 2 17} {3316399520937453200 2 18}]
------------------------------------------------------
flag 32027 term 2 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
flag 14986 term 2 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:18 
server 0 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16} {9007836439471867763 2 17} {3316399520937453200 2 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16} {9007836439471867763 2 17} {3316399520937453200 2 18}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:18 
server 1 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16} {9007836439471867763 2 17} {3316399520937453200 2 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16} {9007836439471867763 2 17} {3316399520937453200 2 18}]
------------------------------------------------------
client write log 5740266440182213664 (index 19) to leader 2
flag 82510 term 2 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
[{5740266440182213664 2 19}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
flag 58049 term 2 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
[{5740266440182213664 2 19}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:18 
server 1 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16} {9007836439471867763 2 17} {3316399520937453200 2 18} {5740266440182213664 2 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16} {9007836439471867763 2 17} {3316399520937453200 2 18} {5740266440182213664 2 19}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:18 
server 0 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16} {9007836439471867763 2 17} {3316399520937453200 2 18} {5740266440182213664 2 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16} {9007836439471867763 2 17} {3316399520937453200 2 18} {5740266440182213664 2 19}]
------------------------------------------------------
term 2 Server2 start snapshot! index=19
term 2 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 71868 term 2 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 4327 term 2 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:19 
server 1 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16} {9007836439471867763 2 17} {3316399520937453200 2 18} {5740266440182213664 2 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 19}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:19 
server 0 log:
[{snapshot 1 9} {6647986153042008470 1 10} {1019199386409543540 1 11} {4245321113127324729 1 12} {3036847049812455807 2 13} {1633035384070365418 2 14} {5847495858653808358 2 15} {1216684167131697291 2 16} {9007836439471867763 2 17} {3316399520937453200 2 18} {5740266440182213664 2 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 19}]
------------------------------------------------------
term 2 Server1 start snapshot! index=19
term 2 Server0 start snapshot! index=19
term 2 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 2 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
client write log 7379075215064136135 (index 20) to leader 2
flag 84495 term 2 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
[{7379075215064136135 2 20}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 44512 term 2 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
[{7379075215064136135 2 20}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:19 
server 1 log:
[{snapshot 2 19} {7379075215064136135 2 20}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:19 
server 0 log:
[{snapshot 2 19} {7379075215064136135 2 20}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {7379075215064136135 2 20}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {7379075215064136135 2 20}]
------------------------------------------------------
flag 74106 term 2 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
flag 53499 term 2 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:20 
server 1 log:
[{snapshot 2 19} {7379075215064136135 2 20}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {7379075215064136135 2 20}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:20 
server 0 log:
[{snapshot 2 19} {7379075215064136135 2 20}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {7379075215064136135 2 20}]
------------------------------------------------------
client write log 2494607164775227614 (index 21) to leader 2
flag 13951 term 2 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
[{2494607164775227614 2 21}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
flag 67006 term 2 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
[{2494607164775227614 2 21}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:20 
server 1 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:20 
server 0 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21}]
------------------------------------------------------
flag 45509 term 2 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 2 leaderCommit: 21 
------------------------------------------------------
flag 63955 term 2 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 2 leaderCommit: 21 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:21 
server 1 log:
term 2 server 0 AppendEntries true commitIndex:21 
server 0 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21}]
------------------------------------------------------
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21}]
------------------------------------------------------
client write log 4910365067385236025 (index 22) to leader 2
flag 23274 term 2 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
[{4910365067385236025 2 22}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 2 leaderCommit: 21 
------------------------------------------------------
flag 27903 term 2 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
[{4910365067385236025 2 22}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 2 leaderCommit: 21 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:21 
server 1 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:21 
server 0 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22}]
------------------------------------------------------
flag 3840 term 2 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 2 leaderCommit: 22 
------------------------------------------------------
flag 59580 term 2 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 2 leaderCommit: 22 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:22 
server 1 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:22 
server 0 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22}]
------------------------------------------------------
client write log 4164174930926547770 (index 23) to leader 2
flag 82675 term 2 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
[{4164174930926547770 2 23}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 2 leaderCommit: 22 
------------------------------------------------------
flag 12008 term 2 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
[{4164174930926547770 2 23}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 2 leaderCommit: 22 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:22 
server 1 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:22 
server 0 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23}]
------------------------------------------------------
flag 27356 term 2 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 2 leaderCommit: 23 
------------------------------------------------------
flag 80553 term 2 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 2 leaderCommit: 23 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:23 
server 1 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:23 
server 0 log:
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23}]
------------------------------------------------------
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23}]
------------------------------------------------------
client write log 9139849147212502346 (index 24) to leader 2
flag 4583 term 2 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
[{9139849147212502346 2 24}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 2 leaderCommit: 23 
------------------------------------------------------
flag 73023 term 2 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
[{9139849147212502346 2 24}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 2 leaderCommit: 23 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:23 
server 1 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:23 
server 0 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24}]
------------------------------------------------------
flag 22772 term 2 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 2 leaderCommit: 24 
------------------------------------------------------
flag 33977 term 2 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 2 leaderCommit: 24 
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:24 
server 0 log:
term 2 server 1 AppendEntries true commitIndex:24 
server 1 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24}]
------------------------------------------------------
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24}]
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 2 voteFor 2 logs [{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 2 voteFor 2 logs [{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 2 voteFor 2 logs [{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24}]
!!!!!! server 2 crash
flag 69210 term 2 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 2 leaderCommit: 24 
------------------------------------------------------
flag 87047 term 2 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 2 leaderCommit: 24 
------------------------------------------------------
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 2 get outdate rpc reply from server 0
client write log 7814530583929392750 (index 25) to leader 2
flag 37407 term 3 leader 2 nextIndex[0]: 25  matchIndex[0]: 0
[{7814530583929392750 3 25}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 84207 term 3 leader 2 nextIndex[1]: 25  matchIndex[1]: 0
[{7814530583929392750 3 25}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
server 1 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
server 0 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 25->24
------------------------------------------------------
flag 51557 term 3 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
flag 8584 term 3 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:25 
server 1 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:25 
server 0 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25}]
------------------------------------------------------
client write log 4276631124353642742 (index 26) to leader 2
flag 48173 term 3 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
[{4276631124353642742 3 26}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
flag 37602 term 3 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
[{4276631124353642742 3 26}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:25 
server 1 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:25 
server 0 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26}]
------------------------------------------------------
flag 926 term 3 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
flag 40904 term 3 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:26 
server 1 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:26 
server 0 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26}]
------------------------------------------------------
client write log 7829235604469136521 (index 27) to leader 2
flag 86085 term 3 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
[{7829235604469136521 3 27}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
flag 47220 term 3 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
[{7829235604469136521 3 27}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:26 
server 1 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26} {7829235604469136521 3 27}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:26 
server 0 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26} {7829235604469136521 3 27}]
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26} {7829235604469136521 3 27}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26} {7829235604469136521 3 27}]
------------------------------------------------------
flag 68068 term 3 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
flag 58211 term 3 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:27 
server 1 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26} {7829235604469136521 3 27}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:27 
server 0 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26} {7829235604469136521 3 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26} {7829235604469136521 3 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26} {7829235604469136521 3 27}]
------------------------------------------------------
client write log 4768203170541342653 (index 28) to leader 2
flag 30799 term 3 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
[{4768203170541342653 3 28}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
flag 42734 term 3 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
[{4768203170541342653 3 28}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:27 
term 3 server 0 AppendEntries true commitIndex:27 
server 0 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26} {7829235604469136521 3 27} {4768203170541342653 3 28}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26} {7829235604469136521 3 27} {4768203170541342653 3 28}]
------------------------------------------------------
server 1 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26} {7829235604469136521 3 27} {4768203170541342653 3 28}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26} {7829235604469136521 3 27} {4768203170541342653 3 28}]
------------------------------------------------------
flag 38722 term 3 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
flag 64340 term 3 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:28 
server 1 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26} {7829235604469136521 3 27} {4768203170541342653 3 28}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26} {7829235604469136521 3 27} {4768203170541342653 3 28}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:28 
server 0 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26} {7829235604469136521 3 27} {4768203170541342653 3 28}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26} {7829235604469136521 3 27} {4768203170541342653 3 28}]
------------------------------------------------------
client write log 5508577796477626348 (index 29) to leader 2
flag 80335 term 3 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
[{5508577796477626348 3 29}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
flag 55610 term 3 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
[{5508577796477626348 3 29}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:28 
server 0 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26} {7829235604469136521 3 27} {4768203170541342653 3 28} {5508577796477626348 3 29}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:28 
server 1 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26} {7829235604469136521 3 27} {4768203170541342653 3 28} {5508577796477626348 3 29}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26} {7829235604469136521 3 27} {4768203170541342653 3 28} {5508577796477626348 3 29}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26} {7829235604469136521 3 27} {4768203170541342653 3 28} {5508577796477626348 3 29}]
------------------------------------------------------
term 3 Server2 start snapshot! index=29
term 3 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
flag 10389 term 3 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 40670 term 3 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:29 
server 1 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26} {7829235604469136521 3 27} {4768203170541342653 3 28} {5508577796477626348 3 29}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 29}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 2 19} {7379075215064136135 2 20} {2494607164775227614 2 21} {4910365067385236025 2 22} {4164174930926547770 2 23} {9139849147212502346 2 24} {7814530583929392750 3 25} {4276631124353642742 3 26} {7829235604469136521 3 27} {4768203170541342653 3 28} {5508577796477626348 3 29}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 29}]
------------------------------------------------------
term 3 Server1 start snapshot! index=29
term 3 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
term 3 Server0 start snapshot! index=29
term 3 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
client write log 1380698893450212685 (index 30) to leader 2
flag 98710 term 3 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
[{1380698893450212685 3 30}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 78353 term 3 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
[{1380698893450212685 3 30}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:29 
server 1 log:
[{snapshot 3 29} {1380698893450212685 3 30}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {1380698893450212685 3 30}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 3 29} {1380698893450212685 3 30}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {1380698893450212685 3 30}]
------------------------------------------------------
flag 9354 term 3 leader 2 nextIndex[0]: 31  matchIndex[0]: 30
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
flag 7540 term 3 leader 2 nextIndex[1]: 31  matchIndex[1]: 30
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:30 
server 1 log:
[{snapshot 3 29} {1380698893450212685 3 30}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {1380698893450212685 3 30}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:30 
server 0 log:
[{snapshot 3 29} {1380698893450212685 3 30}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {1380698893450212685 3 30}]
------------------------------------------------------
client write log 365689354971252527 (index 31) to leader 2
flag 13863 term 3 leader 2 nextIndex[0]: 31  matchIndex[0]: 30
[{365689354971252527 3 31}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
flag 43463 term 3 leader 2 nextIndex[1]: 31  matchIndex[1]: 30
[{365689354971252527 3 31}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:30 
server 1 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:30 
server 0 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31}]
------------------------------------------------------
flag 66879 term 3 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 3 leaderCommit: 31 
------------------------------------------------------
flag 14583 term 3 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 3 leaderCommit: 31 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:31 
server 1 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:31 
server 0 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31}]
------------------------------------------------------
client write log 8438894611430114739 (index 32) to leader 2
flag 54989 term 3 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
[{8438894611430114739 3 32}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 3 leaderCommit: 31 
------------------------------------------------------
flag 95633 term 3 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
[{8438894611430114739 3 32}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 3 leaderCommit: 31 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:31 
server 1 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:31 
server 0 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 25->24
------------------------------------------------------
flag 13487 term 3 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 3 leaderCommit: 32 
------------------------------------------------------
flag 17525 term 3 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 3 leaderCommit: 32 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:32 
server 1 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:32 
server 0 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32}]
------------------------------------------------------
client write log 7639797816095215240 (index 33) to leader 2
flag 90145 term 3 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
[{7639797816095215240 3 33}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 3 leaderCommit: 32 
------------------------------------------------------
flag 59334 term 3 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
[{7639797816095215240 3 33}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 3 leaderCommit: 32 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:32 
server 1 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:32 
server 0 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33}]
------------------------------------------------------
flag 2862 term 3 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 3 leaderCommit: 33 
------------------------------------------------------
flag 2929 term 3 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 3 leaderCommit: 33 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:33 
server 0 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:33 
server 1 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33}]
------------------------------------------------------
client write log 1098248948123820468 (index 34) to leader 2
flag 26536 term 3 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
[{1098248948123820468 3 34}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 3 leaderCommit: 33 
------------------------------------------------------
flag 46618 term 3 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
[{1098248948123820468 3 34}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 3 leaderCommit: 33 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:33 
server 1 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:33 
server 0 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34}]
------------------------------------------------------
flag 59629 term 3 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 34 
------------------------------------------------------
flag 15838 term 3 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 34 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:34 
server 1 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:34 
server 0 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34}]
------------------------------------------------------
client write log 2035298274937070217 (index 35) to leader 2
flag 90519 term 3 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
[{2035298274937070217 3 35}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 34 
------------------------------------------------------
flag 9332 term 3 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
[{2035298274937070217 3 35}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 34 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:34 
server 1 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:34 
server 0 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 13->12
------------------------------------------------------
flag 70294 term 3 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 3 leaderCommit: 35 
------------------------------------------------------
flag 89557 term 3 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 3 leaderCommit: 35 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:35 
server 1 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:35 
server 0 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35}]
------------------------------------------------------
client write log 6428843010018609682 (index 36) to leader 2
flag 79234 term 3 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
[{6428843010018609682 3 36}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 3 leaderCommit: 35 
------------------------------------------------------
flag 31876 term 3 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
[{6428843010018609682 3 36}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 3 leaderCommit: 35 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:35 
server 1 log:
term 3 server 0 AppendEntries true commitIndex:35 
server 0 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36}]
------------------------------------------------------
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36}]
------------------------------------------------------
flag 20405 term 3 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 36 
------------------------------------------------------
flag 55159 term 3 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 36 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:36 
server 1 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:36 
server 0 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36}]
------------------------------------------------------
client write log 7274566264664003927 (index 37) to leader 2
flag 24918 term 3 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
[{7274566264664003927 3 37}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 36 
------------------------------------------------------
flag 78863 term 3 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
[{7274566264664003927 3 37}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 36 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:36 
server 1 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36} {7274566264664003927 3 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36} {7274566264664003927 3 37}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:36 
server 0 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36} {7274566264664003927 3 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36} {7274566264664003927 3 37}]
------------------------------------------------------
flag 1810 term 3 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 3 leaderCommit: 37 
------------------------------------------------------
flag 50271 term 3 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 3 leaderCommit: 37 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:37 
server 1 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36} {7274566264664003927 3 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36} {7274566264664003927 3 37}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:37 
server 0 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36} {7274566264664003927 3 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36} {7274566264664003927 3 37}]
------------------------------------------------------
client write log 7590664667365235645 (index 38) to leader 2
flag 4348 term 3 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
[{7590664667365235645 3 38}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 3 leaderCommit: 37 
------------------------------------------------------
flag 59282 term 3 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
[{7590664667365235645 3 38}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 3 leaderCommit: 37 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:37 
server 1 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36} {7274566264664003927 3 37} {7590664667365235645 3 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36} {7274566264664003927 3 37} {7590664667365235645 3 38}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:37 
server 0 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36} {7274566264664003927 3 37} {7590664667365235645 3 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36} {7274566264664003927 3 37} {7590664667365235645 3 38}]
------------------------------------------------------
flag 24791 term 3 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 3 leaderCommit: 38 
------------------------------------------------------
flag 92007 term 3 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 3 leaderCommit: 38 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:38 
server 1 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36} {7274566264664003927 3 37} {7590664667365235645 3 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36} {7274566264664003927 3 37} {7590664667365235645 3 38}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:38 
server 0 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36} {7274566264664003927 3 37} {7590664667365235645 3 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36} {7274566264664003927 3 37} {7590664667365235645 3 38}]
------------------------------------------------------
client write log 4657223810299236246 (index 39) to leader 2
flag 5996 term 3 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
[{4657223810299236246 3 39}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 3 leaderCommit: 38 
------------------------------------------------------
flag 68659 term 3 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
[{4657223810299236246 3 39}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 3 leaderCommit: 38 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:38 
server 0 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36} {7274566264664003927 3 37} {7590664667365235645 3 38} {4657223810299236246 3 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36} {7274566264664003927 3 37} {7590664667365235645 3 38} {4657223810299236246 3 39}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:38 
server 1 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36} {7274566264664003927 3 37} {7590664667365235645 3 38} {4657223810299236246 3 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36} {7274566264664003927 3 37} {7590664667365235645 3 38} {4657223810299236246 3 39}]
------------------------------------------------------
term 3 Server2 start snapshot! index=39
term 3 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 15870 term 3 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 3 leaderCommit: 39 
------------------------------------------------------
flag 3772 term 3 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 3 leaderCommit: 39 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36} {7274566264664003927 3 37} {7590664667365235645 3 38} {4657223810299236246 3 39}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:39 
server 0 log:
[{snapshot 3 29} {1380698893450212685 3 30} {365689354971252527 3 31} {8438894611430114739 3 32} {7639797816095215240 3 33} {1098248948123820468 3 34} {2035298274937070217 3 35} {6428843010018609682 3 36} {7274566264664003927 3 37} {7590664667365235645 3 38} {4657223810299236246 3 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 3 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 3 39}]
------------------------------------------------------
term 3 Server1 start snapshot! index=39
term 3 Server0 start snapshot! index=39
term 3 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 3 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
client write log 1353791020108200198 (index 40) to leader 2
flag 46229 term 3 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
[{1353791020108200198 3 40}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 3 leaderCommit: 39 
------------------------------------------------------
flag 9271 term 3 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
[{1353791020108200198 3 40}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 3 leaderCommit: 39 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 3 39} {1353791020108200198 3 40}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:39 
server 0 log:
[{snapshot 3 39} {1353791020108200198 3 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 3 39} {1353791020108200198 3 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 3 39} {1353791020108200198 3 40}]
------------------------------------------------------
flag 1046 term 3 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 3 leaderCommit: 40 
------------------------------------------------------
flag 95416 term 3 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 3 leaderCommit: 40 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:40 
server 1 log:
[{snapshot 3 39} {1353791020108200198 3 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 3 39} {1353791020108200198 3 40}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:40 
server 0 log:
[{snapshot 3 39} {1353791020108200198 3 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 3 39} {1353791020108200198 3 40}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 3 voteFor 2 logs [{snapshot 3 39} {1353791020108200198 3 40}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 3 voteFor 2 logs [{snapshot 3 39} {1353791020108200198 3 40}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 3 voteFor 2 logs [{snapshot 3 39} {1353791020108200198 3 40}]
!!!!!! server 2 crash
flag 99322 term 3 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 3 leaderCommit: 40 
------------------------------------------------------
flag 29041 term 3 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 3 leaderCommit: 40 
------------------------------------------------------
term 4 server 2 vote for server 0
term 4 server 1 vote for server 0
term 4 server 0 get vote from server 2
term 4 server 0 become leader
------------------------------------------------------
term 4 server 0 get outdate rpc reply from server 1
flag 84409 term 4 leader 0 nextIndex[1]: 41  matchIndex[1]: 0
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 3 leaderCommit: 39 
------------------------------------------------------
flag 2942 term 4 leader 0 nextIndex[2]: 41  matchIndex[2]: 0
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 3 leaderCommit: 39 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:39 
server 2 log:
[{snapshot 3 39} {1353791020108200198 3 40}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 3 39} {1353791020108200198 3 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 3 39} {1353791020108200198 3 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 3 39} {1353791020108200198 3 40}]
------------------------------------------------------
client write log 5327508802499771381 (index 41) to leader 0
flag 16061 term 4 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
[{5327508802499771381 4 41}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 3 leaderCommit: 39 
------------------------------------------------------
flag 20532 term 4 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
[{5327508802499771381 4 41}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 3 leaderCommit: 39 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:39 
server 2 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41}]
------------------------------------------------------
flag 77796 term 4 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 15820 term 4 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:41 
server 2 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:41 
server 1 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41}]
------------------------------------------------------
client write log 726159855403762466 (index 42) to leader 0
flag 21266 term 4 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
[{726159855403762466 4 42}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 91869 term 4 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
[{726159855403762466 4 42}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:41 
server 2 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:41 
server 1 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42}]
------------------------------------------------------
flag 12012 term 4 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 94498 term 4 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:42 
server 2 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:42 
server 1 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42}]
------------------------------------------------------
client write log 4996585226745886621 (index 43) to leader 0
flag 37753 term 4 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
[{4996585226745886621 4 43}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 17682 term 4 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
[{4996585226745886621 4 43}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:42 
server 2 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:42 
server 1 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43}]
------------------------------------------------------
flag 60759 term 4 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 67437 term 4 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:43 
server 2 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:43 
server 1 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43}]
------------------------------------------------------
client write log 2748513999925563330 (index 44) to leader 0
flag 39756 term 4 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
[{2748513999925563330 4 44}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 51568 term 4 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
[{2748513999925563330 4 44}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:43 
server 2 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:43 
server 1 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44}]
------------------------------------------------------
flag 46051 term 4 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 59240 term 4 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:44 
server 2 log:
term 4 server 1 AppendEntries true commitIndex:44 
server 1 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44}]
------------------------------------------------------
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44}]
------------------------------------------------------
client write log 2333699074645894769 (index 45) to leader 0
flag 63850 term 4 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
[{2333699074645894769 4 45}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 81566 term 4 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
[{2333699074645894769 4 45}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:44 
server 2 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:44 
server 1 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45}]
------------------------------------------------------
flag 37191 term 4 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
flag 41583 term 4 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:45 
server 2 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:45 
server 1 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45}]
------------------------------------------------------
client write log 3113676992584354693 (index 46) to leader 0
flag 12993 term 4 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
[{3113676992584354693 4 46}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
flag 4335 term 4 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
[{3113676992584354693 4 46}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:45 
server 1 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:45 
server 2 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46}]
------------------------------------------------------
flag 68908 term 4 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 13335 term 4 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:46 
server 1 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:46 
server 2 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46}]
------------------------------------------------------
client write log 4452973074969804854 (index 47) to leader 0
flag 25472 term 4 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
[{4452973074969804854 4 47}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 31571 term 4 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
[{4452973074969804854 4 47}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:46 
server 2 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46} {4452973074969804854 4 47}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:46 
server 1 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46} {4452973074969804854 4 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46} {4452973074969804854 4 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46} {4452973074969804854 4 47}]
------------------------------------------------------
flag 35344 term 4 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 47 
------------------------------------------------------
flag 80573 term 4 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 47 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:47 
server 2 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46} {4452973074969804854 4 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46} {4452973074969804854 4 47}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:47 
server 1 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46} {4452973074969804854 4 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46} {4452973074969804854 4 47}]
------------------------------------------------------
client write log 1190019332620495431 (index 48) to leader 0
flag 81197 term 4 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
[{1190019332620495431 4 48}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 47 
------------------------------------------------------
flag 24725 term 4 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
[{1190019332620495431 4 48}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 47 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:47 
server 1 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46} {4452973074969804854 4 47} {1190019332620495431 4 48}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:47 
server 2 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46} {4452973074969804854 4 47} {1190019332620495431 4 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46} {4452973074969804854 4 47} {1190019332620495431 4 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46} {4452973074969804854 4 47} {1190019332620495431 4 48}]
------------------------------------------------------
flag 41589 term 4 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 4 leaderCommit: 48 
------------------------------------------------------
flag 76457 term 4 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 4 leaderCommit: 48 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:48 
server 2 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46} {4452973074969804854 4 47} {1190019332620495431 4 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46} {4452973074969804854 4 47} {1190019332620495431 4 48}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:48 
server 1 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46} {4452973074969804854 4 47} {1190019332620495431 4 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46} {4452973074969804854 4 47} {1190019332620495431 4 48}]
------------------------------------------------------
client write log 6797666442003455219 (index 49) to leader 0
flag 62649 term 4 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
[{6797666442003455219 4 49}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 4 leaderCommit: 48 
------------------------------------------------------
flag 79363 term 4 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
[{6797666442003455219 4 49}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 4 leaderCommit: 48 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:48 
server 2 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46} {4452973074969804854 4 47} {1190019332620495431 4 48} {6797666442003455219 4 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
term 4 server 1 AppendEntries true commitIndex:48 
server 1 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46} {4452973074969804854 4 47} {1190019332620495431 4 48} {6797666442003455219 4 49}]
------------------------------------------------------
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46} {4452973074969804854 4 47} {1190019332620495431 4 48} {6797666442003455219 4 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46} {4452973074969804854 4 47} {1190019332620495431 4 48} {6797666442003455219 4 49}]
------------------------------------------------------
term 4 Server0 start snapshot! index=49
term 4 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
flag 90133 term 4 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 4 leaderCommit: 49 
------------------------------------------------------
flag 84029 term 4 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 4 leaderCommit: 49 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:49 
server 2 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46} {4452973074969804854 4 47} {1190019332620495431 4 48} {6797666442003455219 4 49}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:49 
server 1 log:
[{snapshot 3 39} {1353791020108200198 3 40} {5327508802499771381 4 41} {726159855403762466 4 42} {4996585226745886621 4 43} {2748513999925563330 4 44} {2333699074645894769 4 45} {3113676992584354693 4 46} {4452973074969804854 4 47} {1190019332620495431 4 48} {6797666442003455219 4 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 4 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 4 49}]
------------------------------------------------------
term 4 Server2 start snapshot! index=49
term 4 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 4 Server1 start snapshot! index=49
term 4 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
client write log 9092547346347603152 (index 50) to leader 0
flag 51302 term 4 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
[{9092547346347603152 4 50}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 4 leaderCommit: 49 
------------------------------------------------------
flag 86911 term 4 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
[{9092547346347603152 4 50}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 4 leaderCommit: 49 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:49 
server 2 log:
[{snapshot 4 49} {9092547346347603152 4 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {9092547346347603152 4 50}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:49 
server 1 log:
[{snapshot 4 49} {9092547346347603152 4 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {9092547346347603152 4 50}]
------------------------------------------------------
flag 92602 term 4 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
flag 49159 term 4 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:50 
server 2 log:
[{snapshot 4 49} {9092547346347603152 4 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {9092547346347603152 4 50}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:50 
server 1 log:
[{snapshot 4 49} {9092547346347603152 4 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {9092547346347603152 4 50}]
------------------------------------------------------
client write log 531919347916494077 (index 51) to leader 0
flag 58750 term 4 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
[{531919347916494077 4 51}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
flag 67590 term 4 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
[{531919347916494077 4 51}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:50 
server 2 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:50 
server 1 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51}]
------------------------------------------------------
flag 48384 term 4 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
flag 60559 term 4 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:51 
server 2 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:51 
server 1 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51}]
------------------------------------------------------
client write log 702985733890203045 (index 52) to leader 0
flag 87556 term 4 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
[{702985733890203045 4 52}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
flag 50860 term 4 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
[{702985733890203045 4 52}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:51 
server 2 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:51 
server 1 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52}]
------------------------------------------------------
flag 322 term 4 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
flag 62330 term 4 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:52 
server 2 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:52 
server 1 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 4 voteFor 0 logs [{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 4 voteFor 0 logs [{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 4 voteFor 0 logs [{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52}]
!!!!!! server 2 crash
flag 94057 term 4 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
flag 36950 term 4 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
term 5 server 2 vote for server 0
term 5 server 1 vote for server 0
term 5 server 0 get vote from server 2
term 5 server 0 become leader
------------------------------------------------------
term 5 server 0 get outdate rpc reply from server 1
flag 80572 term 5 leader 0 nextIndex[1]: 53  matchIndex[1]: 0
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 4 leaderCommit: 49 
------------------------------------------------------
flag 62401 term 5 leader 0 nextIndex[2]: 53  matchIndex[2]: 0
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 4 leaderCommit: 49 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:49 
server 2 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=49
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:49 
server 1 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=49
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52}]
------------------------------------------------------
client write log 8520193627147261970 (index 53) to leader 0
flag 7478 term 5 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
[{8520193627147261970 5 53}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 4 leaderCommit: 49 
------------------------------------------------------
flag 61157 term 5 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
[{8520193627147261970 5 53}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 4 leaderCommit: 49 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:49 
server 2 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:49 
server 1 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 53->52
------------------------------------------------------
flag 10929 term 5 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
flag 30155 term 5 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:53 
server 2 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:53 
server 1 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53}]
------------------------------------------------------
client write log 3357597890757665544 (index 54) to leader 0
flag 26505 term 5 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
[{3357597890757665544 5 54}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
flag 64260 term 5 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
[{3357597890757665544 5 54}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:53 
server 2 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:53 
server 1 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54}]
------------------------------------------------------
flag 36365 term 5 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
flag 76392 term 5 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:54 
server 2 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:54 
server 1 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54}]
------------------------------------------------------
client write log 4893364603801538724 (index 55) to leader 0
flag 86003 term 5 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
[{4893364603801538724 5 55}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
flag 62957 term 5 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
[{4893364603801538724 5 55}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:54 
server 2 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:54 
server 1 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55}]
------------------------------------------------------
flag 88061 term 5 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
flag 72397 term 5 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:55 
server 2 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:55 
server 1 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55}]
------------------------------------------------------
client write log 4197396016593143630 (index 56) to leader 0
flag 98960 term 5 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
[{4197396016593143630 5 56}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
flag 79770 term 5 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
[{4197396016593143630 5 56}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:55 
server 2 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:55 
server 1 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56}]
------------------------------------------------------
flag 75033 term 5 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
flag 25123 term 5 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:56 
server 2 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:56 
server 1 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56}]
------------------------------------------------------
client write log 6444872929727570639 (index 57) to leader 0
flag 36795 term 5 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
[{6444872929727570639 5 57}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
flag 6256 term 5 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
[{6444872929727570639 5 57}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:56 
server 2 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56} {6444872929727570639 5 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
term 5 server 1 AppendEntries true commitIndex:56 
server 1 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56} {6444872929727570639 5 57}]
------------------------------------------------------
update nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56} {6444872929727570639 5 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56} {6444872929727570639 5 57}]
------------------------------------------------------
flag 93577 term 5 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
flag 69240 term 5 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:57 
server 2 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56} {6444872929727570639 5 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56} {6444872929727570639 5 57}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:57 
server 1 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56} {6444872929727570639 5 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56} {6444872929727570639 5 57}]
------------------------------------------------------
client write log 9044713470746421477 (index 58) to leader 0
flag 35410 term 5 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
[{9044713470746421477 5 58}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
flag 57918 term 5 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
[{9044713470746421477 5 58}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:57 
server 2 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56} {6444872929727570639 5 57} {9044713470746421477 5 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56} {6444872929727570639 5 57} {9044713470746421477 5 58}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:57 
server 1 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56} {6444872929727570639 5 57} {9044713470746421477 5 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56} {6444872929727570639 5 57} {9044713470746421477 5 58}]
------------------------------------------------------
flag 12441 term 5 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 58 
------------------------------------------------------
flag 42409 term 5 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 58 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:58 
server 2 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56} {6444872929727570639 5 57} {9044713470746421477 5 58}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:58 
server 1 log:
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=59
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56} {6444872929727570639 5 57} {9044713470746421477 5 58}]
------------------------------------------------------
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56} {6444872929727570639 5 57} {9044713470746421477 5 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56} {6444872929727570639 5 57} {9044713470746421477 5 58}]
------------------------------------------------------
client write log 789290300400644571 (index 59) to leader 0
flag 45724 term 5 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
[{789290300400644571 5 59}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 58 
------------------------------------------------------
flag 18741 term 5 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
[{789290300400644571 5 59}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 58 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:58 
server 2 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56} {6444872929727570639 5 57} {9044713470746421477 5 58} {789290300400644571 5 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56} {6444872929727570639 5 57} {9044713470746421477 5 58} {789290300400644571 5 59}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:58 
server 1 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56} {6444872929727570639 5 57} {9044713470746421477 5 58} {789290300400644571 5 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56} {6444872929727570639 5 57} {9044713470746421477 5 58} {789290300400644571 5 59}]
------------------------------------------------------
term 5 Server0 start snapshot! index=59
term 5 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
flag 2955 term 5 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
flag 90582 term 5 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:59 
server 2 log:
term 5 server 1 AppendEntries true commitIndex:59 
server 1 log:
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56} {6444872929727570639 5 57} {9044713470746421477 5 58} {789290300400644571 5 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 5 59}]
------------------------------------------------------
[{snapshot 4 49} {9092547346347603152 4 50} {531919347916494077 4 51} {702985733890203045 4 52} {8520193627147261970 5 53} {3357597890757665544 5 54} {4893364603801538724 5 55} {4197396016593143630 5 56} {6444872929727570639 5 57} {9044713470746421477 5 58} {789290300400644571 5 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 5 59}]
------------------------------------------------------
term 5 Server1 start snapshot! index=59
term 5 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 5 Server2 start snapshot! index=59
term 5 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
client write log 2610013934734467322 (index 60) to leader 0
flag 94521 term 5 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
[{2610013934734467322 5 60}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
flag 82815 term 5 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
[{2610013934734467322 5 60}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:59 
server 2 log:
[{snapshot 5 59} {2610013934734467322 5 60}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:59 
server 1 log:
[{snapshot 5 59} {2610013934734467322 5 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 5 59} {2610013934734467322 5 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 5 59} {2610013934734467322 5 60}]
------------------------------------------------------
flag 71483 term 5 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 5 leaderCommit: 60 
------------------------------------------------------
flag 34117 term 5 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 5 leaderCommit: 60 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:60 
server 2 log:
[{snapshot 5 59} {2610013934734467322 5 60}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:60 
server 1 log:
[{snapshot 5 59} {2610013934734467322 5 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 5 59} {2610013934734467322 5 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 5 59} {2610013934734467322 5 60}]
------------------------------------------------------
client write log 7481817954441642931 (index 61) to leader 0
flag 42838 term 5 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
[{7481817954441642931 5 61}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 5 leaderCommit: 60 
------------------------------------------------------
flag 33622 term 5 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
[{7481817954441642931 5 61}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 5 leaderCommit: 60 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:60 
server 2 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:60 
server 1 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61}]
------------------------------------------------------
flag 16642 term 5 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 5 leaderCommit: 61 
------------------------------------------------------
flag 8006 term 5 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 5 leaderCommit: 61 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:61 
server 2 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
term 5 server 1 AppendEntries true commitIndex:61 
server 1 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61}]
------------------------------------------------------
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61}]
------------------------------------------------------
client write log 4744348791691929249 (index 62) to leader 0
flag 62989 term 5 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
[{4744348791691929249 5 62}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 5 leaderCommit: 61 
------------------------------------------------------
flag 28906 term 5 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
[{4744348791691929249 5 62}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 5 leaderCommit: 61 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:61 
server 2 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:61 
server 1 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62}]
------------------------------------------------------
flag 77968 term 5 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 5 leaderCommit: 62 
------------------------------------------------------
flag 64992 term 5 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 5 leaderCommit: 62 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:62 
server 2 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:62 
server 1 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62}]
------------------------------------------------------
client write log 244604432672245248 (index 63) to leader 0
flag 40160 term 5 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
[{244604432672245248 5 63}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 5 leaderCommit: 62 
------------------------------------------------------
flag 141 term 5 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
[{244604432672245248 5 63}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 5 leaderCommit: 62 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:62 
server 2 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:62 
server 1 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63}]
------------------------------------------------------
flag 40620 term 5 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 5 leaderCommit: 63 
------------------------------------------------------
flag 55831 term 5 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 5 leaderCommit: 63 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:63 
server 2 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:63 
server 1 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 41->40
------------------------------------------------------
client write log 2618100930052312473 (index 64) to leader 0
flag 24896 term 5 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
[{2618100930052312473 5 64}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 5 leaderCommit: 63 
------------------------------------------------------
flag 28930 term 5 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
[{2618100930052312473 5 64}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 5 leaderCommit: 63 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:63 
server 2 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:63 
server 1 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64}]
------------------------------------------------------
flag 51033 term 5 leader 0 nextIndex[1]: 65  matchIndex[1]: 64
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 5 leaderCommit: 64 
------------------------------------------------------
flag 11339 term 5 leader 0 nextIndex[2]: 65  matchIndex[2]: 64
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 5 leaderCommit: 64 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:64 
server 2 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:64 
server 1 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64}]
------------------------------------------------------
client write log 1052493938770922134 (index 65) to leader 0
flag 98966 term 5 leader 0 nextIndex[1]: 65  matchIndex[1]: 64
[{1052493938770922134 5 65}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 5 leaderCommit: 64 
------------------------------------------------------
flag 46641 term 5 leader 0 nextIndex[2]: 65  matchIndex[2]: 64
[{1052493938770922134 5 65}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 5 leaderCommit: 64 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:64 
server 1 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65}]
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:64 
server 2 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65}]
------------------------------------------------------
flag 58527 term 5 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 5 leaderCommit: 65 
------------------------------------------------------
flag 52351 term 5 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 5 leaderCommit: 65 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:65 
server 2 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:65 
server 1 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65}]
------------------------------------------------------
client write log 6757287659818674638 (index 66) to leader 0
flag 611 term 5 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
[{6757287659818674638 5 66}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 5 leaderCommit: 65 
------------------------------------------------------
flag 20114 term 5 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
[{6757287659818674638 5 66}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 5 leaderCommit: 65 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:65 
server 2 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:65 
server 1 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66}]
------------------------------------------------------
flag 67445 term 5 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 5 leaderCommit: 66 
------------------------------------------------------
flag 79006 term 5 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 5 leaderCommit: 66 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:66 
server 2 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:66 
server 1 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66}]
------------------------------------------------------
client write log 229534873730423213 (index 67) to leader 0
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 41->40
------------------------------------------------------
flag 96513 term 5 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
[{229534873730423213 5 67}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 5 leaderCommit: 66 
------------------------------------------------------
flag 47227 term 5 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
[{229534873730423213 5 67}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 5 leaderCommit: 66 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:66 
server 2 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66} {229534873730423213 5 67}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:66 
server 1 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66} {229534873730423213 5 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=67
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66} {229534873730423213 5 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66} {229534873730423213 5 67}]
------------------------------------------------------
flag 34978 term 5 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 5 leaderCommit: 67 
------------------------------------------------------
flag 7878 term 5 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 5 leaderCommit: 67 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:67 
server 2 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66} {229534873730423213 5 67}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:67 
server 1 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66} {229534873730423213 5 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=67
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66} {229534873730423213 5 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66} {229534873730423213 5 67}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 5 voteFor 0 logs [{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66} {229534873730423213 5 67}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 5 voteFor 0 logs [{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66} {229534873730423213 5 67}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 5 voteFor 0 logs [{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66} {229534873730423213 5 67}]
!!!!!! server 2 crash
flag 98154 term 5 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 5 leaderCommit: 67 
------------------------------------------------------
flag 83176 term 5 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 5 leaderCommit: 67 
------------------------------------------------------
term 6 server 2 vote for server 0
term 6 server 1 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 0 get outdate rpc reply from server 1
flag 74125 term 6 leader 0 nextIndex[1]: 68  matchIndex[1]: 0
[]
term 6 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
flag 40216 term 6 leader 0 nextIndex[2]: 68  matchIndex[2]: 0
[]
term 6 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:59 
server 2 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66} {229534873730423213 5 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=59
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66} {229534873730423213 5 67}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:59 
server 1 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66} {229534873730423213 5 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=59
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66} {229534873730423213 5 67}]
------------------------------------------------------
client write log 7707931123607251375 (index 68) to leader 0
flag 73388 term 6 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
[{7707931123607251375 6 68}]
term 6 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
flag 57626 term 6 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
[{7707931123607251375 6 68}]
term 6 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:59 
server 2 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66} {229534873730423213 5 67} {7707931123607251375 6 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66} {229534873730423213 5 67} {7707931123607251375 6 68}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:59 
server 1 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66} {229534873730423213 5 67} {7707931123607251375 6 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66} {229534873730423213 5 67} {7707931123607251375 6 68}]
------------------------------------------------------
flag 83913 term 6 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
[]
term 6 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 68 
------------------------------------------------------
flag 39459 term 6 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
[]
term 6 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 68 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:68 
server 2 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66} {229534873730423213 5 67} {7707931123607251375 6 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66} {229534873730423213 5 67} {7707931123607251375 6 68}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:68 
server 1 log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66} {229534873730423213 5 67} {7707931123607251375 6 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 5 59} {2610013934734467322 5 60} {7481817954441642931 5 61} {4744348791691929249 5 62} {244604432672245248 5 63} {2618100930052312473 5 64} {1052493938770922134 5 65} {6757287659818674638 5 66} {229534873730423213 5 67} {7707931123607251375 6 68}]
------------------------------------------------------
  ... Passed --  15.1  3  324   96398   68
--- PASS: TestSnapshotAllCrash2D (15.14s)
PASS
