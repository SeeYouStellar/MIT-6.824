=== RUN   TestSnapshotAllCrash2D
Test (2D): crash and restart all servers ...
term 1 server 2 vote for server 0
term 1 server 0 get vote from server 2
term 1 server 0 become leader
------------------------------------------------------
term 1 server 1 vote for server 0
term 1 server 0 get outdate rpc reply from server 1
client write log 6644786400787033768 (index 1) to leader 0
flag 31043 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
[{6644786400787033768 1 1}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 6209 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
[{6644786400787033768 1 1}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
server 2 log:
[{<nil> 0 0} {6644786400787033768 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6644786400787033768 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
server 1 log:
[{<nil> 0 0} {6644786400787033768 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6644786400787033768 1 1}]
------------------------------------------------------
flag 82294 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 74225 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
server 2 log:
[{<nil> 0 0} {6644786400787033768 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6644786400787033768 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
server 1 log:
[{<nil> 0 0} {6644786400787033768 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6644786400787033768 1 1}]
------------------------------------------------------
client write log 5617036550507308570 (index 2) to leader 0
flag 99680 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
[{5617036550507308570 1 2}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 655 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
[{5617036550507308570 1 2}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
server 2 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
server 1 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2}]
------------------------------------------------------
flag 75509 term 1 leader 0 nextIndex[1]: 3  matchIndex[1]: 2
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 20750 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
server 1 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
server 2 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2}]
------------------------------------------------------
client write log 6540656772130165824 (index 3) to leader 0
flag 86745 term 1 leader 0 nextIndex[1]: 3  matchIndex[1]: 2
[{6540656772130165824 1 3}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 10886 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
[{6540656772130165824 1 3}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
server 2 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=4
update matchIndex[2]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
server 1 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=4
update matchIndex[1]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3}]
------------------------------------------------------
flag 20181 term 1 leader 0 nextIndex[1]: 4  matchIndex[1]: 3
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
flag 60844 term 1 leader 0 nextIndex[2]: 4  matchIndex[2]: 3
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:3 
server 2 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:3 
server 1 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=4
update matchIndex[2]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=4
update matchIndex[1]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3}]
------------------------------------------------------
client write log 3743728800354120680 (index 4) to leader 0
flag 53301 term 1 leader 0 nextIndex[1]: 4  matchIndex[1]: 3
[{3743728800354120680 1 4}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
flag 47492 term 1 leader 0 nextIndex[2]: 4  matchIndex[2]: 3
[{3743728800354120680 1 4}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:3 
server 2 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:3 
server 1 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=5
update matchIndex[2]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=5
update matchIndex[1]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4}]
------------------------------------------------------
flag 73885 term 1 leader 0 nextIndex[1]: 5  matchIndex[1]: 4
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
flag 62558 term 1 leader 0 nextIndex[2]: 5  matchIndex[2]: 4
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:4 
server 2 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:4 
server 1 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4}]
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=5
update matchIndex[2]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=5
update matchIndex[1]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4}]
------------------------------------------------------
client write log 2014463681047139746 (index 5) to leader 0
flag 79823 term 1 leader 0 nextIndex[1]: 5  matchIndex[1]: 4
[{2014463681047139746 1 5}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
flag 21669 term 1 leader 0 nextIndex[2]: 5  matchIndex[2]: 4
[{2014463681047139746 1 5}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:4 
server 2 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=6
update matchIndex[2]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:4 
server 1 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=6
update matchIndex[1]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5}]
------------------------------------------------------
flag 3054 term 1 leader 0 nextIndex[1]: 6  matchIndex[1]: 5
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
flag 39591 term 1 leader 0 nextIndex[2]: 6  matchIndex[2]: 5
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:5 
server 1 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=6
update matchIndex[1]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:5 
server 2 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=6
update matchIndex[2]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5}]
------------------------------------------------------
client write log 9099329404961202453 (index 6) to leader 0
flag 46313 term 1 leader 0 nextIndex[1]: 6  matchIndex[1]: 5
[{9099329404961202453 1 6}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
flag 73863 term 1 leader 0 nextIndex[2]: 6  matchIndex[2]: 5
[{9099329404961202453 1 6}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:5 
server 2 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=7
update matchIndex[2]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:5 
server 1 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=7
update matchIndex[1]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6}]
------------------------------------------------------
flag 67933 term 1 leader 0 nextIndex[1]: 7  matchIndex[1]: 6
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
flag 48253 term 1 leader 0 nextIndex[2]: 7  matchIndex[2]: 6
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:6 
server 1 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=7
update matchIndex[1]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:6 
server 2 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=7
update matchIndex[2]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6}]
------------------------------------------------------
client write log 6848050993212967907 (index 7) to leader 0
flag 80520 term 1 leader 0 nextIndex[1]: 7  matchIndex[1]: 6
[{6848050993212967907 1 7}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
flag 98324 term 1 leader 0 nextIndex[2]: 7  matchIndex[2]: 6
[{6848050993212967907 1 7}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:6 
server 2 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:6 
server 1 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=8
update matchIndex[2]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=8
update matchIndex[1]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7}]
------------------------------------------------------
flag 62908 term 1 leader 0 nextIndex[1]: 8  matchIndex[1]: 7
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
flag 72929 term 1 leader 0 nextIndex[2]: 8  matchIndex[2]: 7
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:7 
server 2 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=8
update matchIndex[2]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:7 
server 1 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=8
update matchIndex[1]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 1 voteFor 0 logs [{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 1 voteFor 0 logs [{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 1 voteFor 0 logs [{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7}]
!!!!!! server 2 crash
flag 84930 term 1 leader 0 nextIndex[1]: 8  matchIndex[1]: 7
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
flag 79040 term 1 leader 0 nextIndex[2]: 8  matchIndex[2]: 7
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
term 2 server 2 vote for server 1
term 2 server 1 get vote from server 2
term 2 server 1 become leader
------------------------------------------------------
term 2 server 0 vote for server 1
term 2 server 1 get outdate rpc reply from server 0
flag 42140 term 2 leader 1 nextIndex[0]: 8  matchIndex[0]: 0
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 0 
------------------------------------------------------
flag 57086 term 2 leader 1 nextIndex[2]: 8  matchIndex[2]: 0
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 0 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:0 
server 2 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=8
update matchIndex[2]=7
update leader CommitIndex=0
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:0 
server 0 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=8
update matchIndex[0]=7
update leader CommitIndex=0
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7}]
------------------------------------------------------
client write log 2526255613997408202 (index 8) to leader 1
flag 82127 term 2 leader 1 nextIndex[0]: 8  matchIndex[0]: 7
[{2526255613997408202 2 8}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 0 
------------------------------------------------------
flag 16460 term 2 leader 1 nextIndex[2]: 8  matchIndex[2]: 7
[{2526255613997408202 2 8}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 0 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:0 
server 2 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7} {2526255613997408202 2 8}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=9
update matchIndex[2]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7} {2526255613997408202 2 8}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:0 
server 0 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7} {2526255613997408202 2 8}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7} {2526255613997408202 2 8}]
------------------------------------------------------
flag 61717 term 2 leader 1 nextIndex[0]: 9  matchIndex[0]: 8
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 2 leaderCommit: 8 
------------------------------------------------------
flag 31073 term 2 leader 1 nextIndex[2]: 9  matchIndex[2]: 8
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 2 leaderCommit: 8 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:8 
server 2 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7} {2526255613997408202 2 8}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:8 
server 0 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7} {2526255613997408202 2 8}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=9
update matchIndex[2]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7} {2526255613997408202 2 8}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7} {2526255613997408202 2 8}]
------------------------------------------------------
client write log 3600499047583847818 (index 9) to leader 1
flag 62966 term 2 leader 1 nextIndex[0]: 9  matchIndex[0]: 8
[{3600499047583847818 2 9}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 2 leaderCommit: 8 
------------------------------------------------------
flag 65092 term 2 leader 1 nextIndex[2]: 9  matchIndex[2]: 8
[{3600499047583847818 2 9}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 2 leaderCommit: 8 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:8 
server 2 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7} {2526255613997408202 2 8} {3600499047583847818 2 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7} {2526255613997408202 2 8} {3600499047583847818 2 9}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:8 
server 0 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7} {2526255613997408202 2 8} {3600499047583847818 2 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7} {2526255613997408202 2 8} {3600499047583847818 2 9}]
------------------------------------------------------
term 2 Server1 start snapshot! index=9
term 2 server1 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
flag 79481 term 2 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 2 leaderCommit: 9 
------------------------------------------------------
flag 69223 term 2 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 2 leaderCommit: 9 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:9 
server 2 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7} {2526255613997408202 2 8} {3600499047583847818 2 9}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:9 
server 0 log:
[{<nil> 0 0} {6644786400787033768 1 1} {5617036550507308570 1 2} {6540656772130165824 1 3} {3743728800354120680 1 4} {2014463681047139746 1 5} {9099329404961202453 1 6} {6848050993212967907 1 7} {2526255613997408202 2 8} {3600499047583847818 2 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=9
leader log:
[{snapshot 2 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{snapshot 2 9}]
------------------------------------------------------
term 2 Server0 start snapshot! index=9
term 2 Server2 start snapshot! index=9
term 2 server2 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 2 server0 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
client write log 6810554901113639492 (index 10) to leader 1
flag 20138 term 2 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
[{6810554901113639492 2 10}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 2 leaderCommit: 9 
------------------------------------------------------
flag 12244 term 2 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
[{6810554901113639492 2 10}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 2 leaderCommit: 9 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:9 
server 2 log:
[{snapshot 2 9} {6810554901113639492 2 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=11
term 2 server 0 AppendEntries true commitIndex:9 
server 0 log:
[{snapshot 2 9} {6810554901113639492 2 10}]
------------------------------------------------------
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 2 9} {6810554901113639492 2 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 2 9} {6810554901113639492 2 10}]
------------------------------------------------------
flag 38739 term 2 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 2 leaderCommit: 10 
------------------------------------------------------
flag 27500 term 2 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 2 leaderCommit: 10 
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:10 
server 0 log:
[{snapshot 2 9} {6810554901113639492 2 10}]
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:10 
server 2 log:
[{snapshot 2 9} {6810554901113639492 2 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 2 9} {6810554901113639492 2 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 2 9} {6810554901113639492 2 10}]
------------------------------------------------------
client write log 9014081687712425308 (index 11) to leader 1
flag 69998 term 2 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
[{9014081687712425308 2 11}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 2 leaderCommit: 10 
------------------------------------------------------
flag 94927 term 2 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
[{9014081687712425308 2 11}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 2 leaderCommit: 10 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:10 
server 2 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:10 
server 0 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11}]
------------------------------------------------------
flag 67046 term 2 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 2 leaderCommit: 11 
------------------------------------------------------
flag 96752 term 2 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 2 leaderCommit: 11 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:11 
server 2 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:11 
server 0 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11}]
------------------------------------------------------
client write log 9196737104278429391 (index 12) to leader 1
flag 52187 term 2 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
[{9196737104278429391 2 12}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 2 leaderCommit: 11 
------------------------------------------------------
flag 27809 term 2 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
[{9196737104278429391 2 12}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 2 leaderCommit: 11 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:11 
server 2 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:11 
server 0 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12}]
------------------------------------------------------
flag 31089 term 2 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
flag 81077 term 2 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:12 
server 2 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:12 
server 0 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12}]
------------------------------------------------------
client write log 7477125444792591519 (index 13) to leader 1
flag 29184 term 2 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
[{7477125444792591519 2 13}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
flag 15083 term 2 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
[{7477125444792591519 2 13}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:12 
server 2 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:12 
server 0 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13}]
------------------------------------------------------
flag 20229 term 2 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
flag 85704 term 2 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:13 
server 2 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:13 
server 0 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13}]
------------------------------------------------------
client write log 8413167470455327059 (index 14) to leader 1
flag 1994 term 2 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
[{8413167470455327059 2 14}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
flag 57095 term 2 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
[{8413167470455327059 2 14}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:13 
server 2 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:13 
server 0 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14}]
------------------------------------------------------
flag 57897 term 2 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
flag 15703 term 2 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:14 
server 2 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:14 
server 0 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14}]
------------------------------------------------------
client write log 7234919466655509447 (index 15) to leader 1
flag 98822 term 2 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
[{7234919466655509447 2 15}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
flag 29376 term 2 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
[{7234919466655509447 2 15}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:14 
server 2 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
term 2 server 0 AppendEntries true commitIndex:14 
server 0 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15}]
------------------------------------------------------
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15}]
------------------------------------------------------
flag 46330 term 2 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
flag 68398 term 2 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:15 
server 2 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:15 
server 0 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15}]
------------------------------------------------------
client write log 5446305636050575418 (index 16) to leader 1
flag 36248 term 2 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
[{5446305636050575418 2 16}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
flag 80276 term 2 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
[{5446305636050575418 2 16}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:15 
server 2 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:15 
server 0 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16}]
------------------------------------------------------
flag 80624 term 2 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
flag 11771 term 2 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:16 
server 2 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:16 
server 0 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16}]
------------------------------------------------------
client write log 3167010922170903803 (index 17) to leader 1
flag 91656 term 2 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
[{3167010922170903803 2 17}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
flag 52529 term 2 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
[{3167010922170903803 2 17}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:16 
server 0 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16} {3167010922170903803 2 17}]
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:16 
server 2 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16} {3167010922170903803 2 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16} {3167010922170903803 2 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16} {3167010922170903803 2 17}]
------------------------------------------------------
flag 83169 term 2 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
flag 7514 term 2 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:17 
server 2 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16} {3167010922170903803 2 17}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:17 
server 0 log:
leader 1 sendAppendEntries -> server 2 true
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16} {3167010922170903803 2 17}]
------------------------------------------------------
update nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16} {3167010922170903803 2 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16} {3167010922170903803 2 17}]
------------------------------------------------------
client write log 6075489162757231022 (index 18) to leader 1
flag 65992 term 2 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
[{6075489162757231022 2 18}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
flag 82235 term 2 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
[{6075489162757231022 2 18}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:17 
server 2 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16} {3167010922170903803 2 17} {6075489162757231022 2 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16} {3167010922170903803 2 17} {6075489162757231022 2 18}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:17 
server 0 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16} {3167010922170903803 2 17} {6075489162757231022 2 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16} {3167010922170903803 2 17} {6075489162757231022 2 18}]
------------------------------------------------------
flag 22149 term 2 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
flag 76817 term 2 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:18 
server 0 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16} {3167010922170903803 2 17} {6075489162757231022 2 18}]
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:18 
server 2 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16} {3167010922170903803 2 17} {6075489162757231022 2 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16} {3167010922170903803 2 17} {6075489162757231022 2 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16} {3167010922170903803 2 17} {6075489162757231022 2 18}]
------------------------------------------------------
client write log 151734020713472379 (index 19) to leader 1
flag 28712 term 2 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
[{151734020713472379 2 19}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
flag 37769 term 2 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
[{151734020713472379 2 19}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:18 
server 2 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16} {3167010922170903803 2 17} {6075489162757231022 2 18} {151734020713472379 2 19}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:18 
server 0 log:
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=20
update matchIndex[2]=19
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16} {3167010922170903803 2 17} {6075489162757231022 2 18} {151734020713472379 2 19}]
------------------------------------------------------
update leader CommitIndex=19
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16} {3167010922170903803 2 17} {6075489162757231022 2 18} {151734020713472379 2 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16} {3167010922170903803 2 17} {6075489162757231022 2 18} {151734020713472379 2 19}]
------------------------------------------------------
term 2 Server1 start snapshot! index=19
term 2 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 61690 term 2 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 88685 term 2 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:19 
server 2 log:
term 2 server 0 AppendEntries true commitIndex:19 
server 0 log:
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16} {3167010922170903803 2 17} {6075489162757231022 2 18} {151734020713472379 2 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 19}]
------------------------------------------------------
[{snapshot 2 9} {6810554901113639492 2 10} {9014081687712425308 2 11} {9196737104278429391 2 12} {7477125444792591519 2 13} {8413167470455327059 2 14} {7234919466655509447 2 15} {5446305636050575418 2 16} {3167010922170903803 2 17} {6075489162757231022 2 18} {151734020713472379 2 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 19}]
------------------------------------------------------
term 2 Server2 start snapshot! index=19
term 2 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 2 Server0 start snapshot! index=19
term 2 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 2 voteFor 1 logs [{snapshot 2 19}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 2 voteFor 1 logs [{snapshot 2 19}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 2 voteFor 1 logs [{snapshot 2 19}]
!!!!!! server 2 crash
term 3 server 0 vote for server 1
term 3 server 2 vote for server 1
term 3 server 1 get vote from server 0
term 3 server 1 become leader
------------------------------------------------------
term 3 server 1 get outdate rpc reply from server 2
flag 85377 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 0
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 82432 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 0
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
server 2 log:
[{snapshot 2 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
server 0 log:
[{snapshot 2 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 19}]
------------------------------------------------------
client write log 8320543969693680827 (index 20) to leader 1
flag 79806 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
[{8320543969693680827 3 20}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 42532 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
[{8320543969693680827 3 20}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
server 2 log:
[{snapshot 2 19} {8320543969693680827 3 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {8320543969693680827 3 20}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
server 0 log:
[{snapshot 2 19} {8320543969693680827 3 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {8320543969693680827 3 20}]
------------------------------------------------------
flag 60437 term 3 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
flag 95095 term 3 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:20 
server 2 log:
[{snapshot 2 19} {8320543969693680827 3 20}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:20 
server 0 log:
[{snapshot 2 19} {8320543969693680827 3 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {8320543969693680827 3 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {8320543969693680827 3 20}]
------------------------------------------------------
client write log 5905190860675300472 (index 21) to leader 1
flag 12883 term 3 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
[{5905190860675300472 3 21}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
flag 91905 term 3 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
[{5905190860675300472 3 21}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:20 
server 2 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:20 
server 0 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21}]
------------------------------------------------------
flag 96636 term 3 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
flag 53355 term 3 leader 1 nextIndex[2]: 22  matchIndex[2]: 21
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:21 
term 3 server 0 AppendEntries true commitIndex:21 
server 0 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21}]
------------------------------------------------------
server 2 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21}]
------------------------------------------------------
client write log 8007448049522063673 (index 22) to leader 1
flag 77584 term 3 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
[{8007448049522063673 3 22}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
flag 96286 term 3 leader 1 nextIndex[2]: 22  matchIndex[2]: 21
[{8007448049522063673 3 22}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:21 
server 2 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:21 
server 0 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22}]
------------------------------------------------------
flag 6220 term 3 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 3 leaderCommit: 22 
------------------------------------------------------
flag 8228 term 3 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 3 leaderCommit: 22 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:22 
server 2 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:22 
server 0 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22}]
------------------------------------------------------
client write log 2121336273693138990 (index 23) to leader 1
flag 9958 term 3 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
[{2121336273693138990 3 23}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 3 leaderCommit: 22 
------------------------------------------------------
flag 40195 term 3 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
[{2121336273693138990 3 23}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 3 leaderCommit: 22 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:22 
server 0 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:22 
server 2 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23}]
------------------------------------------------------
flag 65288 term 3 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 3 leaderCommit: 23 
------------------------------------------------------
flag 4057 term 3 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 3 leaderCommit: 23 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:23 
server 0 log:
term 3 server 2 AppendEntries true commitIndex:23 
server 2 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23}]
------------------------------------------------------
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23}]
------------------------------------------------------
client write log 7037267690099623057 (index 24) to leader 1
flag 27119 term 3 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
[{7037267690099623057 3 24}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 3 leaderCommit: 23 
------------------------------------------------------
flag 67348 term 3 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
[{7037267690099623057 3 24}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 3 leaderCommit: 23 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:23 
server 2 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:23 
server 0 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24}]
------------------------------------------------------
flag 78860 term 3 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
flag 42338 term 3 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:24 
server 2 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:24 
server 0 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24}]
------------------------------------------------------
client write log 1526927552312346603 (index 25) to leader 1
flag 40458 term 3 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
[{1526927552312346603 3 25}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
flag 91724 term 3 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
[{1526927552312346603 3 25}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:24 
server 2 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:24 
server 0 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25}]
------------------------------------------------------
flag 10457 term 3 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
flag 17492 term 3 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:25 
server 2 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:25 
server 0 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25}]
------------------------------------------------------
client write log 5111620154907221074 (index 26) to leader 1
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 8->7
------------------------------------------------------
flag 43016 term 3 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
[{5111620154907221074 3 26}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
flag 48188 term 3 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
[{5111620154907221074 3 26}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:25 
server 2 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:25 
server 0 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 8->7
------------------------------------------------------
flag 78981 term 3 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
flag 64906 term 3 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:26 
server 2 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:26 
server 0 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26}]
------------------------------------------------------
client write log 5159985214103173339 (index 27) to leader 1
flag 95210 term 3 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
[{5159985214103173339 3 27}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
flag 18212 term 3 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
[{5159985214103173339 3 27}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:26 
server 0 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26} {5159985214103173339 3 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26} {5159985214103173339 3 27}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:26 
server 2 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26} {5159985214103173339 3 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26} {5159985214103173339 3 27}]
------------------------------------------------------
flag 2607 term 3 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
flag 94682 term 3 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:27 
server 2 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26} {5159985214103173339 3 27}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:27 
server 0 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26} {5159985214103173339 3 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26} {5159985214103173339 3 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26} {5159985214103173339 3 27}]
------------------------------------------------------
client write log 9016952653250615248 (index 28) to leader 1
flag 60546 term 3 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
[{9016952653250615248 3 28}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
flag 9175 term 3 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
[{9016952653250615248 3 28}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:27 
server 2 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26} {5159985214103173339 3 27} {9016952653250615248 3 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26} {5159985214103173339 3 27} {9016952653250615248 3 28}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:27 
server 0 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26} {5159985214103173339 3 27} {9016952653250615248 3 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26} {5159985214103173339 3 27} {9016952653250615248 3 28}]
------------------------------------------------------
flag 91917 term 3 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
flag 31161 term 3 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:28 
server 2 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26} {5159985214103173339 3 27} {9016952653250615248 3 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26} {5159985214103173339 3 27} {9016952653250615248 3 28}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:28 
server 0 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26} {5159985214103173339 3 27} {9016952653250615248 3 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26} {5159985214103173339 3 27} {9016952653250615248 3 28}]
------------------------------------------------------
client write log 4808417200282879266 (index 29) to leader 1
flag 1518 term 3 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
[{4808417200282879266 3 29}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
flag 33648 term 3 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
[{4808417200282879266 3 29}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:28 
server 2 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26} {5159985214103173339 3 27} {9016952653250615248 3 28} {4808417200282879266 3 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26} {5159985214103173339 3 27} {9016952653250615248 3 28} {4808417200282879266 3 29}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:28 
server 0 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26} {5159985214103173339 3 27} {9016952653250615248 3 28} {4808417200282879266 3 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26} {5159985214103173339 3 27} {9016952653250615248 3 28} {4808417200282879266 3 29}]
------------------------------------------------------
term 3 Server1 start snapshot! index=29
term 3 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
flag 83038 term 3 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 71932 term 3 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:29 
server 2 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26} {5159985214103173339 3 27} {9016952653250615248 3 28} {4808417200282879266 3 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 29}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 2 19} {8320543969693680827 3 20} {5905190860675300472 3 21} {8007448049522063673 3 22} {2121336273693138990 3 23} {7037267690099623057 3 24} {1526927552312346603 3 25} {5111620154907221074 3 26} {5159985214103173339 3 27} {9016952653250615248 3 28} {4808417200282879266 3 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 29}]
------------------------------------------------------
term 3 Server0 start snapshot! index=29
term 3 Server2 start snapshot! index=29
term 3 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
term 3 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 3 voteFor 1 logs [{snapshot 3 29}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 3 voteFor 1 logs [{snapshot 3 29}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 3 voteFor 1 logs [{snapshot 3 29}]
!!!!!! server 2 crash
flag 99451 term 3 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 78021 term 3 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 4 server 2 vote for server 0
term 4 server 1 vote for server 0
term 4 server 0 get vote from server 1
term 4 server 0 become leader
------------------------------------------------------
term 4 server 0 get outdate rpc reply from server 2
flag 83400 term 4 leader 0 nextIndex[1]: 30  matchIndex[1]: 0
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 43164 term 4 leader 0 nextIndex[2]: 30  matchIndex[2]: 0
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
server 2 log:
[{snapshot 3 29}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 29}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
server 1 log:
[{snapshot 3 29}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 29}]
------------------------------------------------------
client write log 713466159450028042 (index 30) to leader 0
flag 69168 term 4 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
[{713466159450028042 4 30}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 44405 term 4 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
[{713466159450028042 4 30}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
server 2 log:
[{snapshot 3 29} {713466159450028042 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {713466159450028042 4 30}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
server 1 log:
[{snapshot 3 29} {713466159450028042 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {713466159450028042 4 30}]
------------------------------------------------------
flag 25049 term 4 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 25595 term 4 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:30 
server 2 log:
[{snapshot 3 29} {713466159450028042 4 30}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:30 
server 1 log:
[{snapshot 3 29} {713466159450028042 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {713466159450028042 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {713466159450028042 4 30}]
------------------------------------------------------
client write log 7036262510549455432 (index 31) to leader 0
flag 38459 term 4 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
[{7036262510549455432 4 31}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 2527 term 4 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
[{7036262510549455432 4 31}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:30 
server 2 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:30 
server 1 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31}]
------------------------------------------------------
flag 85478 term 4 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 45332 term 4 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:31 
server 2 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:31 
server 1 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31}]
------------------------------------------------------
client write log 3357134441653630688 (index 32) to leader 0
flag 30964 term 4 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
[{3357134441653630688 4 32}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 59848 term 4 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
[{3357134441653630688 4 32}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:31 
server 2 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:31 
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32}]
------------------------------------------------------
server 1 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32}]
------------------------------------------------------
flag 44778 term 4 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 27568 term 4 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:32 
server 2 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
server 1 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32}]
------------------------------------------------------
client write log 2975164833423586162 (index 33) to leader 0
flag 21579 term 4 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
[{2975164833423586162 4 33}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 10386 term 4 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
[{2975164833423586162 4 33}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:32 
server 2 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
server 1 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33}]
------------------------------------------------------
flag 92734 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 97314 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
server 1 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
server 2 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33}]
------------------------------------------------------
client write log 4746661222386892973 (index 34) to leader 0
flag 22932 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
[{4746661222386892973 4 34}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 52640 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
[{4746661222386892973 4 34}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
server 2 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
server 1 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34}]
------------------------------------------------------
flag 93282 term 4 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 40659 term 4 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:34 
server 2 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
server 1 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34}]
------------------------------------------------------
client write log 3815915600626942568 (index 35) to leader 0
flag 97849 term 4 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
[{3815915600626942568 4 35}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 70719 term 4 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
[{3815915600626942568 4 35}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
server 1 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:34 
server 2 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35}]
------------------------------------------------------
flag 62814 term 4 leader 0 nextIndex[1]: 36  matchIndex[1]: 35
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 66629 term 4 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:35 
server 2 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
server 1 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35}]
------------------------------------------------------
client write log 8685105066721425456 (index 36) to leader 0
flag 55688 term 4 leader 0 nextIndex[1]: 36  matchIndex[1]: 35
[{8685105066721425456 4 36}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 21907 term 4 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
[{8685105066721425456 4 36}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
server 1 log:
term 4 server 2 AppendEntries true commitIndex:35 
server 2 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36}]
------------------------------------------------------
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36}]
------------------------------------------------------
flag 86747 term 4 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 70026 term 4 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:36 
server 2 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:36 
server 1 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36}]
------------------------------------------------------
client write log 6743916550633228829 (index 37) to leader 0
flag 64503 term 4 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
[{6743916550633228829 4 37}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 78654 term 4 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
[{6743916550633228829 4 37}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:36 
server 1 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36} {6743916550633228829 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36} {6743916550633228829 4 37}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:36 
server 2 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36} {6743916550633228829 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36} {6743916550633228829 4 37}]
------------------------------------------------------
flag 85313 term 4 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 14328 term 4 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:37 
server 2 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36} {6743916550633228829 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36} {6743916550633228829 4 37}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:37 
server 1 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36} {6743916550633228829 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36} {6743916550633228829 4 37}]
------------------------------------------------------
client write log 7218027290846265304 (index 38) to leader 0
flag 81405 term 4 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
[{7218027290846265304 4 38}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 48690 term 4 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
[{7218027290846265304 4 38}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:37 
server 2 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36} {6743916550633228829 4 37} {7218027290846265304 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36} {6743916550633228829 4 37} {7218027290846265304 4 38}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:37 
server 1 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36} {6743916550633228829 4 37} {7218027290846265304 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36} {6743916550633228829 4 37} {7218027290846265304 4 38}]
------------------------------------------------------
flag 66089 term 4 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 27697 term 4 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:38 
server 2 log:
term 4 server 1 AppendEntries true commitIndex:38 
server 1 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36} {6743916550633228829 4 37} {7218027290846265304 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36} {6743916550633228829 4 37} {7218027290846265304 4 38}]
------------------------------------------------------
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36} {6743916550633228829 4 37} {7218027290846265304 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36} {6743916550633228829 4 37} {7218027290846265304 4 38}]
------------------------------------------------------
client write log 2409699809289457825 (index 39) to leader 0
flag 91948 term 4 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
[{2409699809289457825 4 39}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 66507 term 4 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
[{2409699809289457825 4 39}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:38 
server 2 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36} {6743916550633228829 4 37} {7218027290846265304 4 38} {2409699809289457825 4 39}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:38 
server 1 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36} {6743916550633228829 4 37} {7218027290846265304 4 38} {2409699809289457825 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36} {6743916550633228829 4 37} {7218027290846265304 4 38} {2409699809289457825 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36} {6743916550633228829 4 37} {7218027290846265304 4 38} {2409699809289457825 4 39}]
------------------------------------------------------
term 4 Server0 start snapshot! index=39
term 4 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 12059 term 4 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 51130 term 4 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36} {6743916550633228829 4 37} {7218027290846265304 4 38} {2409699809289457825 4 39}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:39 
server 2 log:
[{snapshot 3 29} {713466159450028042 4 30} {7036262510549455432 4 31} {3357134441653630688 4 32} {2975164833423586162 4 33} {4746661222386892973 4 34} {3815915600626942568 4 35} {8685105066721425456 4 36} {6743916550633228829 4 37} {7218027290846265304 4 38} {2409699809289457825 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
term 4 Server1 start snapshot! index=39
term 4 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 4 Server2 start snapshot! index=39
term 4 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
client write log 5702069713780097131 (index 40) to leader 0
flag 38470 term 4 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
[{5702069713780097131 4 40}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 42897 term 4 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
[{5702069713780097131 4 40}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:39 
server 2 log:
[{snapshot 4 39} {5702069713780097131 4 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {5702069713780097131 4 40}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 4 39} {5702069713780097131 4 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {5702069713780097131 4 40}]
------------------------------------------------------
flag 90228 term 4 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 75384 term 4 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:40 
server 2 log:
[{snapshot 4 39} {5702069713780097131 4 40}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:40 
server 1 log:
[{snapshot 4 39} {5702069713780097131 4 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {5702069713780097131 4 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {5702069713780097131 4 40}]
------------------------------------------------------
client write log 1106142110893123695 (index 41) to leader 0
flag 30766 term 4 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
[{1106142110893123695 4 41}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 93815 term 4 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
[{1106142110893123695 4 41}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:40 
server 1 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:40 
server 2 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41}]
------------------------------------------------------
flag 63361 term 4 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 95826 term 4 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:41 
server 1 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:41 
server 2 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 4 voteFor 0 logs [{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 4 voteFor 0 logs [{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 4 voteFor 0 logs [{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41}]
!!!!!! server 2 crash
flag 48203 term 4 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 67569 term 4 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 5 server 1 vote for server 2
term 5 server 0 vote for server 2
term 5 server 2 get vote from server 1
term 5 server 2 become leader
------------------------------------------------------
term 5 server 2 get outdate rpc reply from server 0
flag 52982 term 5 leader 2 nextIndex[0]: 42  matchIndex[0]: 0
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 45669 term 5 leader 2 nextIndex[1]: 42  matchIndex[1]: 0
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:39 
server 0 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41}]
------------------------------------------------------
client write log 7654519735626379471 (index 42) to leader 2
flag 5215 term 5 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
[{7654519735626379471 5 42}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 16708 term 5 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
[{7654519735626379471 5 42}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:39 
server 0 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42}]
------------------------------------------------------
flag 18895 term 5 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 5 leaderCommit: 42 
------------------------------------------------------
flag 13001 term 5 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 5 leaderCommit: 42 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:42 
server 0 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:42 
server 1 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42}]
------------------------------------------------------
client write log 1505185082392572157 (index 43) to leader 2
flag 68678 term 5 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
[{1505185082392572157 5 43}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 5 leaderCommit: 42 
------------------------------------------------------
flag 79901 term 5 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
[{1505185082392572157 5 43}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 5 leaderCommit: 42 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:42 
server 1 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:42 
server 0 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43}]
------------------------------------------------------
flag 27226 term 5 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 5 leaderCommit: 43 
------------------------------------------------------
flag 49241 term 5 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 5 leaderCommit: 43 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:43 
server 1 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
term 5 server 0 AppendEntries true commitIndex:43 
server 0 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43}]
------------------------------------------------------
update nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43}]
------------------------------------------------------
client write log 9209982945553559243 (index 44) to leader 2
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 30->29
------------------------------------------------------
flag 60021 term 5 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
[{9209982945553559243 5 44}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 5 leaderCommit: 43 
------------------------------------------------------
flag 11876 term 5 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
[{9209982945553559243 5 44}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 5 leaderCommit: 43 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:43 
server 1 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:43 
server 0 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44}]
------------------------------------------------------
flag 42702 term 5 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 5 leaderCommit: 44 
------------------------------------------------------
flag 43391 term 5 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 5 leaderCommit: 44 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:44 
server 1 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:44 
server 0 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44}]
------------------------------------------------------
client write log 5380330487138432911 (index 45) to leader 2
flag 76780 term 5 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
[{5380330487138432911 5 45}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 5 leaderCommit: 44 
------------------------------------------------------
flag 95517 term 5 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
[{5380330487138432911 5 45}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 5 leaderCommit: 44 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:44 
server 1 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:44 
server 0 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45}]
------------------------------------------------------
flag 95882 term 5 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 5 leaderCommit: 45 
------------------------------------------------------
flag 96185 term 5 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 5 leaderCommit: 45 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:45 
server 1 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:45 
server 0 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45}]
------------------------------------------------------
client write log 7130263228082131563 (index 46) to leader 2
flag 23060 term 5 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
[{7130263228082131563 5 46}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 5 leaderCommit: 45 
------------------------------------------------------
flag 15462 term 5 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
[{7130263228082131563 5 46}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 5 leaderCommit: 45 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:45 
server 1 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:45 
server 0 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46}]
------------------------------------------------------
flag 710 term 5 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 5 leaderCommit: 46 
------------------------------------------------------
flag 16091 term 5 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 5 leaderCommit: 46 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:46 
server 1 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:46 
server 0 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46}]
------------------------------------------------------
client write log 6312276150470177033 (index 47) to leader 2
flag 63319 term 5 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
[{6312276150470177033 5 47}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 5 leaderCommit: 46 
------------------------------------------------------
flag 89814 term 5 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
[{6312276150470177033 5 47}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 5 leaderCommit: 46 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:46 
server 1 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46} {6312276150470177033 5 47}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:46 
server 0 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46} {6312276150470177033 5 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46} {6312276150470177033 5 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46} {6312276150470177033 5 47}]
------------------------------------------------------
flag 48791 term 5 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 5 leaderCommit: 47 
------------------------------------------------------
flag 24324 term 5 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 5 leaderCommit: 47 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:47 
server 1 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46} {6312276150470177033 5 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46} {6312276150470177033 5 47}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:47 
server 0 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46} {6312276150470177033 5 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46} {6312276150470177033 5 47}]
------------------------------------------------------
client write log 1844090108560238704 (index 48) to leader 2
flag 92146 term 5 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
[{1844090108560238704 5 48}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 5 leaderCommit: 47 
------------------------------------------------------
flag 64411 term 5 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
[{1844090108560238704 5 48}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 5 leaderCommit: 47 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:47 
server 1 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46} {6312276150470177033 5 47} {1844090108560238704 5 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46} {6312276150470177033 5 47} {1844090108560238704 5 48}]
term 5 server 0 AppendEntries true commitIndex:47 
server 0 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46} {6312276150470177033 5 47} {1844090108560238704 5 48}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46} {6312276150470177033 5 47} {1844090108560238704 5 48}]
------------------------------------------------------
flag 56185 term 5 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 48 
------------------------------------------------------
flag 49927 term 5 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 48 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:48 
server 1 log:
term 5 server 0 AppendEntries true commitIndex:48 
server 0 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46} {6312276150470177033 5 47} {1844090108560238704 5 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46} {6312276150470177033 5 47} {1844090108560238704 5 48}]
------------------------------------------------------
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46} {6312276150470177033 5 47} {1844090108560238704 5 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46} {6312276150470177033 5 47} {1844090108560238704 5 48}]
------------------------------------------------------
client write log 6914917100406313318 (index 49) to leader 2
flag 45508 term 5 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
[{6914917100406313318 5 49}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 48 
------------------------------------------------------
flag 85584 term 5 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
[{6914917100406313318 5 49}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 48 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:48 
server 1 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46} {6312276150470177033 5 47} {1844090108560238704 5 48} {6914917100406313318 5 49}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:48 
server 0 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46} {6312276150470177033 5 47} {1844090108560238704 5 48} {6914917100406313318 5 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46} {6312276150470177033 5 47} {1844090108560238704 5 48} {6914917100406313318 5 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46} {6312276150470177033 5 47} {1844090108560238704 5 48} {6914917100406313318 5 49}]
------------------------------------------------------
term 5 Server2 start snapshot! index=49
term 5 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
flag 56971 term 5 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
flag 55195 term 5 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:49 
server 1 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46} {6312276150470177033 5 47} {1844090108560238704 5 48} {6914917100406313318 5 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 5 49}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:49 
server 0 log:
[{snapshot 4 39} {5702069713780097131 4 40} {1106142110893123695 4 41} {7654519735626379471 5 42} {1505185082392572157 5 43} {9209982945553559243 5 44} {5380330487138432911 5 45} {7130263228082131563 5 46} {6312276150470177033 5 47} {1844090108560238704 5 48} {6914917100406313318 5 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 5 49}]
------------------------------------------------------
term 5 Server1 start snapshot! index=49
term 5 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 5 Server0 start snapshot! index=49
term 5 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
client write log 7044787563876400200 (index 50) to leader 2
flag 96093 term 5 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
[{7044787563876400200 5 50}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
flag 27652 term 5 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
[{7044787563876400200 5 50}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:49 
server 1 log:
[{snapshot 5 49} {7044787563876400200 5 50}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:49 
server 0 log:
[{snapshot 5 49} {7044787563876400200 5 50}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 5 49} {7044787563876400200 5 50}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 5 49} {7044787563876400200 5 50}]
------------------------------------------------------
flag 14615 term 5 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
flag 50517 term 5 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:50 
server 1 log:
[{snapshot 5 49} {7044787563876400200 5 50}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:50 
server 0 log:
[{snapshot 5 49} {7044787563876400200 5 50}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 5 49} {7044787563876400200 5 50}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 5 49} {7044787563876400200 5 50}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 5 voteFor 2 logs [{snapshot 5 49} {7044787563876400200 5 50}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 5 voteFor 2 logs [{snapshot 5 49} {7044787563876400200 5 50}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 5 voteFor 2 logs [{snapshot 5 49} {7044787563876400200 5 50}]
!!!!!! server 2 crash
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 42->41
------------------------------------------------------
term 6 server 2 vote for server 0
term 6 server 1 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 0 get outdate rpc reply from server 1
flag 49658 term 6 leader 0 nextIndex[1]: 51  matchIndex[1]: 0
[]
term 6 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
flag 93308 term 6 leader 0 nextIndex[2]: 51  matchIndex[2]: 0
[]
term 6 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:49 
server 2 log:
[{snapshot 5 49} {7044787563876400200 5 50}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:49 
server 1 log:
[{snapshot 5 49} {7044787563876400200 5 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 5 49} {7044787563876400200 5 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=49
leader log:
[{snapshot 5 49} {7044787563876400200 5 50}]
------------------------------------------------------
client write log 1996063226002140679 (index 51) to leader 0
flag 16864 term 6 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
[{1996063226002140679 6 51}]
term 6 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
flag 82869 term 6 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
[{1996063226002140679 6 51}]
term 6 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:49 
server 2 log:
[{snapshot 5 49} {7044787563876400200 5 50} {1996063226002140679 6 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 5 49} {7044787563876400200 5 50} {1996063226002140679 6 51}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:49 
server 1 log:
[{snapshot 5 49} {7044787563876400200 5 50} {1996063226002140679 6 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 5 49} {7044787563876400200 5 50} {1996063226002140679 6 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 42->41
------------------------------------------------------
flag 58119 term 6 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
[]
term 6 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
flag 42032 term 6 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
[]
term 6 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:51 
server 2 log:
[{snapshot 5 49} {7044787563876400200 5 50} {1996063226002140679 6 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 5 49} {7044787563876400200 5 50} {1996063226002140679 6 51}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:51 
server 1 log:
[{snapshot 5 49} {7044787563876400200 5 50} {1996063226002140679 6 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 5 49} {7044787563876400200 5 50} {1996063226002140679 6 51}]
------------------------------------------------------
  ... Passed --  12.0  3  252   73805   51
--- PASS: TestSnapshotAllCrash2D (11.97s)
PASS
