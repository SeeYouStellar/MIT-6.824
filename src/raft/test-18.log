=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 0 vote for server 1
term 1 server 1 get outdate rpc reply from server 0
client write log 3750479720052991448 (index 1) to leader 1
flag 39536 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 36263 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3750479720052991448 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3750479720052991448 1 1}]
------------------------------------------------------
flag 77407 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 88772 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3750479720052991448 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3750479720052991448 1 1}]
------------------------------------------------------
flag 94830 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 72623 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3750479720052991448 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3750479720052991448 1 1}]
------------------------------------------------------
flag 19358 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 45842 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3750479720052991448 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3750479720052991448 1 1}]
------------------------------------------------------
flag 8842 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 50502 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3750479720052991448 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3750479720052991448 1 1}]
------------------------------------------------------
flag 44699 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 54418 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3750479720052991448 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3750479720052991448 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7977468762381500293 (index 2) to leader 1
flag 28137 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 80040 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2}]
------------------------------------------------------
flag 83829 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 43932 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2}]
------------------------------------------------------
client write log 4807690700250470740 (index 3) to leader 1
client write log 5956701707299156103 (index 4) to leader 1
client write log 3846602358379884926 (index 5) to leader 1
client write log 8480033759831686812 (index 6) to leader 1
client write log 328360084142799791 (index 7) to leader 1
client write log 5030077860388406696 (index 8) to leader 1
flag 94134 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 78175 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8}]
------------------------------------------------------
flag 56378 term 1 leader 1 nextIndex[0]: 9  matchIndex[0]: 8
term 1 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 36432 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8}]
------------------------------------------------------
!!!!!!connect server 2
client write log 2501263233513043888 (index 9) to leader 1
flag 55271 term 1 leader 1 nextIndex[0]: 9  matchIndex[0]: 8
term 1 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 28234 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 2 server 2 AppendEntries false 领导者任期过期 args.Term 1
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 2 server 1 not vote for server 2, 日志不够新
term 1 server 0 not vote for server 2, 日志不够新
term 4 server 2 vote for server 0
term 4 server 0 get vote from server 2
term 4 server 0 become leader
------------------------------------------------------
term 4 server 1 vote for server 0
term 4 server 0 get outdate rpc reply from server 1
flag 52111 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 1886 term 4 leader 0 nextIndex[2]: 10  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 10->9
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
flag 82342 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 4283 term 4 leader 0 nextIndex[2]: 2  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
flag 51670 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 667 term 4 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
flag 31828 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 50488 term 4 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
flag 53233 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 44617 term 4 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
term 4 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50175 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 67211 term 4 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
flag 70216 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 37616 term 4 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
flag 22048 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 51520 term 4 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
flag 5813 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 2401 term 4 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14667 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 75124 term 4 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
flag 33594 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 38026 term 4 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
flag 57697 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 31132 term 4 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
flag 81613 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 73886 term 4 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
term 4 server 1 not vote for server 2, 任期不够新
term 4 server 2 get outdate rpc reply from server 1
flag 8787 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 99404 term 4 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
flag 283 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 14160 term 4 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9}]
------------------------------------------------------
client write log 2501263233513043888 (index 10) to leader 0
flag 7505 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 10131 term 4 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9} {2501263233513043888 4 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {3750479720052991448 1 1} {7977468762381500293 1 2} {4807690700250470740 1 3} {5956701707299156103 1 4} {3846602358379884926 1 5} {8480033759831686812 1 6} {328360084142799791 1 7} {5030077860388406696 1 8} {2501263233513043888 1 9} {2501263233513043888 4 10}]
------------------------------------------------------
term 4 Server0 start snapshot! index=9
term 4 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 1532 term 4 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 74871 term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2501263233513043888 4 10}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2501263233513043888 4 10}]
------------------------------------------------------
term 4 Server2 start snapshot! index=9
term 4 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
term 4 Server1 start snapshot! index=9
term 4 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 29740 term 4 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 39881 term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2501263233513043888 4 10}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2501263233513043888 4 10}]
------------------------------------------------------
term 4 server 0 not vote for server 2, 任期不够新
term 4 server 2 get outdate rpc reply from server 0
flag 38888 term 4 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 35539 term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2501263233513043888 4 10}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2501263233513043888 4 10}]
------------------------------------------------------
flag 96228 term 4 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 71870 term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2501263233513043888 4 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2501263233513043888 4 10}]
------------------------------------------------------
flag 92999 term 4 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 28134 term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2501263233513043888 4 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2501263233513043888 4 10}]
------------------------------------------------------
flag 2497 term 4 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 60415 term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2501263233513043888 4 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2501263233513043888 4 10}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 59099 term 4 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 96685 term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 13577 term 4 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 80744 term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 61391 term 4 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 61435 term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 92514 term 4 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 64322 term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 5 server 1 vote for server 2
term 5 server 2 get vote from server 1
term 5 server 2 become leader
------------------------------------------------------
flag 82622 term 5 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 37184 term 5 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2501263233513043888 4 10}]
------------------------------------------------------
client write log 8685258970032184632 (index 11) to leader 2
flag 37494 term 4 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 78941 term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 55140 term 5 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 77480 term 5 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2501263233513043888 4 10} {8685258970032184632 5 11}]
------------------------------------------------------
flag 49747 term 4 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 25371 term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 58030 term 5 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
flag 65057 term 5 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 5 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 5 leaderCommit: 11 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2501263233513043888 4 10} {8685258970032184632 5 11}]
------------------------------------------------------
client write log 5094219711726622516 (index 12) to leader 2
flag 51688 term 4 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 78733 term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 90112 term 5 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
flag 24308 term 5 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 5 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 5 leaderCommit: 11 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2501263233513043888 4 10} {8685258970032184632 5 11} {5094219711726622516 5 12}]
------------------------------------------------------
flag 57237 term 4 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 15915 term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 96907 term 5 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 68158 term 5 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 5 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 5 leaderCommit: 12 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2501263233513043888 4 10} {8685258970032184632 5 11} {5094219711726622516 5 12}]
------------------------------------------------------
!!!!!!connect server 0
client write log 700714417429834758 (index 13) to leader 2
flag 30130 term 4 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 22691 term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 5 server 2 AppendEntries false 领导者任期过期 args.Term 4
------------------------------------------------------
term 5 server 1 AppendEntries false 领导者任期过期 args.Term 4
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58220 term 5 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 76471 term 5 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 5 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 5 leaderCommit: 12 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2501263233513043888 4 10} {8685258970032184632 5 11} {5094219711726622516 5 12} {700714417429834758 5 13}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2501263233513043888 4 10} {8685258970032184632 5 11} {5094219711726622516 5 12} {700714417429834758 5 13}]
------------------------------------------------------
flag 12095 term 5 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 5 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 5 leaderCommit: 13 
------------------------------------------------------
flag 9571 term 5 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 5 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 5 leaderCommit: 13 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2501263233513043888 4 10} {8685258970032184632 5 11} {5094219711726622516 5 12} {700714417429834758 5 13}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2501263233513043888 4 10} {8685258970032184632 5 11} {5094219711726622516 5 12} {700714417429834758 5 13}]
------------------------------------------------------
flag 62419 term 5 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 5 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 5 leaderCommit: 13 
------------------------------------------------------
flag 49959 term 5 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 5 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 5 leaderCommit: 13 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2501263233513043888 4 10} {8685258970032184632 5 11} {5094219711726622516 5 12} {700714417429834758 5 13}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2501263233513043888 4 10} {8685258970032184632 5 11} {5094219711726622516 5 12} {700714417429834758 5 13}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41013 term 5 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 5 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 5 leaderCommit: 13 
------------------------------------------------------
flag 29873 term 5 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 5 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 5 leaderCommit: 13 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2501263233513043888 4 10} {8685258970032184632 5 11} {5094219711726622516 5 12} {700714417429834758 5 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2501263233513043888 4 10} {8685258970032184632 5 11} {5094219711726622516 5 12} {700714417429834758 5 13}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28077 term 5 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 5 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 5 leaderCommit: 13 
------------------------------------------------------
flag 1631 term 5 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 5 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 5 leaderCommit: 13 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2501263233513043888 4 10} {8685258970032184632 5 11} {5094219711726622516 5 12} {700714417429834758 5 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2501263233513043888 4 10} {8685258970032184632 5 11} {5094219711726622516 5 12} {700714417429834758 5 13}]
------------------------------------------------------
flag 94414 term 5 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 5 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 5 leaderCommit: 13 
------------------------------------------------------
flag 86688 term 5 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 5 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 5 leaderCommit: 13 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
term 5 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
[{snapshot 1 9} {2501263233513043888 4 10} {8685258970032184632 5 11} {5094219711726622516 5 12} {700714417429834758 5 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2501263233513043888 4 10} {8685258970032184632 5 11} {5094219711726622516 5 12} {700714417429834758 5 13}]
------------------------------------------------------
flag 5622 term 5 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 5 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 5 leaderCommit: 13 
------------------------------------------------------
flag 93158 term 5 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 5 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 5 leaderCommit: 13 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2501263233513043888 4 10} {8685258970032184632 5 11} {5094219711726622516 5 12} {700714417429834758 5 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2501263233513043888 4 10} {8685258970032184632 5 11} {5094219711726622516 5 12} {700714417429834758 5 13}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6850743832536563507 (index 14) to leader 2
flag 40291 term 5 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 5 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 5 leaderCommit: 13 
------------------------------------------------------
flag 15545 term 5 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 5 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 5 leaderCommit: 13 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2501263233513043888 4 10} {8685258970032184632 5 11} {5094219711726622516 5 12} {700714417429834758 5 13} {6850743832536563507 5 14}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 14->13
------------------------------------------------------
term 5 leader 2 nextIndex[0]: 0  matchIndex[0]: 13
term 5 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 46344 term 5 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 5 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 5 leaderCommit: 14 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2501263233513043888 4 10} {8685258970032184632 5 11} {5094219711726622516 5 12} {700714417429834758 5 13} {6850743832536563507 5 14}]
------------------------------------------------------
client write log 7392020974977710583 (index 15) to leader 2
client write log 1447312369983972760 (index 16) to leader 2
client write log 4085332369502809233 (index 17) to leader 2
client write log 7532075265844525943 (index 18) to leader 2
client write log 4899334668661550982 (index 19) to leader 2
client write log 6394235141466668127 (index 20) to leader 2
client write log 3970549791610577734 (index 21) to leader 2
client write log 414461920264922332 (index 22) to leader 2
term 5 leader 2 nextIndex[0]: 0  matchIndex[0]: 13
term 5 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 8915 term 5 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 5 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 5 leaderCommit: 14 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 1 9} {2501263233513043888 4 10} {8685258970032184632 5 11} {5094219711726622516 5 12} {700714417429834758 5 13} {6850743832536563507 5 14} {7392020974977710583 5 15} {1447312369983972760 5 16} {4085332369502809233 5 17} {7532075265844525943 5 18} {4899334668661550982 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22}]
------------------------------------------------------
term 5 Server2 start snapshot! index=19
term 5 server2 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=22
-------------------------------------------------------------
term 5 leader 2 nextIndex[0]: 0  matchIndex[0]: 13
term 5 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 5
------------------------------------------------------
flag 27872 term 5 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 5 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22}]
------------------------------------------------------
term 5 Server1 start snapshot! index=19
term 5 server1 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=22
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8741098139927391050 (index 23) to leader 2
term 5 server 2 not vote for server 0, 日志不够新
term 5 server 1 not vote for server 0, 日志不够新
term 7 server 1 vote for server 2
term 7 server 2 get vote from server 1
term 7 server 2 become leader
------------------------------------------------------
term 7 server 0 vote for server 2
term 7 server 2 get outdate rpc reply from server 0
flag 59713 term 7 leader 2 nextIndex[0]: 24  matchIndex[0]: 0
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 8233 term 7 leader 2 nextIndex[1]: 24  matchIndex[1]: 0
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 24->23
------------------------------------------------------
term 7 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 24->23
------------------------------------------------------
term 7 leader 2 nextIndex[0]: 14  matchIndex[0]: 0
term 7 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 5
------------------------------------------------------
flag 85372 term 7 leader 2 nextIndex[1]: 23  matchIndex[1]: 0
term 7 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
term 7 server 0 InstallSnapshot success
------------------------------------------------------
term 7 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 20 matchIndex[0] 19 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 5 rf.commitIndex 19 rf.lastApplied 19
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6239 term 7 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 7 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 53865 term 7 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
flag 59787 term 7 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 51431 term 7 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
flag 98246 term 7 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 64797 term 7 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
flag 8483 term 7 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 34797 term 7 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
term 7 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85256 term 7 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 95368 term 7 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
flag 62730 term 7 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 87124 term 7 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28665 term 7 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 60736 term 7 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56072 term 7 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 42807 term 7 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
flag 35958 term 7 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 64202 term 7 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
flag 68527 term 7 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 47577 term 7 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
flag 17667 term 7 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 9153 term 7 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
flag 38715 term 7 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 31339 term 7 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
flag 70113 term 7 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 3113 term 7 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
flag 45519 term 7 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 8042 term 7 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
flag 88273 term 7 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 50450 term 7 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58289 term 7 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 70576 term 7 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48938 term 7 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 86424 term 7 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
flag 65009 term 7 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 42778 term 7 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23}]
------------------------------------------------------
client write log 8741098139927391050 (index 24) to leader 2
flag 46175 term 7 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 70002 term 7 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 7 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23} {8741098139927391050 7 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23} {8741098139927391050 7 24}]
------------------------------------------------------
flag 59287 term 7 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 7 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
flag 75798 term 7 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 7 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23} {8741098139927391050 7 24}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23} {8741098139927391050 7 24}]
------------------------------------------------------
flag 8836 term 7 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 7 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
flag 37675 term 7 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 7 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23} {8741098139927391050 7 24}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23} {8741098139927391050 7 24}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84839 term 7 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 7 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
flag 75327 term 7 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 7 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23} {8741098139927391050 7 24}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23} {8741098139927391050 7 24}]
------------------------------------------------------
flag 72459 term 7 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 7 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
flag 38806 term 7 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 7 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23} {8741098139927391050 7 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23} {8741098139927391050 7 24}]
------------------------------------------------------
term 7 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92263 term 7 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 7 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
flag 73761 term 7 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 7 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23} {8741098139927391050 7 24}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23} {8741098139927391050 7 24}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5857972712453302944 (index 25) to leader 2
flag 24660 term 7 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 7 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
flag 61838 term 7 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 7 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23} {8741098139927391050 7 24} {5857972712453302944 7 25}]
------------------------------------------------------
flag 18772 term 7 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 7 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 25 
------------------------------------------------------
flag 68139 term 7 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 7 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23} {8741098139927391050 7 24} {5857972712453302944 7 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 25->24
------------------------------------------------------
client write log 5800844395341972931 (index 26) to leader 2
client write log 7282920685043799558 (index 27) to leader 2
client write log 5729873506828362889 (index 28) to leader 2
client write log 8804916209531381904 (index 29) to leader 2
client write log 2824662037393254871 (index 30) to leader 2
client write log 2112149696327967727 (index 31) to leader 2
client write log 2835317483531710416 (index 32) to leader 2
client write log 2741455254519015871 (index 33) to leader 2
client write log 1460631214801577666 (index 34) to leader 2
client write log 4751867723591577943 (index 35) to leader 2
client write log 5932042754328490044 (index 36) to leader 2
client write log 5171665439473817428 (index 37) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 7 leader 2 nextIndex[0]: 0  matchIndex[0]: 24
term 7 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 5
------------------------------------------------------
flag 99925 term 7 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 7 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 5 19} {6394235141466668127 5 20} {3970549791610577734 5 21} {414461920264922332 5 22} {8741098139927391050 5 23} {8741098139927391050 7 24} {5857972712453302944 7 25} {5800844395341972931 7 26} {7282920685043799558 7 27} {5729873506828362889 7 28} {8804916209531381904 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 7 Server2 start snapshot! index=29
term 7 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=37
-------------------------------------------------------------
term 7 leader 2 nextIndex[0]: 0  matchIndex[0]: 24
term 7 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 7
------------------------------------------------------
flag 55907 term 7 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 7 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37}]
------------------------------------------------------
term 7 Server1 start snapshot! index=29
term 7 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=37
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 0
client write log 808600663297172814 (index 38) to leader 2
term 7 server 2 not vote for server 0, 日志不够新
term 7 server 1 not vote for server 0, 日志不够新
term 9 server 1 vote for server 2
term 9 server 0 vote for server 2
term 9 server 2 get vote from server 1
term 9 server 2 become leader
------------------------------------------------------
term 9 server 2 get outdate rpc reply from server 0
flag 81300 term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 73160 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 9 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 9 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 39->38
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 39->38
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 25  matchIndex[0]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 7
------------------------------------------------------
flag 46995 term 9 leader 2 nextIndex[1]: 38  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 9 server 0 InstallSnapshot success
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 7 rf.commitIndex 29 rf.lastApplied 29
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93663 term 9 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 9 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 41766 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32668 term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 14065 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44900 term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 85460 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
flag 10251 term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 14073 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
flag 12112 term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 61603 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56191 term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 64734 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
flag 2474 term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 60155 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
flag 30393 term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 55145 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
flag 13478 term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 90169 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
term 9 server 0 not vote for server 2, 任期不够新
term 9 server 2 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31992 term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 78012 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
flag 3558 term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 81358 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53196 term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 38293 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
flag 3825 term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 84332 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
term 9 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
flag 64149 term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 33019 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
flag 57037 term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 9210 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
flag 1863 term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 91779 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
flag 4880 term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 4077 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38}]
------------------------------------------------------
client write log 808600663297172814 (index 39) to leader 2
flag 64057 term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 16426 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38} {808600663297172814 9 39}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 7 29} {2824662037393254871 7 30} {2112149696327967727 7 31} {2835317483531710416 7 32} {2741455254519015871 7 33} {1460631214801577666 7 34} {4751867723591577943 7 35} {5932042754328490044 7 36} {5171665439473817428 7 37} {808600663297172814 7 38} {808600663297172814 9 39}]
------------------------------------------------------
term 9 Server2 start snapshot! index=39
term 9 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 67215 term 9 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
flag 12086 term 9 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 9 39}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 9 39}]
------------------------------------------------------
term 9 Server0 start snapshot! index=39
term 9 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 9 Server1 start snapshot! index=39
term 9 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34878 term 9 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
flag 31692 term 9 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 9 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 9 39}]
------------------------------------------------------
flag 30704 term 9 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
flag 77785 term 9 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 9 39}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 9 39}]
------------------------------------------------------
flag 48763 term 9 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
flag 71554 term 9 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 9 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 9 39}]
------------------------------------------------------
flag 36544 term 9 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
flag 49043 term 9 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 9 39}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 9 39}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96836 term 9 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
flag 49590 term 9 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 9 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 9 39}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 25879 term 9 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
flag 93227 term 9 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
flag 70479 term 9 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
flag 27041 term 9 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
flag 85442 term 9 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
flag 47116 term 9 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
term 10 server 0 vote for server 1
term 10 server 1 get vote from server 0
term 10 server 1 become leader
------------------------------------------------------
flag 99949 term 10 leader 1 nextIndex[0]: 40  matchIndex[0]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
flag 23310 term 10 leader 1 nextIndex[2]: 40  matchIndex[2]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 9 39}]
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 8140139225814945759 (index 40) to leader 1
flag 77237 term 9 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
flag 5832 term 9 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
flag 85023 term 10 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 10 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
flag 43926 term 10 leader 1 nextIndex[2]: 40  matchIndex[2]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {8140139225814945759 10 40}]
------------------------------------------------------
flag 50888 term 9 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
flag 86085 term 9 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
flag 26028 term 10 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 10 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 10 leaderCommit: 40 
------------------------------------------------------
flag 22076 term 10 leader 1 nextIndex[2]: 40  matchIndex[2]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {8140139225814945759 10 40}]
------------------------------------------------------
client write log 5097095136343418596 (index 41) to leader 1
flag 97621 term 9 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
flag 12225 term 9 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
flag 82993 term 10 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 10 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 10 leaderCommit: 40 
------------------------------------------------------
flag 79611 term 10 leader 1 nextIndex[2]: 40  matchIndex[2]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {8140139225814945759 10 40} {5097095136343418596 10 41}]
------------------------------------------------------
flag 14989 term 9 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
flag 81339 term 9 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
flag 95446 term 10 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 10 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 10 leaderCommit: 41 
------------------------------------------------------
flag 75840 term 10 leader 1 nextIndex[2]: 40  matchIndex[2]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {8140139225814945759 10 40} {5097095136343418596 10 41}]
------------------------------------------------------
!!!!!!connect server 2
client write log 2287231618790282654 (index 42) to leader 1
flag 74557 term 9 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
flag 69557 term 9 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
term 10 server 1 AppendEntries false 领导者任期过期 args.Term 9
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 10 server 0 AppendEntries false 领导者任期过期 args.Term 9
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20612 term 10 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 10 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 10 leaderCommit: 41 
------------------------------------------------------
flag 82813 term 10 leader 1 nextIndex[2]: 40  matchIndex[2]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {8140139225814945759 10 40} {5097095136343418596 10 41} {2287231618790282654 10 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {8140139225814945759 10 40} {5097095136343418596 10 41} {2287231618790282654 10 42}]
------------------------------------------------------
flag 85279 term 10 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 10 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 10 leaderCommit: 42 
------------------------------------------------------
flag 92445 term 10 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 10 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 10 leaderCommit: 42 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {8140139225814945759 10 40} {5097095136343418596 10 41} {2287231618790282654 10 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {8140139225814945759 10 40} {5097095136343418596 10 41} {2287231618790282654 10 42}]
------------------------------------------------------
flag 35566 term 10 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 10 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 10 leaderCommit: 42 
------------------------------------------------------
flag 48037 term 10 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 10 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 10 leaderCommit: 42 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {8140139225814945759 10 40} {5097095136343418596 10 41} {2287231618790282654 10 42}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {8140139225814945759 10 40} {5097095136343418596 10 41} {2287231618790282654 10 42}]
------------------------------------------------------
flag 87542 term 10 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 10 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 10 leaderCommit: 42 
------------------------------------------------------
flag 51546 term 10 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 10 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 10 leaderCommit: 42 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {8140139225814945759 10 40} {5097095136343418596 10 41} {2287231618790282654 10 42}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {8140139225814945759 10 40} {5097095136343418596 10 41} {2287231618790282654 10 42}]
------------------------------------------------------
term 10 server 2 not vote for server 1, 日志不够新
term 10 server 1 get outdate rpc reply from server 2
flag 71545 term 10 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 10 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 10 leaderCommit: 42 
------------------------------------------------------
flag 9650 term 10 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 10 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 10 leaderCommit: 42 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {8140139225814945759 10 40} {5097095136343418596 10 41} {2287231618790282654 10 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {8140139225814945759 10 40} {5097095136343418596 10 41} {2287231618790282654 10 42}]
------------------------------------------------------
flag 80023 term 10 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 10 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 10 leaderCommit: 42 
------------------------------------------------------
flag 22926 term 10 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 10 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 10 leaderCommit: 42 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {8140139225814945759 10 40} {5097095136343418596 10 41} {2287231618790282654 10 42}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {8140139225814945759 10 40} {5097095136343418596 10 41} {2287231618790282654 10 42}]
------------------------------------------------------
flag 61739 term 10 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 10 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 10 leaderCommit: 42 
------------------------------------------------------
flag 59233 term 10 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 10 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 10 leaderCommit: 42 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {8140139225814945759 10 40} {5097095136343418596 10 41} {2287231618790282654 10 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {8140139225814945759 10 40} {5097095136343418596 10 41} {2287231618790282654 10 42}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3754978202850227591 (index 43) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14077 term 10 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 10 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 10 leaderCommit: 42 
------------------------------------------------------
flag 89935 term 10 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 10 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 10 leaderCommit: 42 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 9 39} {8140139225814945759 10 40} {5097095136343418596 10 41} {2287231618790282654 10 42} {3754978202850227591 10 43}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64684 term 10 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 10 leaderCommit: 43 
------------------------------------------------------
flag 11618 term 10 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 10 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 10 leaderCommit: 43 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 9 39} {8140139225814945759 10 40} {5097095136343418596 10 41} {2287231618790282654 10 42} {3754978202850227591 10 43}]
------------------------------------------------------
client write log 810476778909628276 (index 44) to leader 1
client write log 575215176479950345 (index 45) to leader 1
client write log 3236013608647048734 (index 46) to leader 1
client write log 1412735062486240412 (index 47) to leader 1
client write log 8303327943048506856 (index 48) to leader 1
client write log 6333500385157730715 (index 49) to leader 1
client write log 3960710464832470386 (index 50) to leader 1
client write log 5849909727120229582 (index 51) to leader 1
client write log 7248840683503276472 (index 52) to leader 1
client write log 8010871859090618689 (index 53) to leader 1
flag 11621 term 10 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 10 leaderCommit: 43 
------------------------------------------------------
flag 14952 term 10 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 10 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 10 leaderCommit: 43 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 39} {8140139225814945759 10 40} {5097095136343418596 10 41} {2287231618790282654 10 42} {3754978202850227591 10 43} {810476778909628276 10 44} {575215176479950345 10 45} {3236013608647048734 10 46} {1412735062486240412 10 47} {8303327943048506856 10 48} {6333500385157730715 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53}]
------------------------------------------------------
term 10 Server1 start snapshot! index=49
term 10 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=53
-------------------------------------------------------------
flag 93002 term 10 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 10 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 10 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 10
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53}]
------------------------------------------------------
term 10 Server0 start snapshot! index=49
term 10 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=53
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6678259244615432500 (index 54) to leader 1
term 10 server 1 not vote for server 2, 日志不够新
term 10 server 0 not vote for server 2, 日志不够新
term 12 server 0 vote for server 1
term 12 server 2 vote for server 1
term 12 server 1 get vote from server 0
term 12 server 1 become leader
------------------------------------------------------
term 12 server 1 get outdate rpc reply from server 2
flag 39996 term 12 leader 1 nextIndex[0]: 55  matchIndex[0]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 34288 term 12 leader 1 nextIndex[2]: 55  matchIndex[2]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 12 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 55->54
------------------------------------------------------
term 12 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 55->54
------------------------------------------------------
flag 30784 term 12 leader 1 nextIndex[0]: 54  matchIndex[0]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 12 leader 1 nextIndex[2]: 43  matchIndex[2]: 0
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 10
------------------------------------------------------
term 12 server 2 InstallSnapshot success
------------------------------------------------------
term 12 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 10 rf.commitIndex 49 rf.lastApplied 49
term 12 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68341 term 12 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 82264 term 12 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 12 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
flag 59924 term 12 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 47007 term 12 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
flag 9342 term 12 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 26576 term 12 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
flag 58600 term 12 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 72547 term 12 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
flag 31137 term 12 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 99074 term 12 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
flag 13002 term 12 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 22860 term 12 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
flag 52181 term 12 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 22747 term 12 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20246 term 12 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 17848 term 12 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
term 12 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69205 term 12 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 64863 term 12 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
term 12 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49374 term 12 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 964 term 12 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
flag 80166 term 12 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 25652 term 12 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
flag 36231 term 12 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 96794 term 12 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
flag 127 term 12 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 38403 term 12 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:53 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64019 term 12 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 91370 term 12 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19300 term 12 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 54776 term 12 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
flag 62699 term 12 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 35239 term 12 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68942 term 12 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 55345 term 12 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55428 term 12 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 98589 term 12 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54}]
------------------------------------------------------
client write log 6678259244615432500 (index 55) to leader 1
flag 14026 term 12 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 31127 term 12 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54} {6678259244615432500 12 55}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54} {6678259244615432500 12 55}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79544 term 12 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 12 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 12 leaderCommit: 55 
------------------------------------------------------
flag 12899 term 12 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 12 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 12 leaderCommit: 55 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54} {6678259244615432500 12 55}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54} {6678259244615432500 12 55}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30685 term 12 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 12 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 12 leaderCommit: 55 
------------------------------------------------------
flag 49797 term 12 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 12 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 12 leaderCommit: 55 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54} {6678259244615432500 12 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54} {6678259244615432500 12 55}]
------------------------------------------------------
flag 72398 term 12 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 12 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 12 leaderCommit: 55 
------------------------------------------------------
flag 33856 term 12 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 12 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 12 leaderCommit: 55 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54} {6678259244615432500 12 55}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54} {6678259244615432500 12 55}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10379 term 12 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 12 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 12 leaderCommit: 55 
------------------------------------------------------
flag 6749 term 12 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 12 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 12 leaderCommit: 55 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54} {6678259244615432500 12 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54} {6678259244615432500 12 55}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17078 term 12 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 12 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 12 leaderCommit: 55 
------------------------------------------------------
flag 1691 term 12 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 12 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 12 leaderCommit: 55 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54} {6678259244615432500 12 55}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54} {6678259244615432500 12 55}]
------------------------------------------------------
flag 4888 term 12 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 12 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 12 leaderCommit: 55 
------------------------------------------------------
flag 7391 term 12 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 12 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 12 leaderCommit: 55 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54} {6678259244615432500 12 55}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54} {6678259244615432500 12 55}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4486434437340345212 (index 56) to leader 1
flag 16484 term 12 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 12 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 12 leaderCommit: 55 
------------------------------------------------------
flag 17917 term 12 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 12 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 12 leaderCommit: 55 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54} {6678259244615432500 12 55} {4486434437340345212 12 56}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3905 term 12 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 12 leaderCommit: 56 
------------------------------------------------------
flag 44802 term 12 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 12 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 12 leaderCommit: 56 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54} {6678259244615432500 12 55} {4486434437340345212 12 56}]
------------------------------------------------------
client write log 3699378388621090084 (index 57) to leader 1
client write log 7984963644504900641 (index 58) to leader 1
client write log 2246377660495526105 (index 59) to leader 1
client write log 6963013158571265315 (index 60) to leader 1
client write log 6004276392999274480 (index 61) to leader 1
client write log 8413796023623745169 (index 62) to leader 1
client write log 8962708814511422794 (index 63) to leader 1
flag 84606 term 12 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 12 leaderCommit: 56 
------------------------------------------------------
flag 33033 term 12 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 12 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 12 leaderCommit: 56 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 10 49} {3960710464832470386 10 50} {5849909727120229582 10 51} {7248840683503276472 10 52} {8010871859090618689 10 53} {6678259244615432500 10 54} {6678259244615432500 12 55} {4486434437340345212 12 56} {3699378388621090084 12 57} {7984963644504900641 12 58} {2246377660495526105 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63}]
------------------------------------------------------
term 12 Server1 start snapshot! index=59
term 12 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=63
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9048 term 12 leader 1 nextIndex[0]: 64  matchIndex[0]: 63
term 12 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
term 12 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 12
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63}]
------------------------------------------------------
term 12 Server0 start snapshot! index=59
term 12 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=63
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8196969499070387651 (index 64) to leader 1
flag 4183 term 12 leader 1 nextIndex[0]: 64  matchIndex[0]: 63
term 12 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
term 12 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 12
------------------------------------------------------
term 13 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 12 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 2 vote for server 1
term 14 server 0 vote for server 1
term 14 server 1 get vote from server 2
term 14 server 1 become leader
------------------------------------------------------
term 14 server 1 get outdate rpc reply from server 0
flag 16979 term 14 leader 1 nextIndex[0]: 65  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
flag 17033 term 14 leader 1 nextIndex[2]: 65  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 65->64
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
flag 58284 term 14 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 56  matchIndex[2]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 12
------------------------------------------------------
term 14 server 2 InstallSnapshot success
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 12 rf.commitIndex 59 rf.lastApplied 59
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
flag 89544 term 14 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
flag 59434 term 14 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 14 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
flag 7538 term 14 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
flag 55673 term 14 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
flag 85602 term 14 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
flag 48089 term 14 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
flag 30702 term 14 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
flag 13765 term 14 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
flag 98712 term 14 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
flag 2781 term 14 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35330 term 14 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
flag 81176 term 14 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
flag 2249 term 14 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
flag 94597 term 14 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
flag 10626 term 14 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
flag 99905 term 14 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26114 term 14 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
flag 4812 term 14 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
flag 21401 term 14 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
flag 24097 term 14 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73960 term 14 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
flag 97825 term 14 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51716 term 14 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
flag 60695 term 14 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77671 term 14 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
flag 21579 term 14 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
flag 36832 term 14 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
flag 11243 term 14 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
flag 20735 term 14 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
flag 55475 term 14 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
flag 2255 term 14 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
flag 27530 term 14 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26200 term 14 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
flag 91761 term 14 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64}]
------------------------------------------------------
client write log 8196969499070387651 (index 65) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7044 term 14 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
flag 40144 term 14 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64} {8196969499070387651 14 65}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64} {8196969499070387651 14 65}]
------------------------------------------------------
flag 14565 term 14 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
flag 45016 term 14 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64} {8196969499070387651 14 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64} {8196969499070387651 14 65}]
------------------------------------------------------
flag 64659 term 14 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
flag 62727 term 14 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64} {8196969499070387651 14 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64} {8196969499070387651 14 65}]
------------------------------------------------------
flag 93074 term 14 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
flag 81738 term 14 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64} {8196969499070387651 14 65}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64} {8196969499070387651 14 65}]
------------------------------------------------------
flag 93343 term 14 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
flag 26676 term 14 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64} {8196969499070387651 14 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64} {8196969499070387651 14 65}]
------------------------------------------------------
flag 95927 term 14 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
flag 85173 term 14 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64} {8196969499070387651 14 65}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64} {8196969499070387651 14 65}]
------------------------------------------------------
flag 46499 term 14 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
flag 39541 term 14 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64} {8196969499070387651 14 65}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64} {8196969499070387651 14 65}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 84864 term 14 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
flag 71973 term 14 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
flag 47823 term 14 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
flag 54228 term 14 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
flag 92517 term 14 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
flag 31066 term 14 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
term 15 server 0 vote for server 2
term 15 server 2 get vote from server 0
term 15 server 2 become leader
------------------------------------------------------
flag 53851 term 15 leader 2 nextIndex[0]: 66  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
flag 88171 term 15 leader 2 nextIndex[1]: 66  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64} {8196969499070387651 14 65}]
------------------------------------------------------
flag 38922 term 14 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
flag 52440 term 14 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
client write log 8842462241390150085 (index 66) to leader 2
flag 36759 term 15 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 15 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
flag 80487 term 15 leader 2 nextIndex[1]: 66  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64} {8196969499070387651 14 65} {8842462241390150085 15 66}]
------------------------------------------------------
flag 22667 term 14 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
flag 76141 term 14 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
flag 13691 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 15 leaderCommit: 66 
------------------------------------------------------
flag 11458 term 15 leader 2 nextIndex[1]: 66  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64} {8196969499070387651 14 65} {8842462241390150085 15 66}]
------------------------------------------------------
client write log 1731499719558161721 (index 67) to leader 2
client write log 8861998823476574855 (index 68) to leader 2
client write log 6107459763856954097 (index 69) to leader 2
client write log 697047182008519775 (index 70) to leader 2
client write log 5487561658510596295 (index 71) to leader 2
client write log 1572715755668794195 (index 72) to leader 2
client write log 3474889614970604104 (index 73) to leader 2
client write log 1040947216430746131 (index 74) to leader 2
client write log 7294891430553995683 (index 75) to leader 2
flag 18740 term 14 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
flag 93239 term 14 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
flag 15780 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 15 leaderCommit: 66 
------------------------------------------------------
flag 81680 term 15 leader 2 nextIndex[1]: 66  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 12 59} {6963013158571265315 12 60} {6004276392999274480 12 61} {8413796023623745169 12 62} {8962708814511422794 12 63} {8196969499070387651 12 64} {8196969499070387651 14 65} {8842462241390150085 15 66} {1731499719558161721 15 67} {8861998823476574855 15 68} {6107459763856954097 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
term 15 Server2 start snapshot! index=69
term 15 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=75
-------------------------------------------------------------
flag 21224 term 14 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
flag 75884 term 14 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 66->65
------------------------------------------------------
flag 93317 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
term 15 Server0 start snapshot! index=69
term 15 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=75
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3780401542002114318 (index 66) to leader 1
flag 98279 term 14 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
flag 62315 term 14 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
term 15 server 2 AppendEntries false 领导者任期过期 args.Term 14
------------------------------------------------------
term 15 server 0 AppendEntries false 领导者任期过期 args.Term 14
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4273 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 1 InstallSnapshot success
------------------------------------------------------
term 15 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 15 rf.commitIndex 69 rf.lastApplied 69
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28831 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
flag 50567 term 15 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
flag 829 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
flag 95550 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83868 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
flag 39453 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
flag 33416 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
flag 76979 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
flag 70500 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
flag 43577 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35926 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
flag 39449 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
term 15 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28981 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
flag 51852 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21426 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
flag 52563 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
flag 14912 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
flag 89776 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 server 0 not vote for server 2, 任期不够新
term 15 server 2 get outdate rpc reply from server 0
flag 47019 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
flag 36261 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
flag 64968 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
flag 1137 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 76->75
------------------------------------------------------
term 15 server 1 not vote for server 2, 任期不够新
term 15 server 2 get outdate rpc reply from server 1
flag 76361 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 75
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 1 InstallSnapshot fail
rf.commitIndex 75 args.LastIncludedIndex 69
------------------------------------------------------
term 15 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
flag 61694 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
flag 58188 term 15 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
flag 8370 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
flag 71990 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
flag 92751 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
flag 6115 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
flag 77392 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
flag 79980 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
flag 36109 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
flag 99344 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84047 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
flag 70739 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
flag 21183 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
flag 90616 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75}]
------------------------------------------------------
client write log 3780401542002114318 (index 76) to leader 2
flag 54620 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
flag 98298 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75} {3780401542002114318 15 76}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75} {3780401542002114318 15 76}]
------------------------------------------------------
flag 8700 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 36755 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75} {3780401542002114318 15 76}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75} {3780401542002114318 15 76}]
------------------------------------------------------
flag 56179 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 62160 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75} {3780401542002114318 15 76}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75} {3780401542002114318 15 76}]
------------------------------------------------------
flag 8251 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 64345 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75} {3780401542002114318 15 76}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75} {3780401542002114318 15 76}]
------------------------------------------------------
flag 891 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 51655 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75} {3780401542002114318 15 76}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75} {3780401542002114318 15 76}]
------------------------------------------------------
flag 74986 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 51061 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75} {3780401542002114318 15 76}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75} {3780401542002114318 15 76}]
------------------------------------------------------
flag 1022 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 53529 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75} {3780401542002114318 15 76}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75} {3780401542002114318 15 76}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4199352629076993043 (index 77) to leader 2
flag 53086 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 97776 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75} {3780401542002114318 15 76} {4199352629076993043 15 77}]
------------------------------------------------------
flag 71145 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 93102 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75} {3780401542002114318 15 76} {4199352629076993043 15 77}]
------------------------------------------------------
client write log 7199055543483190849 (index 78) to leader 2
client write log 1306573371373436699 (index 79) to leader 2
client write log 7994591823511031963 (index 80) to leader 2
client write log 4652423409783344472 (index 81) to leader 2
client write log 5394074249891696878 (index 82) to leader 2
client write log 8532091786545143694 (index 83) to leader 2
client write log 7085633984234473937 (index 84) to leader 2
client write log 5953669272724616113 (index 85) to leader 2
client write log 6262110438761739833 (index 86) to leader 2
client write log 8383977098917162760 (index 87) to leader 2
client write log 8003554792967298133 (index 88) to leader 2
client write log 8926324590294297629 (index 89) to leader 2
client write log 8104842733181844703 (index 90) to leader 2
client write log 8178528231876325697 (index 91) to leader 2
client write log 6508780472797437472 (index 92) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17690 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 53545 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 69} {697047182008519775 15 70} {5487561658510596295 15 71} {1572715755668794195 15 72} {3474889614970604104 15 73} {1040947216430746131 15 74} {7294891430553995683 15 75} {3780401542002114318 15 76} {4199352629076993043 15 77} {7199055543483190849 15 78} {1306573371373436699 15 79} {7994591823511031963 15 80} {4652423409783344472 15 81} {5394074249891696878 15 82} {8532091786545143694 15 83} {7085633984234473937 15 84} {5953669272724616113 15 85} {6262110438761739833 15 86} {8383977098917162760 15 87} {8003554792967298133 15 88} {8926324590294297629 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92}]
------------------------------------------------------
term 15 Server2 start snapshot! index=79
term 15 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=92
-------------------------------------------------------------
term 15 Server2 start snapshot! index=89
term 15 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=92
-------------------------------------------------------------
term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 15
------------------------------------------------------
flag 98752 term 15 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 15 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92}]
------------------------------------------------------
term 15 Server1 start snapshot! index=79
term 15 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=92
-------------------------------------------------------------
term 15 Server1 start snapshot! index=89
term 15 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=92
-------------------------------------------------------------
!!!!!!connect server 0
client write log 385828441220110046 (index 93) to leader 2
term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 15
------------------------------------------------------
flag 29391 term 15 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 15 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 16 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 server 1 vote for server 2
term 17 server 0 vote for server 2
term 17 server 2 get vote from server 1
term 17 server 2 become leader
------------------------------------------------------
term 17 server 2 get outdate rpc reply from server 0
flag 38694 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 36616 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 94->93
------------------------------------------------------
term 17 leader 2 nextIndex[0]: 77  matchIndex[0]: 0
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 15
------------------------------------------------------
flag 76232 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
term 17 server 0 InstallSnapshot success
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 15 rf.commitIndex 89 rf.lastApplied 89
flag 44881 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 23840 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
flag 9459 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 60415 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
flag 74476 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 67175 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
flag 8080 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 82895 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
flag 45683 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 42321 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
flag 49821 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 69196 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29040 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 32404 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56806 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 54764 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
flag 44966 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 40126 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
flag 58248 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 68560 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
flag 78097 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 25664 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
flag 60584 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 12762 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38308 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 7250 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
flag 33570 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 68003 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
flag 10903 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 7937 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
flag 62067 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 91174 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3834 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 68810 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93}]
------------------------------------------------------
client write log 385828441220110046 (index 94) to leader 2
flag 41823 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 38294 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93} {385828441220110046 17 94}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93} {385828441220110046 17 94}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89051 term 17 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 17 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 43376 term 17 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 17 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93} {385828441220110046 17 94}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93} {385828441220110046 17 94}]
------------------------------------------------------
flag 88595 term 17 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 17 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 85912 term 17 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 17 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93} {385828441220110046 17 94}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93} {385828441220110046 17 94}]
------------------------------------------------------
term 17 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89574 term 17 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 17 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 17663 term 17 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 17 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
term 17 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93} {385828441220110046 17 94}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93} {385828441220110046 17 94}]
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52357 term 17 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 17 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 7710 term 17 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 17 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93} {385828441220110046 17 94}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93} {385828441220110046 17 94}]
------------------------------------------------------
flag 54851 term 17 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 17 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 88823 term 17 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 17 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93} {385828441220110046 17 94}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93} {385828441220110046 17 94}]
------------------------------------------------------
flag 12540 term 17 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 17 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 71140 term 17 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 17 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93} {385828441220110046 17 94}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93} {385828441220110046 17 94}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3961949658075104890 (index 95) to leader 2
term 17 server 1 not vote for server 2, 任期不够新
term 17 server 2 get outdate rpc reply from server 1
flag 57133 term 17 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 17 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 48327 term 17 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 17 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93} {385828441220110046 17 94} {3961949658075104890 17 95}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94125 term 17 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 17 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
flag 64784 term 17 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 17 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93} {385828441220110046 17 94} {3961949658075104890 17 95}]
------------------------------------------------------
client write log 8427849846591266707 (index 96) to leader 2
client write log 9077052323243091030 (index 97) to leader 2
client write log 7895166232801272832 (index 98) to leader 2
client write log 1681967944870772129 (index 99) to leader 2
client write log 6266948377354319411 (index 100) to leader 2
client write log 8692055439491758983 (index 101) to leader 2
client write log 28637331848798804 (index 102) to leader 2
client write log 700890707703952184 (index 103) to leader 2
client write log 3620382074621899271 (index 104) to leader 2
client write log 5244760232374777777 (index 105) to leader 2
client write log 2055140184479761815 (index 106) to leader 2
client write log 2939171870212488250 (index 107) to leader 2
client write log 3474616675158355854 (index 108) to leader 2
client write log 6982044305750292772 (index 109) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15892 term 17 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 17 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
flag 49852 term 17 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 17 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 15 89} {8104842733181844703 15 90} {8178528231876325697 15 91} {6508780472797437472 15 92} {385828441220110046 15 93} {385828441220110046 17 94} {3961949658075104890 17 95} {8427849846591266707 17 96} {9077052323243091030 17 97} {7895166232801272832 17 98} {1681967944870772129 17 99} {6266948377354319411 17 100} {8692055439491758983 17 101} {28637331848798804 17 102} {700890707703952184 17 103} {3620382074621899271 17 104} {5244760232374777777 17 105} {2055140184479761815 17 106} {2939171870212488250 17 107} {3474616675158355854 17 108} {6982044305750292772 17 109}]
------------------------------------------------------
term 17 Server2 start snapshot! index=99
term 17 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=109
-------------------------------------------------------------
term 17 Server2 start snapshot! index=109
term 17 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
term 17 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 27824 term 17 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 17 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 17 109}]
------------------------------------------------------
term 17 Server1 start snapshot! index=99
term 17 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=109
-------------------------------------------------------------
term 17 Server1 start snapshot! index=109
term 17 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
!!!!!!connect server 0
client write log 66313936534071167 (index 110) to leader 2
term 17 server 2 not vote for server 0, 日志不够新
term 17 server 1 not vote for server 0, 日志不够新
term 19 server 1 vote for server 2
term 19 server 0 vote for server 2
term 19 server 2 get vote from server 1
term 19 server 2 become leader
------------------------------------------------------
term 19 server 2 get outdate rpc reply from server 0
flag 70045 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
flag 14980 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 111->110
------------------------------------------------------
term 19 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 111->110
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 95  matchIndex[0]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 81821 term 19 leader 2 nextIndex[1]: 110  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
term 19 server 0 InstallSnapshot success
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 17 rf.commitIndex 109 rf.lastApplied 109
flag 79854 term 19 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
flag 89719 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
flag 359 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
flag 54793 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85329 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
flag 2493 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
flag 68563 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
flag 98806 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
flag 3308 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
flag 97691 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
flag 7663 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
flag 29976 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
flag 3814 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
flag 28061 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
flag 10496 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
flag 14616 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
flag 49863 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
flag 75453 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35413 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
flag 88146 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
flag 16931 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
flag 46542 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
flag 51683 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
flag 63582 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
flag 82041 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
flag 12640 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
flag 97057 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
flag 25048 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
flag 51729 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
flag 81097 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
flag 65875 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
flag 840 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
flag 86994 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
flag 94611 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
flag 2923 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
flag 45620 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 17 109} {66313936534071167 17 110}]
------------------------------------------------------
client write log 66313936534071167 (index 111) to leader 2
flag 15979 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
flag 35979 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87767 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 79743 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31309 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 47461 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111}]
------------------------------------------------------
term 19 server 2 not vote for server 0, 任期不够新
term 19 server 0 get outdate rpc reply from server 2
flag 43913 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 19885 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111}]
------------------------------------------------------
flag 89905 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 57819 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111}]
------------------------------------------------------
term 19 server 1 not vote for server 0, 任期不够新
term 19 server 0 get outdate rpc reply from server 1
flag 65797 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 4357 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111}]
------------------------------------------------------
flag 9447 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 47775 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 78919 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 63100 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 90276 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 6244 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 7683 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 48435 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15197 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 13301 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 20 server 0 vote for server 1
term 20 server 1 get vote from server 0
term 20 server 1 become leader
------------------------------------------------------
flag 52191 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 17054 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111}]
------------------------------------------------------
client write log 985309211297037098 (index 112) to leader 1
flag 21981 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 93828 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 32505 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 64871 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111} {985309211297037098 20 112}]
------------------------------------------------------
flag 94035 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 90367 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 48771 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 50005 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111} {985309211297037098 20 112}]
------------------------------------------------------
client write log 1825124802610700084 (index 113) to leader 1
flag 16708 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 85598 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 59334 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 11307 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111} {985309211297037098 20 112} {1825124802610700084 20 113}]
------------------------------------------------------
flag 33188 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 69983 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 28336 term 20 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 113 
------------------------------------------------------
flag 81234 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 113 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111} {985309211297037098 20 112} {1825124802610700084 20 113}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3915772708570406077 (index 114) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93934 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 29779 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 20 server 1 AppendEntries false 领导者任期过期 args.Term 19
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 20 server 0 AppendEntries false 领导者任期过期 args.Term 19
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72689 term 20 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 113 
------------------------------------------------------
flag 81310 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111} {985309211297037098 20 112} {1825124802610700084 20 113} {3915772708570406077 20 114}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111} {985309211297037098 20 112} {1825124802610700084 20 113} {3915772708570406077 20 114}]
------------------------------------------------------
flag 14444 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 95810 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111} {985309211297037098 20 112} {1825124802610700084 20 113} {3915772708570406077 20 114}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111} {985309211297037098 20 112} {1825124802610700084 20 113} {3915772708570406077 20 114}]
------------------------------------------------------
flag 80354 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 76036 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111} {985309211297037098 20 112} {1825124802610700084 20 113} {3915772708570406077 20 114}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111} {985309211297037098 20 112} {1825124802610700084 20 113} {3915772708570406077 20 114}]
------------------------------------------------------
flag 25995 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 32305 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
term 20 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111} {985309211297037098 20 112} {1825124802610700084 20 113} {3915772708570406077 20 114}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111} {985309211297037098 20 112} {1825124802610700084 20 113} {3915772708570406077 20 114}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70712 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 36028 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111} {985309211297037098 20 112} {1825124802610700084 20 113} {3915772708570406077 20 114}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111} {985309211297037098 20 112} {1825124802610700084 20 113} {3915772708570406077 20 114}]
------------------------------------------------------
flag 67789 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 55550 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111} {985309211297037098 20 112} {1825124802610700084 20 113} {3915772708570406077 20 114}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111} {985309211297037098 20 112} {1825124802610700084 20 113} {3915772708570406077 20 114}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 115->114
------------------------------------------------------
flag 40316 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 0  matchIndex[2]: 114
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
term 20 server 2 InstallSnapshot fail
rf.commitIndex 114 args.LastIncludedIndex 109
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111} {985309211297037098 20 112} {1825124802610700084 20 113} {3915772708570406077 20 114}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3264932030831017177 (index 115) to leader 1
flag 11771 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 85914 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 17 leaderCommit: 114 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111} {985309211297037098 20 112} {1825124802610700084 20 113} {3915772708570406077 20 114} {3264932030831017177 20 115}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78166 term 20 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 99752 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111} {985309211297037098 20 112} {1825124802610700084 20 113} {3915772708570406077 20 114} {3264932030831017177 20 115}]
------------------------------------------------------
client write log 4614225316292733218 (index 116) to leader 1
client write log 3088787854152608327 (index 117) to leader 1
client write log 5050955007127317383 (index 118) to leader 1
client write log 5710658870192488949 (index 119) to leader 1
client write log 6390832225841341285 (index 120) to leader 1
client write log 8310481585856643508 (index 121) to leader 1
client write log 6424601568951991699 (index 122) to leader 1
client write log 8030105678349577875 (index 123) to leader 1
client write log 2051003176697319821 (index 124) to leader 1
client write log 1128707905298367283 (index 125) to leader 1
client write log 232406467605390552 (index 126) to leader 1
flag 81170 term 20 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 83058 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 17 109} {66313936534071167 17 110} {66313936534071167 19 111} {985309211297037098 20 112} {1825124802610700084 20 113} {3915772708570406077 20 114} {3264932030831017177 20 115} {4614225316292733218 20 116} {3088787854152608327 20 117} {5050955007127317383 20 118} {5710658870192488949 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126}]
------------------------------------------------------
term 20 Server1 start snapshot! index=119
term 20 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=126
-------------------------------------------------------------
flag 27948 term 20 leader 1 nextIndex[0]: 127  matchIndex[0]: 126
term 20 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126}]
------------------------------------------------------
term 20 Server0 start snapshot! index=119
term 20 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=126
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7586169689217471845 (index 127) to leader 1
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96223 term 20 leader 1 nextIndex[0]: 127  matchIndex[0]: 126
term 20 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
term 21 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 server 2 vote for server 1
term 22 server 0 vote for server 1
term 22 server 1 get vote from server 2
term 22 server 1 become leader
------------------------------------------------------
term 22 server 1 get outdate rpc reply from server 0
flag 73628 term 22 leader 1 nextIndex[0]: 128  matchIndex[0]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 36985 term 22 leader 1 nextIndex[2]: 128  matchIndex[2]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 128->127
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98853 term 22 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 leader 1 nextIndex[2]: 115  matchIndex[2]: 0
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
term 22 server 2 InstallSnapshot success
------------------------------------------------------
term 22 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:126 
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 20 rf.commitIndex 119 rf.lastApplied 119
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
flag 60682 term 22 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 14148 term 22 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 22 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86621 term 22 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 12139 term 22 leader 1 nextIndex[2]: 128  matchIndex[2]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
flag 62155 term 22 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 3650 term 22 leader 1 nextIndex[2]: 128  matchIndex[2]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
flag 21026 term 22 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 29901 term 22 leader 1 nextIndex[2]: 128  matchIndex[2]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98416 term 22 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 66885 term 22 leader 1 nextIndex[2]: 128  matchIndex[2]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
flag 92667 term 22 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 40248 term 22 leader 1 nextIndex[2]: 128  matchIndex[2]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
flag 34592 term 22 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 20743 term 22 leader 1 nextIndex[2]: 128  matchIndex[2]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
flag 49114 term 22 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 84450 term 22 leader 1 nextIndex[2]: 128  matchIndex[2]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
flag 7811 term 22 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 69443 term 22 leader 1 nextIndex[2]: 128  matchIndex[2]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
term 22 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96301 term 22 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 54817 term 22 leader 1 nextIndex[2]: 128  matchIndex[2]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
flag 77294 term 22 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 88710 term 22 leader 1 nextIndex[2]: 128  matchIndex[2]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17831 term 22 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 13866 term 22 leader 1 nextIndex[2]: 128  matchIndex[2]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
term 22 server 2 not vote for server 1, 任期不够新
term 22 server 1 get outdate rpc reply from server 2
flag 90762 term 22 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 291 term 22 leader 1 nextIndex[2]: 128  matchIndex[2]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21300 term 22 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 41283 term 22 leader 1 nextIndex[2]: 128  matchIndex[2]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
flag 12649 term 22 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 18543 term 22 leader 1 nextIndex[2]: 128  matchIndex[2]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
flag 67689 term 22 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 55353 term 22 leader 1 nextIndex[2]: 128  matchIndex[2]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127}]
------------------------------------------------------
flag 50043 term 22 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 88108 term 22 leader 1 nextIndex[2]: 128  matchIndex[2]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
client write log 7586169689217471845 (index 128) to leader 1
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127} {7586169689217471845 22 128}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127} {7586169689217471845 22 128}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8858 term 22 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 83175 term 22 leader 1 nextIndex[2]: 128  matchIndex[2]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:126 
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127} {7586169689217471845 22 128}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127} {7586169689217471845 22 128}]
------------------------------------------------------
flag 8765 term 22 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 88586 term 22 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127} {7586169689217471845 22 128}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127} {7586169689217471845 22 128}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45325 term 22 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 59022 term 22 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127} {7586169689217471845 22 128}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127} {7586169689217471845 22 128}]
------------------------------------------------------
flag 57156 term 22 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 50424 term 22 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127} {7586169689217471845 22 128}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127} {7586169689217471845 22 128}]
------------------------------------------------------
flag 84183 term 22 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 33426 term 22 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127} {7586169689217471845 22 128}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127} {7586169689217471845 22 128}]
------------------------------------------------------
flag 68757 term 22 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 14754 term 22 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127} {7586169689217471845 22 128}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127} {7586169689217471845 22 128}]
------------------------------------------------------
term 22 server 0 not vote for server 2, 任期不够新
term 22 server 2 get outdate rpc reply from server 0
!!!!!!diconnect server 2
client write log 1805500324222366614 (index 129) to leader 1
flag 27730 term 22 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 82492 term 22 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 119} {6390832225841341285 20 120} {8310481585856643508 20 121} {6424601568951991699 20 122} {8030105678349577875 20 123} {2051003176697319821 20 124} {1128707905298367283 20 125} {232406467605390552 20 126} {7586169689217471845 20 127} {7586169689217471845 22 128} {1805500324222366614 22 129}]
------------------------------------------------------
term 22 Server1 start snapshot! index=129
term 22 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
flag 42771 term 22 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 22 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 129 
------------------------------------------------------
term 22 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 22 129}]
------------------------------------------------------
term 22 Server0 start snapshot! index=129
term 22 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
client write log 925649764050210775 (index 130) to leader 1
client write log 5225535922243656113 (index 131) to leader 1
client write log 7351243071183146900 (index 132) to leader 1
client write log 4973832520875413078 (index 133) to leader 1
client write log 2720890483704384985 (index 134) to leader 1
client write log 8630709377611385867 (index 135) to leader 1
client write log 2484116007900384037 (index 136) to leader 1
client write log 8291364455428023960 (index 137) to leader 1
client write log 4967741723027877246 (index 138) to leader 1
client write log 8143839121287833600 (index 139) to leader 1
client write log 4192355725089233953 (index 140) to leader 1
client write log 8139553048836738041 (index 141) to leader 1
client write log 6324797702308375646 (index 142) to leader 1
client write log 4319016004720490430 (index 143) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66266 term 22 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 22 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 129 
------------------------------------------------------
term 22 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 22 129} {925649764050210775 22 130} {5225535922243656113 22 131} {7351243071183146900 22 132} {4973832520875413078 22 133} {2720890483704384985 22 134} {8630709377611385867 22 135} {2484116007900384037 22 136} {8291364455428023960 22 137} {4967741723027877246 22 138} {8143839121287833600 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143}]
------------------------------------------------------
term 22 Server1 start snapshot! index=139
term 22 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=143
-------------------------------------------------------------
flag 59310 term 22 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 22 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
term 22 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143}]
------------------------------------------------------
term 22 Server0 start snapshot! index=139
term 22 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=143
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6988729082095261044 (index 144) to leader 1
term 22 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
flag 67462 term 22 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 22 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
flag 83061 term 22 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 22 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
term 23 server 2 AppendEntries false 领导者任期过期 args.Term 22
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 1 not vote for server 2, 日志不够新
term 22 server 0 not vote for server 2, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 server 2 vote for server 1
term 25 server 1 get vote from server 2
term 25 server 1 become leader
------------------------------------------------------
term 25 server 0 vote for server 1
term 25 server 1 get outdate rpc reply from server 0
flag 58706 term 25 leader 1 nextIndex[0]: 145  matchIndex[0]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
flag 55639 term 25 leader 1 nextIndex[2]: 145  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 145->144
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
flag 48835 term 25 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 129  matchIndex[2]: 0
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
term 25 server 2 InstallSnapshot success
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 22 rf.commitIndex 139 rf.lastApplied 139
term 25 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
flag 2052 term 25 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
flag 51103 term 25 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
flag 47221 term 25 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
flag 29452 term 25 leader 1 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
flag 69778 term 25 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
flag 62676 term 25 leader 1 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
flag 69083 term 25 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
flag 64656 term 25 leader 1 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
flag 94665 term 25 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
flag 99232 term 25 leader 1 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74733 term 25 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
flag 92043 term 25 leader 1 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
flag 427 term 25 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
flag 93027 term 25 leader 1 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66751 term 25 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
flag 48943 term 25 leader 1 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
flag 20324 term 25 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
flag 97510 term 25 leader 1 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23553 term 25 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
flag 9242 term 25 leader 1 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
flag 75062 term 25 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
flag 48821 term 25 leader 1 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
flag 27361 term 25 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
flag 13667 term 25 leader 1 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
flag 54396 term 25 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
flag 80892 term 25 leader 1 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144}]
------------------------------------------------------
client write log 6988729082095261044 (index 145) to leader 1
flag 82984 term 25 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
flag 3225 term 25 leader 1 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 server 1 not vote for server 2, 任期不够新
term 25 server 2 get outdate rpc reply from server 1
flag 19486 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 29063 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145}]
------------------------------------------------------
flag 83325 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 96148 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
term 25 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145}]
------------------------------------------------------
flag 2667 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 38739 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56323 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 56192 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145}]
------------------------------------------------------
flag 69366 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 22418 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145}]
------------------------------------------------------
flag 85273 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 23714 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 33881 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 78114 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 38965 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 77965 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 50702 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 78947 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 79053 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 77414 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 26 server 2 vote for server 0
term 26 server 0 get vote from server 2
term 26 server 0 become leader
------------------------------------------------------
flag 61259 term 26 leader 0 nextIndex[1]: 146  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 66926 term 26 leader 0 nextIndex[2]: 146  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145}]
------------------------------------------------------
client write log 9110042378218897404 (index 146) to leader 0
flag 4881 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 89511 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 26 server 0 not vote for server 2, 任期不够新
term 26 server 2 get outdate rpc reply from server 0
flag 80675 term 26 leader 0 nextIndex[1]: 146  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 68153 term 26 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 26 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146}]
------------------------------------------------------
flag 17917 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 18875 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 54506 term 26 leader 0 nextIndex[1]: 146  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 2549 term 26 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 26 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 26 leaderCommit: 146 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146}]
------------------------------------------------------
client write log 3894301525317890670 (index 147) to leader 0
flag 7803 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 595 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 88502 term 26 leader 0 nextIndex[1]: 146  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 6868 term 26 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 26 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 26 leaderCommit: 146 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
flag 97751 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 50087 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 146->145
------------------------------------------------------
flag 8708 term 26 leader 0 nextIndex[1]: 146  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 28001 term 26 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5541922142751140688 (index 146) to leader 1
flag 62880 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 0  matchIndex[2]: 145
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
term 26 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 26 server 0 AppendEntries false 领导者任期过期 args.Term 25
------------------------------------------------------
term 25 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19771 term 26 leader 0 nextIndex[1]: 146  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 58591 term 26 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
flag 72584 term 26 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
flag 702 term 26 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
flag 98077 term 26 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
flag 35386 term 26 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
flag 96490 term 26 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
flag 89275 term 26 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
term 26 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
flag 77283 term 26 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
flag 64581 term 26 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
flag 52043 term 26 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
flag 73537 term 26 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 148->147
------------------------------------------------------
term 26 leader 0 nextIndex[1]: 0  matchIndex[1]: 147
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
flag 57570 term 26 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
term 26 server 1 InstallSnapshot fail
rf.commitIndex 147 args.LastIncludedIndex 139
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
flag 32601 term 26 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 26 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 147 
------------------------------------------------------
flag 65147 term 26 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
flag 95999 term 26 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
flag 20726 term 26 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50830 term 26 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
flag 50072 term 26 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
flag 48568 term 26 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
flag 68514 term 26 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29009 term 26 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
flag 38151 term 26 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
flag 33397 term 26 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
flag 50699 term 26 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
flag 45181 term 26 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
flag 16025 term 26 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
term 26 server 1 not vote for server 0, 日志不够新
term 26 server 0 get outdate rpc reply from server 1
flag 1593 term 26 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
flag 15530 term 26 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
flag 67561 term 26 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
flag 36822 term 26 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92467 term 26 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
flag 15248 term 26 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 148->147
------------------------------------------------------
term 26 leader 0 nextIndex[1]: 0  matchIndex[1]: 147
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
flag 58477 term 26 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
term 26 server 1 InstallSnapshot fail
rf.commitIndex 147 args.LastIncludedIndex 139
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
flag 2594 term 26 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 26 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 147 
------------------------------------------------------
flag 63601 term 26 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
flag 95396 term 26 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
flag 92635 term 26 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147}]
------------------------------------------------------
client write log 5541922142751140688 (index 148) to leader 0
flag 46728 term 26 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
flag 42322 term 26 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 26 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147} {5541922142751140688 26 148}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147} {5541922142751140688 26 148}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24281 term 26 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 26 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 14316 term 26 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 26 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147} {5541922142751140688 26 148}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147} {5541922142751140688 26 148}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2344 term 26 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 26 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 30051 term 26 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 26 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147} {5541922142751140688 26 148}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147} {5541922142751140688 26 148}]
------------------------------------------------------
flag 12696 term 26 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 26 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 81788 term 26 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 26 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147} {5541922142751140688 26 148}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147} {5541922142751140688 26 148}]
------------------------------------------------------
term 26 server 1 not vote for server 2, 任期不够新
term 26 server 2 get outdate rpc reply from server 1
flag 93115 term 26 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 26 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 57858 term 26 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 26 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147} {5541922142751140688 26 148}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147} {5541922142751140688 26 148}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51708 term 26 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 26 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 56500 term 26 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 26 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147} {5541922142751140688 26 148}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147} {5541922142751140688 26 148}]
------------------------------------------------------
flag 9849 term 26 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 26 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 94789 term 26 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 26 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147} {5541922142751140688 26 148}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147} {5541922142751140688 26 148}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6553753155671714804 (index 149) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51268 term 26 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 26 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 54483 term 26 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 26 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 22 139} {4192355725089233953 22 140} {8139553048836738041 22 141} {6324797702308375646 22 142} {4319016004720490430 22 143} {6988729082095261044 22 144} {6988729082095261044 25 145} {9110042378218897404 26 146} {3894301525317890670 26 147} {5541922142751140688 26 148} {6553753155671714804 26 149}]
------------------------------------------------------
term 26 Server0 start snapshot! index=149
term 26 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 87442 term 26 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 26 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
term 26 Server2 start snapshot! index=149
term 26 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
client write log 6432956191154879916 (index 150) to leader 0
client write log 5596765911360856464 (index 151) to leader 0
client write log 8506542980651955828 (index 152) to leader 0
client write log 430851626189336024 (index 153) to leader 0
client write log 2551537643214052735 (index 154) to leader 0
client write log 6538523091677406727 (index 155) to leader 0
client write log 2149507349348608242 (index 156) to leader 0
term 26 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 98950 term 26 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 26 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {6432956191154879916 26 150} {5596765911360856464 26 151} {8506542980651955828 26 152} {430851626189336024 26 153} {2551537643214052735 26 154} {6538523091677406727 26 155} {2149507349348608242 26 156}]
------------------------------------------------------
term 26 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 2863 term 26 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 26 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {6432956191154879916 26 150} {5596765911360856464 26 151} {8506542980651955828 26 152} {430851626189336024 26 153} {2551537643214052735 26 154} {6538523091677406727 26 155} {2149507349348608242 26 156}]
------------------------------------------------------
!!!!!!connect server 1
client write log 180713411176647698 (index 157) to leader 0
term 26 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 9433 term 26 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 26 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {6432956191154879916 26 150} {5596765911360856464 26 151} {8506542980651955828 26 152} {430851626189336024 26 153} {2551537643214052735 26 154} {6538523091677406727 26 155} {2149507349348608242 26 156} {180713411176647698 26 157}]
------------------------------------------------------
term 27 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 server 2 vote for server 0
term 28 server 0 get vote from server 2
term 28 server 0 become leader
------------------------------------------------------
term 28 server 1 vote for server 0
term 28 server 0 get outdate rpc reply from server 1
flag 48470 term 28 leader 0 nextIndex[1]: 158  matchIndex[1]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 90712 term 28 leader 0 nextIndex[2]: 158  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {6432956191154879916 26 150} {5596765911360856464 26 151} {8506542980651955828 26 152} {430851626189336024 26 153} {2551537643214052735 26 154} {6538523091677406727 26 155} {2149507349348608242 26 156} {180713411176647698 26 157}]
------------------------------------------------------
term 28 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 158->157
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 149  matchIndex[1]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 69979 term 28 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {6432956191154879916 26 150} {5596765911360856464 26 151} {8506542980651955828 26 152} {430851626189336024 26 153} {2551537643214052735 26 154} {6538523091677406727 26 155} {2149507349348608242 26 156} {180713411176647698 26 157}]
------------------------------------------------------
term 28 server 1 InstallSnapshot success
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 26 rf.commitIndex 149 rf.lastApplied 149
flag 72770 term 28 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 28 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 42223 term 28 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {6432956191154879916 26 150} {5596765911360856464 26 151} {8506542980651955828 26 152} {430851626189336024 26 153} {2551537643214052735 26 154} {6538523091677406727 26 155} {2149507349348608242 26 156} {180713411176647698 26 157}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {6432956191154879916 26 150} {5596765911360856464 26 151} {8506542980651955828 26 152} {430851626189336024 26 153} {2551537643214052735 26 154} {6538523091677406727 26 155} {2149507349348608242 26 156} {180713411176647698 26 157}]
------------------------------------------------------
flag 80252 term 28 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 28 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 10854 term 28 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {6432956191154879916 26 150} {5596765911360856464 26 151} {8506542980651955828 26 152} {430851626189336024 26 153} {2551537643214052735 26 154} {6538523091677406727 26 155} {2149507349348608242 26 156} {180713411176647698 26 157}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {6432956191154879916 26 150} {5596765911360856464 26 151} {8506542980651955828 26 152} {430851626189336024 26 153} {2551537643214052735 26 154} {6538523091677406727 26 155} {2149507349348608242 26 156} {180713411176647698 26 157}]
------------------------------------------------------
flag 57033 term 28 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 28 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 24123 term 28 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {6432956191154879916 26 150} {5596765911360856464 26 151} {8506542980651955828 26 152} {430851626189336024 26 153} {2551537643214052735 26 154} {6538523091677406727 26 155} {2149507349348608242 26 156} {180713411176647698 26 157}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {6432956191154879916 26 150} {5596765911360856464 26 151} {8506542980651955828 26 152} {430851626189336024 26 153} {2551537643214052735 26 154} {6538523091677406727 26 155} {2149507349348608242 26 156} {180713411176647698 26 157}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95030 term 28 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 28 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 3906 term 28 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {6432956191154879916 26 150} {5596765911360856464 26 151} {8506542980651955828 26 152} {430851626189336024 26 153} {2551537643214052735 26 154} {6538523091677406727 26 155} {2149507349348608242 26 156} {180713411176647698 26 157}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {6432956191154879916 26 150} {5596765911360856464 26 151} {8506542980651955828 26 152} {430851626189336024 26 153} {2551537643214052735 26 154} {6538523091677406727 26 155} {2149507349348608242 26 156} {180713411176647698 26 157}]
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22837 term 28 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 28 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 4254 term 28 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {6432956191154879916 26 150} {5596765911360856464 26 151} {8506542980651955828 26 152} {430851626189336024 26 153} {2551537643214052735 26 154} {6538523091677406727 26 155} {2149507349348608242 26 156} {180713411176647698 26 157}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {6432956191154879916 26 150} {5596765911360856464 26 151} {8506542980651955828 26 152} {430851626189336024 26 153} {2551537643214052735 26 154} {6538523091677406727 26 155} {2149507349348608242 26 156} {180713411176647698 26 157}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78876 term 28 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 28 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 52708 term 28 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {6432956191154879916 26 150} {5596765911360856464 26 151} {8506542980651955828 26 152} {430851626189336024 26 153} {2551537643214052735 26 154} {6538523091677406727 26 155} {2149507349348608242 26 156} {180713411176647698 26 157}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {6432956191154879916 26 150} {5596765911360856464 26 151} {8506542980651955828 26 152} {430851626189336024 26 153} {2551537643214052735 26 154} {6538523091677406727 26 155} {2149507349348608242 26 156} {180713411176647698 26 157}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46899 term 28 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 28 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 81714 term 28 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {6432956191154879916 26 150} {5596765911360856464 26 151} {8506542980651955828 26 152} {430851626189336024 26 153} {2551537643214052735 26 154} {6538523091677406727 26 155} {2149507349348608242 26 156} {180713411176647698 26 157}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {6432956191154879916 26 150} {5596765911360856464 26 151} {8506542980651955828 26 152} {430851626189336024 26 153} {2551537643214052735 26 154} {6538523091677406727 26 155} {2149507349348608242 26 156} {180713411176647698 26 157}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7457453321759324633 (index 158) to leader 0
flag 23747 term 28 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 28 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 75781 term 28 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {6432956191154879916 26 150} {5596765911360856464 26 151} {8506542980651955828 26 152} {430851626189336024 26 153} {2551537643214052735 26 154} {6538523091677406727 26 155} {2149507349348608242 26 156} {180713411176647698 26 157} {7457453321759324633 28 158}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20214 term 28 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 28 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 69412 term 28 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 158 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {6432956191154879916 26 150} {5596765911360856464 26 151} {8506542980651955828 26 152} {430851626189336024 26 153} {2551537643214052735 26 154} {6538523091677406727 26 155} {2149507349348608242 26 156} {180713411176647698 26 157} {7457453321759324633 28 158}]
------------------------------------------------------
client write log 8863574054450612254 (index 159) to leader 0
client write log 4564880510475189312 (index 160) to leader 0
client write log 5858991754328502618 (index 161) to leader 0
client write log 2426052878549182906 (index 162) to leader 0
client write log 199257958636964602 (index 163) to leader 0
client write log 2735501242980383724 (index 164) to leader 0
client write log 3725409958487207053 (index 165) to leader 0
client write log 2102646033168667216 (index 166) to leader 0
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86423 term 28 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 28 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 7699 term 28 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 158 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 149} {6432956191154879916 26 150} {5596765911360856464 26 151} {8506542980651955828 26 152} {430851626189336024 26 153} {2551537643214052735 26 154} {6538523091677406727 26 155} {2149507349348608242 26 156} {180713411176647698 26 157} {7457453321759324633 28 158} {8863574054450612254 28 159} {4564880510475189312 28 160} {5858991754328502618 28 161} {2426052878549182906 28 162} {199257958636964602 28 163} {2735501242980383724 28 164} {3725409958487207053 28 165} {2102646033168667216 28 166}]
------------------------------------------------------
term 28 Server0 start snapshot! index=159
term 28 server0 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=166
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
flag 55275 term 28 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 28 159} {4564880510475189312 28 160} {5858991754328502618 28 161} {2426052878549182906 28 162} {199257958636964602 28 163} {2735501242980383724 28 164} {3725409958487207053 28 165} {2102646033168667216 28 166}]
------------------------------------------------------
term 28 Server2 start snapshot! index=159
term 28 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=166
-------------------------------------------------------------
!!!!!!connect server 1
client write log 290084672203126092 (index 167) to leader 0
term 28 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
flag 78714 term 28 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {4564880510475189312 28 160} {5858991754328502618 28 161} {2426052878549182906 28 162} {199257958636964602 28 163} {2735501242980383724 28 164} {3725409958487207053 28 165} {2102646033168667216 28 166} {290084672203126092 28 167}]
------------------------------------------------------
term 29 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 server 1 vote for server 0
term 30 server 2 vote for server 0
term 30 server 0 get vote from server 1
term 30 server 0 become leader
------------------------------------------------------
term 30 server 0 get outdate rpc reply from server 2
flag 78754 term 30 leader 0 nextIndex[1]: 168  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 20519 term 30 leader 0 nextIndex[2]: 168  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {4564880510475189312 28 160} {5858991754328502618 28 161} {2426052878549182906 28 162} {199257958636964602 28 163} {2735501242980383724 28 164} {3725409958487207053 28 165} {2102646033168667216 28 166} {290084672203126092 28 167}]
------------------------------------------------------
term 30 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 168->167
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 158  matchIndex[1]: 0
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
flag 12466 term 30 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {4564880510475189312 28 160} {5858991754328502618 28 161} {2426052878549182906 28 162} {199257958636964602 28 163} {2735501242980383724 28 164} {3725409958487207053 28 165} {2102646033168667216 28 166} {290084672203126092 28 167}]
------------------------------------------------------
term 30 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 28 rf.commitIndex 159 rf.lastApplied 159
term 30 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83285 term 30 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 30 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 75999 term 30 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {4564880510475189312 28 160} {5858991754328502618 28 161} {2426052878549182906 28 162} {199257958636964602 28 163} {2735501242980383724 28 164} {3725409958487207053 28 165} {2102646033168667216 28 166} {290084672203126092 28 167}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {4564880510475189312 28 160} {5858991754328502618 28 161} {2426052878549182906 28 162} {199257958636964602 28 163} {2735501242980383724 28 164} {3725409958487207053 28 165} {2102646033168667216 28 166} {290084672203126092 28 167}]
------------------------------------------------------
flag 17573 term 30 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 87260 term 30 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {4564880510475189312 28 160} {5858991754328502618 28 161} {2426052878549182906 28 162} {199257958636964602 28 163} {2735501242980383724 28 164} {3725409958487207053 28 165} {2102646033168667216 28 166} {290084672203126092 28 167}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {4564880510475189312 28 160} {5858991754328502618 28 161} {2426052878549182906 28 162} {199257958636964602 28 163} {2735501242980383724 28 164} {3725409958487207053 28 165} {2102646033168667216 28 166} {290084672203126092 28 167}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46910 term 30 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 95687 term 30 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {4564880510475189312 28 160} {5858991754328502618 28 161} {2426052878549182906 28 162} {199257958636964602 28 163} {2735501242980383724 28 164} {3725409958487207053 28 165} {2102646033168667216 28 166} {290084672203126092 28 167}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {4564880510475189312 28 160} {5858991754328502618 28 161} {2426052878549182906 28 162} {199257958636964602 28 163} {2735501242980383724 28 164} {3725409958487207053 28 165} {2102646033168667216 28 166} {290084672203126092 28 167}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24213 term 30 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 18961 term 30 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {4564880510475189312 28 160} {5858991754328502618 28 161} {2426052878549182906 28 162} {199257958636964602 28 163} {2735501242980383724 28 164} {3725409958487207053 28 165} {2102646033168667216 28 166} {290084672203126092 28 167}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {4564880510475189312 28 160} {5858991754328502618 28 161} {2426052878549182906 28 162} {199257958636964602 28 163} {2735501242980383724 28 164} {3725409958487207053 28 165} {2102646033168667216 28 166} {290084672203126092 28 167}]
------------------------------------------------------
flag 71491 term 30 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 27217 term 30 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
[{snapshot 28 159} {4564880510475189312 28 160} {5858991754328502618 28 161} {2426052878549182906 28 162} {199257958636964602 28 163} {2735501242980383724 28 164} {3725409958487207053 28 165} {2102646033168667216 28 166} {290084672203126092 28 167}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {4564880510475189312 28 160} {5858991754328502618 28 161} {2426052878549182906 28 162} {199257958636964602 28 163} {2735501242980383724 28 164} {3725409958487207053 28 165} {2102646033168667216 28 166} {290084672203126092 28 167}]
------------------------------------------------------
flag 31030 term 30 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 13494 term 30 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {4564880510475189312 28 160} {5858991754328502618 28 161} {2426052878549182906 28 162} {199257958636964602 28 163} {2735501242980383724 28 164} {3725409958487207053 28 165} {2102646033168667216 28 166} {290084672203126092 28 167}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {4564880510475189312 28 160} {5858991754328502618 28 161} {2426052878549182906 28 162} {199257958636964602 28 163} {2735501242980383724 28 164} {3725409958487207053 28 165} {2102646033168667216 28 166} {290084672203126092 28 167}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8820 term 30 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 17910 term 30 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {4564880510475189312 28 160} {5858991754328502618 28 161} {2426052878549182906 28 162} {199257958636964602 28 163} {2735501242980383724 28 164} {3725409958487207053 28 165} {2102646033168667216 28 166} {290084672203126092 28 167}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {4564880510475189312 28 160} {5858991754328502618 28 161} {2426052878549182906 28 162} {199257958636964602 28 163} {2735501242980383724 28 164} {3725409958487207053 28 165} {2102646033168667216 28 166} {290084672203126092 28 167}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 93384 term 30 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 57753 term 30 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 14191 term 30 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 33804 term 30 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 63520 term 30 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 58058 term 30 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 31 server 2 vote for server 1
term 31 server 1 get vote from server 2
term 31 server 1 become leader
------------------------------------------------------
flag 86819 term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 83561 term 31 leader 1 nextIndex[2]: 168  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {4564880510475189312 28 160} {5858991754328502618 28 161} {2426052878549182906 28 162} {199257958636964602 28 163} {2735501242980383724 28 164} {3725409958487207053 28 165} {2102646033168667216 28 166} {290084672203126092 28 167}]
------------------------------------------------------
client write log 224873425193669015 (index 168) to leader 1
flag 94202 term 30 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 76679 term 30 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 96253 term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 53968 term 31 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {4564880510475189312 28 160} {5858991754328502618 28 161} {2426052878549182906 28 162} {199257958636964602 28 163} {2735501242980383724 28 164} {3725409958487207053 28 165} {2102646033168667216 28 166} {290084672203126092 28 167} {224873425193669015 31 168}]
------------------------------------------------------
flag 20580 term 30 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 91044 term 30 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33853 term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 97937 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {4564880510475189312 28 160} {5858991754328502618 28 161} {2426052878549182906 28 162} {199257958636964602 28 163} {2735501242980383724 28 164} {3725409958487207053 28 165} {2102646033168667216 28 166} {290084672203126092 28 167} {224873425193669015 31 168}]
------------------------------------------------------
client write log 7836060197051533997 (index 169) to leader 1
client write log 6365286499769848474 (index 170) to leader 1
client write log 5924955159024482375 (index 171) to leader 1
client write log 8438128294917748846 (index 172) to leader 1
client write log 3828236677537323306 (index 173) to leader 1
client write log 3982866279115360829 (index 174) to leader 1
client write log 2369728879634429441 (index 175) to leader 1
flag 1873 term 30 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 67516 term 30 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 168->167
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66660 term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 74805 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 159} {4564880510475189312 28 160} {5858991754328502618 28 161} {2426052878549182906 28 162} {199257958636964602 28 163} {2735501242980383724 28 164} {3725409958487207053 28 165} {2102646033168667216 28 166} {290084672203126092 28 167} {224873425193669015 31 168} {7836060197051533997 31 169} {6365286499769848474 31 170} {5924955159024482375 31 171} {8438128294917748846 31 172} {3828236677537323306 31 173} {3982866279115360829 31 174} {2369728879634429441 31 175}]
------------------------------------------------------
term 31 Server1 start snapshot! index=169
term 31 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=175
-------------------------------------------------------------
flag 92032 term 30 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 leader 0 nextIndex[2]: 0  matchIndex[2]: 167
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 0
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 31
------------------------------------------------------
flag 93814 term 31 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 31 169} {6365286499769848474 31 170} {5924955159024482375 31 171} {8438128294917748846 31 172} {3828236677537323306 31 173} {3982866279115360829 31 174} {2369728879634429441 31 175}]
------------------------------------------------------
term 31 Server2 start snapshot! index=169
term 31 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=175
-------------------------------------------------------------
!!!!!!connect server 0
client write log 968975114082990443 (index 176) to leader 1
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 41724 term 30 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 leader 0 nextIndex[2]: 0  matchIndex[2]: 167
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
term 31 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 31 server 1 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
term 30 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 0
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 31
------------------------------------------------------
flag 77723 term 31 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 0 InstallSnapshot success
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 31 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 31 rf.commitIndex 169 rf.lastApplied 169
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 31 169} {6365286499769848474 31 170} {5924955159024482375 31 171} {8438128294917748846 31 172} {3828236677537323306 31 173} {3982866279115360829 31 174} {2369728879634429441 31 175} {968975114082990443 31 176}]
------------------------------------------------------
term 31 server 2 not vote for server 0, 日志不够新
term 31 server 1 not vote for server 0, 日志不够新
term 33 server 2 vote for server 1
term 33 server 0 vote for server 1
term 33 server 1 get vote from server 2
term 33 server 1 become leader
------------------------------------------------------
term 33 server 1 get outdate rpc reply from server 0
flag 27691 term 33 leader 1 nextIndex[0]: 177  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 66803 term 33 leader 1 nextIndex[2]: 177  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
term 33 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
[{snapshot 31 169} {6365286499769848474 31 170} {5924955159024482375 31 171} {8438128294917748846 31 172} {3828236677537323306 31 173} {3982866279115360829 31 174} {2369728879634429441 31 175} {968975114082990443 31 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 177->176
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80744 term 33 leader 1 nextIndex[0]: 170  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 9250 term 33 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 33 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 31 169} {6365286499769848474 31 170} {5924955159024482375 31 171} {8438128294917748846 31 172} {3828236677537323306 31 173} {3982866279115360829 31 174} {2369728879634429441 31 175} {968975114082990443 31 176}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 31 169} {6365286499769848474 31 170} {5924955159024482375 31 171} {8438128294917748846 31 172} {3828236677537323306 31 173} {3982866279115360829 31 174} {2369728879634429441 31 175} {968975114082990443 31 176}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13889 term 33 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 33 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 31982 term 33 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 33 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 31 169} {6365286499769848474 31 170} {5924955159024482375 31 171} {8438128294917748846 31 172} {3828236677537323306 31 173} {3982866279115360829 31 174} {2369728879634429441 31 175} {968975114082990443 31 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 31 169} {6365286499769848474 31 170} {5924955159024482375 31 171} {8438128294917748846 31 172} {3828236677537323306 31 173} {3982866279115360829 31 174} {2369728879634429441 31 175} {968975114082990443 31 176}]
------------------------------------------------------
flag 95552 term 33 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 33 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 54349 term 33 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 33 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 31 169} {6365286499769848474 31 170} {5924955159024482375 31 171} {8438128294917748846 31 172} {3828236677537323306 31 173} {3982866279115360829 31 174} {2369728879634429441 31 175} {968975114082990443 31 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 31 169} {6365286499769848474 31 170} {5924955159024482375 31 171} {8438128294917748846 31 172} {3828236677537323306 31 173} {3982866279115360829 31 174} {2369728879634429441 31 175} {968975114082990443 31 176}]
------------------------------------------------------
flag 66208 term 33 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 33 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 62279 term 33 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 33 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 31 169} {6365286499769848474 31 170} {5924955159024482375 31 171} {8438128294917748846 31 172} {3828236677537323306 31 173} {3982866279115360829 31 174} {2369728879634429441 31 175} {968975114082990443 31 176}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 31 169} {6365286499769848474 31 170} {5924955159024482375 31 171} {8438128294917748846 31 172} {3828236677537323306 31 173} {3982866279115360829 31 174} {2369728879634429441 31 175} {968975114082990443 31 176}]
------------------------------------------------------
flag 9 term 33 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 33 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 82415 term 33 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 33 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 31 169} {6365286499769848474 31 170} {5924955159024482375 31 171} {8438128294917748846 31 172} {3828236677537323306 31 173} {3982866279115360829 31 174} {2369728879634429441 31 175} {968975114082990443 31 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 31 169} {6365286499769848474 31 170} {5924955159024482375 31 171} {8438128294917748846 31 172} {3828236677537323306 31 173} {3982866279115360829 31 174} {2369728879634429441 31 175} {968975114082990443 31 176}]
------------------------------------------------------
flag 60228 term 33 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 33 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 77070 term 33 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 33 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 31 169} {6365286499769848474 31 170} {5924955159024482375 31 171} {8438128294917748846 31 172} {3828236677537323306 31 173} {3982866279115360829 31 174} {2369728879634429441 31 175} {968975114082990443 31 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 31 169} {6365286499769848474 31 170} {5924955159024482375 31 171} {8438128294917748846 31 172} {3828236677537323306 31 173} {3982866279115360829 31 174} {2369728879634429441 31 175} {968975114082990443 31 176}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27059 term 33 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 33 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 52343 term 33 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 33 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 31 169} {6365286499769848474 31 170} {5924955159024482375 31 171} {8438128294917748846 31 172} {3828236677537323306 31 173} {3982866279115360829 31 174} {2369728879634429441 31 175} {968975114082990443 31 176}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 31 169} {6365286499769848474 31 170} {5924955159024482375 31 171} {8438128294917748846 31 172} {3828236677537323306 31 173} {3982866279115360829 31 174} {2369728879634429441 31 175} {968975114082990443 31 176}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1893324422418577469 (index 177) to leader 1
flag 63246 term 33 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 33 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 50756 term 33 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 33 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 31 169} {6365286499769848474 31 170} {5924955159024482375 31 171} {8438128294917748846 31 172} {3828236677537323306 31 173} {3982866279115360829 31 174} {2369728879634429441 31 175} {968975114082990443 31 176} {1893324422418577469 33 177}]
------------------------------------------------------
flag 60302 term 33 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 33 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 33 leaderCommit: 177 
------------------------------------------------------
flag 794 term 33 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 33 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
term 33 server 0 not vote for server 1, 任期不够新
term 33 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
term 33 server 1 get outdate rpc reply from server 0
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 31 169} {6365286499769848474 31 170} {5924955159024482375 31 171} {8438128294917748846 31 172} {3828236677537323306 31 173} {3982866279115360829 31 174} {2369728879634429441 31 175} {968975114082990443 31 176} {1893324422418577469 33 177}]
------------------------------------------------------
client write log 8419556840843084655 (index 178) to leader 1
client write log 4000894243245587101 (index 179) to leader 1
client write log 951187348432123237 (index 180) to leader 1
client write log 8700503503242726108 (index 181) to leader 1
client write log 654751514490863092 (index 182) to leader 1
client write log 6471565955039375219 (index 183) to leader 1
client write log 2494914299595818625 (index 184) to leader 1
client write log 6225799150808806420 (index 185) to leader 1
client write log 8876711853939799364 (index 186) to leader 1
client write log 8877209616344108402 (index 187) to leader 1
client write log 6651705243591073452 (index 188) to leader 1
flag 1386 term 33 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 33 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 33 leaderCommit: 177 
------------------------------------------------------
flag 35250 term 33 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 33 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 31 169} {6365286499769848474 31 170} {5924955159024482375 31 171} {8438128294917748846 31 172} {3828236677537323306 31 173} {3982866279115360829 31 174} {2369728879634429441 31 175} {968975114082990443 31 176} {1893324422418577469 33 177} {8419556840843084655 33 178} {4000894243245587101 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188}]
------------------------------------------------------
term 33 Server1 start snapshot! index=179
term 33 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=188
-------------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69585 term 33 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 33 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188}]
------------------------------------------------------
term 33 Server0 start snapshot! index=179
term 33 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=188
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2804388968546266097 (index 189) to leader 1
term 33 server 1 not vote for server 2, 日志不够新
term 33 server 0 not vote for server 2, 日志不够新
term 35 server 2 vote for server 1
term 35 server 1 get vote from server 2
term 35 server 1 become leader
------------------------------------------------------
term 35 server 0 vote for server 1
term 35 server 1 get outdate rpc reply from server 0
flag 8323 term 35 leader 1 nextIndex[0]: 190  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 54932 term 35 leader 1 nextIndex[2]: 190  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 35 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 35 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 190->189
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 190->189
------------------------------------------------------
flag 66816 term 35 leader 1 nextIndex[0]: 189  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 177  matchIndex[2]: 0
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 33
------------------------------------------------------
term 35 server 2 InstallSnapshot success
------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 33 rf.commitIndex 179 rf.lastApplied 179
term 35 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
term 35 server 0 not vote for server 1, 任期不够新
term 35 server 1 get outdate rpc reply from server 0
flag 76478 term 35 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 54011 term 35 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 35 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
flag 96207 term 35 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 68960 term 35 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
flag 19152 term 35 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 60286 term 35 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1420 term 35 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 42048 term 35 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
flag 74121 term 35 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 22436 term 35 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
flag 51210 term 35 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 87972 term 35 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
flag 22509 term 35 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 85236 term 35 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
flag 52158 term 35 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 70235 term 35 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1782 term 35 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 52101 term 35 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
flag 83778 term 35 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 2850 term 35 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74933 term 35 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 10928 term 35 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
flag 66657 term 35 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 10760 term 35 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
term 35 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98117 term 35 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 21920 term 35 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
flag 32815 term 35 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 87532 term 35 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13903 term 35 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 69167 term 35 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
flag 88704 term 35 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 67976 term 35 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
flag 47798 term 35 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 47516 term 35 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
flag 43520 term 35 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 411 term 35 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189}]
------------------------------------------------------
client write log 2804388968546266097 (index 190) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41803 term 35 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 62449 term 35 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189} {2804388968546266097 35 190}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 179} {951187348432123237 33 180} {8700503503242726108 33 181} {654751514490863092 33 182} {6471565955039375219 33 183} {2494914299595818625 33 184} {6225799150808806420 33 185} {8876711853939799364 33 186} {8877209616344108402 33 187} {6651705243591073452 33 188} {2804388968546266097 33 189} {2804388968546266097 35 190}]
------------------------------------------------------
term 35 Server1 start snapshot! index=189
term 35 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7640 term 35 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 35 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 35 leaderCommit: 190 
------------------------------------------------------
flag 82273 term 35 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 35 leaderCommit: 190 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 189} {2804388968546266097 35 190}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 189} {2804388968546266097 35 190}]
------------------------------------------------------
term 35 Server2 start snapshot! index=189
term 35 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
term 35 Server0 start snapshot! index=189
term 35 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
flag 68627 term 35 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 35 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 35 leaderCommit: 190 
------------------------------------------------------
flag 38112 term 35 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 35 leaderCommit: 190 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
term 35 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 189} {2804388968546266097 35 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 189} {2804388968546266097 35 190}]
------------------------------------------------------
flag 97254 term 35 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 35 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 35 leaderCommit: 190 
------------------------------------------------------
flag 72975 term 35 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 35 leaderCommit: 190 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 189} {2804388968546266097 35 190}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 189} {2804388968546266097 35 190}]
------------------------------------------------------
flag 4170 term 35 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 35 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 35 leaderCommit: 190 
------------------------------------------------------
flag 7880 term 35 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 35 leaderCommit: 190 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 189} {2804388968546266097 35 190}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 189} {2804388968546266097 35 190}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32644 term 35 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 35 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 35 leaderCommit: 190 
------------------------------------------------------
flag 37160 term 35 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 35 leaderCommit: 190 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
term 35 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
[{snapshot 33 189} {2804388968546266097 35 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 189} {2804388968546266097 35 190}]
------------------------------------------------------
term 35 server 2 not vote for server 1, 任期不够新
term 35 server 1 get outdate rpc reply from server 2
flag 98350 term 35 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 35 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 35 leaderCommit: 190 
------------------------------------------------------
flag 67858 term 35 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 35 leaderCommit: 190 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 189} {2804388968546266097 35 190}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 189} {2804388968546266097 35 190}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 588034754154686536 (index 191) to leader 1
term 35 server 0 not vote for server 1, 任期不够新
term 35 server 1 get outdate rpc reply from server 0
flag 30050 term 35 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 35 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 35 leaderCommit: 190 
------------------------------------------------------
flag 9589 term 35 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 35 leaderCommit: 190 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {2804388968546266097 35 190} {588034754154686536 35 191}]
------------------------------------------------------
flag 13146 term 35 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 35 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 35 leaderCommit: 191 
------------------------------------------------------
flag 39177 term 35 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 35 leaderCommit: 191 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {2804388968546266097 35 190} {588034754154686536 35 191}]
------------------------------------------------------
client write log 3375707343230162513 (index 192) to leader 1
client write log 6369968592064100840 (index 193) to leader 1
client write log 8874138875620903248 (index 194) to leader 1
client write log 8179546337614731991 (index 195) to leader 1
client write log 5582379456836303231 (index 196) to leader 1
client write log 1229866228683328505 (index 197) to leader 1
client write log 1084360972738005068 (index 198) to leader 1
client write log 4360058878247452704 (index 199) to leader 1
flag 96959 term 35 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 35 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 35 leaderCommit: 191 
------------------------------------------------------
flag 62731 term 35 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 35 leaderCommit: 191 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 33 189} {2804388968546266097 35 190} {588034754154686536 35 191} {3375707343230162513 35 192} {6369968592064100840 35 193} {8874138875620903248 35 194} {8179546337614731991 35 195} {5582379456836303231 35 196} {1229866228683328505 35 197} {1084360972738005068 35 198} {4360058878247452704 35 199}]
------------------------------------------------------
term 35 Server1 start snapshot! index=199
term 35 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
flag 29478 term 35 leader 1 nextIndex[0]: 200  matchIndex[0]: 199
term 35 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 35 199}]
------------------------------------------------------
term 35 Server0 start snapshot! index=199
term 35 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
!!!!!!connect server 2
client write log 939226724720485506 (index 200) to leader 1
term 35 server 1 not vote for server 2, 日志不够新
term 35 server 0 not vote for server 2, 日志不够新
term 37 server 2 vote for server 1
term 37 server 1 get vote from server 2
term 37 server 1 become leader
------------------------------------------------------
term 37 server 0 vote for server 1
term 37 server 1 get outdate rpc reply from server 0
flag 89689 term 37 leader 1 nextIndex[0]: 201  matchIndex[0]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 70607 term 37 leader 1 nextIndex[2]: 201  matchIndex[2]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 37 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 37 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 201->200
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 201->200
------------------------------------------------------
term 37 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16310 term 37 leader 1 nextIndex[0]: 200  matchIndex[0]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 191  matchIndex[2]: 0
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
term 37 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 35 rf.commitIndex 199 rf.lastApplied 199
term 37 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
flag 99874 term 37 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 81546 term 37 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 37 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
flag 8834 term 37 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 18508 term 37 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9472 term 37 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 40668 term 37 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
flag 73325 term 37 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 10534 term 37 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
flag 31481 term 37 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 44436 term 37 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75425 term 37 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 51571 term 37 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
flag 49384 term 37 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 71282 term 37 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72435 term 37 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 29258 term 37 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
flag 83610 term 37 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 75198 term 37 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
flag 88735 term 37 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 38121 term 37 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
flag 50382 term 37 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 91385 term 37 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24024 term 37 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 51166 term 37 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
flag 11469 term 37 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 27259 term 37 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48320 term 37 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 84853 term 37 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74068 term 37 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 68396 term 37 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58000 term 37 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 12537 term 37 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4798 term 37 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 2563 term 37 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86955 term 37 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 63085 term 37 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 35 199} {939226724720485506 35 200}]
------------------------------------------------------
client write log 939226724720485506 (index 201) to leader 1
flag 48930 term 37 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 89685 term 37 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 37 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201}]
------------------------------------------------------
flag 18773 term 37 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
flag 36420 term 37 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201}]
------------------------------------------------------
flag 12366 term 37 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
flag 13494 term 37 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201}]
------------------------------------------------------
flag 7475 term 37 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
flag 76616 term 37 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201}]
------------------------------------------------------
term 37 server 2 not vote for server 1, 任期不够新
term 37 server 1 get outdate rpc reply from server 2
flag 22722 term 37 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
flag 87622 term 37 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201}]
------------------------------------------------------
flag 62408 term 37 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
flag 80915 term 37 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201}]
------------------------------------------------------
flag 9906 term 37 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
flag 88493 term 37 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 58549 term 37 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
flag 61554 term 37 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
flag 2503 term 37 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
flag 24417 term 37 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
flag 64339 term 37 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
flag 47261 term 37 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 2 vote for server 0
term 38 server 0 get vote from server 2
term 38 server 0 become leader
------------------------------------------------------
flag 43981 term 37 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
flag 82886 term 37 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
flag 72923 term 38 leader 0 nextIndex[1]: 202  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
flag 6663 term 38 leader 0 nextIndex[2]: 202  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201}]
------------------------------------------------------
client write log 7156938827951964304 (index 202) to leader 0
flag 98519 term 37 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
flag 62561 term 37 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
flag 17309 term 38 leader 0 nextIndex[1]: 202  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
flag 93190 term 38 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 38 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 202->201
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62217 term 37 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
flag 4968 term 37 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
flag 87408 term 38 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 38 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202}]
------------------------------------------------------
client write log 3500015232275840166 (index 203) to leader 0
flag 82731 term 37 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
flag 14903 term 37 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
flag 18757 term 38 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 38 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
flag 9944 term 37 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
flag 86111 term 37 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
flag 91829 term 38 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
!!!!!!connect server 1
client write log 2271142159073363960 (index 202) to leader 1
flag 11518 term 37 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
flag 44104 term 37 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 37 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
term 38 server 2 AppendEntries false 领导者任期过期 args.Term 37
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 38 server 0 AppendEntries false 领导者任期过期 args.Term 37
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
flag 61081 term 38 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
term 38 server 1 InstallSnapshot fail
rf.commitIndex 201 args.LastIncludedIndex 199
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
flag 98094 term 38 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
flag 93873 term 38 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77277 term 38 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 40980 term 38 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
term 38 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95705 term 38 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 92549 term 38 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:203 
term 38 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
flag 91233 term 38 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 79778 term 38 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
flag 84523 term 38 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 60385 term 38 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
flag 23753 term 38 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 80308 term 38 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
flag 19621 term 38 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 35597 term 38 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
flag 10176 term 38 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 51311 term 38 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
flag 96139 term 38 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 6094 term 38 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
flag 57264 term 38 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 38601 term 38 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22943 term 38 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 25528 term 38 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
flag 30299 term 38 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 48496 term 38 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32860 term 38 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 72874 term 38 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
flag 26384 term 38 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 65375 term 38 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89216 term 38 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 60667 term 38 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
flag 39885 term 38 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 87472 term 38 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
term 38 server 1 not vote for server 0, 日志不够新
term 38 server 0 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41504 term 38 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 92763 term 38 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
flag 98846 term 38 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 54924 term 38 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
flag 88265 term 38 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 58667 term 38 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203}]
------------------------------------------------------
client write log 2271142159073363960 (index 204) to leader 0
flag 49845 term 38 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 2436 term 38 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203} {2271142159073363960 38 204}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203} {2271142159073363960 38 204}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85818 term 38 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 38 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
flag 11930 term 38 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 38 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203} {2271142159073363960 38 204}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203} {2271142159073363960 38 204}]
------------------------------------------------------
flag 31581 term 38 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 38 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
flag 2723 term 38 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 38 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203} {2271142159073363960 38 204}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203} {2271142159073363960 38 204}]
------------------------------------------------------
flag 280 term 38 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 38 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
flag 4419 term 38 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 38 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203} {2271142159073363960 38 204}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203} {2271142159073363960 38 204}]
------------------------------------------------------
flag 94222 term 38 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 38 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
flag 48580 term 38 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 38 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203} {2271142159073363960 38 204}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203} {2271142159073363960 38 204}]
------------------------------------------------------
flag 43529 term 38 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 38 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
flag 64918 term 38 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 38 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203} {2271142159073363960 38 204}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203} {2271142159073363960 38 204}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6342137439508335508 (index 205) to leader 0
flag 34367 term 38 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 38 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
flag 56668 term 38 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 38 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203} {2271142159073363960 38 204} {6342137439508335508 38 205}]
------------------------------------------------------
flag 24458 term 38 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 38 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 205 
------------------------------------------------------
flag 31747 term 38 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 38 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 205 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203} {2271142159073363960 38 204} {6342137439508335508 38 205}]
------------------------------------------------------
client write log 8924723188991767957 (index 206) to leader 0
client write log 6042141149543988026 (index 207) to leader 0
client write log 2327904296922868240 (index 208) to leader 0
client write log 4205268935517075414 (index 209) to leader 0
client write log 7086290893508332399 (index 210) to leader 0
client write log 2081620387020723815 (index 211) to leader 0
client write log 9055676121948006709 (index 212) to leader 0
client write log 1239033802476787466 (index 213) to leader 0
flag 49860 term 38 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 38 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 205 
------------------------------------------------------
flag 20916 term 38 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 38 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 205 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 35 199} {939226724720485506 35 200} {939226724720485506 37 201} {7156938827951964304 38 202} {3500015232275840166 38 203} {2271142159073363960 38 204} {6342137439508335508 38 205} {8924723188991767957 38 206} {6042141149543988026 38 207} {2327904296922868240 38 208} {4205268935517075414 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213}]
------------------------------------------------------
term 38 Server0 start snapshot! index=209
term 38 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=213
-------------------------------------------------------------
term 38 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 38
------------------------------------------------------
flag 18497 term 38 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213}]
------------------------------------------------------
term 38 Server2 start snapshot! index=209
term 38 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=213
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2131764634511663663 (index 214) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 38
------------------------------------------------------
flag 12543 term 38 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 39 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 server 2 vote for server 0
term 40 server 1 vote for server 0
term 40 server 0 get vote from server 2
term 40 server 0 become leader
------------------------------------------------------
term 40 server 0 get outdate rpc reply from server 1
flag 39580 term 40 leader 0 nextIndex[1]: 215  matchIndex[1]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 63967 term 40 leader 0 nextIndex[2]: 215  matchIndex[2]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 40 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 215->214
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 0 nextIndex[1]: 205  matchIndex[1]: 0
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 38
------------------------------------------------------
flag 96001 term 40 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 40 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 38 rf.commitIndex 209 rf.lastApplied 209
term 40 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57214 term 40 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 40 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 50180 term 40 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
flag 48711 term 40 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 94433 term 40 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
flag 15723 term 40 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 54507 term 40 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 413 term 40 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 60716 term 40 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16698 term 40 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 88849 term 40 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
flag 32106 term 40 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 9744 term 40 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
flag 54954 term 40 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 55074 term 40 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
flag 61365 term 40 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 19543 term 40 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
flag 91874 term 40 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 77737 term 40 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
flag 96354 term 40 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 54519 term 40 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
flag 62206 term 40 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 34356 term 40 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
flag 60367 term 40 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 68382 term 40 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87928 term 40 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 94257 term 40 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
flag 76699 term 40 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 98881 term 40 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
flag 74751 term 40 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 37381 term 40 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39817 term 40 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 16526 term 40 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
term 40 server 0 not vote for server 1, 任期不够新
term 40 server 1 get outdate rpc reply from server 0
flag 5162 term 40 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 27623 term 40 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214}]
------------------------------------------------------
client write log 2131764634511663663 (index 215) to leader 0
flag 10487 term 40 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 21231 term 40 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214} {2131764634511663663 40 215}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214} {2131764634511663663 40 215}]
------------------------------------------------------
flag 61485 term 40 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 40 leaderCommit: 215 
------------------------------------------------------
flag 22837 term 40 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 40 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 40 leaderCommit: 215 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214} {2131764634511663663 40 215}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214} {2131764634511663663 40 215}]
------------------------------------------------------
flag 85706 term 40 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 40 leaderCommit: 215 
------------------------------------------------------
flag 60609 term 40 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 40 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 40 leaderCommit: 215 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214} {2131764634511663663 40 215}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214} {2131764634511663663 40 215}]
------------------------------------------------------
flag 38128 term 40 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 40 leaderCommit: 215 
------------------------------------------------------
flag 1179 term 40 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 40 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 40 leaderCommit: 215 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214} {2131764634511663663 40 215}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214} {2131764634511663663 40 215}]
------------------------------------------------------
flag 81674 term 40 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 40 leaderCommit: 215 
------------------------------------------------------
flag 77902 term 40 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 40 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 40 leaderCommit: 215 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214} {2131764634511663663 40 215}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214} {2131764634511663663 40 215}]
------------------------------------------------------
flag 42912 term 40 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 40 leaderCommit: 215 
------------------------------------------------------
flag 92204 term 40 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 40 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 40 leaderCommit: 215 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214} {2131764634511663663 40 215}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214} {2131764634511663663 40 215}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4548415689553830534 (index 216) to leader 0
flag 55259 term 40 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 40 leaderCommit: 215 
------------------------------------------------------
flag 31011 term 40 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 40 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 40 leaderCommit: 215 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214} {2131764634511663663 40 215} {4548415689553830534 40 216}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37415 term 40 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 7893 term 40 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214} {2131764634511663663 40 215} {4548415689553830534 40 216}]
------------------------------------------------------
client write log 4781480622536681080 (index 217) to leader 0
client write log 4952128009628520071 (index 218) to leader 0
client write log 4290578878821510342 (index 219) to leader 0
client write log 1292671552140506733 (index 220) to leader 0
client write log 1553387898251551535 (index 221) to leader 0
client write log 3907008113313276519 (index 222) to leader 0
client write log 7565025850570959898 (index 223) to leader 0
client write log 3014001244532583353 (index 224) to leader 0
client write log 5486543873139241194 (index 225) to leader 0
client write log 748608312019025552 (index 226) to leader 0
client write log 8873153168641212388 (index 227) to leader 0
flag 44191 term 40 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 28264 term 40 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 209} {7086290893508332399 38 210} {2081620387020723815 38 211} {9055676121948006709 38 212} {1239033802476787466 38 213} {2131764634511663663 38 214} {2131764634511663663 40 215} {4548415689553830534 40 216} {4781480622536681080 40 217} {4952128009628520071 40 218} {4290578878821510342 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227}]
------------------------------------------------------
term 40 Server0 start snapshot! index=219
term 40 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=227
-------------------------------------------------------------
term 40 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
flag 3295 term 40 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 40 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227}]
------------------------------------------------------
term 40 Server2 start snapshot! index=219
term 40 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=227
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1919103956573776850 (index 228) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
flag 21674 term 40 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 40 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 41 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 2 vote for server 0
term 42 server 0 get vote from server 2
term 42 server 0 become leader
------------------------------------------------------
term 42 server 1 vote for server 0
term 42 server 0 get outdate rpc reply from server 1
flag 21264 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 56289 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
term 42 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 229->228
------------------------------------------------------
term 42 leader 0 nextIndex[1]: 216  matchIndex[1]: 0
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
flag 73228 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
term 42 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 40 rf.commitIndex 219 rf.lastApplied 219
term 42 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80058 term 42 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 42 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 61793 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
flag 47308 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 11990 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
flag 26977 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 66638 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
term 42 server 2 not vote for server 1, 任期不够新
term 42 server 1 get outdate rpc reply from server 2
flag 40023 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 84576 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
flag 95037 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 57844 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
flag 82102 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 12075 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
flag 94050 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 63870 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92146 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 41598 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
flag 42398 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 40022 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28504 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 99649 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
flag 50494 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 99706 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
flag 40210 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 95384 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
flag 22817 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 33886 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
flag 70358 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 62449 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
flag 25676 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 71250 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
flag 5709 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 67697 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
flag 77681 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 37933 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228}]
------------------------------------------------------
client write log 1919103956573776850 (index 229) to leader 0
flag 18297 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 56785 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228} {1919103956573776850 42 229}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 219} {1292671552140506733 40 220} {1553387898251551535 40 221} {3907008113313276519 40 222} {7565025850570959898 40 223} {3014001244532583353 40 224} {5486543873139241194 40 225} {748608312019025552 40 226} {8873153168641212388 40 227} {1919103956573776850 40 228} {1919103956573776850 42 229}]
------------------------------------------------------
term 42 Server0 start snapshot! index=229
term 42 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
flag 84887 term 42 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
flag 35251 term 42 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 42 229}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 42 229}]
------------------------------------------------------
term 42 Server1 start snapshot! index=229
term 42 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
term 42 Server2 start snapshot! index=229
term 42 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
flag 25834 term 42 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
flag 19711 term 42 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 42 229}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 42 229}]
------------------------------------------------------
flag 20285 term 42 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
flag 87052 term 42 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 42 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 42 229}]
------------------------------------------------------
flag 48078 term 42 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
flag 68288 term 42 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 42 229}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 42 229}]
------------------------------------------------------
flag 54094 term 42 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
flag 65343 term 42 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 42 229}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 42 229}]
------------------------------------------------------
flag 1684 term 42 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
flag 43720 term 42 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 42 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 42 229}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 32993 term 42 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
flag 63524 term 42 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
term 42 server 2 not vote for server 1, 任期不够新
term 42 server 1 get outdate rpc reply from server 2
flag 93085 term 42 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
flag 86212 term 42 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
flag 70521 term 42 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
flag 38372 term 42 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
flag 19643 term 42 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
flag 29902 term 42 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 2 vote for server 1
term 43 server 1 get vote from server 2
term 43 server 1 become leader
------------------------------------------------------
flag 45674 term 43 leader 1 nextIndex[0]: 230  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
flag 71596 term 43 leader 1 nextIndex[2]: 230  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 42 229}]
------------------------------------------------------
client write log 515258357985830920 (index 230) to leader 1
flag 89879 term 42 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
flag 31008 term 42 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
flag 28153 term 43 leader 1 nextIndex[0]: 230  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
flag 26043 term 43 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 43 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 42 229} {515258357985830920 43 230}]
------------------------------------------------------
flag 91425 term 42 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
flag 35939 term 42 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
flag 77799 term 43 leader 1 nextIndex[0]: 230  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 230 
------------------------------------------------------
flag 64936 term 43 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 43 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 43 leaderCommit: 230 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 42 229} {515258357985830920 43 230}]
------------------------------------------------------
client write log 4400720745745197056 (index 231) to leader 1
client write log 8802392998929989542 (index 232) to leader 1
client write log 4511868352191154619 (index 233) to leader 1
client write log 8704229871070158240 (index 234) to leader 1
client write log 4333772084836897614 (index 235) to leader 1
client write log 418703953920986045 (index 236) to leader 1
client write log 4528676721860879754 (index 237) to leader 1
client write log 8546997637395724639 (index 238) to leader 1
client write log 7171671885276676599 (index 239) to leader 1
client write log 6477005177191920525 (index 240) to leader 1
client write log 6156943401294652389 (index 241) to leader 1
flag 71993 term 42 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
flag 49291 term 42 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 230->229
------------------------------------------------------
flag 87306 term 43 leader 1 nextIndex[0]: 230  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 230 
------------------------------------------------------
flag 92628 term 43 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 43 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 43 leaderCommit: 230 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 42 229} {515258357985830920 43 230} {4400720745745197056 43 231} {8802392998929989542 43 232} {4511868352191154619 43 233} {8704229871070158240 43 234} {4333772084836897614 43 235} {418703953920986045 43 236} {4528676721860879754 43 237} {8546997637395724639 43 238} {7171671885276676599 43 239} {6477005177191920525 43 240} {6156943401294652389 43 241}]
------------------------------------------------------
term 43 Server1 start snapshot! index=239
term 43 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=241
-------------------------------------------------------------
term 42 leader 0 nextIndex[1]: 0  matchIndex[1]: 229
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 42
------------------------------------------------------
flag 86275 term 42 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
term 43 leader 1 nextIndex[0]: 230  matchIndex[0]: 0
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 43
------------------------------------------------------
flag 71549 term 43 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 43 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 43 leaderCommit: 241 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 43 239} {6477005177191920525 43 240} {6156943401294652389 43 241}]
------------------------------------------------------
term 43 Server2 start snapshot! index=239
term 43 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=241
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3468699782631519887 (index 242) to leader 1
term 42 leader 0 nextIndex[1]: 0  matchIndex[1]: 229
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 42
------------------------------------------------------
flag 49752 term 42 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
term 43 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 server 2 AppendEntries false 领导者任期过期 args.Term 42
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 1 nextIndex[0]: 230  matchIndex[0]: 0
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 43
------------------------------------------------------
flag 24251 term 43 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 43 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 43 leaderCommit: 241 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 43 server 0 InstallSnapshot success
------------------------------------------------------
term 43 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 43 rf.commitIndex 239 rf.lastApplied 239
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 43 239} {6477005177191920525 43 240} {6156943401294652389 43 241} {3468699782631519887 43 242}]
------------------------------------------------------
term 43 server 2 not vote for server 0, 日志不够新
term 43 server 1 not vote for server 0, 日志不够新
term 45 server 2 vote for server 1
term 45 server 0 vote for server 1
term 45 server 1 get vote from server 2
term 45 server 1 become leader
------------------------------------------------------
term 45 server 1 get outdate rpc reply from server 0
flag 27123 term 45 leader 1 nextIndex[0]: 243  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 43 leaderCommit: 242 
------------------------------------------------------
flag 82505 term 45 leader 1 nextIndex[2]: 243  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 43 leaderCommit: 242 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 43 239} {6477005177191920525 43 240} {6156943401294652389 43 241} {3468699782631519887 43 242}]
------------------------------------------------------
term 45 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 243->242
------------------------------------------------------
flag 12866 term 45 leader 1 nextIndex[0]: 240  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 242 
------------------------------------------------------
flag 2200 term 45 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 45 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 43 leaderCommit: 242 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 43 239} {6477005177191920525 43 240} {6156943401294652389 43 241} {3468699782631519887 43 242}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 43 239} {6477005177191920525 43 240} {6156943401294652389 43 241} {3468699782631519887 43 242}]
------------------------------------------------------
flag 77671 term 45 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 45 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 43 leaderCommit: 242 
------------------------------------------------------
flag 20185 term 45 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 45 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 43 leaderCommit: 242 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 43 239} {6477005177191920525 43 240} {6156943401294652389 43 241} {3468699782631519887 43 242}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 43 239} {6477005177191920525 43 240} {6156943401294652389 43 241} {3468699782631519887 43 242}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26197 term 45 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 45 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 43 leaderCommit: 242 
------------------------------------------------------
flag 93805 term 45 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 45 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 43 leaderCommit: 242 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 43 239} {6477005177191920525 43 240} {6156943401294652389 43 241} {3468699782631519887 43 242}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 43 239} {6477005177191920525 43 240} {6156943401294652389 43 241} {3468699782631519887 43 242}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 0 not vote for server 1, 任期不够新
term 45 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9285 term 45 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 45 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 43 leaderCommit: 242 
------------------------------------------------------
flag 34861 term 45 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 45 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 43 leaderCommit: 242 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 43 239} {6477005177191920525 43 240} {6156943401294652389 43 241} {3468699782631519887 43 242}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 43 239} {6477005177191920525 43 240} {6156943401294652389 43 241} {3468699782631519887 43 242}]
------------------------------------------------------
flag 37712 term 45 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 45 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 43 leaderCommit: 242 
------------------------------------------------------
flag 48948 term 45 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 45 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 43 leaderCommit: 242 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 43 239} {6477005177191920525 43 240} {6156943401294652389 43 241} {3468699782631519887 43 242}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 43 239} {6477005177191920525 43 240} {6156943401294652389 43 241} {3468699782631519887 43 242}]
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38343 term 45 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 45 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 43 leaderCommit: 242 
------------------------------------------------------
flag 68468 term 45 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 45 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 43 leaderCommit: 242 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 43 239} {6477005177191920525 43 240} {6156943401294652389 43 241} {3468699782631519887 43 242}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 43 239} {6477005177191920525 43 240} {6156943401294652389 43 241} {3468699782631519887 43 242}]
------------------------------------------------------
term 45 server 0 not vote for server 1, 任期不够新
term 45 server 1 get outdate rpc reply from server 0
flag 16370 term 45 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 45 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 43 leaderCommit: 242 
------------------------------------------------------
flag 90454 term 45 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 45 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 43 leaderCommit: 242 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 43 239} {6477005177191920525 43 240} {6156943401294652389 43 241} {3468699782631519887 43 242}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 43 239} {6477005177191920525 43 240} {6156943401294652389 43 241} {3468699782631519887 43 242}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8268424788667996298 (index 243) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68507 term 45 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 45 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 43 leaderCommit: 242 
------------------------------------------------------
flag 32700 term 45 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 45 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 43 leaderCommit: 242 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {6477005177191920525 43 240} {6156943401294652389 43 241} {3468699782631519887 43 242} {8268424788667996298 45 243}]
------------------------------------------------------
flag 42089 term 45 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 45 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
flag 87510 term 45 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 45 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {6477005177191920525 43 240} {6156943401294652389 43 241} {3468699782631519887 43 242} {8268424788667996298 45 243}]
------------------------------------------------------
client write log 331468939353955477 (index 244) to leader 1
client write log 2429857809203012767 (index 245) to leader 1
client write log 1440041180004987267 (index 246) to leader 1
client write log 296600194219899256 (index 247) to leader 1
client write log 1989911954974767362 (index 248) to leader 1
client write log 4800114366714201497 (index 249) to leader 1
client write log 7319147327501491697 (index 250) to leader 1
client write log 4688526724269951691 (index 251) to leader 1
client write log 359071399561666712 (index 252) to leader 1
client write log 7227057571136616286 (index 253) to leader 1
client write log 3606393922379701573 (index 254) to leader 1
client write log 7902918130684161473 (index 255) to leader 1
client write log 5804417314661572959 (index 256) to leader 1
client write log 8150437640554900643 (index 257) to leader 1
client write log 8333488858647291008 (index 258) to leader 1
flag 31754 term 45 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 45 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
flag 59483 term 45 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 45 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 43 239} {6477005177191920525 43 240} {6156943401294652389 43 241} {3468699782631519887 43 242} {8268424788667996298 45 243} {331468939353955477 45 244} {2429857809203012767 45 245} {1440041180004987267 45 246} {296600194219899256 45 247} {1989911954974767362 45 248} {4800114366714201497 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258}]
------------------------------------------------------
term 45 Server1 start snapshot! index=249
term 45 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=258
-------------------------------------------------------------
flag 3446 term 45 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 45 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 45
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258}]
------------------------------------------------------
term 45 Server0 start snapshot! index=249
term 45 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=258
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3315637961402013899 (index 259) to leader 1
term 45 server 1 not vote for server 2, 日志不够新
term 45 server 0 not vote for server 2, 日志不够新
term 47 server 2 vote for server 1
term 47 server 1 get vote from server 2
term 47 server 1 become leader
------------------------------------------------------
term 47 server 0 vote for server 1
term 47 server 1 get outdate rpc reply from server 0
flag 25084 term 47 leader 1 nextIndex[0]: 260  matchIndex[0]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 96448 term 47 leader 1 nextIndex[2]: 260  matchIndex[2]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 47 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 260->259
------------------------------------------------------
term 47 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 260->259
------------------------------------------------------
flag 20023 term 47 leader 1 nextIndex[0]: 259  matchIndex[0]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 243  matchIndex[2]: 0
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 45
------------------------------------------------------
term 47 server 2 InstallSnapshot success
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
term 47 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 45 rf.commitIndex 249 rf.lastApplied 249
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74572 term 47 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 39516 term 47 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 47 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
flag 22951 term 47 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 9179 term 47 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
flag 25623 term 47 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 65546 term 47 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
term 47 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
flag 27880 term 47 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 51173 term 47 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
flag 30831 term 47 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 61212 term 47 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
flag 65295 term 47 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 36981 term 47 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
term 47 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
flag 18603 term 47 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 88153 term 47 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5688 term 47 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 2495 term 47 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99980 term 47 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 19234 term 47 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99220 term 47 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 76440 term 47 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
flag 95706 term 47 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 24147 term 47 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60696 term 47 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 47170 term 47 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67167 term 47 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 48162 term 47 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
flag 94986 term 47 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 81504 term 47 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
term 47 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38881 term 47 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 32201 term 47 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
flag 56318 term 47 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 34125 term 47 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
flag 98801 term 47 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 4003 term 47 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
flag 91750 term 47 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 6192 term 47 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259}]
------------------------------------------------------
client write log 3315637961402013899 (index 260) to leader 1
flag 48886 term 47 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 98600 term 47 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259} {3315637961402013899 47 260}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 249} {7319147327501491697 45 250} {4688526724269951691 45 251} {359071399561666712 45 252} {7227057571136616286 45 253} {3606393922379701573 45 254} {7902918130684161473 45 255} {5804417314661572959 45 256} {8150437640554900643 45 257} {8333488858647291008 45 258} {3315637961402013899 45 259} {3315637961402013899 47 260}]
------------------------------------------------------
term 47 Server1 start snapshot! index=259
term 47 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37434 term 47 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 47 leaderCommit: 260 
------------------------------------------------------
flag 73485 term 47 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 47 leaderCommit: 260 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {3315637961402013899 47 260}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {3315637961402013899 47 260}]
------------------------------------------------------
term 47 Server2 start snapshot! index=259
term 47 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
term 47 Server0 start snapshot! index=259
term 47 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
flag 65036 term 47 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 47 leaderCommit: 260 
------------------------------------------------------
flag 52101 term 47 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 47 leaderCommit: 260 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {3315637961402013899 47 260}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {3315637961402013899 47 260}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39102 term 47 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 47 leaderCommit: 260 
------------------------------------------------------
flag 82086 term 47 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 47 leaderCommit: 260 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {3315637961402013899 47 260}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {3315637961402013899 47 260}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12241 term 47 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 47 leaderCommit: 260 
------------------------------------------------------
flag 95903 term 47 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 47 leaderCommit: 260 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {3315637961402013899 47 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {3315637961402013899 47 260}]
------------------------------------------------------
flag 76980 term 47 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 47 leaderCommit: 260 
------------------------------------------------------
flag 44931 term 47 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 47 leaderCommit: 260 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {3315637961402013899 47 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {3315637961402013899 47 260}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2920428525083267074 (index 261) to leader 1
flag 86277 term 47 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 47 leaderCommit: 260 
------------------------------------------------------
flag 36127 term 47 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 47 leaderCommit: 260 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {3315637961402013899 47 260} {2920428525083267074 47 261}]
------------------------------------------------------
flag 23628 term 47 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 47 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 47 leaderCommit: 261 
------------------------------------------------------
flag 65939 term 47 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 47 leaderCommit: 261 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {3315637961402013899 47 260} {2920428525083267074 47 261}]
------------------------------------------------------
client write log 5264512813067745088 (index 262) to leader 1
client write log 1648505725481464510 (index 263) to leader 1
client write log 7403988894452003488 (index 264) to leader 1
client write log 2651961369530497178 (index 265) to leader 1
client write log 5533526803830415026 (index 266) to leader 1
client write log 4128047479191883044 (index 267) to leader 1
client write log 446457902115253319 (index 268) to leader 1
client write log 1785328169904604497 (index 269) to leader 1
client write log 3787517914382465088 (index 270) to leader 1
client write log 9164908039932034405 (index 271) to leader 1
client write log 8590415716788045010 (index 272) to leader 1
client write log 1095801318209583852 (index 273) to leader 1
client write log 5411552712042889902 (index 274) to leader 1
client write log 2808043925239170994 (index 275) to leader 1
client write log 7149803361494963048 (index 276) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86477 term 47 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 47 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 47 leaderCommit: 261 
------------------------------------------------------
flag 90878 term 47 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 47 leaderCommit: 261 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 259} {3315637961402013899 47 260} {2920428525083267074 47 261} {5264512813067745088 47 262} {1648505725481464510 47 263} {7403988894452003488 47 264} {2651961369530497178 47 265} {5533526803830415026 47 266} {4128047479191883044 47 267} {446457902115253319 47 268} {1785328169904604497 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276}]
------------------------------------------------------
term 47 Server1 start snapshot! index=269
term 47 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=276
-------------------------------------------------------------
flag 64087 term 47 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 47 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276}]
------------------------------------------------------
term 47 Server0 start snapshot! index=269
term 47 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=276
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4527441798311348671 (index 277) to leader 1
term 47 server 1 not vote for server 2, 日志不够新
term 47 server 0 not vote for server 2, 日志不够新
term 49 server 2 vote for server 1
term 49 server 0 vote for server 1
term 49 server 1 get vote from server 0
term 49 server 1 become leader
------------------------------------------------------
term 49 server 1 get outdate rpc reply from server 2
flag 77656 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 78988 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 49 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 278->277
------------------------------------------------------
term 49 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 278->277
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48994 term 49 leader 1 nextIndex[0]: 277  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 261  matchIndex[2]: 0
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 47
------------------------------------------------------
term 49 server 2 InstallSnapshot success
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 47 rf.commitIndex 269 rf.lastApplied 269
term 49 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78350 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 19526 term 49 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 49 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59068 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 22710 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
flag 40123 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 56662 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
flag 97320 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 67382 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94606 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 83553 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
flag 67372 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 49619 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
flag 50926 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 17371 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
flag 66525 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 6186 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
flag 85261 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 66056 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
flag 43513 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 29873 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52510 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 68099 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
flag 69913 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 8321 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81259 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 44061 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
flag 78892 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 39913 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
flag 74870 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 58948 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57606 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 97904 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
flag 36470 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 50917 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
flag 20376 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 3328 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277}]
------------------------------------------------------
client write log 4527441798311348671 (index 278) to leader 1
flag 6824 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 79630 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277} {4527441798311348671 49 278}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277} {4527441798311348671 49 278}]
------------------------------------------------------
flag 32761 term 49 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 34328 term 49 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277} {4527441798311348671 49 278}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277} {4527441798311348671 49 278}]
------------------------------------------------------
flag 91278 term 49 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 50697 term 49 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277} {4527441798311348671 49 278}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277} {4527441798311348671 49 278}]
------------------------------------------------------
flag 34692 term 49 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 44234 term 49 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277} {4527441798311348671 49 278}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277} {4527441798311348671 49 278}]
------------------------------------------------------
flag 31115 term 49 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 73952 term 49 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277} {4527441798311348671 49 278}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277} {4527441798311348671 49 278}]
------------------------------------------------------
flag 70842 term 49 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 17977 term 49 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277} {4527441798311348671 49 278}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277} {4527441798311348671 49 278}]
------------------------------------------------------
flag 85466 term 49 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 41832 term 49 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277} {4527441798311348671 49 278}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277} {4527441798311348671 49 278}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 2618 term 49 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 71038 term 49 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 14190 term 49 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 7029 term 49 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 63761 term 49 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 19949 term 49 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 50 server 0 vote for server 2
term 50 server 2 get vote from server 0
term 50 server 2 become leader
------------------------------------------------------
flag 55386 term 50 leader 2 nextIndex[0]: 279  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 93721 term 50 leader 2 nextIndex[1]: 279  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277} {4527441798311348671 49 278}]
------------------------------------------------------
flag 61060 term 49 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 50550 term 49 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
client write log 6805522600015367210 (index 279) to leader 2
flag 98485 term 50 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 50 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 14805 term 50 leader 2 nextIndex[1]: 279  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 47 269} {3787517914382465088 47 270} {9164908039932034405 47 271} {8590415716788045010 47 272} {1095801318209583852 47 273} {5411552712042889902 47 274} {2808043925239170994 47 275} {7149803361494963048 47 276} {4527441798311348671 47 277} {4527441798311348671 49 278} {6805522600015367210 50 279}]
------------------------------------------------------
term 50 Server2 start snapshot! index=279
term 50 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
flag 49408 term 49 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 66469 term 49 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 279->278
------------------------------------------------------
flag 68829 term 50 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 50 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 50 leaderCommit: 279 
------------------------------------------------------
term 50 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 50 279}]
------------------------------------------------------
term 50 Server0 start snapshot! index=279
term 50 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
flag 37017 term 49 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 38185 term 49 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
client write log 503640772909677008 (index 280) to leader 2
client write log 4930801067422550565 (index 281) to leader 2
client write log 175779611971003899 (index 282) to leader 2
client write log 7524207021711633242 (index 283) to leader 2
client write log 6461539525058947572 (index 284) to leader 2
client write log 3641393310109438646 (index 285) to leader 2
client write log 8690149865218417752 (index 286) to leader 2
client write log 116061555695101504 (index 287) to leader 2
client write log 4010032529170019272 (index 288) to leader 2
client write log 7539086561145933434 (index 289) to leader 2
client write log 977668685870956077 (index 290) to leader 2
client write log 1440802251617243424 (index 291) to leader 2
flag 86526 term 50 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 50 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 50 leaderCommit: 279 
------------------------------------------------------
term 50 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 279} {503640772909677008 50 280} {4930801067422550565 50 281} {175779611971003899 50 282} {7524207021711633242 50 283} {6461539525058947572 50 284} {3641393310109438646 50 285} {8690149865218417752 50 286} {116061555695101504 50 287} {4010032529170019272 50 288} {7539086561145933434 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
term 50 Server2 start snapshot! index=289
term 50 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=291
-------------------------------------------------------------
flag 30252 term 49 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 57793 term 49 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 54107 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
term 50 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
term 50 Server0 start snapshot! index=289
term 50 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=291
-------------------------------------------------------------
flag 41826 term 49 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 71443 term 49 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
!!!!!!connect server 1
client write log 1628397499936481175 (index 279) to leader 1
term 50 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
flag 33109 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
flag 97247 term 50 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 50 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
term 49 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 290->289
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
flag 6091 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
term 50 leader 2 nextIndex[1]: 280  matchIndex[1]: 289
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 1 InstallSnapshot success
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
term 50 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 50 rf.commitIndex 289 rf.lastApplied 289
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32704 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
flag 16790 term 50 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 50 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
flag 18782 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
flag 69140 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
flag 1930 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
flag 57166 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
flag 16914 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
flag 12174 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5751 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
flag 46392 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
flag 85975 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
flag 91197 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
flag 64546 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
flag 51128 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
flag 21910 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
flag 43559 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71806 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
flag 23623 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
flag 20042 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
flag 56938 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
flag 2653 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
flag 24742 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
term 50 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
flag 28683 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
flag 28998 term 50 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 50 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
flag 90300 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
flag 15512 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
flag 20389 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
flag 41149 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
flag 65954 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
flag 156 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21225 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
flag 54586 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33590 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
flag 58769 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55258 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
flag 22969 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291}]
------------------------------------------------------
client write log 1628397499936481175 (index 292) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13572 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
flag 3832 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 50 leaderCommit: 291 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291} {1628397499936481175 50 292}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291} {1628397499936481175 50 292}]
------------------------------------------------------
flag 89022 term 50 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
flag 77193 term 50 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291} {1628397499936481175 50 292}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291} {1628397499936481175 50 292}]
------------------------------------------------------
flag 62175 term 50 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
flag 19383 term 50 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291} {1628397499936481175 50 292}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291} {1628397499936481175 50 292}]
------------------------------------------------------
flag 76243 term 50 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
flag 92789 term 50 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291} {1628397499936481175 50 292}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291} {1628397499936481175 50 292}]
------------------------------------------------------
flag 69614 term 50 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
flag 99729 term 50 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291} {1628397499936481175 50 292}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291} {1628397499936481175 50 292}]
------------------------------------------------------
flag 79704 term 50 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
flag 18158 term 50 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291} {1628397499936481175 50 292}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291} {1628397499936481175 50 292}]
------------------------------------------------------
flag 30988 term 50 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
flag 29682 term 50 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291} {1628397499936481175 50 292}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291} {1628397499936481175 50 292}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7540892615009842844 (index 293) to leader 2
flag 43940 term 50 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
flag 46671 term 50 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291} {1628397499936481175 50 292} {7540892615009842844 50 293}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69797 term 50 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 293 
------------------------------------------------------
flag 24172 term 50 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 50 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 50 leaderCommit: 293 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291} {1628397499936481175 50 292} {7540892615009842844 50 293}]
------------------------------------------------------
client write log 2053645509713585078 (index 294) to leader 2
client write log 1126418203345206600 (index 295) to leader 2
client write log 4176804153733187991 (index 296) to leader 2
client write log 6012516079763462506 (index 297) to leader 2
client write log 3194458136472564027 (index 298) to leader 2
client write log 7970278085427590517 (index 299) to leader 2
client write log 7575174237095458550 (index 300) to leader 2
client write log 7710379113988409540 (index 301) to leader 2
client write log 3178357304471859194 (index 302) to leader 2
client write log 2004210981934696224 (index 303) to leader 2
client write log 2762201605761721974 (index 304) to leader 2
client write log 286161980357015160 (index 305) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 294->293
------------------------------------------------------
flag 76760 term 50 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 293 
------------------------------------------------------
term 50 leader 2 nextIndex[1]: 0  matchIndex[1]: 293
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 1 InstallSnapshot fail
rf.commitIndex 293 args.LastIncludedIndex 289
------------------------------------------------------
term 50 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
flag 37073 term 50 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 293 
------------------------------------------------------
flag 95756 term 50 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 50 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 50 leaderCommit: 293 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 289} {977668685870956077 50 290} {1440802251617243424 50 291} {1628397499936481175 50 292} {7540892615009842844 50 293} {2053645509713585078 50 294} {1126418203345206600 50 295} {4176804153733187991 50 296} {6012516079763462506 50 297} {3194458136472564027 50 298} {7970278085427590517 50 299} {7575174237095458550 50 300} {7710379113988409540 50 301} {3178357304471859194 50 302} {2004210981934696224 50 303} {2762201605761721974 50 304} {286161980357015160 50 305}]
------------------------------------------------------
term 50 Server2 start snapshot! index=299
term 50 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=305
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
flag 50696 term 50 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {7575174237095458550 50 300} {7710379113988409540 50 301} {3178357304471859194 50 302} {2004210981934696224 50 303} {2762201605761721974 50 304} {286161980357015160 50 305}]
------------------------------------------------------
term 50 Server1 start snapshot! index=299
term 50 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=305
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1127488873723962606 (index 306) to leader 2
term 50 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
flag 95216 term 50 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 51 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {7575174237095458550 50 300} {7710379113988409540 50 301} {3178357304471859194 50 302} {2004210981934696224 50 303} {2762201605761721974 50 304} {286161980357015160 50 305} {1127488873723962606 50 306}]
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 server 1 vote for server 2
term 52 server 2 get vote from server 1
term 52 server 2 become leader
------------------------------------------------------
term 52 server 0 vote for server 2
term 52 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36337 term 52 leader 2 nextIndex[0]: 307  matchIndex[0]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 33535 term 52 leader 2 nextIndex[1]: 307  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {7575174237095458550 50 300} {7710379113988409540 50 301} {3178357304471859194 50 302} {2004210981934696224 50 303} {2762201605761721974 50 304} {286161980357015160 50 305} {1127488873723962606 50 306}]
------------------------------------------------------
term 52 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 307->306
------------------------------------------------------
term 52 leader 2 nextIndex[0]: 293  matchIndex[0]: 0
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
flag 24446 term 52 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 52 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {7575174237095458550 50 300} {7710379113988409540 50 301} {3178357304471859194 50 302} {2004210981934696224 50 303} {2762201605761721974 50 304} {286161980357015160 50 305} {1127488873723962606 50 306}]
------------------------------------------------------
term 52 server 0 InstallSnapshot success
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 50 rf.commitIndex 299 rf.lastApplied 299
flag 93254 term 52 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 52 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 53499 term 52 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 52 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {7575174237095458550 50 300} {7710379113988409540 50 301} {3178357304471859194 50 302} {2004210981934696224 50 303} {2762201605761721974 50 304} {286161980357015160 50 305} {1127488873723962606 50 306}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {7575174237095458550 50 300} {7710379113988409540 50 301} {3178357304471859194 50 302} {2004210981934696224 50 303} {2762201605761721974 50 304} {286161980357015160 50 305} {1127488873723962606 50 306}]
------------------------------------------------------
flag 89199 term 52 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 52 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 26787 term 52 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 52 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
[{snapshot 50 299} {7575174237095458550 50 300} {7710379113988409540 50 301} {3178357304471859194 50 302} {2004210981934696224 50 303} {2762201605761721974 50 304} {286161980357015160 50 305} {1127488873723962606 50 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {7575174237095458550 50 300} {7710379113988409540 50 301} {3178357304471859194 50 302} {2004210981934696224 50 303} {2762201605761721974 50 304} {286161980357015160 50 305} {1127488873723962606 50 306}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94944 term 52 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 52 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 34429 term 52 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 52 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {7575174237095458550 50 300} {7710379113988409540 50 301} {3178357304471859194 50 302} {2004210981934696224 50 303} {2762201605761721974 50 304} {286161980357015160 50 305} {1127488873723962606 50 306}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {7575174237095458550 50 300} {7710379113988409540 50 301} {3178357304471859194 50 302} {2004210981934696224 50 303} {2762201605761721974 50 304} {286161980357015160 50 305} {1127488873723962606 50 306}]
------------------------------------------------------
flag 15586 term 52 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 52 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 55433 term 52 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 52 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {7575174237095458550 50 300} {7710379113988409540 50 301} {3178357304471859194 50 302} {2004210981934696224 50 303} {2762201605761721974 50 304} {286161980357015160 50 305} {1127488873723962606 50 306}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {7575174237095458550 50 300} {7710379113988409540 50 301} {3178357304471859194 50 302} {2004210981934696224 50 303} {2762201605761721974 50 304} {286161980357015160 50 305} {1127488873723962606 50 306}]
------------------------------------------------------
flag 22513 term 52 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 52 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 61234 term 52 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 52 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {7575174237095458550 50 300} {7710379113988409540 50 301} {3178357304471859194 50 302} {2004210981934696224 50 303} {2762201605761721974 50 304} {286161980357015160 50 305} {1127488873723962606 50 306}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {7575174237095458550 50 300} {7710379113988409540 50 301} {3178357304471859194 50 302} {2004210981934696224 50 303} {2762201605761721974 50 304} {286161980357015160 50 305} {1127488873723962606 50 306}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50689 term 52 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 52 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 94957 term 52 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 52 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {7575174237095458550 50 300} {7710379113988409540 50 301} {3178357304471859194 50 302} {2004210981934696224 50 303} {2762201605761721974 50 304} {286161980357015160 50 305} {1127488873723962606 50 306}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {7575174237095458550 50 300} {7710379113988409540 50 301} {3178357304471859194 50 302} {2004210981934696224 50 303} {2762201605761721974 50 304} {286161980357015160 50 305} {1127488873723962606 50 306}]
------------------------------------------------------
flag 22026 term 52 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 52 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 74190 term 52 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 52 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4464222234958320728 (index 307) to leader 2
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {7575174237095458550 50 300} {7710379113988409540 50 301} {3178357304471859194 50 302} {2004210981934696224 50 303} {2762201605761721974 50 304} {286161980357015160 50 305} {1127488873723962606 50 306} {4464222234958320728 52 307}]
------------------------------------------------------
flag 57695 term 52 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 52 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 61349 term 52 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 52 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 50 299} {7575174237095458550 50 300} {7710379113988409540 50 301} {3178357304471859194 50 302} {2004210981934696224 50 303} {2762201605761721974 50 304} {286161980357015160 50 305} {1127488873723962606 50 306} {4464222234958320728 52 307}]
------------------------------------------------------
flag 28440 term 52 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 52 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 98849 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 307 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 50 299} {7575174237095458550 50 300} {7710379113988409540 50 301} {3178357304471859194 50 302} {2004210981934696224 50 303} {2762201605761721974 50 304} {286161980357015160 50 305} {1127488873723962606 50 306} {4464222234958320728 52 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 2646611554994059404 (index 308) to leader 2
client write log 1010367462031295057 (index 309) to leader 2
client write log 5188174718610193831 (index 310) to leader 2
client write log 8134071332156560601 (index 311) to leader 2
client write log 2034460781871816722 (index 312) to leader 2
client write log 6804807615562717535 (index 313) to leader 2
client write log 361516742225923101 (index 314) to leader 2
client write log 1431425043669360766 (index 315) to leader 2
client write log 8531786243222061047 (index 316) to leader 2
client write log 1070203930258982123 (index 317) to leader 2
client write log 7583343541911297007 (index 318) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 307->306
------------------------------------------------------
term 52 leader 2 nextIndex[0]: 0  matchIndex[0]: 306
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
flag 6773 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 307 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 299} {7575174237095458550 50 300} {7710379113988409540 50 301} {3178357304471859194 50 302} {2004210981934696224 50 303} {2762201605761721974 50 304} {286161980357015160 50 305} {1127488873723962606 50 306} {4464222234958320728 52 307} {2646611554994059404 52 308} {1010367462031295057 52 309} {5188174718610193831 52 310} {8134071332156560601 52 311} {2034460781871816722 52 312} {6804807615562717535 52 313} {361516742225923101 52 314} {1431425043669360766 52 315} {8531786243222061047 52 316} {1070203930258982123 52 317} {7583343541911297007 52 318}]
------------------------------------------------------
term 52 Server2 start snapshot! index=309
term 52 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=318
-------------------------------------------------------------
term 52 leader 2 nextIndex[0]: 0  matchIndex[0]: 306
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
flag 30862 term 52 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 52 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {5188174718610193831 52 310} {8134071332156560601 52 311} {2034460781871816722 52 312} {6804807615562717535 52 313} {361516742225923101 52 314} {1431425043669360766 52 315} {8531786243222061047 52 316} {1070203930258982123 52 317} {7583343541911297007 52 318}]
------------------------------------------------------
term 52 Server1 start snapshot! index=309
term 52 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=318
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2105300964648718196 (index 319) to leader 2
term 52 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 52 leader 2 nextIndex[0]: 0  matchIndex[0]: 306
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
flag 22819 term 52 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 52 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 309} {5188174718610193831 52 310} {8134071332156560601 52 311} {2034460781871816722 52 312} {6804807615562717535 52 313} {361516742225923101 52 314} {1431425043669360766 52 315} {8531786243222061047 52 316} {1070203930258982123 52 317} {7583343541911297007 52 318} {2105300964648718196 52 319}]
------------------------------------------------------
term 53 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 Server2 start snapshot! index=319
term 53 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
term 54 server 1 vote for server 2
term 54 server 2 get vote from server 1
term 54 server 2 become leader
------------------------------------------------------
term 54 server 0 vote for server 2
term 54 server 2 get outdate rpc reply from server 0
flag 52906 term 54 leader 2 nextIndex[0]: 320  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 84199 term 54 leader 2 nextIndex[1]: 320  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 319}]
------------------------------------------------------
term 54 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 320->319
------------------------------------------------------
term 54 Server1 start snapshot! index=319
term 54 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
term 54 leader 2 nextIndex[0]: 307  matchIndex[0]: 0
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
flag 22801 term 54 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 319}]
------------------------------------------------------
term 54 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 52 rf.commitIndex 319 rf.lastApplied 319
term 54 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
term 54 server 1 not vote for server 2, 任期不够新
term 54 server 2 get outdate rpc reply from server 1
flag 68026 term 54 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 63414 term 54 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 319}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 319}]
------------------------------------------------------
flag 60882 term 54 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 24620 term 54 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 319}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 319}]
------------------------------------------------------
flag 9358 term 54 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 83527 term 54 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 319}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 319}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15397 term 54 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 35521 term 54 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 319}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 319}]
------------------------------------------------------
flag 88231 term 54 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 37029 term 54 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 319}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 319}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 89121 term 54 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 55746 term 54 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 27666 term 54 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 12460 term 54 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 26454 term 54 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 67058 term 54 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35579 term 54 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 42392 term 54 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 55 server 1 vote for server 0
term 55 server 0 get vote from server 1
term 55 server 0 become leader
------------------------------------------------------
flag 66943 term 55 leader 0 nextIndex[1]: 320  matchIndex[1]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 83872 term 55 leader 0 nextIndex[2]: 320  matchIndex[2]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 319}]
------------------------------------------------------
client write log 6992357473727174072 (index 320) to leader 0
flag 29057 term 54 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 66942 term 54 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65804 term 55 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 72 term 55 leader 0 nextIndex[2]: 320  matchIndex[2]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 52 319} {6992357473727174072 55 320}]
------------------------------------------------------
flag 63958 term 54 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 1189 term 54 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 79481 term 55 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 55 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
flag 47085 term 55 leader 0 nextIndex[2]: 320  matchIndex[2]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 320 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 52 319} {6992357473727174072 55 320}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4485597561609712267 (index 321) to leader 0
client write log 5835967713005141262 (index 322) to leader 0
client write log 4162421543590638503 (index 323) to leader 0
client write log 6571989859404043983 (index 324) to leader 0
client write log 5921766498428934307 (index 325) to leader 0
client write log 8652059969101563778 (index 326) to leader 0
client write log 8875553694538228483 (index 327) to leader 0
client write log 3276698519084186825 (index 328) to leader 0
client write log 7752044766704701141 (index 329) to leader 0
client write log 8717438325096324515 (index 330) to leader 0
client write log 4689312573883428022 (index 331) to leader 0
flag 49287 term 54 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 59819 term 54 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 16286 term 55 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 55 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
flag 17435 term 55 leader 0 nextIndex[2]: 320  matchIndex[2]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 320 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 52 319} {6992357473727174072 55 320} {4485597561609712267 55 321} {5835967713005141262 55 322} {4162421543590638503 55 323} {6571989859404043983 55 324} {5921766498428934307 55 325} {8652059969101563778 55 326} {8875553694538228483 55 327} {3276698519084186825 55 328} {7752044766704701141 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
term 55 Server0 start snapshot! index=329
term 55 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=331
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74872 term 54 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 89887 term 54 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 65600 term 55 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 55 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
term 55 leader 0 nextIndex[2]: 320  matchIndex[2]: 0
term 55 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 55
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
term 55 Server1 start snapshot! index=329
term 55 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=331
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 320->319
------------------------------------------------------
!!!!!!connect server 2
client write log 6171829987800090286 (index 320) to leader 2
flag 25357 term 54 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 leader 2 nextIndex[1]: 0  matchIndex[1]: 319
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
term 55 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 54 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 55 server 0 AppendEntries false 领导者任期过期 args.Term 54
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92984 term 55 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 55 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
term 55 leader 0 nextIndex[2]: 320  matchIndex[2]: 0
term 55 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 55
------------------------------------------------------
term 55 server 2 InstallSnapshot success
------------------------------------------------------
term 55 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
term 55 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 55 rf.commitIndex 329 rf.lastApplied 329
term 55 server 1 not vote for server 2, 日志不够新
term 55 server 0 not vote for server 2, 日志不够新
term 56 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 57 server 2 vote for server 0
term 57 server 0 get vote from server 2
term 57 server 1 vote for server 0
term 57 server 0 become leader
------------------------------------------------------
term 57 server 0 get outdate rpc reply from server 1
flag 78075 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 0
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
flag 52289 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 0
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
term 57 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 332->331
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
flag 17152 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
flag 81795 term 57 leader 0 nextIndex[2]: 330  matchIndex[2]: 0
term 57 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18007 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
flag 12892 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60383 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
flag 60003 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76597 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
flag 72794 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
flag 95086 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
flag 77568 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5940 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
flag 60138 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
term 57 server 2 not vote for server 0, 任期不够新
term 57 server 0 get outdate rpc reply from server 2
flag 71132 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
flag 17930 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85337 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
flag 79344 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
term 57 server 2 not vote for server 0, 任期不够新
term 57 server 0 get outdate rpc reply from server 2
flag 25747 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
flag 4139 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
term 57 server 1 not vote for server 0, 任期不够新
term 57 server 0 get outdate rpc reply from server 1
flag 96301 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
flag 75039 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
flag 80247 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
flag 32005 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75807 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
flag 82588 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
flag 94656 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
flag 49157 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
flag 4474 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
flag 11559 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
flag 32270 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
flag 12394 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
flag 46222 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
flag 51884 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 57 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57469 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
flag 33288 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
flag 81332 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
flag 42919 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331}]
------------------------------------------------------
client write log 6171829987800090286 (index 332) to leader 0
flag 14298 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
flag 15161 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 55 leaderCommit: 331 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331} {6171829987800090286 57 332}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331} {6171829987800090286 57 332}]
------------------------------------------------------
flag 84358 term 57 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 57 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 57 leaderCommit: 332 
------------------------------------------------------
flag 50906 term 57 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 57 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 57 leaderCommit: 332 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331} {6171829987800090286 57 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331} {6171829987800090286 57 332}]
------------------------------------------------------
term 57 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12323 term 57 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 57 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 57 leaderCommit: 332 
------------------------------------------------------
flag 43068 term 57 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 57 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 57 leaderCommit: 332 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331} {6171829987800090286 57 332}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331} {6171829987800090286 57 332}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8653 term 57 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 57 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 57 leaderCommit: 332 
------------------------------------------------------
flag 40651 term 57 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 57 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 57 leaderCommit: 332 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331} {6171829987800090286 57 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331} {6171829987800090286 57 332}]
------------------------------------------------------
flag 9947 term 57 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 57 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 57 leaderCommit: 332 
------------------------------------------------------
flag 64194 term 57 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 57 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 57 leaderCommit: 332 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331} {6171829987800090286 57 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331} {6171829987800090286 57 332}]
------------------------------------------------------
term 57 server 1 not vote for server 0, 任期不够新
term 57 server 0 get outdate rpc reply from server 1
flag 17763 term 57 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 57 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 57 leaderCommit: 332 
------------------------------------------------------
flag 45847 term 57 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 57 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 57 leaderCommit: 332 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331} {6171829987800090286 57 332}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331} {6171829987800090286 57 332}]
------------------------------------------------------
flag 20012 term 57 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 57 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 57 leaderCommit: 332 
------------------------------------------------------
flag 28727 term 57 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 57 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 57 leaderCommit: 332 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331} {6171829987800090286 57 332}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331} {6171829987800090286 57 332}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6883017755224853153 (index 333) to leader 0
flag 51900 term 57 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 57 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 57 leaderCommit: 332 
------------------------------------------------------
flag 95081 term 57 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 57 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 57 leaderCommit: 332 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331} {6171829987800090286 57 332} {6883017755224853153 57 333}]
------------------------------------------------------
term 57 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32366 term 57 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 57 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 57 leaderCommit: 333 
------------------------------------------------------
flag 86535 term 57 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 57 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 57 leaderCommit: 333 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331} {6171829987800090286 57 332} {6883017755224853153 57 333}]
------------------------------------------------------
client write log 7182028488224453676 (index 334) to leader 0
client write log 2884929869423496864 (index 335) to leader 0
client write log 7065402392971208982 (index 336) to leader 0
client write log 9147654710707686306 (index 337) to leader 0
client write log 1383453155833657982 (index 338) to leader 0
client write log 5201527346133684108 (index 339) to leader 0
client write log 4673589218219706800 (index 340) to leader 0
client write log 5164270435844696769 (index 341) to leader 0
client write log 7571948239013939284 (index 342) to leader 0
flag 83945 term 57 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 57 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 57 leaderCommit: 333 
------------------------------------------------------
flag 10362 term 57 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 57 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 57 leaderCommit: 333 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 55 329} {8717438325096324515 55 330} {4689312573883428022 55 331} {6171829987800090286 57 332} {6883017755224853153 57 333} {7182028488224453676 57 334} {2884929869423496864 57 335} {7065402392971208982 57 336} {9147654710707686306 57 337} {1383453155833657982 57 338} {5201527346133684108 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342}]
------------------------------------------------------
term 57 Server0 start snapshot! index=339
term 57 server0 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=342
-------------------------------------------------------------
term 57 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 57 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 57
------------------------------------------------------
flag 51619 term 57 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 57 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342}]
------------------------------------------------------
term 57 Server2 start snapshot! index=339
term 57 server2 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=342
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8005043139601188319 (index 343) to leader 0
term 57 server 2 not vote for server 1, 日志不够新
term 57 server 0 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 59 server 2 vote for server 0
term 59 server 0 get vote from server 2
term 59 server 0 become leader
------------------------------------------------------
term 59 server 1 vote for server 0
term 59 server 0 get outdate rpc reply from server 1
flag 41249 term 59 leader 0 nextIndex[1]: 344  matchIndex[1]: 0
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
flag 98154 term 59 leader 0 nextIndex[2]: 344  matchIndex[2]: 0
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 344->343
------------------------------------------------------
term 59 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 344->343
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 59 leader 0 nextIndex[1]: 333  matchIndex[1]: 0
term 59 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 57
------------------------------------------------------
flag 78060 term 59 leader 0 nextIndex[2]: 343  matchIndex[2]: 0
term 59 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
term 59 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 57 rf.commitIndex 339 rf.lastApplied 339
term 59 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 340 matchIndex[1] 339 
------------------------------------------------------------------------
flag 90870 term 59 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 59 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
flag 8262 term 59 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
flag 82728 term 59 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
flag 48936 term 59 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
flag 9727 term 59 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
flag 57437 term 59 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95624 term 59 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
flag 94623 term 59 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23810 term 59 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
flag 95698 term 59 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
flag 32014 term 59 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
flag 19347 term 59 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
flag 24007 term 59 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
flag 13413 term 59 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
flag 70805 term 59 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
flag 31799 term 59 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44097 term 59 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
flag 97672 term 59 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
flag 86625 term 59 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
flag 21020 term 59 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19810 term 59 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
flag 77442 term 59 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
flag 81885 term 59 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
flag 3903 term 59 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
flag 60250 term 59 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
flag 58698 term 59 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
flag 98117 term 59 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
flag 86142 term 59 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64359 term 59 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
flag 52798 term 59 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59941 term 59 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
flag 84493 term 59 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
flag 24200 term 59 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
flag 43165 term 59 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
flag 1520 term 59 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
flag 84003 term 59 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343}]
------------------------------------------------------
client write log 8005043139601188319 (index 344) to leader 0
term 59 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8529 term 59 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
flag 49581 term 59 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 59 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343} {8005043139601188319 59 344}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343} {8005043139601188319 59 344}]
------------------------------------------------------
term 59 server 2 not vote for server 0, 任期不够新
term 59 server 0 get outdate rpc reply from server 2
flag 27172 term 59 leader 0 nextIndex[1]: 345  matchIndex[1]: 344
term 59 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 76698 term 59 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 59 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343} {8005043139601188319 59 344}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343} {8005043139601188319 59 344}]
------------------------------------------------------
flag 27881 term 59 leader 0 nextIndex[1]: 345  matchIndex[1]: 344
term 59 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 73946 term 59 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 59 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343} {8005043139601188319 59 344}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343} {8005043139601188319 59 344}]
------------------------------------------------------
flag 57852 term 59 leader 0 nextIndex[1]: 345  matchIndex[1]: 344
term 59 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 3053 term 59 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 59 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343} {8005043139601188319 59 344}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343} {8005043139601188319 59 344}]
------------------------------------------------------
flag 41479 term 59 leader 0 nextIndex[1]: 345  matchIndex[1]: 344
term 59 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 28236 term 59 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 59 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343} {8005043139601188319 59 344}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343} {8005043139601188319 59 344}]
------------------------------------------------------
flag 14794 term 59 leader 0 nextIndex[1]: 345  matchIndex[1]: 344
term 59 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 35466 term 59 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 59 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343} {8005043139601188319 59 344}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343} {8005043139601188319 59 344}]
------------------------------------------------------
flag 15360 term 59 leader 0 nextIndex[1]: 345  matchIndex[1]: 344
term 59 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 53179 term 59 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 59 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343} {8005043139601188319 59 344}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 57 339} {4673589218219706800 57 340} {5164270435844696769 57 341} {7571948239013939284 57 342} {8005043139601188319 57 343} {8005043139601188319 59 344}]
------------------------------------------------------
  ... Passed --  81.4  3 1859  772569  344
--- PASS: TestSnapshotInstall2D (81.40s)
PASS
