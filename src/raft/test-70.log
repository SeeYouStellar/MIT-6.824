=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 0 vote for server 1
term 1 server 1 get vote from server 0
term 1 server 1 become leader
------------------------------------------------------
term 1 server 1 get outdate rpc reply from server 2
flag 94554 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 82920 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 7192322949234714224 (index 1) to leader 1
flag 14441 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 27758 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7192322949234714224 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7192322949234714224 1 1}]
------------------------------------------------------
flag 56175 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 4952 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7192322949234714224 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7192322949234714224 1 1}]
------------------------------------------------------
flag 12935 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 14880 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7192322949234714224 1 1}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7192322949234714224 1 1}]
------------------------------------------------------
flag 98453 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 58190 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7192322949234714224 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7192322949234714224 1 1}]
------------------------------------------------------
flag 43627 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 9167 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7192322949234714224 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7192322949234714224 1 1}]
------------------------------------------------------
flag 66818 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 48189 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7192322949234714224 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7192322949234714224 1 1}]
------------------------------------------------------
flag 46739 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 80345 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
[{<nil> 0 0} {7192322949234714224 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7192322949234714224 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5730423221425243943 (index 2) to leader 1
flag 12164 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 18706 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7192322949234714224 1 1} {5730423221425243943 1 2}]
------------------------------------------------------
flag 93978 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 95826 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7192322949234714224 1 1} {5730423221425243943 1 2}]
------------------------------------------------------
client write log 5418900800751892766 (index 3) to leader 1
client write log 3348068901651244011 (index 4) to leader 1
client write log 5343646398428541302 (index 5) to leader 1
client write log 1117417359597269577 (index 6) to leader 1
client write log 6820258744538388160 (index 7) to leader 1
client write log 6739555457615232221 (index 8) to leader 1
client write log 2152222006821657619 (index 9) to leader 1
client write log 2507731851646769030 (index 10) to leader 1
client write log 6075233905378533891 (index 11) to leader 1
flag 97456 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 34855 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{<nil> 0 0} {7192322949234714224 1 1} {5730423221425243943 1 2} {5418900800751892766 1 3} {3348068901651244011 1 4} {5343646398428541302 1 5} {1117417359597269577 1 6} {6820258744538388160 1 7} {6739555457615232221 1 8} {2152222006821657619 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=11
-------------------------------------------------------------
flag 10751 term 1 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 1 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=11
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1207826034354067257 (index 12) to leader 1
term 1 server 0 not vote for server 2, 日志不够新
term 1 server 1 not vote for server 2, 日志不够新
term 3 server 2 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 0 vote for server 1
term 3 server 1 get outdate rpc reply from server 0
flag 31140 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 1391 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 13->12
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 13->12
------------------------------------------------------
flag 63481 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
flag 90181 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 58581 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
flag 70642 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 10027 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
flag 2956 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 31001 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
flag 82668 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 73530 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
flag 16354 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 25688 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
flag 77438 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 21522 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
flag 47630 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 49169 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
flag 45583 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 59925 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
flag 43017 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 35321 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
flag 22869 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 3565 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
flag 2536 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 26091 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
flag 99449 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 12952 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
flag 3147 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 58639 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
flag 51097 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 44470 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
flag 20117 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 52150 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
flag 31144 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 94350 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
flag 12052 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 43363 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12}]
------------------------------------------------------
client write log 1207826034354067257 (index 13) to leader 1
flag 26092 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 2035 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12} {1207826034354067257 3 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12} {1207826034354067257 3 13}]
------------------------------------------------------
flag 70600 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 13071 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12} {1207826034354067257 3 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12} {1207826034354067257 3 13}]
------------------------------------------------------
flag 79739 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 47123 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12} {1207826034354067257 3 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12} {1207826034354067257 3 13}]
------------------------------------------------------
flag 61089 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 80411 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12} {1207826034354067257 3 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12} {1207826034354067257 3 13}]
------------------------------------------------------
flag 750 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 42369 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12} {1207826034354067257 3 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12} {1207826034354067257 3 13}]
------------------------------------------------------
flag 32897 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 48564 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12} {1207826034354067257 3 13}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12} {1207826034354067257 3 13}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 49361 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 36169 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 98642 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 53226 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 68331 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 21610 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 48875 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 81110 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 vote for server 2
term 4 server 2 get vote from server 0
term 4 server 2 become leader
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20347 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 39229 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12} {1207826034354067257 3 13}]
------------------------------------------------------
client write log 2224449474637067865 (index 14) to leader 2
flag 91066 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 57118 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 5560 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 27710 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12} {1207826034354067257 3 13} {2224449474637067865 4 14}]
------------------------------------------------------
flag 71916 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 81233 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 31402 term 4 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 66527 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12} {1207826034354067257 3 13} {2224449474637067865 4 14}]
------------------------------------------------------
client write log 673972097494892965 (index 15) to leader 2
client write log 5955278067734006153 (index 16) to leader 2
client write log 2309103363394040423 (index 17) to leader 2
client write log 7631318713241892219 (index 18) to leader 2
client write log 7030744817720902411 (index 19) to leader 2
client write log 2202646523048798890 (index 20) to leader 2
client write log 7200876372402674145 (index 21) to leader 2
client write log 9041745907273847077 (index 22) to leader 2
client write log 5975494211209101098 (index 23) to leader 2
flag 63919 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 57948 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 14->13
------------------------------------------------------
flag 9891 term 4 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 70585 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 1 9} {2507731851646769030 1 10} {6075233905378533891 1 11} {1207826034354067257 1 12} {1207826034354067257 3 13} {2224449474637067865 4 14} {673972097494892965 4 15} {5955278067734006153 4 16} {2309103363394040423 4 17} {7631318713241892219 4 18} {7030744817720902411 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=23
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 14->13
------------------------------------------------------
flag 74033 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 13
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 1533 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=23
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2455304030127561316 (index 14) to leader 1
flag 39471 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 13
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
term 4 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74519 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot success
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43753 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 10081 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
flag 25527 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 82866 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51525 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 22780 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31747 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 63325 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
flag 29115 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 96935 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
flag 34234 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 77177 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
flag 9723 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 4595 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38433 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 66384 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
flag 69390 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 10233 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
flag 35232 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 8272 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
flag 32974 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 65535 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
flag 79681 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 40524 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88934 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 90498 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
flag 64230 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 28138 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
flag 52474 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 88479 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
flag 86917 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 2014 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
flag 4965 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 84520 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
flag 52808 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 31427 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
flag 71770 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 66096 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 24->23
------------------------------------------------------
client write log 2455304030127561316 (index 24) to leader 2
flag 96148 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 23
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 23 args.LastIncludedIndex 19
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23} {2455304030127561316 4 24}]
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47304 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 11208 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23} {2455304030127561316 4 24}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23} {2455304030127561316 4 24}]
------------------------------------------------------
flag 44190 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 48201 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23} {2455304030127561316 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23} {2455304030127561316 4 24}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62064 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 60130 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23} {2455304030127561316 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23} {2455304030127561316 4 24}]
------------------------------------------------------
flag 68107 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 69110 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23} {2455304030127561316 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23} {2455304030127561316 4 24}]
------------------------------------------------------
flag 6084 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 67400 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23} {2455304030127561316 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23} {2455304030127561316 4 24}]
------------------------------------------------------
flag 48391 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 90323 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23} {2455304030127561316 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23} {2455304030127561316 4 24}]
------------------------------------------------------
flag 88204 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 92352 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23} {2455304030127561316 4 24}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23} {2455304030127561316 4 24}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8644903857361067719 (index 25) to leader 2
flag 45024 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 92409 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23} {2455304030127561316 4 24} {8644903857361067719 4 25}]
------------------------------------------------------
flag 97099 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 47657 term 4 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23} {2455304030127561316 4 24} {8644903857361067719 4 25}]
------------------------------------------------------
client write log 1190276246723876513 (index 26) to leader 2
client write log 966891972484415399 (index 27) to leader 2
client write log 2141684599129848581 (index 28) to leader 2
client write log 6081072002239612408 (index 29) to leader 2
client write log 5000303928672013752 (index 30) to leader 2
client write log 8358590914077519796 (index 31) to leader 2
flag 25007 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 26843 term 4 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 19} {2202646523048798890 4 20} {7200876372402674145 4 21} {9041745907273847077 4 22} {5975494211209101098 4 23} {2455304030127561316 4 24} {8644903857361067719 4 25} {1190276246723876513 4 26} {966891972484415399 4 27} {2141684599129848581 4 28} {6081072002239612408 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=31
-------------------------------------------------------------
term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 50419 term 4 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
term 4 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31}]
------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=31
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5112244664839444235 (index 32) to leader 2
term 4 server 2 not vote for server 0, 日志不够新
term 4 server 1 not vote for server 0, 日志不够新
term 6 server 1 vote for server 2
term 6 server 0 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 2 get outdate rpc reply from server 0
flag 52543 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 68824 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 33->32
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 33->32
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 0
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 95317 term 6 leader 2 nextIndex[1]: 32  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
flag 65885 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 77816 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
flag 93741 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 59271 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
term 6 server 1 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26734 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 17440 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
flag 4053 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 39650 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
flag 89635 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 68621 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10768 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 19798 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98176 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 6189 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
flag 91182 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 90675 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
flag 13943 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 46073 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
flag 7562 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 41339 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
flag 65706 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 17504 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84505 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 43029 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
flag 98120 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 80768 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
flag 70114 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 26245 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
flag 102 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 64443 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1771 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 14933 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
flag 83563 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 31465 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13371 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 24268 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32}]
------------------------------------------------------
client write log 5112244664839444235 (index 33) to leader 2
flag 3677 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 60061 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32} {5112244664839444235 6 33}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32} {5112244664839444235 6 33}]
------------------------------------------------------
flag 11898 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 4743 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32} {5112244664839444235 6 33}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32} {5112244664839444235 6 33}]
------------------------------------------------------
flag 51977 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 13168 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32} {5112244664839444235 6 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32} {5112244664839444235 6 33}]
------------------------------------------------------
flag 97652 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 60958 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32} {5112244664839444235 6 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32} {5112244664839444235 6 33}]
------------------------------------------------------
flag 35105 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 17442 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32} {5112244664839444235 6 33}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32} {5112244664839444235 6 33}]
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72672 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 84700 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32} {5112244664839444235 6 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32} {5112244664839444235 6 33}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7517846130635190838 (index 34) to leader 2
flag 34293 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 88807 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32} {5112244664839444235 6 33} {7517846130635190838 6 34}]
------------------------------------------------------
flag 76999 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 10992 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32} {5112244664839444235 6 33} {7517846130635190838 6 34}]
------------------------------------------------------
client write log 5277715548927396411 (index 35) to leader 2
client write log 6322550943166124805 (index 36) to leader 2
client write log 2728452426595407299 (index 37) to leader 2
client write log 652043401748090493 (index 38) to leader 2
client write log 894995011892405225 (index 39) to leader 2
client write log 4023092848423718338 (index 40) to leader 2
client write log 6086352172363735938 (index 41) to leader 2
client write log 6928447077098376749 (index 42) to leader 2
client write log 1295817534728948608 (index 43) to leader 2
client write log 831217635627482960 (index 44) to leader 2
client write log 3198278737699354639 (index 45) to leader 2
client write log 6408537111958083020 (index 46) to leader 2
flag 98254 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 56818 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 29} {5000303928672013752 4 30} {8358590914077519796 4 31} {5112244664839444235 4 32} {5112244664839444235 6 33} {7517846130635190838 6 34} {5277715548927396411 6 35} {6322550943166124805 6 36} {2728452426595407299 6 37} {652043401748090493 6 38} {894995011892405225 6 39} {4023092848423718338 6 40} {6086352172363735938 6 41} {6928447077098376749 6 42} {1295817534728948608 6 43} {831217635627482960 6 44} {3198278737699354639 6 45} {6408537111958083020 6 46}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=46
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 2567 term 6 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 6 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4023092848423718338 6 40} {6086352172363735938 6 41} {6928447077098376749 6 42} {1295817534728948608 6 43} {831217635627482960 6 44} {3198278737699354639 6 45} {6408537111958083020 6 46}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=46
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1479548742913676022 (index 47) to leader 2
term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 78555 term 6 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 6 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4023092848423718338 6 40} {6086352172363735938 6 41} {6928447077098376749 6 42} {1295817534728948608 6 43} {831217635627482960 6 44} {3198278737699354639 6 45} {6408537111958083020 6 46} {1479548742913676022 6 47}]
------------------------------------------------------
term 7 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 1 vote for server 2
term 8 server 0 vote for server 2
term 8 server 2 get vote from server 1
term 8 server 2 become leader
------------------------------------------------------
term 8 server 2 get outdate rpc reply from server 0
flag 72951 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 64137 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 48->47
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4023092848423718338 6 40} {6086352172363735938 6 41} {6928447077098376749 6 42} {1295817534728948608 6 43} {831217635627482960 6 44} {3198278737699354639 6 45} {6408537111958083020 6 46} {1479548742913676022 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 34  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 94473 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 0 InstallSnapshot success
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4023092848423718338 6 40} {6086352172363735938 6 41} {6928447077098376749 6 42} {1295817534728948608 6 43} {831217635627482960 6 44} {3198278737699354639 6 45} {6408537111958083020 6 46} {1479548742913676022 6 47}]
------------------------------------------------------
flag 19587 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 96016 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4023092848423718338 6 40} {6086352172363735938 6 41} {6928447077098376749 6 42} {1295817534728948608 6 43} {831217635627482960 6 44} {3198278737699354639 6 45} {6408537111958083020 6 46} {1479548742913676022 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4023092848423718338 6 40} {6086352172363735938 6 41} {6928447077098376749 6 42} {1295817534728948608 6 43} {831217635627482960 6 44} {3198278737699354639 6 45} {6408537111958083020 6 46} {1479548742913676022 6 47}]
------------------------------------------------------
flag 47157 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 25210 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4023092848423718338 6 40} {6086352172363735938 6 41} {6928447077098376749 6 42} {1295817534728948608 6 43} {831217635627482960 6 44} {3198278737699354639 6 45} {6408537111958083020 6 46} {1479548742913676022 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4023092848423718338 6 40} {6086352172363735938 6 41} {6928447077098376749 6 42} {1295817534728948608 6 43} {831217635627482960 6 44} {3198278737699354639 6 45} {6408537111958083020 6 46} {1479548742913676022 6 47}]
------------------------------------------------------
flag 23534 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 43381 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4023092848423718338 6 40} {6086352172363735938 6 41} {6928447077098376749 6 42} {1295817534728948608 6 43} {831217635627482960 6 44} {3198278737699354639 6 45} {6408537111958083020 6 46} {1479548742913676022 6 47}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4023092848423718338 6 40} {6086352172363735938 6 41} {6928447077098376749 6 42} {1295817534728948608 6 43} {831217635627482960 6 44} {3198278737699354639 6 45} {6408537111958083020 6 46} {1479548742913676022 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65374 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 27319 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4023092848423718338 6 40} {6086352172363735938 6 41} {6928447077098376749 6 42} {1295817534728948608 6 43} {831217635627482960 6 44} {3198278737699354639 6 45} {6408537111958083020 6 46} {1479548742913676022 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4023092848423718338 6 40} {6086352172363735938 6 41} {6928447077098376749 6 42} {1295817534728948608 6 43} {831217635627482960 6 44} {3198278737699354639 6 45} {6408537111958083020 6 46} {1479548742913676022 6 47}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58495 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 64757 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
[{snapshot 6 39} {4023092848423718338 6 40} {6086352172363735938 6 41} {6928447077098376749 6 42} {1295817534728948608 6 43} {831217635627482960 6 44} {3198278737699354639 6 45} {6408537111958083020 6 46} {1479548742913676022 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4023092848423718338 6 40} {6086352172363735938 6 41} {6928447077098376749 6 42} {1295817534728948608 6 43} {831217635627482960 6 44} {3198278737699354639 6 45} {6408537111958083020 6 46} {1479548742913676022 6 47}]
------------------------------------------------------
flag 53470 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 6953 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4023092848423718338 6 40} {6086352172363735938 6 41} {6928447077098376749 6 42} {1295817534728948608 6 43} {831217635627482960 6 44} {3198278737699354639 6 45} {6408537111958083020 6 46} {1479548742913676022 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4023092848423718338 6 40} {6086352172363735938 6 41} {6928447077098376749 6 42} {1295817534728948608 6 43} {831217635627482960 6 44} {3198278737699354639 6 45} {6408537111958083020 6 46} {1479548742913676022 6 47}]
------------------------------------------------------
flag 34625 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 86802 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4023092848423718338 6 40} {6086352172363735938 6 41} {6928447077098376749 6 42} {1295817534728948608 6 43} {831217635627482960 6 44} {3198278737699354639 6 45} {6408537111958083020 6 46} {1479548742913676022 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4023092848423718338 6 40} {6086352172363735938 6 41} {6928447077098376749 6 42} {1295817534728948608 6 43} {831217635627482960 6 44} {3198278737699354639 6 45} {6408537111958083020 6 46} {1479548742913676022 6 47}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 63731 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 75142 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 18960 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 84149 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71073 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 76064 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 9 server 0 vote for server 1
term 9 server 1 get vote from server 0
term 9 server 1 become leader
------------------------------------------------------
flag 58328 term 9 leader 1 nextIndex[0]: 48  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 81787 term 9 leader 1 nextIndex[2]: 48  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4023092848423718338 6 40} {6086352172363735938 6 41} {6928447077098376749 6 42} {1295817534728948608 6 43} {831217635627482960 6 44} {3198278737699354639 6 45} {6408537111958083020 6 46} {1479548742913676022 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 48->47
------------------------------------------------------
flag 29003 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 47
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
client write log 6780759870247858189 (index 48) to leader 1
flag 6526 term 9 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 9 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 55483 term 9 leader 1 nextIndex[2]: 48  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {4023092848423718338 6 40} {6086352172363735938 6 41} {6928447077098376749 6 42} {1295817534728948608 6 43} {831217635627482960 6 44} {3198278737699354639 6 45} {6408537111958083020 6 46} {1479548742913676022 6 47} {6780759870247858189 9 48}]
------------------------------------------------------
flag 39221 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 47
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 74106 term 9 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 9 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
flag 26503 term 9 leader 1 nextIndex[2]: 48  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {4023092848423718338 6 40} {6086352172363735938 6 41} {6928447077098376749 6 42} {1295817534728948608 6 43} {831217635627482960 6 44} {3198278737699354639 6 45} {6408537111958083020 6 46} {1479548742913676022 6 47} {6780759870247858189 9 48}]
------------------------------------------------------
flag 72340 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 47
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
client write log 569348978889482008 (index 49) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21158 term 9 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 9 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
flag 8481 term 9 leader 1 nextIndex[2]: 48  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 39} {4023092848423718338 6 40} {6086352172363735938 6 41} {6928447077098376749 6 42} {1295817534728948608 6 43} {831217635627482960 6 44} {3198278737699354639 6 45} {6408537111958083020 6 46} {1479548742913676022 6 47} {6780759870247858189 9 48} {569348978889482008 9 49}]
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
flag 46914 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 47
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 13495 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 48  matchIndex[2]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 9 49}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
flag 88582 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 47
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
!!!!!!connect server 2
client write log 2673655480821630770 (index 50) to leader 1
flag 86283 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 48  matchIndex[2]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {2673655480821630770 9 50}]
------------------------------------------------------
flag 81619 term 9 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 56805 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {2673655480821630770 9 50}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {2673655480821630770 9 50}]
------------------------------------------------------
flag 85963 term 9 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 19415 term 9 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {2673655480821630770 9 50}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {2673655480821630770 9 50}]
------------------------------------------------------
flag 72571 term 9 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 48256 term 9 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {2673655480821630770 9 50}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {2673655480821630770 9 50}]
------------------------------------------------------
flag 10040 term 9 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 84986 term 9 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {2673655480821630770 9 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {2673655480821630770 9 50}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57142 term 9 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 17237 term 9 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {2673655480821630770 9 50}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {2673655480821630770 9 50}]
------------------------------------------------------
flag 1490 term 9 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 62576 term 9 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {2673655480821630770 9 50}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {2673655480821630770 9 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 51->50
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4574549604534445655 (index 51) to leader 1
flag 87022 term 9 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 50
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {2673655480821630770 9 50} {4574549604534445655 9 51}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75855 term 9 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 50
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {2673655480821630770 9 50} {4574549604534445655 9 51}]
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 3403015312974930660 (index 52) to leader 1
client write log 2754674058355761600 (index 53) to leader 1
client write log 8348471114726061515 (index 54) to leader 1
client write log 5287071708160590576 (index 55) to leader 1
client write log 3512130591785713210 (index 56) to leader 1
client write log 6009616729055593210 (index 57) to leader 1
client write log 3455766420621562492 (index 58) to leader 1
client write log 2507869317222329329 (index 59) to leader 1
client write log 4309642950555844906 (index 60) to leader 1
client write log 2810467354534874566 (index 61) to leader 1
client write log 2074559510776393940 (index 62) to leader 1
client write log 4854401639880791417 (index 63) to leader 1
client write log 9170725620930457213 (index 64) to leader 1
client write log 5723211304225121101 (index 65) to leader 1
client write log 1679677154154273059 (index 66) to leader 1
flag 79373 term 9 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 50
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 49} {2673655480821630770 9 50} {4574549604534445655 9 51} {3403015312974930660 9 52} {2754674058355761600 9 53} {8348471114726061515 9 54} {5287071708160590576 9 55} {3512130591785713210 9 56} {6009616729055593210 9 57} {3455766420621562492 9 58} {2507869317222329329 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=66
-------------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
term 10 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37515 term 9 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 9 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 98300 term 9 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 9 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66}]
------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=66
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4829613644877057095 (index 67) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10014 term 9 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 9 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 70508 term 9 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 9 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 10 server 2 AppendEntries false 领导者任期过期 args.Term 9
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 server 1 not vote for server 2, 日志不够新
term 9 server 0 not vote for server 2, 日志不够新
term 12 server 2 vote for server 0
term 12 server 0 get vote from server 2
term 12 server 0 become leader
------------------------------------------------------
term 12 server 1 vote for server 0
term 12 server 0 get outdate rpc reply from server 1
flag 17589 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 0
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 51318 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 0
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 68->67
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
term 12 server 2 not vote for server 1, 任期不够新
term 12 server 1 get outdate rpc reply from server 2
term 12 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96707 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 leader 0 nextIndex[2]: 51  matchIndex[2]: 0
term 12 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 12 server 2 InstallSnapshot success
------------------------------------------------------
term 12 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96655 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 80128 term 12 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 12 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:59 
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55091 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 37629 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
flag 20022 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 92486 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77244 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 56528 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
flag 91892 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 49913 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
term 12 server 1 not vote for server 0, 任期不够新
term 12 server 0 get outdate rpc reply from server 1
flag 86643 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 63442 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
flag 4578 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 88686 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6945 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 13761 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45144 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 61504 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
flag 78500 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 98503 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
flag 46217 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 91243 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
term 12 server 2 not vote for server 0, 任期不够新
term 12 server 0 get outdate rpc reply from server 2
flag 71689 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 61989 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95807 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 98439 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
flag 41628 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 61995 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67}]
------------------------------------------------------
client write log 4829613644877057095 (index 68) to leader 0
flag 21847 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 14899 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67} {4829613644877057095 12 68}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67} {4829613644877057095 12 68}]
------------------------------------------------------
flag 13398 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
flag 97945 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67} {4829613644877057095 12 68}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67} {4829613644877057095 12 68}]
------------------------------------------------------
flag 34626 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
flag 79697 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67} {4829613644877057095 12 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67} {4829613644877057095 12 68}]
------------------------------------------------------
flag 5460 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
flag 76738 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67} {4829613644877057095 12 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67} {4829613644877057095 12 68}]
------------------------------------------------------
flag 38882 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
flag 33687 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67} {4829613644877057095 12 68}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67} {4829613644877057095 12 68}]
------------------------------------------------------
flag 60843 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
flag 6067 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67} {4829613644877057095 12 68}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67} {4829613644877057095 12 68}]
------------------------------------------------------
term 12 server 1 not vote for server 2, 任期不够新
term 12 server 2 get outdate rpc reply from server 1
flag 1348 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
flag 12184 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67} {4829613644877057095 12 68}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67} {4829613644877057095 12 68}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 855688108603288459 (index 69) to leader 0
flag 31606 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
flag 82928 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 59} {4309642950555844906 9 60} {2810467354534874566 9 61} {2074559510776393940 9 62} {4854401639880791417 9 63} {9170725620930457213 9 64} {5723211304225121101 9 65} {1679677154154273059 9 66} {4829613644877057095 9 67} {4829613644877057095 12 68} {855688108603288459 12 69}]
------------------------------------------------------
term 12 Server0 start snapshot! index=69
term 12 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
term 12 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 12
------------------------------------------------------
flag 67861 term 12 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 12 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 12 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 12 69}]
------------------------------------------------------
term 12 Server2 start snapshot! index=69
term 12 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
client write log 2793194981007913810 (index 70) to leader 0
client write log 2876031919404709455 (index 71) to leader 0
client write log 326894340430434701 (index 72) to leader 0
client write log 7809551898919104570 (index 73) to leader 0
client write log 3773291076410966212 (index 74) to leader 0
client write log 2999691532986601978 (index 75) to leader 0
client write log 4815928120550735750 (index 76) to leader 0
client write log 5184190957328614505 (index 77) to leader 0
client write log 3651268891846663245 (index 78) to leader 0
client write log 1766102317551970220 (index 79) to leader 0
client write log 2094048219986290512 (index 80) to leader 0
client write log 2503150897119280693 (index 81) to leader 0
client write log 5699546200842124541 (index 82) to leader 0
client write log 1143391070820868380 (index 83) to leader 0
client write log 1982115898106566299 (index 84) to leader 0
term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 12
------------------------------------------------------
flag 84021 term 12 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 12 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 12 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=84
leader log:
[{snapshot 12 69} {2793194981007913810 12 70} {2876031919404709455 12 71} {326894340430434701 12 72} {7809551898919104570 12 73} {3773291076410966212 12 74} {2999691532986601978 12 75} {4815928120550735750 12 76} {5184190957328614505 12 77} {3651268891846663245 12 78} {1766102317551970220 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84}]
------------------------------------------------------
term 12 Server0 start snapshot! index=79
term 12 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=84
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 49160 term 12 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 12 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84}]
------------------------------------------------------
term 12 Server2 start snapshot! index=79
term 12 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=84
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1701680138838606327 (index 85) to leader 0
term 12 server 2 not vote for server 1, 日志不够新
term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 44144 term 12 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 12 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 13 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 server 2 AppendEntries false 领导者任期过期 args.Term 12
------------------------------------------------------
term 12 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 2 vote for server 0
term 14 server 0 get vote from server 2
term 14 server 0 become leader
------------------------------------------------------
term 14 server 1 vote for server 0
term 14 server 0 get outdate rpc reply from server 1
flag 42297 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 22203 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 14 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 86->85
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 86->85
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 leader 0 nextIndex[1]: 69  matchIndex[1]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 93313 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
term 14 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 12 rf.commitIndex 79 rf.lastApplied 79
flag 48412 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 87013 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93260 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 48157 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58010 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 56261 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
flag 61821 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 73248 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
flag 74273 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 9183 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
flag 98595 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 63470 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
flag 25475 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 22889 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18764 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 64856 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
flag 95333 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 34910 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77895 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 63904 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
flag 94586 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 45799 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
term 14 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
flag 11163 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 66153 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
term 14 server 0 not vote for server 2, 任期不够新
term 14 server 2 get outdate rpc reply from server 0
flag 35715 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 79392 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65649 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 82744 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
flag 34716 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 28852 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
flag 89803 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 9158 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85}]
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22632 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 79686 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
client write log 1701680138838606327 (index 86) to leader 0
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85} {1701680138838606327 14 86}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85} {1701680138838606327 14 86}]
------------------------------------------------------
flag 43375 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 6446 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85} {1701680138838606327 14 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85} {1701680138838606327 14 86}]
------------------------------------------------------
flag 38337 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 49750 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85} {1701680138838606327 14 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85} {1701680138838606327 14 86}]
------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19448 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 39230 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85} {1701680138838606327 14 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85} {1701680138838606327 14 86}]
------------------------------------------------------
flag 37976 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 88547 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85} {1701680138838606327 14 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85} {1701680138838606327 14 86}]
------------------------------------------------------
flag 75379 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 81566 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85} {1701680138838606327 14 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85} {1701680138838606327 14 86}]
------------------------------------------------------
flag 57534 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 8400 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85} {1701680138838606327 14 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85} {1701680138838606327 14 86}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 17522 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 61425 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 98834 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 4263 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 9132 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 23344 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 59420 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 33755 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 15 server 1 vote for server 2
term 15 server 2 get vote from server 1
term 15 server 2 become leader
------------------------------------------------------
flag 31030 term 15 leader 2 nextIndex[0]: 87  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 90136 term 15 leader 2 nextIndex[1]: 87  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85} {1701680138838606327 14 86}]
------------------------------------------------------
client write log 8591775488994615790 (index 87) to leader 2
flag 45056 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 47713 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 46596 term 15 leader 2 nextIndex[0]: 87  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 36356 term 15 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 15 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85} {1701680138838606327 14 86} {8591775488994615790 15 87}]
------------------------------------------------------
flag 42072 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 7004 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 96934 term 15 leader 2 nextIndex[0]: 87  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 55039 term 15 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 15 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 87 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85} {1701680138838606327 14 86} {8591775488994615790 15 87}]
------------------------------------------------------
client write log 3162628980770875810 (index 88) to leader 2
flag 35074 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 88049 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 7238 term 15 leader 2 nextIndex[0]: 87  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 8323 term 15 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 15 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 87 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85} {1701680138838606327 14 86} {8591775488994615790 15 87} {3162628980770875810 15 88}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 87->86
------------------------------------------------------
flag 16428 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 86
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 26342 term 15 leader 2 nextIndex[0]: 87  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 4121 term 15 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 15 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85} {1701680138838606327 14 86} {8591775488994615790 15 87} {3162628980770875810 15 88}]
------------------------------------------------------
!!!!!!connect server 0
client write log 8688287101293841687 (index 89) to leader 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 80811 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 86
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
term 15 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 15 server 1 AppendEntries false 领导者任期过期 args.Term 14
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 87->86
------------------------------------------------------
term 15 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 61200 term 15 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 15 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 12 79} {2094048219986290512 12 80} {2503150897119280693 12 81} {5699546200842124541 12 82} {1143391070820868380 12 83} {1982115898106566299 12 84} {1701680138838606327 12 85} {1701680138838606327 14 86} {8591775488994615790 15 87} {3162628980770875810 15 88} {8688287101293841687 15 89}]
------------------------------------------------------
term 15 server 0 InstallSnapshot fail
rf.commitIndex 86 args.LastIncludedIndex 79
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
term 15 Server2 start snapshot! index=89
term 15 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
term 15 server 2 not vote for server 0, 日志不够新
term 15 server 1 not vote for server 0, 日志不够新
term 17 server 1 vote for server 2
term 17 server 0 vote for server 2
term 17 server 2 get vote from server 0
term 17 server 2 become leader
------------------------------------------------------
term 17 server 2 get outdate rpc reply from server 1
flag 97687 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 24385 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
term 17 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 90->89
------------------------------------------------------
term 17 Server1 start snapshot! index=89
term 17 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
term 17 leader 2 nextIndex[0]: 87  matchIndex[0]: 0
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 15
------------------------------------------------------
flag 12866 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
term 17 server 0 InstallSnapshot success
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 15 rf.commitIndex 89 rf.lastApplied 89
flag 14785 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 36528 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
flag 31697 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 13229 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6467 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 46685 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42903 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 91401 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
flag 79625 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 46030 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6089339989966224096 (index 90) to leader 2
flag 46177 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 79538 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {6089339989966224096 17 90}]
------------------------------------------------------
flag 88391 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 47255 term 17 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 17 leaderCommit: 90 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {6089339989966224096 17 90}]
------------------------------------------------------
client write log 6468818609785662167 (index 91) to leader 2
client write log 4317991045405184974 (index 92) to leader 2
client write log 62281205699870011 (index 93) to leader 2
client write log 4113843933933984805 (index 94) to leader 2
client write log 5944390123025995017 (index 95) to leader 2
client write log 4147875115676768924 (index 96) to leader 2
client write log 6513712125455818575 (index 97) to leader 2
client write log 3400137365844501389 (index 98) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54026 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 90030 term 17 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 17 leaderCommit: 90 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98}]
------------------------------------------------------
flag 28496 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 98245 term 17 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 17 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98}]
------------------------------------------------------
!!!!!!connect server 0
client write log 4033550369188086783 (index 99) to leader 2
term 17 server 2 not vote for server 0, 日志不够新
term 17 server 1 not vote for server 0, 日志不够新
term 19 server 1 vote for server 2
term 19 server 2 get vote from server 1
term 19 server 2 become leader
------------------------------------------------------
term 19 server 0 vote for server 2
term 19 server 2 get outdate rpc reply from server 0
flag 81200 term 19 leader 2 nextIndex[0]: 100  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 97422 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 19 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 100->99
------------------------------------------------------
term 19 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 100->99
------------------------------------------------------
flag 9853 term 19 leader 2 nextIndex[0]: 90  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 79085 term 19 leader 2 nextIndex[1]: 99  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
flag 46056 term 19 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 3440 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
flag 7318 term 19 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 49497 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51685 term 19 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 67432 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
flag 71192 term 19 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 70882 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
flag 17815 term 19 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 16075 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
term 19 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
flag 12238 term 19 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 32289 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20732 term 19 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 92089 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60524 term 19 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 74 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
flag 23394 term 19 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 67732 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
flag 80449 term 19 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 69278 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48053 term 19 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 54188 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
term 19 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
flag 61830 term 19 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 70867 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
flag 97899 term 19 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 92167 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
flag 71120 term 19 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 86845 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 19 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
update nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
term 19 server 0 not vote for server 1, 任期不够新
term 19 server 1 get outdate rpc reply from server 0
flag 93502 term 19 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 99574 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
flag 72063 term 19 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 95840 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
flag 32321 term 19 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 59330 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99}]
------------------------------------------------------
client write log 4033550369188086783 (index 100) to leader 2
flag 91350 term 19 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 78650 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99} {4033550369188086783 19 100}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 89} {6089339989966224096 17 90} {6468818609785662167 17 91} {4317991045405184974 17 92} {62281205699870011 17 93} {4113843933933984805 17 94} {5944390123025995017 17 95} {4147875115676768924 17 96} {6513712125455818575 17 97} {3400137365844501389 17 98} {4033550369188086783 17 99} {4033550369188086783 19 100}]
------------------------------------------------------
term 19 Server2 start snapshot! index=99
term 19 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3105 term 19 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 19 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 99869 term 19 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 19 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {4033550369188086783 19 100}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {4033550369188086783 19 100}]
------------------------------------------------------
term 19 Server1 start snapshot! index=99
term 19 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
term 19 Server0 start snapshot! index=99
term 19 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
flag 5532 term 19 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 19 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 70696 term 19 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 19 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {4033550369188086783 19 100}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {4033550369188086783 19 100}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93472 term 19 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 19 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 20528 term 19 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 19 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {4033550369188086783 19 100}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {4033550369188086783 19 100}]
------------------------------------------------------
flag 60501 term 19 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 19 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 84470 term 19 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 19 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {4033550369188086783 19 100}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {4033550369188086783 19 100}]
------------------------------------------------------
flag 6049 term 19 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 19 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 79211 term 19 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 19 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {4033550369188086783 19 100}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {4033550369188086783 19 100}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32007 term 19 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 19 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 46286 term 19 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 19 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {4033550369188086783 19 100}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {4033550369188086783 19 100}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7000250761233708584 (index 101) to leader 2
flag 46112 term 19 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 19 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 81683 term 19 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 19 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {4033550369188086783 19 100} {7000250761233708584 19 101}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89109 term 19 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 19 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 101 
------------------------------------------------------
flag 97419 term 19 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 19 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 101 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {4033550369188086783 19 100} {7000250761233708584 19 101}]
------------------------------------------------------
client write log 4624630959092012800 (index 102) to leader 2
client write log 7043880997976532331 (index 103) to leader 2
client write log 4235424108763699818 (index 104) to leader 2
client write log 8450769976555774678 (index 105) to leader 2
client write log 8998110839229040867 (index 106) to leader 2
client write log 7887530830869200272 (index 107) to leader 2
client write log 740527902747403311 (index 108) to leader 2
client write log 7442226540865414527 (index 109) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29885 term 19 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 19 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 101 
------------------------------------------------------
flag 45216 term 19 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 19 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 101 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 17 99} {4033550369188086783 19 100} {7000250761233708584 19 101} {4624630959092012800 19 102} {7043880997976532331 19 103} {4235424108763699818 19 104} {8450769976555774678 19 105} {8998110839229040867 19 106} {7887530830869200272 19 107} {740527902747403311 19 108} {7442226540865414527 19 109}]
------------------------------------------------------
term 19 Server2 start snapshot! index=109
term 19 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
term 19 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 34933 term 19 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 Server1 start snapshot! index=109
term 19 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1424968025629373460 (index 110) to leader 2
term 19 server 2 not vote for server 0, 日志不够新
term 19 server 1 not vote for server 0, 日志不够新
term 21 server 1 vote for server 2
term 21 server 2 get vote from server 1
term 21 server 2 become leader
------------------------------------------------------
term 21 server 0 vote for server 2
term 21 server 2 get outdate rpc reply from server 0
flag 23376 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 18678 term 21 leader 2 nextIndex[1]: 111  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 111->110
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 111->110
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 101  matchIndex[0]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 50117 term 21 leader 2 nextIndex[1]: 110  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 21 server 0 InstallSnapshot success
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 19 rf.commitIndex 109 rf.lastApplied 109
flag 22583 term 21 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 94849 term 21 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
flag 6654 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 5012 term 21 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39040 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 23101 term 21 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
flag 74146 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 61016 term 21 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9272 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 27646 term 21 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:109 
term 21 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
flag 63259 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 10980 term 21 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
flag 76444 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 64688 term 21 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
flag 29550 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 64348 term 21 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
flag 55927 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 35884 term 21 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
flag 90944 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 23459 term 21 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
flag 20700 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 80612 term 21 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
flag 43881 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 23771 term 21 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
flag 6474 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 53595 term 21 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
flag 5287 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 66543 term 21 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87252 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 69546 term 21 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
flag 28797 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 15437 term 21 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2637 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 18553 term 21 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3798 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 37039 term 21 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
term 21 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 19 109} {1424968025629373460 19 110}]
------------------------------------------------------
client write log 1424968025629373460 (index 111) to leader 2
flag 87308 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 26500 term 21 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {1424968025629373460 19 110} {1424968025629373460 21 111}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {1424968025629373460 19 110} {1424968025629373460 21 111}]
------------------------------------------------------
flag 44410 term 21 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 95146 term 21 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {1424968025629373460 19 110} {1424968025629373460 21 111}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {1424968025629373460 19 110} {1424968025629373460 21 111}]
------------------------------------------------------
term 21 server 0 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 0
flag 70109 term 21 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 16841 term 21 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {1424968025629373460 19 110} {1424968025629373460 21 111}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {1424968025629373460 19 110} {1424968025629373460 21 111}]
------------------------------------------------------
flag 29902 term 21 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 59262 term 21 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {1424968025629373460 19 110} {1424968025629373460 21 111}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {1424968025629373460 19 110} {1424968025629373460 21 111}]
------------------------------------------------------
flag 43982 term 21 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 61337 term 21 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {1424968025629373460 19 110} {1424968025629373460 21 111}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {1424968025629373460 19 110} {1424968025629373460 21 111}]
------------------------------------------------------
flag 24957 term 21 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 17768 term 21 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {1424968025629373460 19 110} {1424968025629373460 21 111}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {1424968025629373460 19 110} {1424968025629373460 21 111}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
flag 34906 term 21 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 46822 term 21 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 80119 term 21 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 30857 term 21 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 1451 term 21 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 37925 term 21 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 81120 term 21 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 24658 term 21 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 22 server 1 vote for server 0
term 22 server 0 get vote from server 1
term 22 server 0 become leader
------------------------------------------------------
flag 625 term 22 leader 0 nextIndex[1]: 112  matchIndex[1]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 64160 term 22 leader 0 nextIndex[2]: 112  matchIndex[2]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {1424968025629373460 19 110} {1424968025629373460 21 111}]
------------------------------------------------------
client write log 4361111149738792818 (index 112) to leader 0
flag 99113 term 21 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 65392 term 21 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 60310 term 22 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 22 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 69653 term 22 leader 0 nextIndex[2]: 112  matchIndex[2]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {1424968025629373460 19 110} {1424968025629373460 21 111} {4361111149738792818 22 112}]
------------------------------------------------------
flag 79700 term 21 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 93581 term 21 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 86109 term 22 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 22 leaderCommit: 112 
------------------------------------------------------
flag 29588 term 22 leader 0 nextIndex[2]: 112  matchIndex[2]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 112 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {1424968025629373460 19 110} {1424968025629373460 21 111} {4361111149738792818 22 112}]
------------------------------------------------------
client write log 7269479342049939150 (index 113) to leader 0
client write log 6824862255027617599 (index 114) to leader 0
client write log 6301108730501574564 (index 115) to leader 0
client write log 6784609278282001819 (index 116) to leader 0
client write log 184674216683021885 (index 117) to leader 0
client write log 2069154853130485987 (index 118) to leader 0
client write log 1160079988945103386 (index 119) to leader 0
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 112->111
------------------------------------------------------
flag 48000 term 21 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 21 leader 2 nextIndex[1]: 0  matchIndex[1]: 111
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 97903 term 22 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 22 leaderCommit: 112 
------------------------------------------------------
flag 58675 term 22 leader 0 nextIndex[2]: 112  matchIndex[2]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 112 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 109} {1424968025629373460 19 110} {1424968025629373460 21 111} {4361111149738792818 22 112} {7269479342049939150 22 113} {6824862255027617599 22 114} {6301108730501574564 22 115} {6784609278282001819 22 116} {184674216683021885 22 117} {2069154853130485987 22 118} {1160079988945103386 22 119}]
------------------------------------------------------
term 22 Server0 start snapshot! index=119
term 22 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
flag 59234 term 21 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 21 leader 2 nextIndex[1]: 0  matchIndex[1]: 111
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 48996 term 22 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 22 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 22 leader 0 nextIndex[2]: 112  matchIndex[2]: 0
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
term 22 Server1 start snapshot! index=119
term 22 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5036825809447129673 (index 112) to leader 2
flag 86623 term 21 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 21 leader 2 nextIndex[1]: 0  matchIndex[1]: 111
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 22 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 22 server 0 AppendEntries false 领导者任期过期 args.Term 21
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70219 term 22 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 22 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 22 leader 0 nextIndex[2]: 112  matchIndex[2]: 0
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 2 InstallSnapshot success
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:119 
term 22 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 22 rf.commitIndex 119 rf.lastApplied 119
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
term 23 server 1 vote for server 2
term 23 server 2 get vote from server 1
term 23 server 2 become leader
------------------------------------------------------
term 23 server 0 vote for server 2
term 23 server 2 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23341 term 23 leader 2 nextIndex[0]: 120  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
flag 99363 term 23 leader 2 nextIndex[1]: 120  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14371 term 23 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
flag 18978 term 23 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
flag 2359 term 23 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
flag 72968 term 23 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
flag 91090 term 23 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
flag 98116 term 23 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
flag 9422 term 23 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
flag 90559 term 23 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31711 term 23 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
flag 83727 term 23 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
flag 9868 term 23 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
flag 10637 term 23 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17258 term 23 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
flag 741 term 23 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
flag 22527 term 23 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
flag 69794 term 23 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21191 term 23 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
flag 99737 term 23 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78677 term 23 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
flag 74057 term 23 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
term 23 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33520 term 23 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
flag 54665 term 23 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
flag 26456 term 23 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
flag 36050 term 23 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
flag 89553 term 23 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
flag 19477 term 23 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
flag 37362 term 23 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
flag 2875 term 23 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
flag 46940 term 23 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
flag 4104 term 23 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
term 23 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73222 term 23 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
flag 68293 term 23 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
flag 65184 term 23 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
flag 110 term 23 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
flag 37655 term 23 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
flag 33126 term 23 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5036825809447129673 (index 120) to leader 2
flag 91908 term 23 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
flag 53619 term 23 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5036825809447129673 23 120}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5036825809447129673 23 120}]
------------------------------------------------------
flag 51882 term 23 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 23 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
flag 19231 term 23 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 23 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5036825809447129673 23 120}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5036825809447129673 23 120}]
------------------------------------------------------
flag 87813 term 23 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 23 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
flag 58560 term 23 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 23 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5036825809447129673 23 120}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5036825809447129673 23 120}]
------------------------------------------------------
flag 3930 term 23 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 23 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
flag 38191 term 23 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 23 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5036825809447129673 23 120}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5036825809447129673 23 120}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13551 term 23 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 23 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
flag 1566 term 23 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 23 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5036825809447129673 23 120}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5036825809447129673 23 120}]
------------------------------------------------------
flag 99111 term 23 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 23 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
flag 88212 term 23 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 23 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5036825809447129673 23 120}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5036825809447129673 23 120}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88124 term 23 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 23 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
flag 65361 term 23 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 23 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5036825809447129673 23 120}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5036825809447129673 23 120}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1755587523503963864 (index 121) to leader 2
flag 70558 term 23 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 23 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
flag 80835 term 23 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 23 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 22 119} {5036825809447129673 23 120} {1755587523503963864 23 121}]
------------------------------------------------------
flag 13340 term 23 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 23 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 121 
------------------------------------------------------
flag 45587 term 23 leader 2 nextIndex[1]: 122  matchIndex[1]: 121
term 23 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 23 leaderCommit: 121 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 22 119} {5036825809447129673 23 120} {1755587523503963864 23 121}]
------------------------------------------------------
client write log 8985293928471507704 (index 122) to leader 2
client write log 7027211618199261019 (index 123) to leader 2
client write log 580703660668693811 (index 124) to leader 2
client write log 7831344301903308659 (index 125) to leader 2
client write log 6680460217222783877 (index 126) to leader 2
client write log 6089446989003467982 (index 127) to leader 2
client write log 4845825890928268724 (index 128) to leader 2
client write log 2965237062755974187 (index 129) to leader 2
client write log 3725800111097587997 (index 130) to leader 2
client write log 3820695194130887118 (index 131) to leader 2
client write log 3631868973570785506 (index 132) to leader 2
client write log 8786332176272857318 (index 133) to leader 2
flag 76871 term 23 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 23 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 121 
------------------------------------------------------
flag 14327 term 23 leader 2 nextIndex[1]: 122  matchIndex[1]: 121
term 23 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 23 leaderCommit: 121 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 22 119} {5036825809447129673 23 120} {1755587523503963864 23 121} {8985293928471507704 23 122} {7027211618199261019 23 123} {580703660668693811 23 124} {7831344301903308659 23 125} {6680460217222783877 23 126} {6089446989003467982 23 127} {4845825890928268724 23 128} {2965237062755974187 23 129} {3725800111097587997 23 130} {3820695194130887118 23 131} {3631868973570785506 23 132} {8786332176272857318 23 133}]
------------------------------------------------------
term 23 Server2 start snapshot! index=129
term 23 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=133
-------------------------------------------------------------
term 23 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 79324 term 23 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3725800111097587997 23 130} {3820695194130887118 23 131} {3631868973570785506 23 132} {8786332176272857318 23 133}]
------------------------------------------------------
term 23 Server1 start snapshot! index=129
term 23 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=133
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8262417716776293360 (index 134) to leader 2
term 23 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 6079 term 23 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
term 24 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {3725800111097587997 23 130} {3820695194130887118 23 131} {3631868973570785506 23 132} {8786332176272857318 23 133} {8262417716776293360 23 134}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 server 1 vote for server 2
term 25 server 2 get vote from server 1
term 25 server 2 become leader
------------------------------------------------------
term 25 server 0 vote for server 2
term 25 server 2 get outdate rpc reply from server 0
flag 18363 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 29282 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
term 25 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {3725800111097587997 23 130} {3820695194130887118 23 131} {3631868973570785506 23 132} {8786332176272857318 23 133} {8262417716776293360 23 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 135->134
------------------------------------------------------
term 25 leader 2 nextIndex[0]: 121  matchIndex[0]: 0
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 79207 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
term 25 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {3725800111097587997 23 130} {3820695194130887118 23 131} {3631868973570785506 23 132} {8786332176272857318 23 133} {8262417716776293360 23 134}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 23 rf.commitIndex 129 rf.lastApplied 129
term 25 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16412 term 25 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 25 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 10090 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {3725800111097587997 23 130} {3820695194130887118 23 131} {3631868973570785506 23 132} {8786332176272857318 23 133} {8262417716776293360 23 134}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {3725800111097587997 23 130} {3820695194130887118 23 131} {3631868973570785506 23 132} {8786332176272857318 23 133} {8262417716776293360 23 134}]
------------------------------------------------------
flag 61748 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 4830 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {3725800111097587997 23 130} {3820695194130887118 23 131} {3631868973570785506 23 132} {8786332176272857318 23 133} {8262417716776293360 23 134}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {3725800111097587997 23 130} {3820695194130887118 23 131} {3631868973570785506 23 132} {8786332176272857318 23 133} {8262417716776293360 23 134}]
------------------------------------------------------
flag 15108 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 66584 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {3725800111097587997 23 130} {3820695194130887118 23 131} {3631868973570785506 23 132} {8786332176272857318 23 133} {8262417716776293360 23 134}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {3725800111097587997 23 130} {3820695194130887118 23 131} {3631868973570785506 23 132} {8786332176272857318 23 133} {8262417716776293360 23 134}]
------------------------------------------------------
flag 75083 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 57999 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {3725800111097587997 23 130} {3820695194130887118 23 131} {3631868973570785506 23 132} {8786332176272857318 23 133} {8262417716776293360 23 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {3725800111097587997 23 130} {3820695194130887118 23 131} {3631868973570785506 23 132} {8786332176272857318 23 133} {8262417716776293360 23 134}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25863 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 89534 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {3725800111097587997 23 130} {3820695194130887118 23 131} {3631868973570785506 23 132} {8786332176272857318 23 133} {8262417716776293360 23 134}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {3725800111097587997 23 130} {3820695194130887118 23 131} {3631868973570785506 23 132} {8786332176272857318 23 133} {8262417716776293360 23 134}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27863 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 16944 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {3725800111097587997 23 130} {3820695194130887118 23 131} {3631868973570785506 23 132} {8786332176272857318 23 133} {8262417716776293360 23 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {3725800111097587997 23 130} {3820695194130887118 23 131} {3631868973570785506 23 132} {8786332176272857318 23 133} {8262417716776293360 23 134}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7616637770467810333 (index 135) to leader 2
flag 7328 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 74234 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {3725800111097587997 23 130} {3820695194130887118 23 131} {3631868973570785506 23 132} {8786332176272857318 23 133} {8262417716776293360 23 134} {7616637770467810333 25 135}]
------------------------------------------------------
flag 22618 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 92372 term 25 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {3725800111097587997 23 130} {3820695194130887118 23 131} {3631868973570785506 23 132} {8786332176272857318 23 133} {8262417716776293360 23 134} {7616637770467810333 25 135}]
------------------------------------------------------
client write log 18821781472737275 (index 136) to leader 2
client write log 3018256182082127106 (index 137) to leader 2
client write log 5442685762258825301 (index 138) to leader 2
client write log 128400743533142264 (index 139) to leader 2
client write log 5517025172538646583 (index 140) to leader 2
client write log 927418807923081904 (index 141) to leader 2
client write log 4062098064864867539 (index 142) to leader 2
client write log 8564510626092856239 (index 143) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 135->134
------------------------------------------------------
term 25 leader 2 nextIndex[0]: 0  matchIndex[0]: 134
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 19077 term 25 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 129} {3725800111097587997 23 130} {3820695194130887118 23 131} {3631868973570785506 23 132} {8786332176272857318 23 133} {8262417716776293360 23 134} {7616637770467810333 25 135} {18821781472737275 25 136} {3018256182082127106 25 137} {5442685762258825301 25 138} {128400743533142264 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143}]
------------------------------------------------------
term 25 Server2 start snapshot! index=139
term 25 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=143
-------------------------------------------------------------
term 25 leader 2 nextIndex[0]: 0  matchIndex[0]: 134
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
flag 38712 term 25 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143}]
------------------------------------------------------
term 25 Server1 start snapshot! index=139
term 25 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=143
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7110182389033542303 (index 144) to leader 2
term 25 server 2 not vote for server 0, 日志不够新
term 25 server 1 not vote for server 0, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 server 1 vote for server 2
term 27 server 0 vote for server 2
term 27 server 2 get vote from server 1
term 27 server 2 become leader
------------------------------------------------------
term 27 server 2 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52613 term 27 leader 2 nextIndex[0]: 145  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 57572 term 27 leader 2 nextIndex[1]: 145  matchIndex[1]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 145->144
------------------------------------------------------
term 27 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 145->144
------------------------------------------------------
term 27 leader 2 nextIndex[0]: 135  matchIndex[0]: 0
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
flag 37248 term 27 leader 2 nextIndex[1]: 144  matchIndex[1]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
term 27 server 0 InstallSnapshot success
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 25 rf.commitIndex 139 rf.lastApplied 139
term 27 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61739 term 27 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 27 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 79956 term 27 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
flag 96585 term 27 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 90771 term 27 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
flag 43952 term 27 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 98703 term 27 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
flag 26652 term 27 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 90174 term 27 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
flag 8949 term 27 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 70931 term 27 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24536 term 27 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 99841 term 27 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
flag 21893 term 27 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 29142 term 27 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
flag 40901 term 27 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 58087 term 27 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58143 term 27 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 16805 term 27 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
term 27 server 1 not vote for server 0, 任期不够新
term 27 server 0 get outdate rpc reply from server 1
term 27 server 2 not vote for server 0, 任期不够新
term 27 server 0 get outdate rpc reply from server 2
flag 36666 term 27 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 89777 term 27 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
flag 17543 term 27 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 12602 term 27 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
flag 49129 term 27 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 46453 term 27 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
term 27 server 2 not vote for server 0, 任期不够新
term 27 server 0 get outdate rpc reply from server 2
flag 64628 term 27 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 83367 term 27 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
flag 17285 term 27 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 53343 term 27 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93261 term 27 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 23372 term 27 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89330 term 27 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 47090 term 27 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76155 term 27 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 54503 term 27 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144}]
------------------------------------------------------
client write log 7110182389033542303 (index 145) to leader 2
flag 83474 term 27 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 77667 term 27 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144} {7110182389033542303 27 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144} {7110182389033542303 27 145}]
------------------------------------------------------
flag 79345 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 73941 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144} {7110182389033542303 27 145}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144} {7110182389033542303 27 145}]
------------------------------------------------------
flag 89903 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 61699 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144} {7110182389033542303 27 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144} {7110182389033542303 27 145}]
------------------------------------------------------
flag 33144 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 28345 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144} {7110182389033542303 27 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144} {7110182389033542303 27 145}]
------------------------------------------------------
flag 94124 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 6099 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144} {7110182389033542303 27 145}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144} {7110182389033542303 27 145}]
------------------------------------------------------
flag 26895 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 35849 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144} {7110182389033542303 27 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144} {7110182389033542303 27 145}]
------------------------------------------------------
flag 98164 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 9326 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144} {7110182389033542303 27 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144} {7110182389033542303 27 145}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 56880 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 1223 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 70199 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 59104 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 43446 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 67319 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34182 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 50651 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 1 vote for server 0
term 28 server 0 get vote from server 1
term 28 server 0 become leader
------------------------------------------------------
flag 35553 term 28 leader 0 nextIndex[1]: 146  matchIndex[1]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 45086 term 28 leader 0 nextIndex[2]: 146  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144} {7110182389033542303 27 145}]
------------------------------------------------------
flag 51516 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 11112 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
client write log 5855109355033788587 (index 146) to leader 0
flag 96194 term 28 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 28 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 29674 term 28 leader 0 nextIndex[2]: 146  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144} {7110182389033542303 27 145} {5855109355033788587 28 146}]
------------------------------------------------------
flag 84719 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 28432 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 146->145
------------------------------------------------------
flag 67843 term 28 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 28 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 28 leaderCommit: 146 
------------------------------------------------------
flag 74425 term 28 leader 0 nextIndex[2]: 146  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144} {7110182389033542303 27 145} {5855109355033788587 28 146}]
------------------------------------------------------
term 27 leader 2 nextIndex[0]: 0  matchIndex[0]: 145
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
flag 18756 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
client write log 1783374188664445195 (index 147) to leader 0
client write log 7006716126818641018 (index 148) to leader 0
client write log 5825796117102481189 (index 149) to leader 0
client write log 4619795951835951503 (index 150) to leader 0
client write log 7209489581251829331 (index 151) to leader 0
client write log 6184127143721285325 (index 152) to leader 0
client write log 4342880901594313710 (index 153) to leader 0
client write log 5866120424583731801 (index 154) to leader 0
client write log 5115719796498423333 (index 155) to leader 0
client write log 4465292868907307817 (index 156) to leader 0
client write log 5721852307320834633 (index 157) to leader 0
client write log 6569852482263830738 (index 158) to leader 0
client write log 5801672440242545796 (index 159) to leader 0
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
flag 7326 term 28 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 28 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 28 leaderCommit: 146 
------------------------------------------------------
flag 88424 term 28 leader 0 nextIndex[2]: 146  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 139} {5517025172538646583 25 140} {927418807923081904 25 141} {4062098064864867539 25 142} {8564510626092856239 25 143} {7110182389033542303 25 144} {7110182389033542303 27 145} {5855109355033788587 28 146} {1783374188664445195 28 147} {7006716126818641018 28 148} {5825796117102481189 28 149} {4619795951835951503 28 150} {7209489581251829331 28 151} {6184127143721285325 28 152} {4342880901594313710 28 153} {5866120424583731801 28 154} {5115719796498423333 28 155} {4465292868907307817 28 156} {5721852307320834633 28 157} {6569852482263830738 28 158} {5801672440242545796 28 159}]
------------------------------------------------------
term 28 Server0 start snapshot! index=149
term 28 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=159
-------------------------------------------------------------
term 28 Server0 start snapshot! index=159
term 28 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 27 leader 2 nextIndex[0]: 0  matchIndex[0]: 145
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
flag 87146 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 94952 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 leader 0 nextIndex[2]: 146  matchIndex[2]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
term 27 leader 2 nextIndex[0]: 0  matchIndex[0]: 145
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
flag 14871 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
term 28 Server1 start snapshot! index=149
term 28 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=159
-------------------------------------------------------------
term 28 Server1 start snapshot! index=159
term 28 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8050426094834417679 (index 146) to leader 2
flag 47502 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 leader 0 nextIndex[2]: 146  matchIndex[2]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 2 InstallSnapshot success
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 28 rf.commitIndex 159 rf.lastApplied 159
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 160->159
------------------------------------------------------
flag 61046 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 leader 0 nextIndex[2]: 0  matchIndex[2]: 159
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
term 28 server 2 InstallSnapshot fail
rf.commitIndex 159 args.LastIncludedIndex 159
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
flag 91327 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 20379 term 28 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
flag 72696 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 63815 term 28 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
flag 99079 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 13815 term 28 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 160->159
------------------------------------------------------
flag 17263 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 leader 0 nextIndex[2]: 0  matchIndex[2]: 159
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 2 InstallSnapshot fail
rf.commitIndex 159 args.LastIncludedIndex 159
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78879 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 10393 term 28 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
flag 72551 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 20 term 28 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
flag 88980 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 41087 term 28 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
flag 33400 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 57424 term 28 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
flag 38872 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 71695 term 28 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90518 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 76980 term 28 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
flag 31498 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 96484 term 28 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
flag 58375 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 21662 term 28 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
term 28 server 2 not vote for server 0, 日志不够新
term 28 server 0 get outdate rpc reply from server 2
flag 6139 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 8532 term 28 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
flag 76934 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 49984 term 28 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
flag 81375 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 14458 term 28 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56004 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 3690 term 28 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61188 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 50383 term 28 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
flag 56619 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 96748 term 28 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
client write log 8050426094834417679 (index 160) to leader 0
flag 73102 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 34181 term 28 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {8050426094834417679 28 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {8050426094834417679 28 160}]
------------------------------------------------------
flag 97277 term 28 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 41900 term 28 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 28 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {8050426094834417679 28 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {8050426094834417679 28 160}]
------------------------------------------------------
flag 34651 term 28 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 94777 term 28 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 28 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {8050426094834417679 28 160}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {8050426094834417679 28 160}]
------------------------------------------------------
flag 69198 term 28 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 85647 term 28 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 28 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {8050426094834417679 28 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {8050426094834417679 28 160}]
------------------------------------------------------
flag 13093 term 28 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 31958 term 28 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 28 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {8050426094834417679 28 160}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {8050426094834417679 28 160}]
------------------------------------------------------
flag 69477 term 28 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 94171 term 28 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 28 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {8050426094834417679 28 160}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {8050426094834417679 28 160}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2836948876625660328 (index 161) to leader 0
flag 10954 term 28 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 60694 term 28 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 28 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 28 159} {8050426094834417679 28 160} {2836948876625660328 28 161}]
------------------------------------------------------
flag 82440 term 28 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 161 
------------------------------------------------------
flag 76920 term 28 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 28 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 161 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 28 159} {8050426094834417679 28 160} {2836948876625660328 28 161}]
------------------------------------------------------
client write log 2918063242503162109 (index 162) to leader 0
client write log 7062080986412955441 (index 163) to leader 0
client write log 4537091856516620911 (index 164) to leader 0
client write log 1069733671569160152 (index 165) to leader 0
client write log 7788718316474171862 (index 166) to leader 0
client write log 9185711593507349198 (index 167) to leader 0
client write log 17575326661531109 (index 168) to leader 0
client write log 4645644036810685952 (index 169) to leader 0
client write log 443124963890825819 (index 170) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92556 term 28 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 161 
------------------------------------------------------
flag 4775 term 28 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 28 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 161 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 159} {8050426094834417679 28 160} {2836948876625660328 28 161} {2918063242503162109 28 162} {7062080986412955441 28 163} {4537091856516620911 28 164} {1069733671569160152 28 165} {7788718316474171862 28 166} {9185711593507349198 28 167} {17575326661531109 28 168} {4645644036810685952 28 169} {443124963890825819 28 170}]
------------------------------------------------------
term 28 Server0 start snapshot! index=169
term 28 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=170
-------------------------------------------------------------
term 28 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 61849 term 28 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 28 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170}]
------------------------------------------------------
term 28 Server2 start snapshot! index=169
term 28 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=170
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3080915897728374821 (index 171) to leader 0
term 28 server 2 not vote for server 1, 日志不够新
term 28 server 0 not vote for server 1, 日志不够新
term 30 server 2 vote for server 0
term 30 server 1 vote for server 0
term 30 server 0 get vote from server 2
term 30 server 0 become leader
------------------------------------------------------
term 30 server 0 get outdate rpc reply from server 1
flag 77445 term 30 leader 0 nextIndex[1]: 172  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
flag 49153 term 30 leader 0 nextIndex[2]: 172  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
term 30 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 172->171
------------------------------------------------------
term 30 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 172->171
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 161  matchIndex[1]: 0
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 2408 term 30 leader 0 nextIndex[2]: 171  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
term 30 server 1 InstallSnapshot success
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 28 rf.commitIndex 169 rf.lastApplied 169
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
flag 45452 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
flag 59657 term 30 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
flag 97429 term 30 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
flag 1276 term 30 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
flag 28795 term 30 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
flag 82712 term 30 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93536 term 30 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
flag 92707 term 30 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36514 term 30 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
flag 27349 term 30 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
flag 92811 term 30 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
flag 94652 term 30 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
flag 52931 term 30 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
flag 23688 term 30 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
flag 49372 term 30 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
flag 86095 term 30 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85406 term 30 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
flag 71815 term 30 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49231 term 30 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
flag 131 term 30 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11423 term 30 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
flag 12544 term 30 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
flag 32331 term 30 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
flag 6881 term 30 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66728 term 30 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
flag 32258 term 30 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
flag 52798 term 30 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
flag 70786 term 30 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59236 term 30 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
flag 22947 term 30 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33294 term 30 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
flag 626 term 30 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
flag 81883 term 30 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
flag 58078 term 30 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
flag 91153 term 30 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
flag 84474 term 30 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171}]
------------------------------------------------------
client write log 3080915897728374821 (index 172) to leader 0
flag 4518 term 30 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
flag 87906 term 30 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 30 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171} {3080915897728374821 30 172}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171} {3080915897728374821 30 172}]
------------------------------------------------------
flag 99460 term 30 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 30 leaderCommit: 172 
------------------------------------------------------
flag 97125 term 30 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 30 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 30 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171} {3080915897728374821 30 172}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171} {3080915897728374821 30 172}]
------------------------------------------------------
flag 88860 term 30 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 30 leaderCommit: 172 
------------------------------------------------------
flag 42568 term 30 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 30 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 30 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171} {3080915897728374821 30 172}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171} {3080915897728374821 30 172}]
------------------------------------------------------
flag 66419 term 30 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 30 leaderCommit: 172 
------------------------------------------------------
flag 72482 term 30 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 30 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 30 leaderCommit: 172 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171} {3080915897728374821 30 172}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171} {3080915897728374821 30 172}]
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62153 term 30 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 30 leaderCommit: 172 
------------------------------------------------------
flag 73253 term 30 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 30 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 30 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171} {3080915897728374821 30 172}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171} {3080915897728374821 30 172}]
------------------------------------------------------
flag 19535 term 30 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 30 leaderCommit: 172 
------------------------------------------------------
flag 29038 term 30 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 30 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 30 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171} {3080915897728374821 30 172}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171} {3080915897728374821 30 172}]
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99091 term 30 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 30 leaderCommit: 172 
------------------------------------------------------
flag 63763 term 30 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 30 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 30 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171} {3080915897728374821 30 172}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171} {3080915897728374821 30 172}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3921676890749473084 (index 173) to leader 0
flag 47393 term 30 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 30 leaderCommit: 172 
------------------------------------------------------
flag 26254 term 30 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 30 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 30 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171} {3080915897728374821 30 172} {3921676890749473084 30 173}]
------------------------------------------------------
flag 23259 term 30 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 44064 term 30 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171} {3080915897728374821 30 172} {3921676890749473084 30 173}]
------------------------------------------------------
client write log 925790664807695839 (index 174) to leader 0
client write log 6095728116877190700 (index 175) to leader 0
client write log 55139489821610013 (index 176) to leader 0
client write log 1617288757988011739 (index 177) to leader 0
client write log 7112767567802080024 (index 178) to leader 0
client write log 3290572190869609040 (index 179) to leader 0
client write log 5187488133866466979 (index 180) to leader 0
client write log 8495735865175918919 (index 181) to leader 0
client write log 3246566038953817274 (index 182) to leader 0
client write log 5386247498640033478 (index 183) to leader 0
client write log 5641614517437143779 (index 184) to leader 0
client write log 3688982064541199056 (index 185) to leader 0
client write log 1130441625190366480 (index 186) to leader 0
client write log 6245793576760828749 (index 187) to leader 0
client write log 3296610761042636089 (index 188) to leader 0
flag 56941 term 30 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 77474 term 30 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 28 169} {443124963890825819 28 170} {3080915897728374821 28 171} {3080915897728374821 30 172} {3921676890749473084 30 173} {925790664807695839 30 174} {6095728116877190700 30 175} {55139489821610013 30 176} {1617288757988011739 30 177} {7112767567802080024 30 178} {3290572190869609040 30 179} {5187488133866466979 30 180} {8495735865175918919 30 181} {3246566038953817274 30 182} {5386247498640033478 30 183} {5641614517437143779 30 184} {3688982064541199056 30 185} {1130441625190366480 30 186} {6245793576760828749 30 187} {3296610761042636089 30 188}]
------------------------------------------------------
term 30 Server0 start snapshot! index=179
term 30 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=188
-------------------------------------------------------------
term 30 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
flag 58837 term 30 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 30 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {5187488133866466979 30 180} {8495735865175918919 30 181} {3246566038953817274 30 182} {5386247498640033478 30 183} {5641614517437143779 30 184} {3688982064541199056 30 185} {1130441625190366480 30 186} {6245793576760828749 30 187} {3296610761042636089 30 188}]
------------------------------------------------------
term 30 Server2 start snapshot! index=179
term 30 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=188
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1336882446721300871 (index 189) to leader 0
term 30 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
flag 66743 term 30 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 30 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 30 179} {5187488133866466979 30 180} {8495735865175918919 30 181} {3246566038953817274 30 182} {5386247498640033478 30 183} {5641614517437143779 30 184} {3688982064541199056 30 185} {1130441625190366480 30 186} {6245793576760828749 30 187} {3296610761042636089 30 188} {1336882446721300871 30 189}]
------------------------------------------------------
term 31 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 Server0 start snapshot! index=189
term 31 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
term 32 server 1 vote for server 0
term 32 server 0 get vote from server 1
term 32 server 0 become leader
------------------------------------------------------
term 32 server 2 vote for server 0
term 32 server 0 get outdate rpc reply from server 2
flag 72782 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
flag 18598 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 30 189}]
------------------------------------------------------
term 32 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 190->189
------------------------------------------------------
term 32 Server2 start snapshot! index=189
term 32 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
term 32 leader 0 nextIndex[1]: 173  matchIndex[1]: 0
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 99645 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
term 32 server 1 InstallSnapshot success
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 30 rf.commitIndex 189 rf.lastApplied 189
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 30 189}]
------------------------------------------------------
flag 52794 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
flag 33042 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 30 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 30 189}]
------------------------------------------------------
flag 80556 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
flag 2981 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 30 189}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 30 189}]
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6015 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
flag 91232 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 30 189}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 30 189}]
------------------------------------------------------
flag 69729 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
flag 8869 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 30 189}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 30 189}]
------------------------------------------------------
flag 17096 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
flag 74916 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 30 189}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 30 189}]
------------------------------------------------------
!!!!!!diconnect server 0
term 32 server 2 not vote for server 1, 任期不够新
term 32 server 1 get outdate rpc reply from server 2
flag 65160 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
flag 76578 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46349 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
flag 67162 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
flag 61667 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
flag 90058 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
flag 25120 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
flag 12918 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
term 33 server 1 vote for server 2
term 33 server 2 get vote from server 1
term 33 server 2 become leader
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 190->189
------------------------------------------------------
flag 34851 term 33 leader 2 nextIndex[0]: 190  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
flag 6795 term 33 leader 2 nextIndex[1]: 190  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 30 189}]
------------------------------------------------------
client write log 3107697865439961616 (index 190) to leader 2
flag 86766 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
term 32 leader 0 nextIndex[2]: 0  matchIndex[2]: 189
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 15125 term 33 leader 2 nextIndex[0]: 190  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
flag 15135 term 33 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 33 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3107697865439961616 33 190}]
------------------------------------------------------
flag 878 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
term 32 leader 0 nextIndex[2]: 0  matchIndex[2]: 189
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 90881 term 33 leader 2 nextIndex[0]: 190  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 12322 term 33 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 33 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3107697865439961616 33 190}]
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 7785538137555832935 (index 191) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 190->189
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 190->189
------------------------------------------------------
term 32 leader 0 nextIndex[1]: 0  matchIndex[1]: 189
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
term 32 leader 0 nextIndex[2]: 0  matchIndex[2]: 189
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
term 33 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 38690 term 33 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 33 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {3107697865439961616 33 190} {7785538137555832935 33 191}]
------------------------------------------------------
term 32 leader 0 nextIndex[1]: 0  matchIndex[1]: 189
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
term 32 leader 0 nextIndex[2]: 0  matchIndex[2]: 189
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
term 33 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 25456 term 33 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 33 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {3107697865439961616 33 190} {7785538137555832935 33 191}]
------------------------------------------------------
!!!!!!connect server 0
client write log 3623606734387930888 (index 192) to leader 2
term 32 leader 0 nextIndex[1]: 0  matchIndex[1]: 189
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
term 32 leader 0 nextIndex[2]: 0  matchIndex[2]: 189
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
term 33 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 32 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 33 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 33 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 68247 term 33 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 33 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 33 server 0 InstallSnapshot fail
rf.commitIndex 189 args.LastIncludedIndex 189
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3107697865439961616 33 190} {7785538137555832935 33 191} {3623606734387930888 33 192}]
------------------------------------------------------
term 33 server 2 not vote for server 0, 日志不够新
term 33 server 1 not vote for server 0, 日志不够新
term 35 server 1 vote for server 2
term 35 server 0 vote for server 2
term 35 server 2 get vote from server 1
term 35 server 2 become leader
------------------------------------------------------
term 35 server 2 get outdate rpc reply from server 0
flag 47304 term 35 leader 2 nextIndex[0]: 193  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 10930 term 35 leader 2 nextIndex[1]: 193  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 193->192
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3107697865439961616 33 190} {7785538137555832935 33 191} {3623606734387930888 33 192}]
------------------------------------------------------
flag 77650 term 35 leader 2 nextIndex[0]: 190  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
flag 46996 term 35 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 35 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3107697865439961616 33 190} {7785538137555832935 33 191} {3623606734387930888 33 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3107697865439961616 33 190} {7785538137555832935 33 191} {3623606734387930888 33 192}]
------------------------------------------------------
flag 89279 term 35 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 83142 term 35 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 35 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3107697865439961616 33 190} {7785538137555832935 33 191} {3623606734387930888 33 192}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3107697865439961616 33 190} {7785538137555832935 33 191} {3623606734387930888 33 192}]
------------------------------------------------------
flag 47 term 35 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 33264 term 35 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 35 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3107697865439961616 33 190} {7785538137555832935 33 191} {3623606734387930888 33 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3107697865439961616 33 190} {7785538137555832935 33 191} {3623606734387930888 33 192}]
------------------------------------------------------
flag 61574 term 35 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 30189 term 35 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 35 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3107697865439961616 33 190} {7785538137555832935 33 191} {3623606734387930888 33 192}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3107697865439961616 33 190} {7785538137555832935 33 191} {3623606734387930888 33 192}]
------------------------------------------------------
flag 58659 term 35 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 14492 term 35 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 35 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3107697865439961616 33 190} {7785538137555832935 33 191} {3623606734387930888 33 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3107697865439961616 33 190} {7785538137555832935 33 191} {3623606734387930888 33 192}]
------------------------------------------------------
flag 79127 term 35 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 91981 term 35 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 35 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3107697865439961616 33 190} {7785538137555832935 33 191} {3623606734387930888 33 192}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3107697865439961616 33 190} {7785538137555832935 33 191} {3623606734387930888 33 192}]
------------------------------------------------------
flag 34050 term 35 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 9242 term 35 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 35 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3107697865439961616 33 190} {7785538137555832935 33 191} {3623606734387930888 33 192}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3107697865439961616 33 190} {7785538137555832935 33 191} {3623606734387930888 33 192}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6616569933235498753 (index 193) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64584 term 35 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 1930 term 35 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 35 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3107697865439961616 33 190} {7785538137555832935 33 191} {3623606734387930888 33 192} {6616569933235498753 35 193}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35286 term 35 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 193 
------------------------------------------------------
flag 69254 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3107697865439961616 33 190} {7785538137555832935 33 191} {3623606734387930888 33 192} {6616569933235498753 35 193}]
------------------------------------------------------
client write log 7413848647391601054 (index 194) to leader 2
client write log 2472197214605807403 (index 195) to leader 2
client write log 3502767537393213885 (index 196) to leader 2
client write log 53599974262539326 (index 197) to leader 2
client write log 5376628206117089998 (index 198) to leader 2
client write log 7449295269053118692 (index 199) to leader 2
client write log 3233074998605742031 (index 200) to leader 2
client write log 7707582168234368189 (index 201) to leader 2
client write log 526264843708734368 (index 202) to leader 2
client write log 1298495903172669683 (index 203) to leader 2
client write log 88140103530328966 (index 204) to leader 2
client write log 7582389441036965731 (index 205) to leader 2
flag 85559 term 35 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 193 
------------------------------------------------------
flag 34546 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 30 189} {3107697865439961616 33 190} {7785538137555832935 33 191} {3623606734387930888 33 192} {6616569933235498753 35 193} {7413848647391601054 35 194} {2472197214605807403 35 195} {3502767537393213885 35 196} {53599974262539326 35 197} {5376628206117089998 35 198} {7449295269053118692 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205}]
------------------------------------------------------
term 35 Server2 start snapshot! index=199
term 35 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=205
-------------------------------------------------------------
term 35 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
flag 13405 term 35 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 35 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205}]
------------------------------------------------------
term 35 Server1 start snapshot! index=199
term 35 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=205
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3502461424572090577 (index 206) to leader 2
term 35 server 2 not vote for server 0, 日志不够新
term 35 server 1 not vote for server 0, 日志不够新
term 37 server 1 vote for server 2
term 37 server 0 vote for server 2
term 37 server 2 get vote from server 1
term 37 server 2 become leader
------------------------------------------------------
term 37 server 2 get outdate rpc reply from server 0
flag 43698 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 37498 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 207->206
------------------------------------------------------
term 37 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 207->206
------------------------------------------------------
term 37 leader 2 nextIndex[0]: 193  matchIndex[0]: 0
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
flag 47835 term 37 leader 2 nextIndex[1]: 206  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
term 37 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 35 rf.commitIndex 199 rf.lastApplied 199
term 37 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 200 matchIndex[0] 199 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 641 term 37 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 37 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 89524 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44386 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 64098 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
flag 97729 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 78577 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
flag 29042 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 44730 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
flag 6995 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 83135 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
term 37 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
flag 71495 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 79761 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
flag 51552 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 24405 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94571 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 15627 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
term 37 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31138 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 39420 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
flag 4585 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 83501 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
flag 37296 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 70162 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
flag 29770 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 96083 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
flag 55904 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 43052 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
flag 86317 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 70155 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
flag 32214 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 10446 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
flag 30422 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 65076 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
flag 32793 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 94255 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206}]
------------------------------------------------------
client write log 3502461424572090577 (index 207) to leader 2
flag 45727 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 32318 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206} {3502461424572090577 37 207}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206} {3502461424572090577 37 207}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 server 0 not vote for server 2, 任期不够新
term 37 server 2 get outdate rpc reply from server 0
flag 98326 term 37 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
flag 26001 term 37 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206} {3502461424572090577 37 207}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206} {3502461424572090577 37 207}]
------------------------------------------------------
term 37 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11064 term 37 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
flag 33036 term 37 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206} {3502461424572090577 37 207}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206} {3502461424572090577 37 207}]
------------------------------------------------------
flag 59385 term 37 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
flag 68119 term 37 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206} {3502461424572090577 37 207}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206} {3502461424572090577 37 207}]
------------------------------------------------------
flag 13616 term 37 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
flag 97431 term 37 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206} {3502461424572090577 37 207}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206} {3502461424572090577 37 207}]
------------------------------------------------------
flag 84796 term 37 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
flag 71902 term 37 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206} {3502461424572090577 37 207}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206} {3502461424572090577 37 207}]
------------------------------------------------------
flag 26176 term 37 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
flag 737 term 37 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206} {3502461424572090577 37 207}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206} {3502461424572090577 37 207}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2320372193551997002 (index 208) to leader 2
term 37 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32448 term 37 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
flag 82183 term 37 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206} {3502461424572090577 37 207} {2320372193551997002 37 208}]
------------------------------------------------------
term 37 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61184 term 37 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 208 
------------------------------------------------------
flag 31943 term 37 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 37 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 37 leaderCommit: 208 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206} {3502461424572090577 37 207} {2320372193551997002 37 208}]
------------------------------------------------------
client write log 2108790515107751656 (index 209) to leader 2
client write log 232334244054270407 (index 210) to leader 2
client write log 6430204452241533079 (index 211) to leader 2
client write log 1148181275003384418 (index 212) to leader 2
client write log 8965368072097607121 (index 213) to leader 2
client write log 9160953617799550089 (index 214) to leader 2
client write log 2280474862107310867 (index 215) to leader 2
client write log 5119111267636467467 (index 216) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35198 term 37 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 208 
------------------------------------------------------
flag 88721 term 37 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 37 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 37 leaderCommit: 208 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 35 199} {3233074998605742031 35 200} {7707582168234368189 35 201} {526264843708734368 35 202} {1298495903172669683 35 203} {88140103530328966 35 204} {7582389441036965731 35 205} {3502461424572090577 35 206} {3502461424572090577 37 207} {2320372193551997002 37 208} {2108790515107751656 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216}]
------------------------------------------------------
term 37 Server2 start snapshot! index=209
term 37 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=216
-------------------------------------------------------------
term 37 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 37
------------------------------------------------------
flag 84559 term 37 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216}]
------------------------------------------------------
term 37 Server1 start snapshot! index=209
term 37 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=216
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2933310542131528592 (index 217) to leader 2
term 37 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 37 server 2 not vote for server 0, 日志不够新
term 37 server 1 not vote for server 0, 日志不够新
term 39 server 1 vote for server 2
term 39 server 0 vote for server 2
term 39 server 2 get vote from server 1
term 39 server 2 become leader
------------------------------------------------------
term 39 server 2 get outdate rpc reply from server 0
flag 92304 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 55314 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 218->217
------------------------------------------------------
term 39 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 218->217
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 2 nextIndex[0]: 208  matchIndex[0]: 0
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 37
------------------------------------------------------
flag 93064 term 39 leader 2 nextIndex[1]: 217  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 39 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 37 rf.commitIndex 209 rf.lastApplied 209
term 39 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 210 matchIndex[0] 209 
------------------------------------------------------------------------
flag 60389 term 39 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 39 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 51552 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
flag 15028 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 23607 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23209 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 34502 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
term 39 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80181 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 69724 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
flag 71576 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 5196 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
flag 1115 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 4008 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
flag 83952 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 30767 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
term 39 server 0 not vote for server 1, 任期不够新
term 39 server 1 get outdate rpc reply from server 0
flag 96007 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 17990 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
flag 17366 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 78989 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
flag 78276 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 89787 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
flag 36176 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 97844 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
flag 41694 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 39169 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28425 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 48632 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17570 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 53468 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 426 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 41829 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
flag 92020 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 25686 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81859 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 74270 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
flag 66154 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 81521 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217}]
------------------------------------------------------
client write log 2933310542131528592 (index 218) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37515 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 49921 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217} {2933310542131528592 39 218}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217} {2933310542131528592 39 218}]
------------------------------------------------------
flag 14640 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 16530 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217} {2933310542131528592 39 218}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217} {2933310542131528592 39 218}]
------------------------------------------------------
flag 54926 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 16444 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217} {2933310542131528592 39 218}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217} {2933310542131528592 39 218}]
------------------------------------------------------
flag 55074 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 24976 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217} {2933310542131528592 39 218}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217} {2933310542131528592 39 218}]
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64477 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 17716 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217} {2933310542131528592 39 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217} {2933310542131528592 39 218}]
------------------------------------------------------
flag 22792 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 13976 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217} {2933310542131528592 39 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217} {2933310542131528592 39 218}]
------------------------------------------------------
flag 29284 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 15087 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217} {2933310542131528592 39 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217} {2933310542131528592 39 218}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 46468 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 4863 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 98774 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 21056 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 73146 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 87799 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95607 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 92240 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
term 40 server 0 vote for server 1
term 40 server 1 get vote from server 0
term 40 server 1 become leader
------------------------------------------------------
flag 98164 term 40 leader 1 nextIndex[0]: 219  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 87558 term 40 leader 1 nextIndex[2]: 219  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217} {2933310542131528592 39 218}]
------------------------------------------------------
client write log 7988703456111704135 (index 219) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 219->218
------------------------------------------------------
flag 14159 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 45363 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 49825 term 40 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 40 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 37
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 37 209} {232334244054270407 37 210} {6430204452241533079 37 211} {1148181275003384418 37 212} {8965368072097607121 37 213} {9160953617799550089 37 214} {2280474862107310867 37 215} {5119111267636467467 37 216} {2933310542131528592 37 217} {2933310542131528592 39 218} {7988703456111704135 40 219}]
------------------------------------------------------
term 40 Server1 start snapshot! index=219
term 40 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
flag 88622 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 55488 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 4688 term 40 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 40 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 40 leaderCommit: 219 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 40 219}]
------------------------------------------------------
term 40 Server0 start snapshot! index=219
term 40 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
client write log 2743859046346210428 (index 220) to leader 1
flag 27215 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 17216 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 3840 term 40 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 40 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 40 leaderCommit: 219 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {2743859046346210428 40 220}]
------------------------------------------------------
flag 65858 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 28383 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 27651 term 40 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 40 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {2743859046346210428 40 220}]
------------------------------------------------------
!!!!!!connect server 2
client write log 4301470206776950217 (index 221) to leader 1
flag 19405 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 49914 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
term 40 server 0 AppendEntries false 领导者任期过期 args.Term 39
------------------------------------------------------
term 40 server 1 AppendEntries false 领导者任期过期 args.Term 39
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45349 term 40 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 40 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 2 InstallSnapshot success
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 40 rf.commitIndex 219 rf.lastApplied 219
flag 41253 term 40 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 40 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
flag 15349 term 40 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 40 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221}]
------------------------------------------------------
flag 20574 term 40 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 40 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
flag 31729 term 40 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 40 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221}]
------------------------------------------------------
flag 38192 term 40 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 40 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
flag 21120 term 40 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 40 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221}]
------------------------------------------------------
flag 96035 term 40 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 40 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
flag 86026 term 40 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 40 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97363 term 40 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 40 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
flag 68697 term 40 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 40 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:221 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221}]
------------------------------------------------------
flag 54503 term 40 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 40 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
flag 1386 term 40 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 40 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7330320624894955620 (index 222) to leader 1
flag 77187 term 40 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 40 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
flag 92661 term 40 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 40 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32478 term 40 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 40 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 222 
------------------------------------------------------
flag 31543 term 40 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 40 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 222 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222}]
------------------------------------------------------
client write log 736804887667833137 (index 223) to leader 1
client write log 3180912054964116117 (index 224) to leader 1
client write log 3472359551697534041 (index 225) to leader 1
client write log 308725728946963914 (index 226) to leader 1
client write log 410539014357480006 (index 227) to leader 1
client write log 4745286669405620591 (index 228) to leader 1
flag 41562 term 40 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 40 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 222 
------------------------------------------------------
flag 11941 term 40 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 40 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 222 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228}]
------------------------------------------------------
flag 33879 term 40 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 40 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 23140 term 40 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 40 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228}]
------------------------------------------------------
!!!!!!connect server 2
term 40 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
client write log 234232036119423791 (index 229) to leader 1
term 40 server 1 not vote for server 2, 日志不够新
term 40 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 2 vote for server 1
term 42 server 0 vote for server 1
term 42 server 1 get vote from server 2
term 42 server 1 become leader
------------------------------------------------------
term 42 server 1 get outdate rpc reply from server 0
flag 74520 term 42 leader 1 nextIndex[0]: 230  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 17328 term 42 leader 1 nextIndex[2]: 230  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 42 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 230->229
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 230->229
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1160 term 42 leader 1 nextIndex[0]: 229  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 65265 term 42 leader 1 nextIndex[2]: 222  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98045 term 42 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 40783 term 42 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
term 42 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
flag 66044 term 42 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 99920 term 42 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81493 term 42 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 8398 term 42 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8304 term 42 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 71781 term 42 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25576 term 42 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 68275 term 42 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
flag 21966 term 42 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 36752 term 42 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
flag 9648 term 42 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 93997 term 42 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
flag 77555 term 42 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 13994 term 42 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62321 term 42 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 33448 term 42 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96530 term 42 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 15356 term 42 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
flag 19077 term 42 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 65287 term 42 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
flag 8306 term 42 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 86643 term 42 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
flag 85565 term 42 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 75445 term 42 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
flag 56293 term 42 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 75645 term 42 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
flag 92200 term 42 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 66784 term 42 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
flag 47425 term 42 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 71636 term 42 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
flag 28314 term 42 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 2566 term 42 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84497 term 42 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 77778 term 42 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229}]
------------------------------------------------------
client write log 234232036119423791 (index 230) to leader 1
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229} {234232036119423791 42 230}]
------------------------------------------------------
term 42 server 2 not vote for server 1, 任期不够新
term 42 server 1 get outdate rpc reply from server 2
flag 7069 term 42 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 49743 term 42 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229} {234232036119423791 42 230}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 219} {2743859046346210428 40 220} {4301470206776950217 40 221} {7330320624894955620 40 222} {736804887667833137 40 223} {3180912054964116117 40 224} {3472359551697534041 40 225} {308725728946963914 40 226} {410539014357480006 40 227} {4745286669405620591 40 228} {234232036119423791 40 229} {234232036119423791 42 230}]
------------------------------------------------------
term 42 Server1 start snapshot! index=229
term 42 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=230
-------------------------------------------------------------
flag 56754 term 42 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 42 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 42 leaderCommit: 230 
------------------------------------------------------
flag 41293 term 42 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 42 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 42 leaderCommit: 230 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {234232036119423791 42 230}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {234232036119423791 42 230}]
------------------------------------------------------
term 42 Server0 start snapshot! index=229
term 42 Server2 start snapshot! index=229
term 42 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=230
-------------------------------------------------------------
term 42 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=230
-------------------------------------------------------------
flag 22273 term 42 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 42 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 42 leaderCommit: 230 
------------------------------------------------------
flag 87777 term 42 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 42 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 42 leaderCommit: 230 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {234232036119423791 42 230}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {234232036119423791 42 230}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71126 term 42 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 42 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 42 leaderCommit: 230 
------------------------------------------------------
flag 81703 term 42 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 42 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 42 leaderCommit: 230 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {234232036119423791 42 230}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {234232036119423791 42 230}]
------------------------------------------------------
flag 85328 term 42 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 42 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 42 leaderCommit: 230 
------------------------------------------------------
flag 57017 term 42 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 42 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 42 leaderCommit: 230 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {234232036119423791 42 230}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {234232036119423791 42 230}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90027 term 42 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 42 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 42 leaderCommit: 230 
------------------------------------------------------
flag 10930 term 42 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 42 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 42 leaderCommit: 230 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {234232036119423791 42 230}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {234232036119423791 42 230}]
------------------------------------------------------
flag 55387 term 42 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 42 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 42 leaderCommit: 230 
------------------------------------------------------
flag 5484 term 42 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 42 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 42 leaderCommit: 230 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {234232036119423791 42 230}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {234232036119423791 42 230}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6551660404284528678 (index 231) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66098 term 42 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 42 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 42 leaderCommit: 230 
------------------------------------------------------
flag 38699 term 42 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 42 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 42 leaderCommit: 230 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 40 229} {234232036119423791 42 230} {6551660404284528678 42 231}]
------------------------------------------------------
flag 86611 term 42 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 42 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 42 leaderCommit: 231 
------------------------------------------------------
flag 47043 term 42 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 42 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 42 leaderCommit: 231 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 40 229} {234232036119423791 42 230} {6551660404284528678 42 231}]
------------------------------------------------------
client write log 7827731478027375466 (index 232) to leader 1
client write log 2032911130905872652 (index 233) to leader 1
client write log 6694319563693399989 (index 234) to leader 1
client write log 2759434331733985010 (index 235) to leader 1
client write log 8721465250919642340 (index 236) to leader 1
client write log 8305397811325907212 (index 237) to leader 1
client write log 4723265860497884949 (index 238) to leader 1
client write log 1265187186790280356 (index 239) to leader 1
client write log 4868489179073772298 (index 240) to leader 1
client write log 6811994882076454520 (index 241) to leader 1
flag 21050 term 42 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 42 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 42 leaderCommit: 231 
------------------------------------------------------
flag 49199 term 42 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 42 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 42 leaderCommit: 231 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 40 229} {234232036119423791 42 230} {6551660404284528678 42 231} {7827731478027375466 42 232} {2032911130905872652 42 233} {6694319563693399989 42 234} {2759434331733985010 42 235} {8721465250919642340 42 236} {8305397811325907212 42 237} {4723265860497884949 42 238} {1265187186790280356 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241}]
------------------------------------------------------
term 42 Server1 start snapshot! index=239
term 42 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=241
-------------------------------------------------------------
flag 46123 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241}]
------------------------------------------------------
term 42 Server0 start snapshot! index=239
term 42 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=241
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5562239607769330585 (index 242) to leader 1
flag 61082 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
term 43 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 2 vote for server 1
term 44 server 1 get vote from server 2
term 44 server 1 become leader
------------------------------------------------------
term 44 server 0 vote for server 1
term 44 server 1 get outdate rpc reply from server 0
flag 23591 term 44 leader 1 nextIndex[0]: 243  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 54269 term 44 leader 1 nextIndex[2]: 243  matchIndex[2]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 243->242
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32969 term 44 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 231  matchIndex[2]: 0
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
term 44 server 2 InstallSnapshot success
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 42 rf.commitIndex 239 rf.lastApplied 239
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
flag 84938 term 44 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 23680 term 44 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8599 term 44 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 96417 term 44 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
flag 78498 term 44 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 5713 term 44 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
flag 1354 term 44 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 45443 term 44 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38682 term 44 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 70658 term 44 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
flag 67167 term 44 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 85948 term 44 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55805 term 44 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 61712 term 44 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
term 44 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
flag 62209 term 44 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 72297 term 44 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
flag 53246 term 44 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 72449 term 44 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
flag 27593 term 44 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 64800 term 44 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66673 term 44 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 80441 term 44 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
flag 91188 term 44 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 45974 term 44 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
term 44 server 0 not vote for server 2, 任期不够新
term 44 server 2 get outdate rpc reply from server 0
flag 73757 term 44 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 31193 term 44 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34684 term 44 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 1559 term 44 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
flag 36717 term 44 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 24966 term 44 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
flag 68428 term 44 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 19983 term 44 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
flag 30850 term 44 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 3577 term 44 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242}]
------------------------------------------------------
client write log 5562239607769330585 (index 243) to leader 1
flag 76539 term 44 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 956 term 44 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243}]
------------------------------------------------------
flag 58399 term 44 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 44 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 19233 term 44 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 44 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81998 term 44 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 44 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 45332 term 44 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 44 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243}]
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26617 term 44 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 44 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 15663 term 44 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 44 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243}]
------------------------------------------------------
flag 99274 term 44 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 44 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 19596 term 44 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 44 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243}]
------------------------------------------------------
flag 84261 term 44 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 44 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 31563 term 44 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 44 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243}]
------------------------------------------------------
flag 72518 term 44 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 44 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 40865 term 44 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 44 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
term 44 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 69976 term 44 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 44 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 22592 term 44 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 44 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 38136 term 44 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 44 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 51397 term 44 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 44 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 244->243
------------------------------------------------------
flag 3246 term 44 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 44 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 0  matchIndex[2]: 243
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
flag 1998 term 44 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 44 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 0  matchIndex[2]: 243
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
term 45 server 2 vote for server 0
term 45 server 0 get vote from server 2
term 45 server 0 become leader
------------------------------------------------------
flag 74567 term 45 leader 0 nextIndex[1]: 244  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 79488 term 45 leader 0 nextIndex[2]: 244  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243}]
------------------------------------------------------
client write log 4039399330586788118 (index 244) to leader 0
flag 87898 term 44 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 44 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 0  matchIndex[2]: 243
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 244->243
------------------------------------------------------
flag 804 term 45 leader 0 nextIndex[1]: 244  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 88823 term 45 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 45 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244}]
------------------------------------------------------
term 44 leader 1 nextIndex[0]: 0  matchIndex[0]: 243
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 0  matchIndex[2]: 243
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
flag 97424 term 45 leader 0 nextIndex[1]: 244  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 244 
------------------------------------------------------
flag 14046 term 45 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 244 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244}]
------------------------------------------------------
client write log 3596714836833003711 (index 245) to leader 0
term 44 leader 1 nextIndex[0]: 0  matchIndex[0]: 243
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 0  matchIndex[2]: 243
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
flag 30231 term 45 leader 0 nextIndex[1]: 244  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 244 
------------------------------------------------------
flag 14398 term 45 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 244 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
term 44 leader 1 nextIndex[0]: 0  matchIndex[0]: 243
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 0  matchIndex[2]: 243
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
flag 64424 term 45 leader 0 nextIndex[1]: 244  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 40129 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
!!!!!!connect server 1
client write log 27170719534319258 (index 244) to leader 1
term 44 leader 1 nextIndex[0]: 0  matchIndex[0]: 243
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 0  matchIndex[2]: 243
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
term 45 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 45 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 44 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94003 term 45 leader 0 nextIndex[1]: 244  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 6114 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14548 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
flag 82665 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
term 45 server 1 not vote for server 2, 任期不够新
term 45 server 2 get outdate rpc reply from server 1
flag 63458 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
flag 12775 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
flag 6665 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
flag 76859 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 246->245
------------------------------------------------------
term 45 server 1 not vote for server 0, 日志不够新
term 45 server 0 get outdate rpc reply from server 1
term 45 leader 0 nextIndex[1]: 0  matchIndex[1]: 245
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
flag 61871 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 1 InstallSnapshot fail
rf.commitIndex 245 args.LastIncludedIndex 239
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
flag 84970 term 45 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 45 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 42 leaderCommit: 245 
------------------------------------------------------
flag 47870 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
flag 81209 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
flag 15875 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
flag 56427 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
flag 82540 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
flag 59486 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
flag 45734 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
flag 23898 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
flag 89816 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
flag 29696 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
flag 58674 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
flag 28485 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
flag 37047 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73680 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
flag 42576 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
flag 8666 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
flag 80710 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
flag 16805 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
flag 52770 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38205 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
flag 62485 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
flag 90401 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
flag 87802 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
flag 79095 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
flag 31364 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
flag 22879 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
flag 34612 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245}]
------------------------------------------------------
flag 98975 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
flag 54400 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
client write log 27170719534319258 (index 246) to leader 0
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245} {27170719534319258 45 246}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245} {27170719534319258 45 246}]
------------------------------------------------------
flag 23067 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
flag 47001 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245} {27170719534319258 45 246}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245} {27170719534319258 45 246}]
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97682 term 45 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 45 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
flag 82141 term 45 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 45 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245} {27170719534319258 45 246}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245} {27170719534319258 45 246}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 247->246
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 0  matchIndex[1]: 246
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
flag 4081 term 45 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 45 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
term 45 server 1 InstallSnapshot fail
rf.commitIndex 246 args.LastIncludedIndex 239
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245} {27170719534319258 45 246}]
------------------------------------------------------
flag 20271 term 45 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 45 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 42 leaderCommit: 246 
------------------------------------------------------
flag 58848 term 45 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 45 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245} {27170719534319258 45 246}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245} {27170719534319258 45 246}]
------------------------------------------------------
flag 31857 term 45 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 45 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
flag 84474 term 45 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 45 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245} {27170719534319258 45 246}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245} {27170719534319258 45 246}]
------------------------------------------------------
flag 23526 term 45 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 45 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
flag 7939 term 45 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 45 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:246 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245} {27170719534319258 45 246}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245} {27170719534319258 45 246}]
------------------------------------------------------
flag 60417 term 45 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 45 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
flag 35680 term 45 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 45 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245} {27170719534319258 45 246}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245} {27170719534319258 45 246}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8006588620040363689 (index 247) to leader 0
flag 94213 term 45 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 45 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
flag 49044 term 45 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 45 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245} {27170719534319258 45 246} {8006588620040363689 45 247}]
------------------------------------------------------
flag 4660 term 45 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 45 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
flag 87988 term 45 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245} {27170719534319258 45 246} {8006588620040363689 45 247}]
------------------------------------------------------
client write log 1262397368949323164 (index 248) to leader 0
client write log 1655171846075777676 (index 249) to leader 0
client write log 566701742248297051 (index 250) to leader 0
client write log 1333743129283001042 (index 251) to leader 0
client write log 8247109522696851771 (index 252) to leader 0
client write log 1093596580646517193 (index 253) to leader 0
client write log 3495934445647482457 (index 254) to leader 0
client write log 1542072803113937865 (index 255) to leader 0
client write log 3542795264791199141 (index 256) to leader 0
client write log 1953926737491606119 (index 257) to leader 0
client write log 3250456174613147233 (index 258) to leader 0
client write log 514735575662947075 (index 259) to leader 0
client write log 1593501045434623115 (index 260) to leader 0
client write log 2497378908080225924 (index 261) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 247->246
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 0  matchIndex[1]: 246
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
flag 36702 term 45 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 42 239} {4868489179073772298 42 240} {6811994882076454520 42 241} {5562239607769330585 42 242} {5562239607769330585 44 243} {4039399330586788118 45 244} {3596714836833003711 45 245} {27170719534319258 45 246} {8006588620040363689 45 247} {1262397368949323164 45 248} {1655171846075777676 45 249} {566701742248297051 45 250} {1333743129283001042 45 251} {8247109522696851771 45 252} {1093596580646517193 45 253} {3495934445647482457 45 254} {1542072803113937865 45 255} {3542795264791199141 45 256} {1953926737491606119 45 257} {3250456174613147233 45 258} {514735575662947075 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261}]
------------------------------------------------------
term 45 Server0 start snapshot! index=249
term 45 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=261
-------------------------------------------------------------
term 45 Server0 start snapshot! index=259
term 45 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=261
-------------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
flag 24270 term 45 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 45 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
flag 8997 term 45 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 45 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261}]
------------------------------------------------------
term 45 Server2 start snapshot! index=249
term 45 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=261
-------------------------------------------------------------
term 45 Server2 start snapshot! index=259
term 45 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=261
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7245510497413675995 (index 262) to leader 0
flag 97844 term 45 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 45 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
flag 91659 term 45 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 45 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
term 46 server 1 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 2 not vote for server 1, 日志不够新
term 46 server 0 not vote for server 1, 日志不够新
term 48 server 2 vote for server 0
term 48 server 0 get vote from server 2
term 48 server 0 become leader
------------------------------------------------------
term 48 server 1 vote for server 0
term 48 server 0 get outdate rpc reply from server 1
flag 51120 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
flag 8732 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 263->262
------------------------------------------------------
term 48 server 2 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 0 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 0
term 48 leader 0 nextIndex[1]: 247  matchIndex[1]: 0
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 45
------------------------------------------------------
flag 77514 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 48 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 45 rf.commitIndex 259 rf.lastApplied 259
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
flag 89805 term 48 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
flag 39721 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97586 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
flag 52256 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80952 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
flag 109 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
flag 62818 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
flag 97609 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
flag 71583 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
flag 21839 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55205 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
flag 68109 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10382 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
flag 77418 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
flag 30685 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
flag 75845 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
flag 92745 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
flag 31205 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
flag 18313 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
flag 96095 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53924 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
flag 26156 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
flag 53540 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
flag 67771 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
flag 47154 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
flag 66453 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10782 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
flag 84972 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262}]
------------------------------------------------------
client write log 7245510497413675995 (index 263) to leader 0
flag 45940 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
flag 72755 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262} {7245510497413675995 48 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262} {7245510497413675995 48 263}]
------------------------------------------------------
flag 84521 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
flag 27280 term 48 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
term 48 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262} {7245510497413675995 48 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262} {7245510497413675995 48 263}]
------------------------------------------------------
flag 70563 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
flag 80759 term 48 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262} {7245510497413675995 48 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262} {7245510497413675995 48 263}]
------------------------------------------------------
flag 60049 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
flag 83068 term 48 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262} {7245510497413675995 48 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262} {7245510497413675995 48 263}]
------------------------------------------------------
flag 8104 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
flag 59257 term 48 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262} {7245510497413675995 48 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262} {7245510497413675995 48 263}]
------------------------------------------------------
flag 12518 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
flag 45346 term 48 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 48 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
update nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262} {7245510497413675995 48 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262} {7245510497413675995 48 263}]
------------------------------------------------------
flag 89448 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
flag 26904 term 48 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262} {7245510497413675995 48 263}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262} {7245510497413675995 48 263}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 541248569619030254 (index 264) to leader 0
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36437 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
flag 27296 term 48 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262} {7245510497413675995 48 263} {541248569619030254 48 264}]
------------------------------------------------------
flag 70983 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
flag 71651 term 48 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262} {7245510497413675995 48 263} {541248569619030254 48 264}]
------------------------------------------------------
client write log 8065530059357766974 (index 265) to leader 0
client write log 8860028753984143558 (index 266) to leader 0
client write log 510133266120906575 (index 267) to leader 0
client write log 5609302962536155202 (index 268) to leader 0
client write log 5793410618960684668 (index 269) to leader 0
client write log 7694677012146967493 (index 270) to leader 0
client write log 1711761172526562601 (index 271) to leader 0
client write log 9178217391709819005 (index 272) to leader 0
client write log 4982011304547356510 (index 273) to leader 0
client write log 9138048281990379329 (index 274) to leader 0
client write log 7636930558069391659 (index 275) to leader 0
client write log 6131338872374750504 (index 276) to leader 0
client write log 7229445785864207102 (index 277) to leader 0
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43946 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
flag 83096 term 48 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 45 259} {1593501045434623115 45 260} {2497378908080225924 45 261} {7245510497413675995 45 262} {7245510497413675995 48 263} {541248569619030254 48 264} {8065530059357766974 48 265} {8860028753984143558 48 266} {510133266120906575 48 267} {5609302962536155202 48 268} {5793410618960684668 48 269} {7694677012146967493 48 270} {1711761172526562601 48 271} {9178217391709819005 48 272} {4982011304547356510 48 273} {9138048281990379329 48 274} {7636930558069391659 48 275} {6131338872374750504 48 276} {7229445785864207102 48 277}]
------------------------------------------------------
term 48 Server0 start snapshot! index=269
term 48 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=277
-------------------------------------------------------------
term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
flag 71791 term 48 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 48 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {7694677012146967493 48 270} {1711761172526562601 48 271} {9178217391709819005 48 272} {4982011304547356510 48 273} {9138048281990379329 48 274} {7636930558069391659 48 275} {6131338872374750504 48 276} {7229445785864207102 48 277}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 Server2 start snapshot! index=269
term 48 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=277
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4600420376722139626 (index 278) to leader 0
term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
flag 55672 term 48 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 48 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {7694677012146967493 48 270} {1711761172526562601 48 271} {9178217391709819005 48 272} {4982011304547356510 48 273} {9138048281990379329 48 274} {7636930558069391659 48 275} {6131338872374750504 48 276} {7229445785864207102 48 277} {4600420376722139626 48 278}]
------------------------------------------------------
term 49 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 server 2 vote for server 0
term 50 server 0 get vote from server 2
term 50 server 0 become leader
------------------------------------------------------
term 50 server 1 vote for server 0
term 50 server 0 get outdate rpc reply from server 1
flag 21808 term 50 leader 0 nextIndex[1]: 279  matchIndex[1]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 8172 term 50 leader 0 nextIndex[2]: 279  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {7694677012146967493 48 270} {1711761172526562601 48 271} {9178217391709819005 48 272} {4982011304547356510 48 273} {9138048281990379329 48 274} {7636930558069391659 48 275} {6131338872374750504 48 276} {7229445785864207102 48 277} {4600420376722139626 48 278}]
------------------------------------------------------
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 279->278
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 leader 0 nextIndex[1]: 264  matchIndex[1]: 0
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
flag 84485 term 50 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 50 server 1 InstallSnapshot success
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 48 rf.commitIndex 269 rf.lastApplied 269
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {7694677012146967493 48 270} {1711761172526562601 48 271} {9178217391709819005 48 272} {4982011304547356510 48 273} {9138048281990379329 48 274} {7636930558069391659 48 275} {6131338872374750504 48 276} {7229445785864207102 48 277} {4600420376722139626 48 278}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93158 term 50 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 50 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 54815 term 50 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {7694677012146967493 48 270} {1711761172526562601 48 271} {9178217391709819005 48 272} {4982011304547356510 48 273} {9138048281990379329 48 274} {7636930558069391659 48 275} {6131338872374750504 48 276} {7229445785864207102 48 277} {4600420376722139626 48 278}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {7694677012146967493 48 270} {1711761172526562601 48 271} {9178217391709819005 48 272} {4982011304547356510 48 273} {9138048281990379329 48 274} {7636930558069391659 48 275} {6131338872374750504 48 276} {7229445785864207102 48 277} {4600420376722139626 48 278}]
------------------------------------------------------
flag 45331 term 50 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 39196 term 50 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {7694677012146967493 48 270} {1711761172526562601 48 271} {9178217391709819005 48 272} {4982011304547356510 48 273} {9138048281990379329 48 274} {7636930558069391659 48 275} {6131338872374750504 48 276} {7229445785864207102 48 277} {4600420376722139626 48 278}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {7694677012146967493 48 270} {1711761172526562601 48 271} {9178217391709819005 48 272} {4982011304547356510 48 273} {9138048281990379329 48 274} {7636930558069391659 48 275} {6131338872374750504 48 276} {7229445785864207102 48 277} {4600420376722139626 48 278}]
------------------------------------------------------
flag 73410 term 50 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 51476 term 50 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {7694677012146967493 48 270} {1711761172526562601 48 271} {9178217391709819005 48 272} {4982011304547356510 48 273} {9138048281990379329 48 274} {7636930558069391659 48 275} {6131338872374750504 48 276} {7229445785864207102 48 277} {4600420376722139626 48 278}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {7694677012146967493 48 270} {1711761172526562601 48 271} {9178217391709819005 48 272} {4982011304547356510 48 273} {9138048281990379329 48 274} {7636930558069391659 48 275} {6131338872374750504 48 276} {7229445785864207102 48 277} {4600420376722139626 48 278}]
------------------------------------------------------
flag 4762 term 50 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 41466 term 50 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {7694677012146967493 48 270} {1711761172526562601 48 271} {9178217391709819005 48 272} {4982011304547356510 48 273} {9138048281990379329 48 274} {7636930558069391659 48 275} {6131338872374750504 48 276} {7229445785864207102 48 277} {4600420376722139626 48 278}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {7694677012146967493 48 270} {1711761172526562601 48 271} {9178217391709819005 48 272} {4982011304547356510 48 273} {9138048281990379329 48 274} {7636930558069391659 48 275} {6131338872374750504 48 276} {7229445785864207102 48 277} {4600420376722139626 48 278}]
------------------------------------------------------
flag 12706 term 50 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 9056 term 50 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {7694677012146967493 48 270} {1711761172526562601 48 271} {9178217391709819005 48 272} {4982011304547356510 48 273} {9138048281990379329 48 274} {7636930558069391659 48 275} {6131338872374750504 48 276} {7229445785864207102 48 277} {4600420376722139626 48 278}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {7694677012146967493 48 270} {1711761172526562601 48 271} {9178217391709819005 48 272} {4982011304547356510 48 273} {9138048281990379329 48 274} {7636930558069391659 48 275} {6131338872374750504 48 276} {7229445785864207102 48 277} {4600420376722139626 48 278}]
------------------------------------------------------
flag 51004 term 50 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 8519 term 50 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {7694677012146967493 48 270} {1711761172526562601 48 271} {9178217391709819005 48 272} {4982011304547356510 48 273} {9138048281990379329 48 274} {7636930558069391659 48 275} {6131338872374750504 48 276} {7229445785864207102 48 277} {4600420376722139626 48 278}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {7694677012146967493 48 270} {1711761172526562601 48 271} {9178217391709819005 48 272} {4982011304547356510 48 273} {9138048281990379329 48 274} {7636930558069391659 48 275} {6131338872374750504 48 276} {7229445785864207102 48 277} {4600420376722139626 48 278}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 74110 term 50 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 95740 term 50 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3274 term 50 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 9979 term 50 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 72263 term 50 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 98337 term 50 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 279->278
------------------------------------------------------
term 51 server 1 vote for server 2
term 51 server 2 get vote from server 1
term 51 server 2 become leader
------------------------------------------------------
flag 68834 term 50 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 278
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
flag 89523 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 76441 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {7694677012146967493 48 270} {1711761172526562601 48 271} {9178217391709819005 48 272} {4982011304547356510 48 273} {9138048281990379329 48 274} {7636930558069391659 48 275} {6131338872374750504 48 276} {7229445785864207102 48 277} {4600420376722139626 48 278}]
------------------------------------------------------
client write log 1762580668069800730 (index 279) to leader 2
flag 56483 term 50 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 278
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
flag 84309 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 1797 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 48 269} {7694677012146967493 48 270} {1711761172526562601 48 271} {9178217391709819005 48 272} {4982011304547356510 48 273} {9138048281990379329 48 274} {7636930558069391659 48 275} {6131338872374750504 48 276} {7229445785864207102 48 277} {4600420376722139626 48 278} {1762580668069800730 51 279}]
------------------------------------------------------
term 51 Server2 start snapshot! index=279
term 51 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
flag 41416 term 50 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 278
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 51
------------------------------------------------------
flag 80484 term 51 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 51 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 279 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 51 279}]
------------------------------------------------------
term 51 Server1 start snapshot! index=279
term 51 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
client write log 20391329376414384 (index 280) to leader 2
flag 49996 term 50 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 278
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 51
------------------------------------------------------
flag 83248 term 51 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 51 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 279 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 51 279} {20391329376414384 51 280}]
------------------------------------------------------
flag 52584 term 50 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 278
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 51
------------------------------------------------------
flag 14729 term 51 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 51 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 51 leaderCommit: 280 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 51 279} {20391329376414384 51 280}]
------------------------------------------------------
!!!!!!connect server 0
client write log 7439404390270788036 (index 281) to leader 2
flag 35310 term 50 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 50 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 278
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
term 51 server 1 AppendEntries false 领导者任期过期 args.Term 50
------------------------------------------------------
term 51 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 51 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 51
------------------------------------------------------
flag 31899 term 51 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 51 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 51 leaderCommit: 280 
------------------------------------------------------
term 51 server 0 InstallSnapshot success
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 51 rf.commitIndex 279 rf.lastApplied 279
term 51 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 51 279} {20391329376414384 51 280} {7439404390270788036 51 281}]
------------------------------------------------------
flag 96116 term 51 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 51 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
flag 12867 term 51 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 51 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 51 279} {20391329376414384 51 280} {7439404390270788036 51 281}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 51 279} {20391329376414384 51 280} {7439404390270788036 51 281}]
------------------------------------------------------
flag 86456 term 51 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 51 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
flag 26716 term 51 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 51 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 51 279} {20391329376414384 51 280} {7439404390270788036 51 281}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 51 279} {20391329376414384 51 280} {7439404390270788036 51 281}]
------------------------------------------------------
term 51 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46129 term 51 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 51 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
flag 1283 term 51 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 51 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 51 279} {20391329376414384 51 280} {7439404390270788036 51 281}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 51 279} {20391329376414384 51 280} {7439404390270788036 51 281}]
------------------------------------------------------
term 51 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60929 term 51 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 51 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
flag 77767 term 51 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 51 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 51 279} {20391329376414384 51 280} {7439404390270788036 51 281}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 51 279} {20391329376414384 51 280} {7439404390270788036 51 281}]
------------------------------------------------------
flag 32135 term 51 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 51 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
flag 99980 term 51 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 51 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 51 279} {20391329376414384 51 280} {7439404390270788036 51 281}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 51 279} {20391329376414384 51 280} {7439404390270788036 51 281}]
------------------------------------------------------
flag 68814 term 51 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 51 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
flag 53018 term 51 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 51 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 51 279} {20391329376414384 51 280} {7439404390270788036 51 281}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 51 279} {20391329376414384 51 280} {7439404390270788036 51 281}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4164844900704503239 (index 282) to leader 2
flag 87707 term 51 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 51 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
flag 72982 term 51 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 51 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 51 279} {20391329376414384 51 280} {7439404390270788036 51 281} {4164844900704503239 51 282}]
------------------------------------------------------
flag 75814 term 51 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 51 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 282 
------------------------------------------------------
flag 22253 term 51 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 51 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 51 leaderCommit: 282 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 51 279} {20391329376414384 51 280} {7439404390270788036 51 281} {4164844900704503239 51 282}]
------------------------------------------------------
client write log 2537250292158259659 (index 283) to leader 2
client write log 4617149917930611937 (index 284) to leader 2
client write log 6819474960256449851 (index 285) to leader 2
client write log 3418967737999121191 (index 286) to leader 2
client write log 3754093181803348091 (index 287) to leader 2
client write log 1532407601884899545 (index 288) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93617 term 51 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 51 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 282 
------------------------------------------------------
flag 71081 term 51 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 51 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 51 leaderCommit: 282 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {20391329376414384 51 280} {7439404390270788036 51 281} {4164844900704503239 51 282} {2537250292158259659 51 283} {4617149917930611937 51 284} {6819474960256449851 51 285} {3418967737999121191 51 286} {3754093181803348091 51 287} {1532407601884899545 51 288}]
------------------------------------------------------
flag 19944 term 51 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 51 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 288 
------------------------------------------------------
flag 9223 term 51 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 51 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 51 leaderCommit: 288 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {20391329376414384 51 280} {7439404390270788036 51 281} {4164844900704503239 51 282} {2537250292158259659 51 283} {4617149917930611937 51 284} {6819474960256449851 51 285} {3418967737999121191 51 286} {3754093181803348091 51 287} {1532407601884899545 51 288}]
------------------------------------------------------
!!!!!!connect server 0
client write log 4515866018775763466 (index 289) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 282->281
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 0  matchIndex[0]: 281
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 51
------------------------------------------------------
flag 49452 term 51 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 51 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 51 leaderCommit: 288 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
term 52 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 279} {20391329376414384 51 280} {7439404390270788036 51 281} {4164844900704503239 51 282} {2537250292158259659 51 283} {4617149917930611937 51 284} {6819474960256449851 51 285} {3418967737999121191 51 286} {3754093181803348091 51 287} {1532407601884899545 51 288} {4515866018775763466 51 289}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 52 Server2 start snapshot! index=289
term 52 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
term 53 server 1 vote for server 2
term 53 server 0 vote for server 2
term 53 server 2 get vote from server 1
term 53 server 2 become leader
------------------------------------------------------
term 53 server 2 get outdate rpc reply from server 0
flag 30958 term 53 leader 2 nextIndex[0]: 290  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
flag 60772 term 53 leader 2 nextIndex[1]: 290  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 53 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 289}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 290->289
------------------------------------------------------
term 53 Server1 start snapshot! index=289
term 53 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
term 53 leader 2 nextIndex[0]: 282  matchIndex[0]: 0
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 51
------------------------------------------------------
flag 72512 term 53 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 53 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 289}]
------------------------------------------------------
term 53 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 51 rf.commitIndex 289 rf.lastApplied 289
term 53 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
term 53 server 2 not vote for server 1, 任期不够新
term 53 server 1 get outdate rpc reply from server 2
flag 28719 term 53 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 53 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
flag 27076 term 53 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 53 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 289}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 289}]
------------------------------------------------------
flag 32349 term 53 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 53 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
flag 23900 term 53 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 53 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 289}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 289}]
------------------------------------------------------
flag 56462 term 53 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 53 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
flag 40403 term 53 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 53 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 289}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 289}]
------------------------------------------------------
flag 758 term 53 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 53 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
flag 21247 term 53 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 53 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 289}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 289}]
------------------------------------------------------
flag 20010 term 53 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 53 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
flag 50414 term 53 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 53 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 289}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 289}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 90086929886912429 (index 290) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27102 term 53 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 53 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
flag 71390 term 53 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 53 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 51 289} {90086929886912429 53 290}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14811 term 53 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 53 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 290 
------------------------------------------------------
flag 80864 term 53 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 53 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 53 leaderCommit: 290 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 51 289} {90086929886912429 53 290}]
------------------------------------------------------
client write log 1422806823893322069 (index 291) to leader 2
client write log 8443777580389185704 (index 292) to leader 2
client write log 4265971940271900722 (index 293) to leader 2
client write log 8225826950949524353 (index 294) to leader 2
client write log 3352374158085198130 (index 295) to leader 2
client write log 5174908823629109294 (index 296) to leader 2
client write log 5228416148199570405 (index 297) to leader 2
client write log 3226189770366347800 (index 298) to leader 2
client write log 2266788894992410361 (index 299) to leader 2
client write log 947363524353928733 (index 300) to leader 2
client write log 2461269624557743458 (index 301) to leader 2
client write log 8954185899132380260 (index 302) to leader 2
client write log 8008653521041355831 (index 303) to leader 2
client write log 1104414417214543880 (index 304) to leader 2
client write log 5653930109515236769 (index 305) to leader 2
term 53 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99431 term 53 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 53 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 290 
------------------------------------------------------
flag 14986 term 53 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 53 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 53 leaderCommit: 290 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 51 289} {90086929886912429 53 290} {1422806823893322069 53 291} {8443777580389185704 53 292} {4265971940271900722 53 293} {8225826950949524353 53 294} {3352374158085198130 53 295} {5174908823629109294 53 296} {5228416148199570405 53 297} {3226189770366347800 53 298} {2266788894992410361 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305}]
------------------------------------------------------
term 53 Server2 start snapshot! index=299
term 53 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=305
-------------------------------------------------------------
term 53 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 53
------------------------------------------------------
flag 55380 term 53 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 53 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305}]
------------------------------------------------------
term 53 Server1 start snapshot! index=299
term 53 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=305
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5841367359351914090 (index 306) to leader 2
term 53 server 2 not vote for server 0, 日志不够新
term 53 server 1 not vote for server 0, 日志不够新
term 55 server 0 vote for server 2
term 55 server 2 get vote from server 0
term 55 server 2 become leader
------------------------------------------------------
term 55 server 1 vote for server 2
term 55 server 2 get outdate rpc reply from server 1
flag 34697 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 74592 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries false prev日志不匹配
term 55 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 307->306
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 307->306
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 leader 2 nextIndex[0]: 290  matchIndex[0]: 0
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 53
------------------------------------------------------
flag 96045 term 55 leader 2 nextIndex[1]: 306  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
term 55 server 0 InstallSnapshot success
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 53 rf.commitIndex 299 rf.lastApplied 299
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2971 term 55 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 55 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 57973 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
term 55 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 55 server 0 not vote for server 1, 任期不够新
term 55 server 1 get outdate rpc reply from server 0
flag 44304 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 76801 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
flag 50031 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 72409 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67652 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 78703 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
flag 58147 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 43985 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
flag 48190 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 50926 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
term 55 server 1 not vote for server 0, 任期不够新
term 55 server 0 get outdate rpc reply from server 1
flag 77306 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 21783 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71766 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 54951 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
flag 6085 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 60632 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
flag 12406 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 43221 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12942 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 87884 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
flag 153 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 66756 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27844 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 54308 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86970 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 8786 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
flag 96936 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 40947 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
term 55 server 0 not vote for server 2, 任期不够新
term 55 server 2 get outdate rpc reply from server 0
flag 83415 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 36772 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
term 55 server 2 not vote for server 0, 任期不够新
term 55 server 0 get outdate rpc reply from server 2
term 55 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27801 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 69302 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5841367359351914090 (index 307) to leader 2
flag 69251 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 20054 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306} {5841367359351914090 55 307}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306} {5841367359351914090 55 307}]
------------------------------------------------------
flag 4015 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 81505 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306} {5841367359351914090 55 307}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306} {5841367359351914090 55 307}]
------------------------------------------------------
term 55 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70086 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 15759 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306} {5841367359351914090 55 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306} {5841367359351914090 55 307}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38917 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 56564 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306} {5841367359351914090 55 307}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306} {5841367359351914090 55 307}]
------------------------------------------------------
flag 72443 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 50209 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306} {5841367359351914090 55 307}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306} {5841367359351914090 55 307}]
------------------------------------------------------
flag 10975 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 44740 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306} {5841367359351914090 55 307}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306} {5841367359351914090 55 307}]
------------------------------------------------------
!!!!!!diconnect server 2
term 55 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36316 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 56140 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97178 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 79735 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87891 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 98532 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 56 server 1 vote for server 0
term 56 server 0 get vote from server 1
term 56 server 0 become leader
------------------------------------------------------
flag 25781 term 56 leader 0 nextIndex[1]: 308  matchIndex[1]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 90423 term 56 leader 0 nextIndex[2]: 308  matchIndex[2]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306} {5841367359351914090 55 307}]
------------------------------------------------------
client write log 5286202781476691788 (index 308) to leader 0
flag 8124 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 40434 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 43943 term 56 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 56 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 48538 term 56 leader 0 nextIndex[2]: 308  matchIndex[2]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306} {5841367359351914090 55 307} {5286202781476691788 56 308}]
------------------------------------------------------
flag 26101 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 11264 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43986 term 56 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 56 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
flag 77368 term 56 leader 0 nextIndex[2]: 308  matchIndex[2]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 308 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306} {5841367359351914090 55 307} {5286202781476691788 56 308}]
------------------------------------------------------
client write log 6266779603757619490 (index 309) to leader 0
client write log 6422501455555658518 (index 310) to leader 0
client write log 6636997521960271344 (index 311) to leader 0
client write log 7971995646494427813 (index 312) to leader 0
client write log 3622208380889215167 (index 313) to leader 0
client write log 3959396599036901246 (index 314) to leader 0
client write log 6246159214000765092 (index 315) to leader 0
client write log 6673033443144373327 (index 316) to leader 0
flag 24460 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 97151 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 6573 term 56 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 56 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
flag 49015 term 56 leader 0 nextIndex[2]: 308  matchIndex[2]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 308 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 53 299} {947363524353928733 53 300} {2461269624557743458 53 301} {8954185899132380260 53 302} {8008653521041355831 53 303} {1104414417214543880 53 304} {5653930109515236769 53 305} {5841367359351914090 53 306} {5841367359351914090 55 307} {5286202781476691788 56 308} {6266779603757619490 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
term 56 Server0 start snapshot! index=309
term 56 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=316
-------------------------------------------------------------
flag 3505 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 33700 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 59553 term 56 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
term 56 leader 0 nextIndex[2]: 308  matchIndex[2]: 0
term 56 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 56
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
term 56 Server1 start snapshot! index=309
term 56 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=316
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 2
client write log 4226013854604018278 (index 308) to leader 2
flag 6888 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 88821 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 56 server 1 AppendEntries false 领导者任期过期 args.Term 55
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 56 server 0 AppendEntries false 领导者任期过期 args.Term 55
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63939 term 56 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
term 56 leader 0 nextIndex[2]: 308  matchIndex[2]: 0
term 56 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 56
------------------------------------------------------
term 56 server 2 InstallSnapshot success
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
term 56 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 56 rf.commitIndex 309 rf.lastApplied 309
flag 70652 term 56 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
flag 67706 term 56 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 56 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
flag 63870 term 56 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
flag 15273 term 56 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
flag 5502 term 56 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
flag 66984 term 56 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
flag 63384 term 56 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
flag 78839 term 56 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
flag 1349 term 56 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
flag 24985 term 56 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
flag 72498 term 56 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
flag 48599 term 56 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66907 term 56 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
flag 45849 term 56 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
term 56 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
flag 94799 term 56 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
flag 47809 term 56 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 56 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
flag 10239 term 56 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
flag 2086 term 56 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
flag 32587 term 56 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
flag 52424 term 56 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68936 term 56 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
flag 22742 term 56 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
flag 61598 term 56 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
flag 85882 term 56 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80594 term 56 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
flag 31523 term 56 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
flag 60266 term 56 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
flag 94076 term 56 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
flag 41620 term 56 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
flag 17595 term 56 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66444 term 56 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
flag 34472 term 56 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
flag 7603 term 56 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
flag 69020 term 56 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
flag 38700 term 56 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
flag 1983 term 56 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13193 term 56 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
flag 42186 term 56 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316}]
------------------------------------------------------
client write log 4226013854604018278 (index 317) to leader 0
flag 27079 term 56 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
flag 50081 term 56 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316} {4226013854604018278 56 317}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316} {4226013854604018278 56 317}]
------------------------------------------------------
flag 60521 term 56 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 56 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 56 leaderCommit: 317 
------------------------------------------------------
flag 64399 term 56 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 56 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 56 leaderCommit: 317 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316} {4226013854604018278 56 317}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316} {4226013854604018278 56 317}]
------------------------------------------------------
flag 17975 term 56 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 56 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 56 leaderCommit: 317 
------------------------------------------------------
flag 44494 term 56 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 56 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 56 leaderCommit: 317 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316} {4226013854604018278 56 317}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316} {4226013854604018278 56 317}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 318->317
------------------------------------------------------
flag 52131 term 56 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 56 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 56 leaderCommit: 317 
------------------------------------------------------
term 56 leader 0 nextIndex[2]: 0  matchIndex[2]: 317
term 56 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 56
------------------------------------------------------
term 56 server 2 InstallSnapshot fail
rf.commitIndex 317 args.LastIncludedIndex 309
------------------------------------------------------
term 56 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316} {4226013854604018278 56 317}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16877 term 56 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 56 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 56 leaderCommit: 317 
------------------------------------------------------
flag 70692 term 56 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 56 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 56 leaderCommit: 317 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316} {4226013854604018278 56 317}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316} {4226013854604018278 56 317}]
------------------------------------------------------
flag 56545 term 56 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 56 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 56 leaderCommit: 317 
------------------------------------------------------
flag 3845 term 56 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 56 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 56 leaderCommit: 317 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316} {4226013854604018278 56 317}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316} {4226013854604018278 56 317}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8118104406011349671 (index 318) to leader 0
flag 59126 term 56 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 56 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 56 leaderCommit: 317 
------------------------------------------------------
flag 68259 term 56 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 56 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 56 leaderCommit: 317 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316} {4226013854604018278 56 317} {8118104406011349671 56 318}]
------------------------------------------------------
flag 43758 term 56 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 56 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 56 leaderCommit: 318 
------------------------------------------------------
flag 29252 term 56 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 56 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 56 leaderCommit: 318 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316} {4226013854604018278 56 317} {8118104406011349671 56 318}]
------------------------------------------------------
client write log 8365423119841590136 (index 319) to leader 0
client write log 7040961898725879786 (index 320) to leader 0
client write log 1638520031005517076 (index 321) to leader 0
client write log 4903465368874732369 (index 322) to leader 0
client write log 184820705091748693 (index 323) to leader 0
client write log 2580193677527745976 (index 324) to leader 0
client write log 3651712171487693233 (index 325) to leader 0
client write log 6754177328758787031 (index 326) to leader 0
client write log 964301254604852141 (index 327) to leader 0
client write log 1497123251940505233 (index 328) to leader 0
flag 12429 term 56 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 56 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 56 leaderCommit: 318 
------------------------------------------------------
flag 6044 term 56 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 56 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 56 leaderCommit: 318 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 56 309} {6422501455555658518 56 310} {6636997521960271344 56 311} {7971995646494427813 56 312} {3622208380889215167 56 313} {3959396599036901246 56 314} {6246159214000765092 56 315} {6673033443144373327 56 316} {4226013854604018278 56 317} {8118104406011349671 56 318} {8365423119841590136 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328}]
------------------------------------------------------
term 56 Server0 start snapshot! index=319
term 56 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=328
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 318->317
------------------------------------------------------
term 56 leader 0 nextIndex[1]: 0  matchIndex[1]: 317
term 56 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 56
------------------------------------------------------
flag 27704 term 56 leader 0 nextIndex[2]: 329  matchIndex[2]: 328
term 56 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328}]
------------------------------------------------------
term 56 Server2 start snapshot! index=319
term 56 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=328
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4359672548335462421 (index 329) to leader 0
term 56 server 2 not vote for server 1, 日志不够新
term 56 server 0 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 58 server 2 vote for server 0
term 58 server 1 vote for server 0
term 58 server 0 get vote from server 2
term 58 server 0 become leader
------------------------------------------------------
term 58 server 0 get outdate rpc reply from server 1
flag 10384 term 58 leader 0 nextIndex[1]: 330  matchIndex[1]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
flag 51379 term 58 leader 0 nextIndex[2]: 330  matchIndex[2]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
term 58 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 330->329
------------------------------------------------------
term 58 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 330->329
------------------------------------------------------
term 58 leader 0 nextIndex[1]: 318  matchIndex[1]: 0
term 58 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 56
------------------------------------------------------
flag 67009 term 58 leader 0 nextIndex[2]: 329  matchIndex[2]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
term 58 server 1 InstallSnapshot success
------------------------------------------------------
term 58 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 56 rf.commitIndex 319 rf.lastApplied 319
flag 3139 term 58 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 58 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
flag 56769 term 58 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44561 term 58 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
flag 81626 term 58 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
flag 51215 term 58 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
flag 59594 term 58 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
flag 64422 term 58 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
flag 2813 term 58 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90704 term 58 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
flag 75491 term 58 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
flag 12443 term 58 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
flag 78340 term 58 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75725 term 58 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
flag 88209 term 58 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79487 term 58 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
flag 67772 term 58 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78036 term 58 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
flag 94048 term 58 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
flag 8 term 58 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
flag 82835 term 58 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
flag 48669 term 58 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
flag 87059 term 58 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96832 term 58 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
flag 14597 term 58 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
flag 90477 term 58 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
flag 47272 term 58 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
term 58 server 2 not vote for server 0, 任期不够新
term 58 server 0 get outdate rpc reply from server 2
flag 24297 term 58 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
flag 98878 term 58 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
flag 39041 term 58 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
flag 35764 term 58 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
flag 47345 term 58 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
flag 11262 term 58 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97015 term 58 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
flag 54726 term 58 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329}]
------------------------------------------------------
client write log 4359672548335462421 (index 330) to leader 0
flag 25236 term 58 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
flag 16717 term 58 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 328 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329} {4359672548335462421 58 330}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 56 319} {7040961898725879786 56 320} {1638520031005517076 56 321} {4903465368874732369 56 322} {184820705091748693 56 323} {2580193677527745976 56 324} {3651712171487693233 56 325} {6754177328758787031 56 326} {964301254604852141 56 327} {1497123251940505233 56 328} {4359672548335462421 56 329} {4359672548335462421 58 330}]
------------------------------------------------------
term 58 Server0 start snapshot! index=329
term 58 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
flag 83950 term 58 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 58 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 58 leaderCommit: 330 
------------------------------------------------------
flag 17211 term 58 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 58 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 58 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4359672548335462421 58 330}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4359672548335462421 58 330}]
------------------------------------------------------
term 58 Server1 start snapshot! index=329
term 58 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
term 58 Server2 start snapshot! index=329
term 58 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
flag 90293 term 58 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 58 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 58 leaderCommit: 330 
------------------------------------------------------
flag 52578 term 58 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 58 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 58 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4359672548335462421 58 330}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4359672548335462421 58 330}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66072 term 58 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 58 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 58 leaderCommit: 330 
------------------------------------------------------
flag 91422 term 58 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 58 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 58 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4359672548335462421 58 330}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4359672548335462421 58 330}]
------------------------------------------------------
flag 29857 term 58 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 58 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 58 leaderCommit: 330 
------------------------------------------------------
flag 81454 term 58 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 58 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 58 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
term 58 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
[{snapshot 56 329} {4359672548335462421 58 330}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4359672548335462421 58 330}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21536 term 58 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 58 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 58 leaderCommit: 330 
------------------------------------------------------
flag 56233 term 58 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 58 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 58 leaderCommit: 330 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4359672548335462421 58 330}]
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4359672548335462421 58 330}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72626 term 58 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 58 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 58 leaderCommit: 330 
------------------------------------------------------
flag 37554 term 58 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 58 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 58 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4359672548335462421 58 330}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4359672548335462421 58 330}]
------------------------------------------------------
  ... Passed --  78.9  3 1807  835487  330
--- PASS: TestSnapshotInstall2D (78.86s)
PASS
