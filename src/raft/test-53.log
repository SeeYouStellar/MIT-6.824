=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 0 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 1 get outdate rpc reply from server 0
flag 47463 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 82941 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 7557431664239772650 (index 1) to leader 1
flag 31857 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 67178 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7557431664239772650 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7557431664239772650 1 1}]
------------------------------------------------------
flag 17420 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 79478 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7557431664239772650 1 1}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7557431664239772650 1 1}]
------------------------------------------------------
flag 53106 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 97884 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7557431664239772650 1 1}]
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7557431664239772650 1 1}]
------------------------------------------------------
flag 3387 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 24424 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7557431664239772650 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7557431664239772650 1 1}]
------------------------------------------------------
flag 13080 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 24420 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7557431664239772650 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7557431664239772650 1 1}]
------------------------------------------------------
flag 83623 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 64940 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
[{<nil> 0 0} {7557431664239772650 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7557431664239772650 1 1}]
------------------------------------------------------
flag 52909 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 46054 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7557431664239772650 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7557431664239772650 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4902338716657047361 (index 2) to leader 1
flag 58605 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 18179 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7557431664239772650 1 1} {4902338716657047361 1 2}]
------------------------------------------------------
flag 51159 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 62701 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7557431664239772650 1 1} {4902338716657047361 1 2}]
------------------------------------------------------
client write log 1107043508797129376 (index 3) to leader 1
client write log 5469814819422793039 (index 4) to leader 1
client write log 5702144394166255015 (index 5) to leader 1
client write log 5076570984779061966 (index 6) to leader 1
client write log 8343288161302830445 (index 7) to leader 1
client write log 5096158926730217675 (index 8) to leader 1
client write log 3988339291636357589 (index 9) to leader 1
client write log 6658849967523069462 (index 10) to leader 1
client write log 4715725349293266026 (index 11) to leader 1
client write log 4439157250954919635 (index 12) to leader 1
flag 29237 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 18976 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{<nil> 0 0} {7557431664239772650 1 1} {4902338716657047361 1 2} {1107043508797129376 1 3} {5469814819422793039 1 4} {5702144394166255015 1 5} {5076570984779061966 1 6} {8343288161302830445 1 7} {5096158926730217675 1 8} {3988339291636357589 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=12
-------------------------------------------------------------
flag 38575 term 1 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 1 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=12
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5233983825504151060 (index 13) to leader 1
flag 61301 term 1 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 1 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 2 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 1 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 3 server 2 vote for server 1
term 3 server 0 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 1 get outdate rpc reply from server 0
flag 37456 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 32179 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 14->13
------------------------------------------------------
flag 81441 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
flag 41035 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 7614 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
flag 20434 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 21497 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
flag 4710 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 81016 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
flag 46078 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 60122 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
term 3 server 1 not vote for server 2, 任期不够新
term 3 server 2 get outdate rpc reply from server 1
flag 12684 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 71989 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
flag 55457 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 93247 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
flag 2879 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 29337 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98435 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 27023 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
flag 32424 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 95368 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
term 3 server 0 not vote for server 2, 任期不够新
term 3 server 2 get outdate rpc reply from server 0
flag 33766 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 54650 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
flag 32258 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 18605 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
flag 39972 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 39819 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
flag 8507 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 98033 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
flag 20838 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 46119 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
flag 20300 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 31454 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
flag 83460 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 17244 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13}]
------------------------------------------------------
client write log 5233983825504151060 (index 14) to leader 1
flag 68953 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 53959 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14}]
------------------------------------------------------
flag 90739 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 55177 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14}]
------------------------------------------------------
flag 33980 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 75169 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14}]
------------------------------------------------------
flag 73032 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 7728 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14}]
------------------------------------------------------
flag 87520 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 10555 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14}]
------------------------------------------------------
flag 15474 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 66878 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 20322 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 19426 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 10208 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 75248 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 56282 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 40066 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 15->14
------------------------------------------------------
term 4 server 2 vote for server 0
term 4 server 0 get vote from server 2
term 4 server 0 become leader
------------------------------------------------------
flag 3549 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 83280 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14}]
------------------------------------------------------
flag 82243 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 14
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
client write log 2149615067722401337 (index 15) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54441 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 23739 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15}]
------------------------------------------------------
flag 79315 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 14
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 44952 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 39778 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15}]
------------------------------------------------------
flag 21550 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 14
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
client write log 7531726104311187979 (index 16) to leader 0
flag 12116 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 2507 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
flag 38139 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 14
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 23712 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 87964 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
flag 2719 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 14
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 1286000275802249798 (index 15) to leader 1
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
flag 36239 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 76989 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
flag 2111 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 5317 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
flag 64593 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 74502 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
flag 52610 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 11216 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
flag 50255 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 96856 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
flag 27076 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 68148 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 17->16
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 16
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 47591 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 16 args.LastIncludedIndex 9
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
flag 44516 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 77862 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
flag 83872 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 28719 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37484 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 38835 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
flag 71432 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 59558 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
flag 84509 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 96994 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
flag 61912 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 69016 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
flag 18590 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 47109 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29772 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 22866 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
flag 38296 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 26914 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
flag 42685 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 15208 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
flag 78519 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 95099 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
flag 34433 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 62518 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38138 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 34048 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16}]
------------------------------------------------------
client write log 1286000275802249798 (index 17) to leader 0
flag 86900 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 38902 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16} {1286000275802249798 4 17}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16} {1286000275802249798 4 17}]
------------------------------------------------------
flag 67350 term 4 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 38520 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16} {1286000275802249798 4 17}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16} {1286000275802249798 4 17}]
------------------------------------------------------
flag 9043 term 4 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 8065 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16} {1286000275802249798 4 17}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16} {1286000275802249798 4 17}]
------------------------------------------------------
flag 18422 term 4 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 17342 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16} {1286000275802249798 4 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16} {1286000275802249798 4 17}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48248 term 4 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 92542 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16} {1286000275802249798 4 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16} {1286000275802249798 4 17}]
------------------------------------------------------
term 4 server 1 not vote for server 0, 日志不够新
term 4 server 0 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 18->17
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 17
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 72362 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 17 args.LastIncludedIndex 9
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16} {1286000275802249798 4 17}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7272688496724790029 (index 18) to leader 0
flag 16470 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 74349 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16} {1286000275802249798 4 17} {7272688496724790029 4 18}]
------------------------------------------------------
flag 33845 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 52901 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16} {1286000275802249798 4 17} {7272688496724790029 4 18}]
------------------------------------------------------
client write log 2948412097880217744 (index 19) to leader 0
client write log 6611885034284134098 (index 20) to leader 0
client write log 1473477047565105785 (index 21) to leader 0
client write log 7862618272920418557 (index 22) to leader 0
client write log 6478530323286159060 (index 23) to leader 0
client write log 3864437946747383491 (index 24) to leader 0
client write log 2336856811149256155 (index 25) to leader 0
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68290 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 17872 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 1 9} {6658849967523069462 1 10} {4715725349293266026 1 11} {4439157250954919635 1 12} {5233983825504151060 1 13} {5233983825504151060 3 14} {2149615067722401337 4 15} {7531726104311187979 4 16} {1286000275802249798 4 17} {7272688496724790029 4 18} {2948412097880217744 4 19} {6611885034284134098 4 20} {1473477047565105785 4 21} {7862618272920418557 4 22} {6478530323286159060 4 23} {3864437946747383491 4 24} {2336856811149256155 4 25}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=25
-------------------------------------------------------------
term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 4505 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {6611885034284134098 4 20} {1473477047565105785 4 21} {7862618272920418557 4 22} {6478530323286159060 4 23} {3864437946747383491 4 24} {2336856811149256155 4 25}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=25
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8828042312803085803 (index 26) to leader 0
term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 2899 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
term 5 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
[{snapshot 4 19} {6611885034284134098 4 20} {1473477047565105785 4 21} {7862618272920418557 4 22} {6478530323286159060 4 23} {3864437946747383491 4 24} {2336856811149256155 4 25} {8828042312803085803 4 26}]
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 5 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 2 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 1 vote for server 0
term 6 server 0 get outdate rpc reply from server 1
flag 77009 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 61561 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6611885034284134098 4 20} {1473477047565105785 4 21} {7862618272920418557 4 22} {6478530323286159060 4 23} {3864437946747383491 4 24} {2336856811149256155 4 25} {8828042312803085803 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 27->26
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 18  matchIndex[1]: 0
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 69710 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6611885034284134098 4 20} {1473477047565105785 4 21} {7862618272920418557 4 22} {6478530323286159060 4 23} {3864437946747383491 4 24} {2336856811149256155 4 25} {8828042312803085803 4 26}]
------------------------------------------------------
term 6 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 6 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
flag 93988 term 6 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 6 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 98653 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6611885034284134098 4 20} {1473477047565105785 4 21} {7862618272920418557 4 22} {6478530323286159060 4 23} {3864437946747383491 4 24} {2336856811149256155 4 25} {8828042312803085803 4 26}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6611885034284134098 4 20} {1473477047565105785 4 21} {7862618272920418557 4 22} {6478530323286159060 4 23} {3864437946747383491 4 24} {2336856811149256155 4 25} {8828042312803085803 4 26}]
------------------------------------------------------
flag 38378 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 41598 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6611885034284134098 4 20} {1473477047565105785 4 21} {7862618272920418557 4 22} {6478530323286159060 4 23} {3864437946747383491 4 24} {2336856811149256155 4 25} {8828042312803085803 4 26}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6611885034284134098 4 20} {1473477047565105785 4 21} {7862618272920418557 4 22} {6478530323286159060 4 23} {3864437946747383491 4 24} {2336856811149256155 4 25} {8828042312803085803 4 26}]
------------------------------------------------------
flag 61584 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 50077 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6611885034284134098 4 20} {1473477047565105785 4 21} {7862618272920418557 4 22} {6478530323286159060 4 23} {3864437946747383491 4 24} {2336856811149256155 4 25} {8828042312803085803 4 26}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6611885034284134098 4 20} {1473477047565105785 4 21} {7862618272920418557 4 22} {6478530323286159060 4 23} {3864437946747383491 4 24} {2336856811149256155 4 25} {8828042312803085803 4 26}]
------------------------------------------------------
flag 35995 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 10222 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6611885034284134098 4 20} {1473477047565105785 4 21} {7862618272920418557 4 22} {6478530323286159060 4 23} {3864437946747383491 4 24} {2336856811149256155 4 25} {8828042312803085803 4 26}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6611885034284134098 4 20} {1473477047565105785 4 21} {7862618272920418557 4 22} {6478530323286159060 4 23} {3864437946747383491 4 24} {2336856811149256155 4 25} {8828042312803085803 4 26}]
------------------------------------------------------
flag 96525 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 9187 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6611885034284134098 4 20} {1473477047565105785 4 21} {7862618272920418557 4 22} {6478530323286159060 4 23} {3864437946747383491 4 24} {2336856811149256155 4 25} {8828042312803085803 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6611885034284134098 4 20} {1473477047565105785 4 21} {7862618272920418557 4 22} {6478530323286159060 4 23} {3864437946747383491 4 24} {2336856811149256155 4 25} {8828042312803085803 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92968 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 6303 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6611885034284134098 4 20} {1473477047565105785 4 21} {7862618272920418557 4 22} {6478530323286159060 4 23} {3864437946747383491 4 24} {2336856811149256155 4 25} {8828042312803085803 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6611885034284134098 4 20} {1473477047565105785 4 21} {7862618272920418557 4 22} {6478530323286159060 4 23} {3864437946747383491 4 24} {2336856811149256155 4 25} {8828042312803085803 4 26}]
------------------------------------------------------
flag 82970 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 37045 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6611885034284134098 4 20} {1473477047565105785 4 21} {7862618272920418557 4 22} {6478530323286159060 4 23} {3864437946747383491 4 24} {2336856811149256155 4 25} {8828042312803085803 4 26}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6611885034284134098 4 20} {1473477047565105785 4 21} {7862618272920418557 4 22} {6478530323286159060 4 23} {3864437946747383491 4 24} {2336856811149256155 4 25} {8828042312803085803 4 26}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4662406694073370733 (index 27) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43576 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 22866 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {6611885034284134098 4 20} {1473477047565105785 4 21} {7862618272920418557 4 22} {6478530323286159060 4 23} {3864437946747383491 4 24} {2336856811149256155 4 25} {8828042312803085803 4 26} {4662406694073370733 6 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 453 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 43603 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {6611885034284134098 4 20} {1473477047565105785 4 21} {7862618272920418557 4 22} {6478530323286159060 4 23} {3864437946747383491 4 24} {2336856811149256155 4 25} {8828042312803085803 4 26} {4662406694073370733 6 27}]
------------------------------------------------------
client write log 1294451603213992121 (index 28) to leader 0
client write log 5579284339562042293 (index 29) to leader 0
client write log 492057158510888669 (index 30) to leader 0
client write log 4786895936424621377 (index 31) to leader 0
client write log 406009524723613268 (index 32) to leader 0
client write log 7200522984569900687 (index 33) to leader 0
client write log 8781077894984967969 (index 34) to leader 0
client write log 6225585491452359627 (index 35) to leader 0
client write log 7472257872194941196 (index 36) to leader 0
client write log 6660798347356632187 (index 37) to leader 0
client write log 1109074956706981393 (index 38) to leader 0
flag 76195 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 64604 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 19} {6611885034284134098 4 20} {1473477047565105785 4 21} {7862618272920418557 4 22} {6478530323286159060 4 23} {3864437946747383491 4 24} {2336856811149256155 4 25} {8828042312803085803 4 26} {4662406694073370733 6 27} {1294451603213992121 6 28} {5579284339562042293 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=38
-------------------------------------------------------------
term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 42028 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38}]
------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=38
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1295369526297500345 (index 39) to leader 0
term 6 server 2 not vote for server 1, 日志不够新
term 6 server 0 not vote for server 1, 日志不够新
term 8 server 2 vote for server 0
term 8 server 0 get vote from server 2
term 8 server 0 become leader
------------------------------------------------------
term 8 server 1 vote for server 0
term 8 server 0 get outdate rpc reply from server 1
flag 28988 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 68611 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 40->39
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 40->39
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 leader 0 nextIndex[1]: 27  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 44608 term 8 leader 0 nextIndex[2]: 39  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
term 8 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 6 rf.commitIndex 29 rf.lastApplied 29
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30218 term 8 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 8 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 73756 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
flag 21369 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 25888 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
flag 11693 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 80351 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
flag 19738 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 76732 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88838 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 99855 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50709 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 55724 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
flag 91964 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 66502 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
flag 17947 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 36610 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
flag 27833 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 64163 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
flag 43455 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 63677 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
flag 72843 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 14772 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
term 8 server 2 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 2
flag 35224 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 43889 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
flag 62618 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 82538 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
term 8 server 0 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 0
flag 26172 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 48601 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
flag 99146 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 89009 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
flag 25761 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 65611 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34409 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 38112 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39}]
------------------------------------------------------
client write log 1295369526297500345 (index 40) to leader 0
flag 16913 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 31927 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39} {1295369526297500345 8 40}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 29} {492057158510888669 6 30} {4786895936424621377 6 31} {406009524723613268 6 32} {7200522984569900687 6 33} {8781077894984967969 6 34} {6225585491452359627 6 35} {7472257872194941196 6 36} {6660798347356632187 6 37} {1109074956706981393 6 38} {1295369526297500345 6 39} {1295369526297500345 8 40}]
------------------------------------------------------
term 8 Server0 start snapshot! index=39
term 8 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86942 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 53434 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {1295369526297500345 8 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {1295369526297500345 8 40}]
------------------------------------------------------
term 8 Server1 start snapshot! index=39
term 8 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
term 8 Server2 start snapshot! index=39
term 8 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
flag 9860 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 19691 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {1295369526297500345 8 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {1295369526297500345 8 40}]
------------------------------------------------------
flag 17897 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 89476 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {1295369526297500345 8 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {1295369526297500345 8 40}]
------------------------------------------------------
flag 63050 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 17527 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {1295369526297500345 8 40}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {1295369526297500345 8 40}]
------------------------------------------------------
flag 45946 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 82169 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {1295369526297500345 8 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {1295369526297500345 8 40}]
------------------------------------------------------
flag 86745 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 53487 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {1295369526297500345 8 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {1295369526297500345 8 40}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 5505 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 73747 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 20027 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 43278 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 42633 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 57531 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 vote for server 1
term 9 server 1 get vote from server 2
term 9 server 1 become leader
------------------------------------------------------
flag 51012 term 9 leader 1 nextIndex[0]: 41  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 77801 term 9 leader 1 nextIndex[2]: 41  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {1295369526297500345 8 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 41->40
------------------------------------------------------
flag 86437 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 50069 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
client write log 538271610520056002 (index 41) to leader 1
term 9 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 96579 term 9 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {1295369526297500345 8 40} {538271610520056002 9 41}]
------------------------------------------------------
flag 93574 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 18526 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 26765 term 9 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {1295369526297500345 8 40} {538271610520056002 9 41}]
------------------------------------------------------
client write log 2133510594239768807 (index 42) to leader 1
client write log 3457683597211713817 (index 43) to leader 1
client write log 8220569617378642072 (index 44) to leader 1
client write log 9014284527144585687 (index 45) to leader 1
client write log 6790728949917417556 (index 46) to leader 1
client write log 855451004479668214 (index 47) to leader 1
client write log 8086437612899577840 (index 48) to leader 1
client write log 5804516567909157582 (index 49) to leader 1
client write log 6927068383393265927 (index 50) to leader 1
client write log 1157757143103442714 (index 51) to leader 1
client write log 3158708012009790888 (index 52) to leader 1
flag 73664 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 29507 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 42199 term 9 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 39} {1295369526297500345 8 40} {538271610520056002 9 41} {2133510594239768807 9 42} {3457683597211713817 9 43} {8220569617378642072 9 44} {9014284527144585687 9 45} {6790728949917417556 9 46} {855451004479668214 9 47} {8086437612899577840 9 48} {5804516567909157582 9 49} {6927068383393265927 9 50} {1157757143103442714 9 51} {3158708012009790888 9 52}]
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=52
-------------------------------------------------------------
flag 80381 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 97988 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
flag 7032 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 6287 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6927068383393265927 9 50} {1157757143103442714 9 51} {3158708012009790888 9 52}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=52
-------------------------------------------------------------
flag 41213 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 87090 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
!!!!!!connect server 0
client write log 5631519538817001542 (index 53) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81348 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 65485 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6927068383393265927 9 50} {1157757143103442714 9 51} {3158708012009790888 9 52} {5631519538817001542 9 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 50->49
------------------------------------------------------
term 9 leader 1 nextIndex[0]: 41  matchIndex[0]: 49
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 80857 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 9 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6927068383393265927 9 50} {1157757143103442714 9 51} {3158708012009790888 9 52} {5631519538817001542 9 53}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
term 9 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
flag 9652 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 63328 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6927068383393265927 9 50} {1157757143103442714 9 51} {3158708012009790888 9 52} {5631519538817001542 9 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6927068383393265927 9 50} {1157757143103442714 9 51} {3158708012009790888 9 52} {5631519538817001542 9 53}]
------------------------------------------------------
flag 10481 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 47696 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6927068383393265927 9 50} {1157757143103442714 9 51} {3158708012009790888 9 52} {5631519538817001542 9 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6927068383393265927 9 50} {1157757143103442714 9 51} {3158708012009790888 9 52} {5631519538817001542 9 53}]
------------------------------------------------------
flag 1370 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 51972 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6927068383393265927 9 50} {1157757143103442714 9 51} {3158708012009790888 9 52} {5631519538817001542 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6927068383393265927 9 50} {1157757143103442714 9 51} {3158708012009790888 9 52} {5631519538817001542 9 53}]
------------------------------------------------------
flag 66174 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 29679 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6927068383393265927 9 50} {1157757143103442714 9 51} {3158708012009790888 9 52} {5631519538817001542 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6927068383393265927 9 50} {1157757143103442714 9 51} {3158708012009790888 9 52} {5631519538817001542 9 53}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69025 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 64905 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6927068383393265927 9 50} {1157757143103442714 9 51} {3158708012009790888 9 52} {5631519538817001542 9 53}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6927068383393265927 9 50} {1157757143103442714 9 51} {3158708012009790888 9 52} {5631519538817001542 9 53}]
------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
flag 37171 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 6423 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6927068383393265927 9 50} {1157757143103442714 9 51} {3158708012009790888 9 52} {5631519538817001542 9 53}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6927068383393265927 9 50} {1157757143103442714 9 51} {3158708012009790888 9 52} {5631519538817001542 9 53}]
------------------------------------------------------
flag 94172 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 5949 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6927068383393265927 9 50} {1157757143103442714 9 51} {3158708012009790888 9 52} {5631519538817001542 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6927068383393265927 9 50} {1157757143103442714 9 51} {3158708012009790888 9 52} {5631519538817001542 9 53}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2355529355671116715 (index 54) to leader 1
flag 15467 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 71395 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6927068383393265927 9 50} {1157757143103442714 9 51} {3158708012009790888 9 52} {5631519538817001542 9 53} {2355529355671116715 9 54}]
------------------------------------------------------
flag 87330 term 9 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 36888 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6927068383393265927 9 50} {1157757143103442714 9 51} {3158708012009790888 9 52} {5631519538817001542 9 53} {2355529355671116715 9 54}]
------------------------------------------------------
client write log 9086213923407731349 (index 55) to leader 1
client write log 244789107213013898 (index 56) to leader 1
client write log 2415731822438215896 (index 57) to leader 1
client write log 2291273867991557366 (index 58) to leader 1
client write log 3320875329023285314 (index 59) to leader 1
client write log 9061932316586456583 (index 60) to leader 1
client write log 8936243679052074827 (index 61) to leader 1
client write log 8527490187442607088 (index 62) to leader 1
client write log 1414424701093543255 (index 63) to leader 1
flag 43599 term 9 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 10897 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 49} {6927068383393265927 9 50} {1157757143103442714 9 51} {3158708012009790888 9 52} {5631519538817001542 9 53} {2355529355671116715 9 54} {9086213923407731349 9 55} {244789107213013898 9 56} {2415731822438215896 9 57} {2291273867991557366 9 58} {3320875329023285314 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=63
-------------------------------------------------------------
flag 25763 term 9 leader 1 nextIndex[0]: 64  matchIndex[0]: 63
term 9 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63}]
------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=63
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7953160011899329912 (index 64) to leader 1
term 9 server 1 not vote for server 2, 日志不够新
term 9 server 0 not vote for server 2, 日志不够新
term 11 server 2 vote for server 1
term 11 server 1 get vote from server 2
term 11 server 1 become leader
------------------------------------------------------
term 11 server 0 vote for server 1
term 11 server 1 get outdate rpc reply from server 0
flag 56645 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 43579 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 65->64
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 65->64
------------------------------------------------------
flag 90335 term 11 leader 1 nextIndex[0]: 64  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 54  matchIndex[2]: 0
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
term 11 server 2 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
term 11 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
flag 16616 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 88934 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45040 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 72590 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
flag 29035 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 52330 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
flag 51893 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 23898 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
flag 91672 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 35335 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10683 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 45531 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
flag 54712 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 44091 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7539 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 68167 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48220 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 97948 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
flag 59395 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 29799 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21981 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 26884 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
flag 89027 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 30521 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
flag 9786 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 2957 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
flag 85823 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 3698 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
flag 25980 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 99944 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91435 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 95163 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
flag 30163 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 41793 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
flag 17537 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 33373 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64}]
------------------------------------------------------
client write log 7953160011899329912 (index 65) to leader 1
flag 266 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 92950 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64} {7953160011899329912 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64} {7953160011899329912 11 65}]
------------------------------------------------------
flag 93825 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 95254 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64} {7953160011899329912 11 65}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64} {7953160011899329912 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91523 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 26745 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64} {7953160011899329912 11 65}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64} {7953160011899329912 11 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44001 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 86698 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64} {7953160011899329912 11 65}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64} {7953160011899329912 11 65}]
------------------------------------------------------
flag 55521 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 36727 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64} {7953160011899329912 11 65}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64} {7953160011899329912 11 65}]
------------------------------------------------------
flag 47596 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 82376 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64} {7953160011899329912 11 65}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64} {7953160011899329912 11 65}]
------------------------------------------------------
flag 97034 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 62435 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64} {7953160011899329912 11 65}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64} {7953160011899329912 11 65}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1053131198296845332 (index 66) to leader 1
flag 60970 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 29712 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64} {7953160011899329912 11 65} {1053131198296845332 11 66}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73195 term 11 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 11 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 71994 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64} {7953160011899329912 11 65} {1053131198296845332 11 66}]
------------------------------------------------------
client write log 3623331369036529394 (index 67) to leader 1
client write log 2225555227267335018 (index 68) to leader 1
client write log 2413386023562577418 (index 69) to leader 1
client write log 6069031896639491009 (index 70) to leader 1
client write log 4565715113535377889 (index 71) to leader 1
client write log 5554467305621615726 (index 72) to leader 1
client write log 3046688379773571242 (index 73) to leader 1
client write log 8795981211134941659 (index 74) to leader 1
client write log 2367175316296002685 (index 75) to leader 1
flag 60270 term 11 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 11 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 22769 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 59} {9061932316586456583 9 60} {8936243679052074827 9 61} {8527490187442607088 9 62} {1414424701093543255 9 63} {7953160011899329912 9 64} {7953160011899329912 11 65} {1053131198296845332 11 66} {3623331369036529394 11 67} {2225555227267335018 11 68} {2413386023562577418 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75}]
------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=75
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 66->65
------------------------------------------------------
term 11 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13194 term 11 leader 1 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 0  matchIndex[2]: 65
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75}]
------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=75
-------------------------------------------------------------
term 11 server 0 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 0
!!!!!!connect server 2
client write log 3969439918310185258 (index 76) to leader 1
term 11 server 1 not vote for server 2, 日志不够新
term 11 server 0 not vote for server 2, 日志不够新
term 13 server 2 vote for server 1
term 13 server 0 vote for server 1
term 13 server 1 get vote from server 2
term 13 server 1 become leader
------------------------------------------------------
term 13 server 1 get outdate rpc reply from server 0
flag 57786 term 13 leader 1 nextIndex[0]: 77  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 40636 term 13 leader 1 nextIndex[2]: 77  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 77->76
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 77->76
------------------------------------------------------
flag 4790 term 13 leader 1 nextIndex[0]: 76  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 0
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 13 server 2 InstallSnapshot success
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5513 term 13 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 85459 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
flag 69301 term 13 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 52630 term 13 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
flag 6729 term 13 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 29840 term 13 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
flag 72286 term 13 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 71750 term 13 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=75
leader log:
term 13 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
flag 46737 term 13 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 10149 term 13 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
flag 14613 term 13 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 99298 term 13 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13846 term 13 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 71118 term 13 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
flag 8034 term 13 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 62286 term 13 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69614 term 13 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 19290 term 13 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14413 term 13 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 27818 term 13 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
flag 60439 term 13 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 11595 term 13 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14776 term 13 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 51550 term 13 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
flag 66950 term 13 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 76248 term 13 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
flag 31184 term 13 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 12269 term 13 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44946 term 13 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 54304 term 13 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34523 term 13 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 1392 term 13 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
flag 41395 term 13 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 20792 term 13 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25258 term 13 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 61117 term 13 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76}]
------------------------------------------------------
client write log 3969439918310185258 (index 77) to leader 1
flag 93728 term 13 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 57994 term 13 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76} {3969439918310185258 13 77}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76} {3969439918310185258 13 77}]
------------------------------------------------------
flag 30330 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
flag 93287 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76} {3969439918310185258 13 77}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76} {3969439918310185258 13 77}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10896 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
flag 11661 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76} {3969439918310185258 13 77}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76} {3969439918310185258 13 77}]
------------------------------------------------------
flag 74699 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
flag 68124 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76} {3969439918310185258 13 77}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76} {3969439918310185258 13 77}]
------------------------------------------------------
flag 9170 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
flag 62077 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76} {3969439918310185258 13 77}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76} {3969439918310185258 13 77}]
------------------------------------------------------
flag 13830 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
flag 2331 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76} {3969439918310185258 13 77}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76} {3969439918310185258 13 77}]
------------------------------------------------------
flag 67724 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
flag 64517 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76} {3969439918310185258 13 77}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76} {3969439918310185258 13 77}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 51202 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
flag 74230 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
flag 64525 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
flag 33915 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
flag 79671 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
flag 26165 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
flag 84243 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
flag 49174 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
term 14 server 2 vote for server 0
term 14 server 0 get vote from server 2
term 14 server 0 become leader
------------------------------------------------------
client write log 1277295631595334883 (index 78) to leader 0
flag 34657 term 14 leader 0 nextIndex[1]: 78  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
flag 41841 term 14 leader 0 nextIndex[2]: 78  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76} {3969439918310185258 13 77} {1277295631595334883 14 78}]
------------------------------------------------------
flag 52826 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
flag 45298 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
flag 70290 term 14 leader 0 nextIndex[1]: 78  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 56995 term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 14 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76} {3969439918310185258 13 77} {1277295631595334883 14 78}]
------------------------------------------------------
client write log 4294302789449172958 (index 79) to leader 0
flag 77811 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
flag 96494 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
flag 40880 term 14 leader 0 nextIndex[1]: 78  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 4423 term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 14 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 11 69} {6069031896639491009 11 70} {4565715113535377889 11 71} {5554467305621615726 11 72} {3046688379773571242 11 73} {8795981211134941659 11 74} {2367175316296002685 11 75} {3969439918310185258 11 76} {3969439918310185258 13 77} {1277295631595334883 14 78} {4294302789449172958 14 79}]
------------------------------------------------------
term 14 Server0 start snapshot! index=79
term 14 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 78->77
------------------------------------------------------
term 13 leader 1 nextIndex[0]: 0  matchIndex[0]: 77
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 4906 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 78  matchIndex[1]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 48670 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 Server2 start snapshot! index=79
term 14 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!connect server 1
client write log 7267108943876084080 (index 78) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
term 13 leader 1 nextIndex[0]: 0  matchIndex[0]: 77
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 45020 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
term 14 server 2 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
term 14 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 leader 0 nextIndex[1]: 78  matchIndex[1]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 93601 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 1 InstallSnapshot success
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 14 rf.commitIndex 79 rf.lastApplied 79
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 80->79
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 79
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 88780 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 1 InstallSnapshot fail
rf.commitIndex 79 args.LastIncludedIndex 79
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
flag 58916 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 1811 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 76027 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 54916 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 88410 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 14760 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 99249 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 8759 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 18973 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 74194 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 92127 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 32180 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 79377 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 91270 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 35012 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 34381 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46969 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 1748 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 34680 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 21373 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 36328 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 24409 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 17255 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 65864 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 44757 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 72480 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 61668 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 86029 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 31878 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 23956 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81839 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 76585 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 80->79
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 79
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 25773 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 1 InstallSnapshot fail
rf.commitIndex 79 args.LastIncludedIndex 79
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
flag 48859 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 47960 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
client write log 7267108943876084080 (index 80) to leader 0
flag 92486 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 51082 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7267108943876084080 14 80}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7267108943876084080 14 80}]
------------------------------------------------------
flag 49066 term 14 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 14 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 40 term 14 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7267108943876084080 14 80}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7267108943876084080 14 80}]
------------------------------------------------------
flag 58664 term 14 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 14 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 54188 term 14 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7267108943876084080 14 80}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7267108943876084080 14 80}]
------------------------------------------------------
flag 27226 term 14 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 14 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 50053 term 14 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
update nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7267108943876084080 14 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7267108943876084080 14 80}]
------------------------------------------------------
flag 1661 term 14 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 14 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 32346 term 14 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7267108943876084080 14 80}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7267108943876084080 14 80}]
------------------------------------------------------
flag 37078 term 14 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 14 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 79697 term 14 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7267108943876084080 14 80}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7267108943876084080 14 80}]
------------------------------------------------------
flag 25198 term 14 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 14 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 58558 term 14 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7267108943876084080 14 80}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7267108943876084080 14 80}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2973631267435276662 (index 81) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38301 term 14 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 14 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 55597 term 14 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81}]
------------------------------------------------------
flag 84820 term 14 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 14 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 37877 term 14 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81}]
------------------------------------------------------
client write log 3614925467127104579 (index 82) to leader 0
client write log 7141357423095310761 (index 83) to leader 0
client write log 1769544594682337948 (index 84) to leader 0
client write log 4976758229053140165 (index 85) to leader 0
client write log 5028305352558712354 (index 86) to leader 0
client write log 7541367062140811814 (index 87) to leader 0
client write log 1790180210829224769 (index 88) to leader 0
flag 10661 term 14 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 14 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 3954 term 14 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88}]
------------------------------------------------------
flag 25648 term 14 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 14 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 59746 term 14 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 14 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88}]
------------------------------------------------------
!!!!!!connect server 1
client write log 4813547711888035347 (index 89) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 81->80
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 80
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 49706 term 14 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 14 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 15 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 1 vote for server 0
term 16 server 0 get vote from server 1
term 16 server 2 vote for server 0
term 16 server 0 become leader
------------------------------------------------------
term 16 server 0 get outdate rpc reply from server 2
flag 65478 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 5123 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 90->89
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
flag 7090 term 16 leader 0 nextIndex[1]: 81  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 2385 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
term 16 server 0 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 0
flag 11260 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 21084 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
flag 40791 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 56964 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74731 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 13806 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
term 16 server 2 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 2
flag 86070 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 43961 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
flag 24674 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 8184 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59999 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 24734 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
flag 46433 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 24623 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
flag 72808 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 84674 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
flag 40703 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 99141 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
flag 90009 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 72904 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50773 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 26625 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
flag 48165 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 15024 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36601 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 45829 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41254 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 65277 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
flag 62030 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 34125 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
flag 57250 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 49409 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
flag 40431 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 91125 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89}]
------------------------------------------------------
client write log 4813547711888035347 (index 90) to leader 0
flag 34601 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 82158 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89} {4813547711888035347 16 90}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 79} {7267108943876084080 14 80} {2973631267435276662 14 81} {3614925467127104579 14 82} {7141357423095310761 14 83} {1769544594682337948 14 84} {4976758229053140165 14 85} {5028305352558712354 14 86} {7541367062140811814 14 87} {1790180210829224769 14 88} {4813547711888035347 14 89} {4813547711888035347 16 90}]
------------------------------------------------------
term 16 Server0 start snapshot! index=89
term 16 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=90
-------------------------------------------------------------
flag 75830 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 46107 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {4813547711888035347 16 90}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {4813547711888035347 16 90}]
------------------------------------------------------
term 16 Server1 start snapshot! index=89
term 16 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=90
-------------------------------------------------------------
term 16 Server2 start snapshot! index=89
term 16 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=90
-------------------------------------------------------------
flag 8572 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 73273 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {4813547711888035347 16 90}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {4813547711888035347 16 90}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62475 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 93521 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {4813547711888035347 16 90}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {4813547711888035347 16 90}]
------------------------------------------------------
flag 76176 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 30345 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {4813547711888035347 16 90}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {4813547711888035347 16 90}]
------------------------------------------------------
flag 9427 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 34664 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {4813547711888035347 16 90}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {4813547711888035347 16 90}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1994537553284443970 (index 91) to leader 0
flag 49355 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 79943 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {4813547711888035347 16 90} {1994537553284443970 16 91}]
------------------------------------------------------
flag 7901 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 89883 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {4813547711888035347 16 90} {1994537553284443970 16 91}]
------------------------------------------------------
client write log 5295993959412592569 (index 92) to leader 0
client write log 4809595586783466930 (index 93) to leader 0
client write log 6748859494204554084 (index 94) to leader 0
client write log 4450589220323138710 (index 95) to leader 0
client write log 2634441268291809459 (index 96) to leader 0
client write log 1241229250297018145 (index 97) to leader 0
client write log 5425472416309186383 (index 98) to leader 0
client write log 8147230203338608118 (index 99) to leader 0
client write log 164038091518392283 (index 100) to leader 0
client write log 6338005382221141250 (index 101) to leader 0
client write log 99405533797455529 (index 102) to leader 0
client write log 948417689949206312 (index 103) to leader 0
client write log 5064087783754559399 (index 104) to leader 0
client write log 6021793028792779389 (index 105) to leader 0
flag 83738 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 7782 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 89} {4813547711888035347 16 90} {1994537553284443970 16 91} {5295993959412592569 16 92} {4809595586783466930 16 93} {6748859494204554084 16 94} {4450589220323138710 16 95} {2634441268291809459 16 96} {1241229250297018145 16 97} {5425472416309186383 16 98} {8147230203338608118 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 Server0 start snapshot! index=99
term 16 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=105
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 17542 term 16 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 16 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105}]
------------------------------------------------------
term 16 Server2 start snapshot! index=99
term 16 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=105
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8136047258325343383 (index 106) to leader 0
term 16 server 2 not vote for server 1, 日志不够新
term 16 server 0 not vote for server 1, 日志不够新
term 18 server 2 vote for server 0
term 18 server 0 get vote from server 2
term 18 server 0 become leader
------------------------------------------------------
term 18 server 1 vote for server 0
term 18 server 0 get outdate rpc reply from server 1
flag 25668 term 18 leader 0 nextIndex[1]: 107  matchIndex[1]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 8574 term 18 leader 0 nextIndex[2]: 107  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 107->106
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 107->106
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 91  matchIndex[1]: 0
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 9550 term 18 leader 0 nextIndex[2]: 106  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
term 18 server 1 InstallSnapshot success
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 16 rf.commitIndex 99 rf.lastApplied 99
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32422 term 18 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 18 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 33685 term 18 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36130 term 18 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 92142 term 18 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
flag 26499 term 18 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 52365 term 18 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
flag 63490 term 18 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 69713 term 18 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
flag 16329 term 18 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 92079 term 18 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
flag 39309 term 18 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 14420 term 18 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
flag 87462 term 18 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 67350 term 18 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
flag 95954 term 18 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 46789 term 18 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
flag 76479 term 18 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 50408 term 18 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
flag 18595 term 18 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 92654 term 18 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
term 18 server 1 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 1
flag 53629 term 18 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 73889 term 18 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
flag 46764 term 18 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 83164 term 18 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
flag 91023 term 18 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 57094 term 18 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
flag 93126 term 18 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 31495 term 18 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
flag 88181 term 18 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 24806 term 18 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
flag 23373 term 18 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 17391 term 18 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
flag 72848 term 18 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 29105 term 18 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48059 term 18 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 10504 term 18 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106}]
------------------------------------------------------
client write log 8136047258325343383 (index 107) to leader 0
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42265 term 18 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 15027 term 18 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106} {8136047258325343383 18 107}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106} {8136047258325343383 18 107}]
------------------------------------------------------
flag 62843 term 18 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 41896 term 18 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106} {8136047258325343383 18 107}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106} {8136047258325343383 18 107}]
------------------------------------------------------
flag 22221 term 18 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 8525 term 18 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106} {8136047258325343383 18 107}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106} {8136047258325343383 18 107}]
------------------------------------------------------
flag 84802 term 18 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 61829 term 18 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106} {8136047258325343383 18 107}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106} {8136047258325343383 18 107}]
------------------------------------------------------
flag 60834 term 18 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 77722 term 18 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106} {8136047258325343383 18 107}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106} {8136047258325343383 18 107}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71312 term 18 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 26923 term 18 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106} {8136047258325343383 18 107}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106} {8136047258325343383 18 107}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
flag 48854 term 18 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 13490 term 18 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 40844 term 18 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 13051 term 18 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 34721 term 18 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 30952 term 18 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 21700 term 18 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 95509 term 18 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 vote for server 2
term 19 server 2 get vote from server 1
term 19 server 2 become leader
------------------------------------------------------
flag 51623 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 42808 term 19 leader 2 nextIndex[1]: 108  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106} {8136047258325343383 18 107}]
------------------------------------------------------
client write log 2589675718304203817 (index 108) to leader 2
flag 37686 term 18 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 28774 term 18 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 17789 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 17109 term 19 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106} {8136047258325343383 18 107} {2589675718304203817 19 108}]
------------------------------------------------------
flag 40058 term 18 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 71338 term 18 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 27803 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
flag 30098 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106} {8136047258325343383 18 107} {2589675718304203817 19 108}]
------------------------------------------------------
client write log 2161018608944044401 (index 109) to leader 2
flag 52928 term 18 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 41096 term 18 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 64768 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
flag 15750 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 16 99} {164038091518392283 16 100} {6338005382221141250 16 101} {99405533797455529 16 102} {948417689949206312 16 103} {5064087783754559399 16 104} {6021793028792779389 16 105} {8136047258325343383 16 106} {8136047258325343383 18 107} {2589675718304203817 19 108} {2161018608944044401 19 109}]
------------------------------------------------------
term 19 Server2 start snapshot! index=109
term 19 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 108->107
------------------------------------------------------
flag 27883 term 18 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 leader 0 nextIndex[2]: 0  matchIndex[2]: 107
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 34137 term 19 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 Server1 start snapshot! index=109
term 19 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5791629898471879075 (index 110) to leader 2
flag 67575 term 18 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 leader 0 nextIndex[2]: 0  matchIndex[2]: 107
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 19 server 1 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
term 19 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 35624 term 19 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 0 InstallSnapshot success
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 19 rf.commitIndex 109 rf.lastApplied 109
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {5791629898471879075 19 110}]
------------------------------------------------------
flag 54527 term 19 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 60729 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {5791629898471879075 19 110}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {5791629898471879075 19 110}]
------------------------------------------------------
flag 38636 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 70055 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {5791629898471879075 19 110}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {5791629898471879075 19 110}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70940 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 15550 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {5791629898471879075 19 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {5791629898471879075 19 110}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48662 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 36215 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {5791629898471879075 19 110}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {5791629898471879075 19 110}]
------------------------------------------------------
flag 94829 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 9057 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {5791629898471879075 19 110}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {5791629898471879075 19 110}]
------------------------------------------------------
flag 29818 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 98472 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {5791629898471879075 19 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {5791629898471879075 19 110}]
------------------------------------------------------
flag 68911 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 43971 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {5791629898471879075 19 110}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {5791629898471879075 19 110}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4796095953582377112 (index 111) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46442 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 92671 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {5791629898471879075 19 110} {4796095953582377112 19 111}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4633 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 67544 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {5791629898471879075 19 110} {4796095953582377112 19 111}]
------------------------------------------------------
client write log 3611741678219358530 (index 112) to leader 2
client write log 5259511631357017865 (index 113) to leader 2
client write log 2944060124573980909 (index 114) to leader 2
client write log 3611325535459150413 (index 115) to leader 2
client write log 7214430722085760122 (index 116) to leader 2
client write log 3944866875183387923 (index 117) to leader 2
client write log 8918133019628221627 (index 118) to leader 2
client write log 3874686963314915301 (index 119) to leader 2
client write log 2398743224106824926 (index 120) to leader 2
client write log 4972228873551397005 (index 121) to leader 2
client write log 5264201529531203528 (index 122) to leader 2
flag 4457 term 19 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 70353 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 109} {5791629898471879075 19 110} {4796095953582377112 19 111} {3611741678219358530 19 112} {5259511631357017865 19 113} {2944060124573980909 19 114} {3611325535459150413 19 115} {7214430722085760122 19 116} {3944866875183387923 19 117} {8918133019628221627 19 118} {3874686963314915301 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122}]
------------------------------------------------------
term 19 Server2 start snapshot! index=119
term 19 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=122
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 111->110
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 0  matchIndex[0]: 110
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 38468 term 19 leader 2 nextIndex[1]: 123  matchIndex[1]: 122
term 19 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122}]
------------------------------------------------------
term 19 Server1 start snapshot! index=119
term 19 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=122
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1474106236658574170 (index 123) to leader 2
term 19 server 2 not vote for server 0, 日志不够新
term 19 server 1 not vote for server 0, 日志不够新
term 21 server 0 vote for server 2
term 21 server 2 get vote from server 0
term 21 server 2 become leader
------------------------------------------------------
term 21 server 1 vote for server 2
term 21 server 2 get outdate rpc reply from server 1
flag 76060 term 21 leader 2 nextIndex[0]: 124  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 53924 term 21 leader 2 nextIndex[1]: 124  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 124->123
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 124->123
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 74613 term 21 leader 2 nextIndex[1]: 123  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 19 rf.commitIndex 119 rf.lastApplied 119
term 21 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 120 matchIndex[0] 119 
------------------------------------------------------------------------
flag 15728 term 21 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 21 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 44439 term 21 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
flag 66987 term 21 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 80623 term 21 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
flag 22859 term 21 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 39396 term 21 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
flag 24218 term 21 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 562 term 21 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
term 21 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66349 term 21 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 68597 term 21 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36376 term 21 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 21000 term 21 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
flag 52771 term 21 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 73477 term 21 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52007 term 21 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 91077 term 21 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
flag 89472 term 21 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 98878 term 21 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
flag 34352 term 21 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 2292 term 21 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
flag 28445 term 21 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 59850 term 21 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20373 term 21 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 41316 term 21 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7601 term 21 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 5340 term 21 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 0 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 0
flag 5332 term 21 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 46556 term 21 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:122 
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
flag 61628 term 21 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 84801 term 21 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
flag 9600 term 21 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 71415 term 21 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66863 term 21 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 98908 term 21 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
flag 99196 term 21 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 66655 term 21 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123}]
------------------------------------------------------
client write log 1474106236658574170 (index 124) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10153 term 21 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 64087 term 21 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123} {1474106236658574170 21 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123} {1474106236658574170 21 124}]
------------------------------------------------------
flag 12758 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 89149 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123} {1474106236658574170 21 124}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123} {1474106236658574170 21 124}]
------------------------------------------------------
flag 94664 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 57683 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123} {1474106236658574170 21 124}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123} {1474106236658574170 21 124}]
------------------------------------------------------
flag 39431 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 52125 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123} {1474106236658574170 21 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123} {1474106236658574170 21 124}]
------------------------------------------------------
flag 5167 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 24897 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123} {1474106236658574170 21 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123} {1474106236658574170 21 124}]
------------------------------------------------------
flag 41449 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 33483 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123} {1474106236658574170 21 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123} {1474106236658574170 21 124}]
------------------------------------------------------
flag 74 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 67100 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123} {1474106236658574170 21 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123} {1474106236658574170 21 124}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2752616271549034373 (index 125) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49927 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 81119 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123} {1474106236658574170 21 124} {2752616271549034373 21 125}]
------------------------------------------------------
flag 50483 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 6891 term 21 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123} {1474106236658574170 21 124} {2752616271549034373 21 125}]
------------------------------------------------------
client write log 2143571644667868826 (index 126) to leader 2
client write log 7056974828693347941 (index 127) to leader 2
client write log 1245327283130694114 (index 128) to leader 2
client write log 3057765906875241258 (index 129) to leader 2
client write log 2279346034285575927 (index 130) to leader 2
client write log 3663095223795112493 (index 131) to leader 2
client write log 4618524464665681896 (index 132) to leader 2
client write log 8072633097315344201 (index 133) to leader 2
flag 7431 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 66256 term 21 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 119} {2398743224106824926 19 120} {4972228873551397005 19 121} {5264201529531203528 19 122} {1474106236658574170 19 123} {1474106236658574170 21 124} {2752616271549034373 21 125} {2143571644667868826 21 126} {7056974828693347941 21 127} {1245327283130694114 21 128} {3057765906875241258 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133}]
------------------------------------------------------
term 21 Server2 start snapshot! index=129
term 21 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=133
-------------------------------------------------------------
term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 86753 term 21 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133}]
------------------------------------------------------
term 21 Server1 start snapshot! index=129
term 21 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=133
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6305854709068246913 (index 134) to leader 2
term 21 server 2 not vote for server 0, 日志不够新
term 21 server 1 not vote for server 0, 日志不够新
term 23 server 1 vote for server 2
term 23 server 0 vote for server 2
term 23 server 2 get vote from server 1
term 23 server 2 become leader
------------------------------------------------------
term 23 server 2 get outdate rpc reply from server 0
flag 67090 term 23 leader 2 nextIndex[0]: 135  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 70556 term 23 leader 2 nextIndex[1]: 135  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 135->134
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 135->134
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 0
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 90408 term 23 leader 2 nextIndex[1]: 134  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
term 23 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 21 rf.commitIndex 129 rf.lastApplied 129
term 23 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
flag 92193 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 73264 term 23 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
flag 81662 term 23 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 23060 term 23 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
flag 78742 term 23 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 7202 term 23 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
flag 56539 term 23 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 24082 term 23 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
flag 65990 term 23 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 36117 term 23 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
flag 49814 term 23 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 35746 term 23 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79811 term 23 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 86769 term 23 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71846 term 23 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 24232 term 23 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56878 term 23 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 92816 term 23 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45219 term 23 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 35339 term 23 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
flag 59257 term 23 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 87378 term 23 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57395 term 23 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 99270 term 23 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
flag 83700 term 23 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 46295 term 23 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95315 term 23 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 79087 term 23 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
flag 21532 term 23 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 65306 term 23 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72439 term 23 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 37321 term 23 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52396 term 23 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 13642 term 23 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51019 term 23 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 42505 term 23 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134}]
------------------------------------------------------
client write log 6305854709068246913 (index 135) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80457 term 23 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 29978 term 23 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134} {6305854709068246913 23 135}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134} {6305854709068246913 23 135}]
------------------------------------------------------
flag 28794 term 23 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 91246 term 23 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134} {6305854709068246913 23 135}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134} {6305854709068246913 23 135}]
------------------------------------------------------
flag 16748 term 23 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 31427 term 23 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134} {6305854709068246913 23 135}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134} {6305854709068246913 23 135}]
------------------------------------------------------
flag 6879 term 23 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 40798 term 23 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134} {6305854709068246913 23 135}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134} {6305854709068246913 23 135}]
------------------------------------------------------
flag 83658 term 23 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 14367 term 23 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134} {6305854709068246913 23 135}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134} {6305854709068246913 23 135}]
------------------------------------------------------
flag 50741 term 23 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 65446 term 23 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134} {6305854709068246913 23 135}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134} {6305854709068246913 23 135}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 48827 term 23 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 15256 term 23 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 25718 term 23 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 85037 term 23 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 61110 term 23 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 52543 term 23 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 24 server 1 vote for server 0
term 24 server 0 get vote from server 1
term 24 server 0 become leader
------------------------------------------------------
flag 17073 term 24 leader 0 nextIndex[1]: 136  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 89820 term 24 leader 0 nextIndex[2]: 136  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134} {6305854709068246913 23 135}]
------------------------------------------------------
flag 8457 term 23 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 28994 term 23 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
client write log 5741019213291137258 (index 136) to leader 0
flag 28987 term 24 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 24 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 63203 term 24 leader 0 nextIndex[2]: 136  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134} {6305854709068246913 23 135} {5741019213291137258 24 136}]
------------------------------------------------------
flag 63536 term 23 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 5844 term 23 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 51369 term 24 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 24 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 24 leaderCommit: 136 
------------------------------------------------------
flag 77087 term 24 leader 0 nextIndex[2]: 136  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 136 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134} {6305854709068246913 23 135} {5741019213291137258 24 136}]
------------------------------------------------------
flag 11884 term 23 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 73755 term 23 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
client write log 2154316450322770460 (index 137) to leader 0
client write log 533467124665965526 (index 138) to leader 0
client write log 3491833032313223358 (index 139) to leader 0
client write log 4204907832082563380 (index 140) to leader 0
client write log 5990717396041186575 (index 141) to leader 0
client write log 6569018478299115206 (index 142) to leader 0
client write log 6553308005050660174 (index 143) to leader 0
client write log 2916299604699411195 (index 144) to leader 0
flag 56853 term 24 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 24 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 24 leaderCommit: 136 
------------------------------------------------------
flag 348 term 24 leader 0 nextIndex[2]: 136  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 136 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 129} {2279346034285575927 21 130} {3663095223795112493 21 131} {4618524464665681896 21 132} {8072633097315344201 21 133} {6305854709068246913 21 134} {6305854709068246913 23 135} {5741019213291137258 24 136} {2154316450322770460 24 137} {533467124665965526 24 138} {3491833032313223358 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
term 24 Server0 start snapshot! index=139
term 24 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=144
-------------------------------------------------------------
flag 93517 term 23 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 52420 term 23 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42438 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 136  matchIndex[2]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
term 24 Server1 start snapshot! index=139
term 24 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=144
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2643979216873893928 (index 136) to leader 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 136->135
------------------------------------------------------
flag 29916 term 23 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 14792 term 23 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 24 server 1 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
term 24 server 0 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30727 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 24 rf.commitIndex 139 rf.lastApplied 139
term 24 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
flag 53950 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 91733 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
flag 70889 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 2016 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
flag 4011 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 23351 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61073 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 53126 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
flag 18191 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 94810 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98001 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 65806 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
flag 44844 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 83172 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
flag 43367 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 11111 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
flag 76679 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 89543 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
term 24 server 2 not vote for server 0, 日志不够新
term 24 server 0 get outdate rpc reply from server 2
flag 18557 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 73098 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
flag 92381 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 85231 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
flag 46179 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 88809 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94477 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 5853 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5254 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 85680 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38164 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 92157 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
flag 21420 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 81430 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44777 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 25016 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
flag 24143 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 34456 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
flag 83050 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 28879 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144}]
------------------------------------------------------
client write log 2643979216873893928 (index 145) to leader 0
flag 71580 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 94543 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144} {2643979216873893928 24 145}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144} {2643979216873893928 24 145}]
------------------------------------------------------
flag 37759 term 24 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 42478 term 24 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144} {2643979216873893928 24 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144} {2643979216873893928 24 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 146->145
------------------------------------------------------
flag 59833 term 24 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 145
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 2 InstallSnapshot fail
rf.commitIndex 145 args.LastIncludedIndex 139
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 24 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144} {2643979216873893928 24 145}]
------------------------------------------------------
flag 27669 term 24 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 87887 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144} {2643979216873893928 24 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144} {2643979216873893928 24 145}]
------------------------------------------------------
flag 64791 term 24 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 13277 term 24 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144} {2643979216873893928 24 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144} {2643979216873893928 24 145}]
------------------------------------------------------
flag 14217 term 24 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 75055 term 24 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144} {2643979216873893928 24 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144} {2643979216873893928 24 145}]
------------------------------------------------------
term 24 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
flag 63560 term 24 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 90322 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144} {2643979216873893928 24 145}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144} {2643979216873893928 24 145}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7764554664042232550 (index 146) to leader 0
flag 31815 term 24 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 18688 term 24 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144} {2643979216873893928 24 145} {7764554664042232550 24 146}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34061 term 24 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 5323 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144} {2643979216873893928 24 145} {7764554664042232550 24 146}]
------------------------------------------------------
client write log 2193801990682081999 (index 147) to leader 0
client write log 8815142455030222669 (index 148) to leader 0
client write log 6908441794928131459 (index 149) to leader 0
client write log 3288083164685552468 (index 150) to leader 0
client write log 2135725262732167495 (index 151) to leader 0
client write log 8398488602249437340 (index 152) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6718 term 24 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 791 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 139} {4204907832082563380 24 140} {5990717396041186575 24 141} {6569018478299115206 24 142} {6553308005050660174 24 143} {2916299604699411195 24 144} {2643979216873893928 24 145} {7764554664042232550 24 146} {2193801990682081999 24 147} {8815142455030222669 24 148} {6908441794928131459 24 149} {3288083164685552468 24 150} {2135725262732167495 24 151} {8398488602249437340 24 152}]
------------------------------------------------------
term 24 Server0 start snapshot! index=149
term 24 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=152
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 75469 term 24 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 24 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {3288083164685552468 24 150} {2135725262732167495 24 151} {8398488602249437340 24 152}]
------------------------------------------------------
term 24 Server2 start snapshot! index=149
term 24 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=152
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5466373953751893763 (index 153) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 146->145
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 0  matchIndex[1]: 145
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 37996 term 24 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 24 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {3288083164685552468 24 150} {2135725262732167495 24 151} {8398488602249437340 24 152} {5466373953751893763 24 153}]
------------------------------------------------------
term 25 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 2 vote for server 0
term 26 server 1 vote for server 0
term 26 server 0 get vote from server 2
term 26 server 0 become leader
------------------------------------------------------
term 26 server 0 get outdate rpc reply from server 1
flag 4160 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
flag 64071 term 26 leader 0 nextIndex[2]: 154  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 26 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {3288083164685552468 24 150} {2135725262732167495 24 151} {8398488602249437340 24 152} {5466373953751893763 24 153}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 154->153
------------------------------------------------------
term 26 leader 0 nextIndex[1]: 146  matchIndex[1]: 0
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 53337 term 26 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
term 26 server 1 InstallSnapshot success
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {3288083164685552468 24 150} {2135725262732167495 24 151} {8398488602249437340 24 152} {5466373953751893763 24 153}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 24 rf.commitIndex 149 rf.lastApplied 149
term 26 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
flag 43350 term 26 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 26 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
flag 4937 term 26 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {3288083164685552468 24 150} {2135725262732167495 24 151} {8398488602249437340 24 152} {5466373953751893763 24 153}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {3288083164685552468 24 150} {2135725262732167495 24 151} {8398488602249437340 24 152} {5466373953751893763 24 153}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53703 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
flag 3836 term 26 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {3288083164685552468 24 150} {2135725262732167495 24 151} {8398488602249437340 24 152} {5466373953751893763 24 153}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {3288083164685552468 24 150} {2135725262732167495 24 151} {8398488602249437340 24 152} {5466373953751893763 24 153}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22100 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
flag 29275 term 26 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
term 26 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
[{snapshot 24 149} {3288083164685552468 24 150} {2135725262732167495 24 151} {8398488602249437340 24 152} {5466373953751893763 24 153}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {3288083164685552468 24 150} {2135725262732167495 24 151} {8398488602249437340 24 152} {5466373953751893763 24 153}]
------------------------------------------------------
flag 74065 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
flag 37843 term 26 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {3288083164685552468 24 150} {2135725262732167495 24 151} {8398488602249437340 24 152} {5466373953751893763 24 153}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {3288083164685552468 24 150} {2135725262732167495 24 151} {8398488602249437340 24 152} {5466373953751893763 24 153}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69323 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
flag 31098 term 26 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {3288083164685552468 24 150} {2135725262732167495 24 151} {8398488602249437340 24 152} {5466373953751893763 24 153}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {3288083164685552468 24 150} {2135725262732167495 24 151} {8398488602249437340 24 152} {5466373953751893763 24 153}]
------------------------------------------------------
flag 5350 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
flag 56273 term 26 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {3288083164685552468 24 150} {2135725262732167495 24 151} {8398488602249437340 24 152} {5466373953751893763 24 153}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {3288083164685552468 24 150} {2135725262732167495 24 151} {8398488602249437340 24 152} {5466373953751893763 24 153}]
------------------------------------------------------
flag 32526 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
flag 52971 term 26 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {3288083164685552468 24 150} {2135725262732167495 24 151} {8398488602249437340 24 152} {5466373953751893763 24 153}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {3288083164685552468 24 150} {2135725262732167495 24 151} {8398488602249437340 24 152} {5466373953751893763 24 153}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7309171428636756019 (index 154) to leader 0
flag 93185 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
flag 91948 term 26 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {3288083164685552468 24 150} {2135725262732167495 24 151} {8398488602249437340 24 152} {5466373953751893763 24 153} {7309171428636756019 26 154}]
------------------------------------------------------
flag 38410 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 8811 term 26 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 26 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {3288083164685552468 24 150} {2135725262732167495 24 151} {8398488602249437340 24 152} {5466373953751893763 24 153} {7309171428636756019 26 154}]
------------------------------------------------------
client write log 3073553744576657949 (index 155) to leader 0
client write log 3520082564582400983 (index 156) to leader 0
client write log 3826493092317547540 (index 157) to leader 0
client write log 3352613746469282621 (index 158) to leader 0
client write log 8810809368453561318 (index 159) to leader 0
client write log 722085788239677341 (index 160) to leader 0
client write log 3233430526646325276 (index 161) to leader 0
client write log 4645728683382933011 (index 162) to leader 0
client write log 8077081675596527929 (index 163) to leader 0
client write log 5798543999247892508 (index 164) to leader 0
client write log 1917207790971656063 (index 165) to leader 0
client write log 2053313208628268722 (index 166) to leader 0
client write log 3608120168599612067 (index 167) to leader 0
flag 43736 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 44565 term 26 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 26 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 149} {3288083164685552468 24 150} {2135725262732167495 24 151} {8398488602249437340 24 152} {5466373953751893763 24 153} {7309171428636756019 26 154} {3073553744576657949 26 155} {3520082564582400983 26 156} {3826493092317547540 26 157} {3352613746469282621 26 158} {8810809368453561318 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167}]
------------------------------------------------------
term 26 Server0 start snapshot! index=159
term 26 server0 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=167
-------------------------------------------------------------
term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
flag 37851 term 26 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 26 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167}]
------------------------------------------------------
term 26 Server2 start snapshot! index=159
term 26 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=167
-------------------------------------------------------------
!!!!!!connect server 1
client write log 916884693603771542 (index 168) to leader 0
term 26 server 2 not vote for server 1, 日志不够新
term 26 server 0 not vote for server 1, 日志不够新
term 28 server 2 vote for server 0
term 28 server 0 get vote from server 2
term 28 server 0 become leader
------------------------------------------------------
term 28 server 1 vote for server 0
term 28 server 0 get outdate rpc reply from server 1
flag 43207 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 29354 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 169->168
------------------------------------------------------
term 28 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 169->168
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 154  matchIndex[1]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
flag 77156 term 28 leader 0 nextIndex[2]: 168  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 1 InstallSnapshot success
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 26 rf.commitIndex 159 rf.lastApplied 159
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
flag 57024 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 59133 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
flag 96843 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 54913 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
flag 10335 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 37824 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70941 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 6838 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
flag 56878 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 25208 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
flag 44926 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 86327 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
flag 65258 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 44968 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
flag 54168 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 98436 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
flag 60162 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 17964 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
flag 61825 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 23044 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
flag 71250 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 21368 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
flag 68034 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 25758 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
flag 23335 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 50892 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
flag 27701 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 80248 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
term 28 server 2 not vote for server 1, 任期不够新
term 28 server 1 get outdate rpc reply from server 2
flag 8024 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 77586 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
flag 73866 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 58584 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
flag 74266 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 91387 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
flag 83735 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 47612 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168}]
------------------------------------------------------
client write log 916884693603771542 (index 169) to leader 0
flag 23273 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 6933 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168} {916884693603771542 28 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 159} {722085788239677341 26 160} {3233430526646325276 26 161} {4645728683382933011 26 162} {8077081675596527929 26 163} {5798543999247892508 26 164} {1917207790971656063 26 165} {2053313208628268722 26 166} {3608120168599612067 26 167} {916884693603771542 26 168} {916884693603771542 28 169}]
------------------------------------------------------
term 28 Server0 start snapshot! index=169
term 28 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
flag 9752 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 39001 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 28 169}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 28 169}]
------------------------------------------------------
term 28 Server2 start snapshot! index=169
term 28 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
term 28 Server1 start snapshot! index=169
term 28 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36469 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 94667 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
term 28 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
[{snapshot 28 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 28 169}]
------------------------------------------------------
flag 26066 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 78758 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 28 169}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 28 169}]
------------------------------------------------------
flag 35779 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 65036 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
term 28 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
[{snapshot 28 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 28 169}]
------------------------------------------------------
flag 67645 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 30604 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
term 28 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
[{snapshot 28 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 28 169}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 37328 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 77854 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 64553 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 27103 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 94714 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 863 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 29 server 2 vote for server 1
term 29 server 1 get vote from server 2
term 29 server 1 become leader
------------------------------------------------------
flag 86021 term 29 leader 1 nextIndex[0]: 170  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 5340 term 29 leader 1 nextIndex[2]: 170  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 28 169}]
------------------------------------------------------
client write log 4998639871856708872 (index 170) to leader 1
flag 30122 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 75347 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 77864 term 29 leader 1 nextIndex[0]: 170  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 61017 term 29 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {4998639871856708872 29 170}]
------------------------------------------------------
flag 68551 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 69191 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 25995 term 29 leader 1 nextIndex[0]: 170  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
flag 4254 term 29 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 29 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {4998639871856708872 29 170}]
------------------------------------------------------
client write log 1207189200483794568 (index 171) to leader 1
client write log 5792449806822924468 (index 172) to leader 1
client write log 8659895218556961695 (index 173) to leader 1
client write log 1786875879630795691 (index 174) to leader 1
client write log 4120979769977158242 (index 175) to leader 1
client write log 5049164819622875011 (index 176) to leader 1
client write log 2109005752497276105 (index 177) to leader 1
client write log 2502949360642110214 (index 178) to leader 1
client write log 8628918118941739830 (index 179) to leader 1
client write log 6165334323922945100 (index 180) to leader 1
flag 18049 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 74332 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 2249 term 29 leader 1 nextIndex[0]: 170  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
flag 45397 term 29 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 29 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 28 169} {4998639871856708872 29 170} {1207189200483794568 29 171} {5792449806822924468 29 172} {8659895218556961695 29 173} {1786875879630795691 29 174} {4120979769977158242 29 175} {5049164819622875011 29 176} {2109005752497276105 29 177} {2502949360642110214 29 178} {8628918118941739830 29 179} {6165334323922945100 29 180}]
------------------------------------------------------
term 29 Server1 start snapshot! index=179
term 29 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=180
-------------------------------------------------------------
flag 11376 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 16164 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 29 leader 1 nextIndex[0]: 170  matchIndex[0]: 0
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 72648 term 29 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 29 179} {6165334323922945100 29 180}]
------------------------------------------------------
term 29 Server2 start snapshot! index=179
term 29 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=180
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5751729242255871816 (index 181) to leader 1
flag 97362 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 74265 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 29 server 2 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 29 server 1 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 170->169
------------------------------------------------------
term 29 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 9267 term 29 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {6165334323922945100 29 180} {5751729242255871816 29 181}]
------------------------------------------------------
term 29 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 29 rf.commitIndex 179 rf.lastApplied 179
term 29 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
flag 31315 term 29 leader 1 nextIndex[0]: 180  matchIndex[0]: 179
term 29 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
flag 8977 term 29 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {6165334323922945100 29 180} {5751729242255871816 29 181}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {6165334323922945100 29 180} {5751729242255871816 29 181}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74948 term 29 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
flag 39899 term 29 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {6165334323922945100 29 180} {5751729242255871816 29 181}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {6165334323922945100 29 180} {5751729242255871816 29 181}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62505 term 29 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
flag 91614 term 29 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {6165334323922945100 29 180} {5751729242255871816 29 181}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {6165334323922945100 29 180} {5751729242255871816 29 181}]
------------------------------------------------------
flag 9882 term 29 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
flag 62502 term 29 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {6165334323922945100 29 180} {5751729242255871816 29 181}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {6165334323922945100 29 180} {5751729242255871816 29 181}]
------------------------------------------------------
flag 32988 term 29 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
flag 86344 term 29 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {6165334323922945100 29 180} {5751729242255871816 29 181}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {6165334323922945100 29 180} {5751729242255871816 29 181}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 182->181
------------------------------------------------------
term 29 leader 1 nextIndex[0]: 0  matchIndex[0]: 181
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 83218 term 29 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {6165334323922945100 29 180} {5751729242255871816 29 181}]
------------------------------------------------------
term 29 server 0 InstallSnapshot fail
rf.commitIndex 181 args.LastIncludedIndex 179
------------------------------------------------------
term 29 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
flag 41355 term 29 leader 1 nextIndex[0]: 180  matchIndex[0]: 179
term 29 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
flag 37840 term 29 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {6165334323922945100 29 180} {5751729242255871816 29 181}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {6165334323922945100 29 180} {5751729242255871816 29 181}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8304063543138949300 (index 182) to leader 1
flag 7832 term 29 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
flag 98460 term 29 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6165334323922945100 29 180} {5751729242255871816 29 181} {8304063543138949300 29 182}]
------------------------------------------------------
flag 5078 term 29 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 29 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 30624 term 29 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6165334323922945100 29 180} {5751729242255871816 29 181} {8304063543138949300 29 182}]
------------------------------------------------------
client write log 8798327396998446047 (index 183) to leader 1
client write log 5629250991922742032 (index 184) to leader 1
client write log 8484857392979183213 (index 185) to leader 1
client write log 5989516017577983158 (index 186) to leader 1
client write log 2655149555572195743 (index 187) to leader 1
client write log 314894423104026777 (index 188) to leader 1
client write log 8499997110206283550 (index 189) to leader 1
flag 98686 term 29 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 29 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 19271 term 29 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 29 179} {6165334323922945100 29 180} {5751729242255871816 29 181} {8304063543138949300 29 182} {8798327396998446047 29 183} {5629250991922742032 29 184} {8484857392979183213 29 185} {5989516017577983158 29 186} {2655149555572195743 29 187} {314894423104026777 29 188} {8499997110206283550 29 189}]
------------------------------------------------------
term 29 Server1 start snapshot! index=189
term 29 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
flag 65847 term 29 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 29 189}]
------------------------------------------------------
term 29 Server0 start snapshot! index=189
term 29 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2637692428178158481 (index 190) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 server 0 not vote for server 1, 任期不够新
term 29 server 1 get outdate rpc reply from server 0
term 29 server 1 not vote for server 2, 日志不够新
term 29 server 0 not vote for server 2, 日志不够新
term 31 server 2 vote for server 1
term 31 server 0 vote for server 1
term 31 server 1 get vote from server 2
term 31 server 1 become leader
------------------------------------------------------
term 31 server 1 get outdate rpc reply from server 0
flag 94386 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 59469 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 191->190
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 191->190
------------------------------------------------------
flag 33850 term 31 leader 1 nextIndex[0]: 190  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 182  matchIndex[2]: 0
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
term 31 server 2 InstallSnapshot success
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 29 rf.commitIndex 189 rf.lastApplied 189
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
flag 75316 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 1261 term 31 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 31 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
flag 1730 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 81564 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
flag 59711 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 61471 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55232 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 50203 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81389 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 15299 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
flag 24053 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 4117 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34538 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 9982 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24377 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 72693 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
flag 89647 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 72060 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
flag 64030 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 45953 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
flag 90925 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 14265 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
flag 67462 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 60754 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34105 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 12465 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
flag 93551 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 56630 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
flag 44358 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 50028 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92963 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 38537 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51916 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 82247 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {2637692428178158481 29 190}]
------------------------------------------------------
client write log 2637692428178158481 (index 191) to leader 1
flag 99860 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 78901 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {2637692428178158481 29 190} {2637692428178158481 31 191}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {2637692428178158481 29 190} {2637692428178158481 31 191}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73268 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
flag 96674 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {2637692428178158481 29 190} {2637692428178158481 31 191}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {2637692428178158481 29 190} {2637692428178158481 31 191}]
------------------------------------------------------
flag 90140 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
flag 87480 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {2637692428178158481 29 190} {2637692428178158481 31 191}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {2637692428178158481 29 190} {2637692428178158481 31 191}]
------------------------------------------------------
flag 69424 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
flag 78882 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {2637692428178158481 29 190} {2637692428178158481 31 191}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {2637692428178158481 29 190} {2637692428178158481 31 191}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4351 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
flag 52795 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {2637692428178158481 29 190} {2637692428178158481 31 191}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {2637692428178158481 29 190} {2637692428178158481 31 191}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74914 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
flag 66556 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {2637692428178158481 29 190} {2637692428178158481 31 191}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {2637692428178158481 29 190} {2637692428178158481 31 191}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4762360011511012190 (index 192) to leader 1
flag 81611 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
flag 55830 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2637692428178158481 29 190} {2637692428178158481 31 191} {4762360011511012190 31 192}]
------------------------------------------------------
flag 45694 term 31 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 72316 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2637692428178158481 29 190} {2637692428178158481 31 191} {4762360011511012190 31 192}]
------------------------------------------------------
client write log 4543362780567209756 (index 193) to leader 1
client write log 3755972424417667139 (index 194) to leader 1
client write log 5048205792033325582 (index 195) to leader 1
client write log 919555312466794315 (index 196) to leader 1
client write log 5189010554622814437 (index 197) to leader 1
client write log 2438315091419345076 (index 198) to leader 1
client write log 4300738166462068862 (index 199) to leader 1
client write log 2380137088548977138 (index 200) to leader 1
client write log 2802874401301899110 (index 201) to leader 1
client write log 371910953905819023 (index 202) to leader 1
flag 42232 term 31 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 5020 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 189} {2637692428178158481 29 190} {2637692428178158481 31 191} {4762360011511012190 31 192} {4543362780567209756 31 193} {3755972424417667139 31 194} {5048205792033325582 31 195} {919555312466794315 31 196} {5189010554622814437 31 197} {2438315091419345076 31 198} {4300738166462068862 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202}]
------------------------------------------------------
term 31 Server1 start snapshot! index=199
term 31 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=202
-------------------------------------------------------------
flag 16600 term 31 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202}]
------------------------------------------------------
term 31 Server0 start snapshot! index=199
term 31 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=202
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7237338728904566879 (index 203) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29445 term 31 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
term 32 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 2 vote for server 1
term 33 server 1 get vote from server 2
term 33 server 1 become leader
------------------------------------------------------
term 33 server 0 vote for server 1
term 33 server 1 get outdate rpc reply from server 0
flag 90329 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 31911 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 204->203
------------------------------------------------------
term 33 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53720 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 192  matchIndex[2]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
term 33 server 2 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 31 rf.commitIndex 199 rf.lastApplied 199
term 33 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
flag 98389 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 65603 term 33 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 33 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
flag 73104 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 48156 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44822 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 83587 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
term 33 server 1 not vote for server 2, 任期不够新
term 33 server 2 get outdate rpc reply from server 1
flag 49705 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 54376 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11414 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 49674 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
flag 42419 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 39429 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22298 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 80321 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
flag 61266 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 1500 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
flag 31815 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 69102 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
flag 55793 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 87559 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
flag 46359 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 43957 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
flag 88468 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 23764 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57652 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 85182 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
flag 61312 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 58718 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
flag 35528 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 35052 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
flag 88764 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 55797 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
flag 9196 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 56403 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203}]
------------------------------------------------------
client write log 7237338728904566879 (index 204) to leader 1
flag 63082 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 79943 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203} {7237338728904566879 33 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203} {7237338728904566879 33 204}]
------------------------------------------------------
flag 82998 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 20891 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203} {7237338728904566879 33 204}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203} {7237338728904566879 33 204}]
------------------------------------------------------
term 33 server 0 not vote for server 1, 任期不够新
term 33 server 1 get outdate rpc reply from server 0
flag 14139 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 72141 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203} {7237338728904566879 33 204}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203} {7237338728904566879 33 204}]
------------------------------------------------------
flag 45753 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 75147 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203} {7237338728904566879 33 204}]
term 33 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203} {7237338728904566879 33 204}]
------------------------------------------------------
flag 64537 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 60577 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
term 33 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203} {7237338728904566879 33 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203} {7237338728904566879 33 204}]
------------------------------------------------------
flag 2040 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 68726 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203} {7237338728904566879 33 204}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203} {7237338728904566879 33 204}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 95354 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 60819 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 5133 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 99487 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 63233 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 8641 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 34 server 0 vote for server 2
term 34 server 2 get vote from server 0
term 34 server 2 become leader
------------------------------------------------------
flag 25167 term 34 leader 2 nextIndex[0]: 205  matchIndex[0]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 40852 term 34 leader 2 nextIndex[1]: 205  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203} {7237338728904566879 33 204}]
------------------------------------------------------
flag 79061 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 31089 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
client write log 2744186764528604684 (index 205) to leader 2
flag 76365 term 34 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 30914 term 34 leader 2 nextIndex[1]: 205  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203} {7237338728904566879 33 204} {2744186764528604684 34 205}]
------------------------------------------------------
flag 55966 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 46356 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 29162 term 34 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 34 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 34 leaderCommit: 205 
------------------------------------------------------
flag 13055 term 34 leader 2 nextIndex[1]: 205  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203} {7237338728904566879 33 204} {2744186764528604684 34 205}]
------------------------------------------------------
flag 9593 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 90894 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
client write log 3031819737024777561 (index 206) to leader 2
client write log 8199313693822046675 (index 207) to leader 2
client write log 6093122637736391171 (index 208) to leader 2
client write log 874619079461309251 (index 209) to leader 2
client write log 2369492621761002854 (index 210) to leader 2
client write log 1000438206345412755 (index 211) to leader 2
client write log 1766416633816780612 (index 212) to leader 2
client write log 4387746084596032564 (index 213) to leader 2
client write log 5337479859884723545 (index 214) to leader 2
client write log 1738876932914138909 (index 215) to leader 2
client write log 5118905522073872576 (index 216) to leader 2
client write log 3409397941638316375 (index 217) to leader 2
client write log 1454324698381658778 (index 218) to leader 2
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 205->204
------------------------------------------------------
flag 74773 term 34 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 34 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 34 leaderCommit: 205 
------------------------------------------------------
flag 13800 term 34 leader 2 nextIndex[1]: 205  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 199} {2380137088548977138 31 200} {2802874401301899110 31 201} {371910953905819023 31 202} {7237338728904566879 31 203} {7237338728904566879 33 204} {2744186764528604684 34 205} {3031819737024777561 34 206} {8199313693822046675 34 207} {6093122637736391171 34 208} {874619079461309251 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
flag 73273 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 0  matchIndex[2]: 204
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
term 34 Server2 start snapshot! index=209
term 34 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=218
-------------------------------------------------------------
flag 45304 term 34 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 205  matchIndex[1]: 0
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
flag 72525 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 0  matchIndex[2]: 204
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
term 34 Server0 start snapshot! index=209
term 34 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=218
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6518451894230693371 (index 205) to leader 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 205->204
------------------------------------------------------
flag 64122 term 34 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
term 34 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 34 rf.commitIndex 209 rf.lastApplied 209
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
flag 46018 term 34 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 99413 term 34 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51337 term 34 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 93571 term 34 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
flag 48898 term 34 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 33822 term 34 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
flag 45818 term 34 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 48686 term 34 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86919 term 34 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 16635 term 34 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
flag 5172 term 34 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 39067 term 34 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
flag 1694 term 34 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 3352 term 34 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15177 term 34 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 74022 term 34 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
flag 4272 term 34 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 39064 term 34 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
flag 87861 term 34 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 9162 term 34 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
flag 21369 term 34 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 94809 term 34 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
flag 97297 term 34 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 10814 term 34 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
flag 49717 term 34 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 98825 term 34 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
flag 95049 term 34 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 20108 term 34 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
term 34 server 0 not vote for server 2, 任期不够新
term 34 server 2 get outdate rpc reply from server 0
flag 63234 term 34 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 65828 term 34 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
flag 27031 term 34 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 79340 term 34 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52481 term 34 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 88916 term 34 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45792 term 34 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 34683 term 34 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
flag 98831 term 34 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 53860 term 34 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218}]
------------------------------------------------------
client write log 6518451894230693371 (index 219) to leader 2
flag 21691 term 34 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 52021 term 34 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218} {6518451894230693371 34 219}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 209} {2369492621761002854 34 210} {1000438206345412755 34 211} {1766416633816780612 34 212} {4387746084596032564 34 213} {5337479859884723545 34 214} {1738876932914138909 34 215} {5118905522073872576 34 216} {3409397941638316375 34 217} {1454324698381658778 34 218} {6518451894230693371 34 219}]
------------------------------------------------------
term 34 Server2 start snapshot! index=219
term 34 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57679 term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 36152 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
term 34 Server1 start snapshot! index=219
term 34 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
term 34 Server0 start snapshot! index=219
term 34 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
flag 66316 term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 68948 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
flag 31156 term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 49313 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68334 term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 97103 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99443 term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 200 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
flag 96484 term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 22870 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 9111485658043482467 (index 220) to leader 2
flag 5533 term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 75969 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {9111485658043482467 34 220}]
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76740 term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 53850 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {9111485658043482467 34 220}]
------------------------------------------------------
client write log 392987360488022456 (index 221) to leader 2
client write log 5839891094275506902 (index 222) to leader 2
client write log 1757003343116104895 (index 223) to leader 2
client write log 7269731084964968820 (index 224) to leader 2
client write log 7712290349855345848 (index 225) to leader 2
client write log 4907923057781177953 (index 226) to leader 2
client write log 8512930441578076547 (index 227) to leader 2
client write log 9174822636831074546 (index 228) to leader 2
client write log 5920517204595533641 (index 229) to leader 2
client write log 5733977193527759164 (index 230) to leader 2
client write log 1057580607468057930 (index 231) to leader 2
client write log 3514808309802125051 (index 232) to leader 2
flag 74733 term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 8075 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
leader log:
[{snapshot 34 219} {9111485658043482467 34 220} {392987360488022456 34 221} {5839891094275506902 34 222} {1757003343116104895 34 223} {7269731084964968820 34 224} {7712290349855345848 34 225} {4907923057781177953 34 226} {8512930441578076547 34 227} {9174822636831074546 34 228} {5920517204595533641 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232}]
------------------------------------------------------
term 34 Server2 start snapshot! index=229
term 34 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=232
-------------------------------------------------------------
term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
flag 91129 term 34 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 34 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232}]
------------------------------------------------------
term 34 Server1 start snapshot! index=229
term 34 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=232
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5478901634110326567 (index 233) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 server 2 not vote for server 0, 日志不够新
term 34 server 1 not vote for server 0, 日志不够新
term 36 server 1 vote for server 2
term 36 server 0 vote for server 2
term 36 server 2 get vote from server 1
term 36 server 2 become leader
------------------------------------------------------
term 36 server 2 get outdate rpc reply from server 0
flag 1476 term 36 leader 2 nextIndex[0]: 234  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 75263 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 234->233
------------------------------------------------------
term 36 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 234->233
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
flag 36697 term 36 leader 2 nextIndex[1]: 233  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
term 36 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 34 rf.commitIndex 229 rf.lastApplied 229
term 36 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
flag 47181 term 36 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 30067 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
term 36 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
flag 10324 term 36 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 24209 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11753 term 36 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 77820 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
flag 13006 term 36 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 66698 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
flag 14133 term 36 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 69738 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
flag 61595 term 36 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 13810 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
flag 24544 term 36 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 20833 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
flag 76841 term 36 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 3360 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
flag 15973 term 36 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 17272 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
flag 87694 term 36 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 1796 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
flag 98207 term 36 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 25205 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44294 term 36 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 35752 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
flag 89258 term 36 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 50559 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5186 term 36 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 48514 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
term 36 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
flag 75529 term 36 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 8635 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
flag 22213 term 36 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 93138 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52993 term 36 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 24330 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36449 term 36 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 71087 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233}]
------------------------------------------------------
client write log 5478901634110326567 (index 234) to leader 2
flag 98340 term 36 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 80981 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233} {5478901634110326567 36 234}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233} {5478901634110326567 36 234}]
------------------------------------------------------
flag 61872 term 36 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 42372 term 36 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233} {5478901634110326567 36 234}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233} {5478901634110326567 36 234}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67049 term 36 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 66441 term 36 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233} {5478901634110326567 36 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233} {5478901634110326567 36 234}]
------------------------------------------------------
flag 1363 term 36 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 91042 term 36 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233} {5478901634110326567 36 234}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233} {5478901634110326567 36 234}]
------------------------------------------------------
flag 45326 term 36 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 79915 term 36 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233} {5478901634110326567 36 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233} {5478901634110326567 36 234}]
------------------------------------------------------
term 36 server 1 not vote for server 2, 任期不够新
term 36 server 2 get outdate rpc reply from server 1
flag 54118 term 36 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 81387 term 36 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
term 36 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233} {5478901634110326567 36 234}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233} {5478901634110326567 36 234}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81249 term 36 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 36200 term 36 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233} {5478901634110326567 36 234}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233} {5478901634110326567 36 234}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7935250315994662086 (index 235) to leader 2
flag 15821 term 36 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 28168 term 36 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233} {5478901634110326567 36 234} {7935250315994662086 36 235}]
------------------------------------------------------
flag 85122 term 36 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 51608 term 36 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 36 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233} {5478901634110326567 36 234} {7935250315994662086 36 235}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6488762458850081713 (index 236) to leader 2
client write log 6273462691698394975 (index 237) to leader 2
client write log 740169544428901742 (index 238) to leader 2
client write log 9031057686251697094 (index 239) to leader 2
client write log 4269351147893255614 (index 240) to leader 2
client write log 288893966627169014 (index 241) to leader 2
client write log 1792674861437440291 (index 242) to leader 2
client write log 1687899148077386257 (index 243) to leader 2
client write log 4001187980063678687 (index 244) to leader 2
client write log 2378919827081573250 (index 245) to leader 2
client write log 8931961164326093065 (index 246) to leader 2
client write log 8694657667563296769 (index 247) to leader 2
client write log 2264794224676174037 (index 248) to leader 2
flag 53057 term 36 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 18314 term 36 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 36 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 34 229} {5733977193527759164 34 230} {1057580607468057930 34 231} {3514808309802125051 34 232} {5478901634110326567 34 233} {5478901634110326567 36 234} {7935250315994662086 36 235} {6488762458850081713 36 236} {6273462691698394975 36 237} {740169544428901742 36 238} {9031057686251697094 36 239} {4269351147893255614 36 240} {288893966627169014 36 241} {1792674861437440291 36 242} {1687899148077386257 36 243} {4001187980063678687 36 244} {2378919827081573250 36 245} {8931961164326093065 36 246} {8694657667563296769 36 247} {2264794224676174037 36 248}]
------------------------------------------------------
term 36 Server2 start snapshot! index=239
term 36 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=248
-------------------------------------------------------------
term 36 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
flag 7136 term 36 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 248 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {4269351147893255614 36 240} {288893966627169014 36 241} {1792674861437440291 36 242} {1687899148077386257 36 243} {4001187980063678687 36 244} {2378919827081573250 36 245} {8931961164326093065 36 246} {8694657667563296769 36 247} {2264794224676174037 36 248}]
------------------------------------------------------
term 36 Server1 start snapshot! index=239
term 36 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=248
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5824824648302060873 (index 249) to leader 2
term 36 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
flag 12604 term 36 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 248 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
term 37 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 239} {4269351147893255614 36 240} {288893966627169014 36 241} {1792674861437440291 36 242} {1687899148077386257 36 243} {4001187980063678687 36 244} {2378919827081573250 36 245} {8931961164326093065 36 246} {8694657667563296769 36 247} {2264794224676174037 36 248} {5824824648302060873 36 249}]
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 37 Server2 start snapshot! index=249
term 37 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 38 server 1 vote for server 2
term 38 server 2 get vote from server 1
term 38 server 2 become leader
------------------------------------------------------
term 38 server 0 vote for server 2
term 38 server 2 get outdate rpc reply from server 0
flag 96978 term 38 leader 2 nextIndex[0]: 250  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
flag 91556 term 38 leader 2 nextIndex[1]: 250  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 249}]
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 250->249
------------------------------------------------------
term 38 Server1 start snapshot! index=249
term 38 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 38 leader 2 nextIndex[0]: 235  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
flag 63069 term 38 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 38 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 36 rf.commitIndex 249 rf.lastApplied 249
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 249}]
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69680 term 38 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
flag 29345 term 38 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 249}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 249}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6104 term 38 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
flag 53672 term 38 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 249}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 249}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54994 term 38 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
flag 80979 term 38 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 249}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 249}]
------------------------------------------------------
flag 3083 term 38 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
flag 29496 term 38 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 249}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 249}]
------------------------------------------------------
flag 83176 term 38 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
flag 89123 term 38 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 249}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 249}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 2934 term 38 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
flag 88358 term 38 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
flag 75121 term 38 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
flag 58095 term 38 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
flag 99921 term 38 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
flag 75780 term 38 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
term 39 server 1 vote for server 0
term 39 server 0 get vote from server 1
term 39 server 0 become leader
------------------------------------------------------
flag 35188 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
flag 67351 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 249}]
------------------------------------------------------
client write log 2615607234147119061 (index 250) to leader 0
flag 23613 term 38 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
flag 37014 term 38 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
flag 76561 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
flag 41527 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2615607234147119061 39 250}]
------------------------------------------------------
flag 47146 term 38 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
flag 17853 term 38 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 250->249
------------------------------------------------------
flag 49625 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 44784 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2615607234147119061 39 250}]
------------------------------------------------------
client write log 8320794575313874342 (index 251) to leader 0
client write log 2979937418243674896 (index 252) to leader 0
client write log 3810074880734069309 (index 253) to leader 0
client write log 753204223913194220 (index 254) to leader 0
client write log 557206664248624731 (index 255) to leader 0
client write log 1723167577693231232 (index 256) to leader 0
client write log 8862534246138498643 (index 257) to leader 0
client write log 3164765770370532074 (index 258) to leader 0
client write log 1379090425797046165 (index 259) to leader 0
client write log 4517225557130590145 (index 260) to leader 0
client write log 5399159246034610606 (index 261) to leader 0
client write log 8984478823736822140 (index 262) to leader 0
flag 71986 term 38 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 0  matchIndex[1]: 249
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
flag 33749 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 66779 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 249} {2615607234147119061 39 250} {8320794575313874342 39 251} {2979937418243674896 39 252} {3810074880734069309 39 253} {753204223913194220 39 254} {557206664248624731 39 255} {1723167577693231232 39 256} {8862534246138498643 39 257} {3164765770370532074 39 258} {1379090425797046165 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
term 39 Server0 start snapshot! index=259
term 39 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=262
-------------------------------------------------------------
flag 98957 term 38 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 0  matchIndex[1]: 249
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
flag 74264 term 39 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 0
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
term 39 Server1 start snapshot! index=259
term 39 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=262
-------------------------------------------------------------
flag 25905 term 38 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 0  matchIndex[1]: 249
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
!!!!!!connect server 2
client write log 3228135111804897505 (index 250) to leader 2
flag 8309 term 39 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 0
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 2 InstallSnapshot success
------------------------------------------------------
term 39 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 39 rf.commitIndex 259 rf.lastApplied 259
term 39 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80061 term 39 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 19894 term 39 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 39 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
flag 91703 term 39 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 11253 term 39 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
term 39 server 2 not vote for server 0, 任期不够新
term 39 server 0 get outdate rpc reply from server 2
flag 91378 term 39 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 79453 term 39 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
flag 19235 term 39 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 40221 term 39 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
flag 36866 term 39 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 3730 term 39 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31421 term 39 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 91276 term 39 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
flag 63704 term 39 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 64592 term 39 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
flag 14177 term 39 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 81618 term 39 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
flag 68619 term 39 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 7407 term 39 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
flag 79287 term 39 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 16031 term 39 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
flag 33299 term 39 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 15344 term 39 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85105 term 39 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 41211 term 39 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91967 term 39 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 81002 term 39 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
flag 5779 term 39 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 46510 term 39 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44861 term 39 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 9858 term 39 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 263->262
------------------------------------------------------
flag 98461 term 39 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 leader 0 nextIndex[2]: 0  matchIndex[2]: 262
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 2 InstallSnapshot fail
rf.commitIndex 262 args.LastIncludedIndex 259
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
term 39 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
flag 35575 term 39 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 55122 term 39 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 39 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
flag 92816 term 39 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 31108 term 39 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
flag 78447 term 39 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 67483 term 39 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262}]
------------------------------------------------------
client write log 3228135111804897505 (index 263) to leader 0
term 39 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51502 term 39 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 94990 term 39 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262} {3228135111804897505 39 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262} {3228135111804897505 39 263}]
------------------------------------------------------
flag 36620 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 39031 term 39 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262} {3228135111804897505 39 263}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262} {3228135111804897505 39 263}]
------------------------------------------------------
flag 1004 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 3433 term 39 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262} {3228135111804897505 39 263}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262} {3228135111804897505 39 263}]
------------------------------------------------------
flag 62591 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 28571 term 39 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262} {3228135111804897505 39 263}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262} {3228135111804897505 39 263}]
------------------------------------------------------
flag 61926 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 35315 term 39 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262} {3228135111804897505 39 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262} {3228135111804897505 39 263}]
------------------------------------------------------
flag 25474 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 48276 term 39 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262} {3228135111804897505 39 263}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262} {3228135111804897505 39 263}]
------------------------------------------------------
term 39 server 2 not vote for server 0, 日志不够新
term 39 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 264->263
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8950618373037545903 (index 264) to leader 0
flag 12396 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 leader 0 nextIndex[2]: 0  matchIndex[2]: 263
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 2 InstallSnapshot fail
rf.commitIndex 263 args.LastIncludedIndex 259
------------------------------------------------------
term 39 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 264->263
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 263
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
flag 87041 term 39 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 39 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262} {3228135111804897505 39 263} {8950618373037545903 39 264}]
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 263
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
flag 57933 term 39 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 39 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262} {3228135111804897505 39 263} {8950618373037545903 39 264}]
------------------------------------------------------
client write log 9183196879992158381 (index 265) to leader 0
client write log 7278417511500360019 (index 266) to leader 0
client write log 7788204897753459678 (index 267) to leader 0
client write log 2150710629216670577 (index 268) to leader 0
client write log 27783809907677282 (index 269) to leader 0
client write log 7203605205174434973 (index 270) to leader 0
client write log 3811779489321249385 (index 271) to leader 0
client write log 2839464424636930479 (index 272) to leader 0
client write log 3823475448258681403 (index 273) to leader 0
client write log 3768415378989675380 (index 274) to leader 0
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 263
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
flag 6480 term 39 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 39 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 259} {4517225557130590145 39 260} {5399159246034610606 39 261} {8984478823736822140 39 262} {3228135111804897505 39 263} {8950618373037545903 39 264} {9183196879992158381 39 265} {7278417511500360019 39 266} {7788204897753459678 39 267} {2150710629216670577 39 268} {27783809907677282 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274}]
------------------------------------------------------
term 39 Server0 start snapshot! index=269
term 39 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=274
-------------------------------------------------------------
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 263
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 39
------------------------------------------------------
flag 22143 term 39 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274}]
------------------------------------------------------
term 39 Server2 start snapshot! index=269
term 39 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=274
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2619118129172453281 (index 275) to leader 0
term 40 server 1 not vote for server 0, 任期不够新
term 39 server 0 get outdate rpc reply from server 1
term 39 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 263
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 39
------------------------------------------------------
flag 74067 term 39 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 40 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 server 2 vote for server 0
term 41 server 0 get vote from server 2
term 41 server 1 vote for server 0
term 41 server 0 become leader
------------------------------------------------------
term 41 server 0 get outdate rpc reply from server 1
flag 80600 term 41 leader 0 nextIndex[1]: 276  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 57091 term 41 leader 0 nextIndex[2]: 276  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 276->275
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 0
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 39
------------------------------------------------------
flag 79637 term 41 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
term 41 server 1 InstallSnapshot success
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 39 rf.commitIndex 269 rf.lastApplied 269
flag 16662 term 41 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 41 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 16310 term 41 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26755 term 41 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 8805 term 41 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
term 41 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
flag 59669 term 41 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 5005 term 41 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20853 term 41 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 17857 term 41 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94527 term 41 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 46254 term 41 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
term 41 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
flag 18630 term 41 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 52544 term 41 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
flag 43452 term 41 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 11471 term 41 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
flag 46908 term 41 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 95654 term 41 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
flag 69809 term 41 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 30964 term 41 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
flag 91552 term 41 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 21557 term 41 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
flag 45320 term 41 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 66889 term 41 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
flag 16037 term 41 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 18310 term 41 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19159 term 41 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 19867 term 41 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
term 41 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45888 term 41 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 43045 term 41 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19976 term 41 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 97333 term 41 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
flag 73669 term 41 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 21795 term 41 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
flag 22387 term 41 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 66769 term 41 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275}]
------------------------------------------------------
client write log 2619118129172453281 (index 276) to leader 0
flag 28019 term 41 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 66246 term 41 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275} {2619118129172453281 41 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275} {2619118129172453281 41 276}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41840 term 41 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 73194 term 41 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 41 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275} {2619118129172453281 41 276}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275} {2619118129172453281 41 276}]
------------------------------------------------------
flag 23176 term 41 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 4170 term 41 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 41 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275} {2619118129172453281 41 276}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275} {2619118129172453281 41 276}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71785 term 41 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 81361 term 41 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 41 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275} {2619118129172453281 41 276}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275} {2619118129172453281 41 276}]
------------------------------------------------------
flag 23901 term 41 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 14369 term 41 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 41 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275} {2619118129172453281 41 276}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275} {2619118129172453281 41 276}]
------------------------------------------------------
flag 34733 term 41 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 27520 term 41 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 41 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275} {2619118129172453281 41 276}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275} {2619118129172453281 41 276}]
------------------------------------------------------
flag 59603 term 41 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 54124 term 41 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 41 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275} {2619118129172453281 41 276}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275} {2619118129172453281 41 276}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3245891962736791025 (index 277) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15390 term 41 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 71223 term 41 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 41 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275} {2619118129172453281 41 276} {3245891962736791025 41 277}]
------------------------------------------------------
flag 18822 term 41 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 74939 term 41 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275} {2619118129172453281 41 276} {3245891962736791025 41 277}]
------------------------------------------------------
client write log 1861778017573263911 (index 278) to leader 0
client write log 6167765541784904188 (index 279) to leader 0
client write log 4173705684027397129 (index 280) to leader 0
client write log 2214096131508098297 (index 281) to leader 0
client write log 5486638469125179497 (index 282) to leader 0
client write log 8707443676040310983 (index 283) to leader 0
client write log 7523100248468634892 (index 284) to leader 0
client write log 5671096000216088433 (index 285) to leader 0
client write log 3935048225066200457 (index 286) to leader 0
client write log 3697062463665612587 (index 287) to leader 0
client write log 2791073660902899566 (index 288) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8473 term 41 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 40799 term 41 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 39 269} {7203605205174434973 39 270} {3811779489321249385 39 271} {2839464424636930479 39 272} {3823475448258681403 39 273} {3768415378989675380 39 274} {2619118129172453281 39 275} {2619118129172453281 41 276} {3245891962736791025 41 277} {1861778017573263911 41 278} {6167765541784904188 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288}]
------------------------------------------------------
term 41 Server0 start snapshot! index=279
term 41 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=288
-------------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 277->276
------------------------------------------------------
term 41 leader 0 nextIndex[1]: 0  matchIndex[1]: 276
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 41
------------------------------------------------------
flag 99778 term 41 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 41 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288}]
------------------------------------------------------
term 41 Server2 start snapshot! index=279
term 41 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=288
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4954518054016739309 (index 289) to leader 0
term 41 server 2 not vote for server 1, 日志不够新
term 41 server 0 not vote for server 1, 日志不够新
term 43 server 2 vote for server 0
term 43 server 0 get vote from server 2
term 43 server 0 become leader
------------------------------------------------------
term 43 server 1 vote for server 0
term 43 server 0 get outdate rpc reply from server 1
flag 18350 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 86657 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 290->289
------------------------------------------------------
term 43 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 290->289
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 41
------------------------------------------------------
flag 56893 term 43 leader 0 nextIndex[2]: 289  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 1 InstallSnapshot success
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 41 rf.commitIndex 279 rf.lastApplied 279
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
flag 23045 term 43 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 43 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 6302 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
term 43 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
flag 2513 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 42687 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
flag 24662 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 67253 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
term 43 server 0 not vote for server 1, 任期不够新
term 43 server 1 get outdate rpc reply from server 0
flag 72698 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 72563 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
flag 88921 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 37068 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65651 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 79776 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69459 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 3310 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
flag 53828 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 81438 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
flag 15985 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 98077 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
flag 18087 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 30700 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
flag 74496 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 41610 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
flag 97960 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 22228 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
flag 49114 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 23814 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
flag 99008 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 39732 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
flag 74430 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 37150 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
flag 47564 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 36156 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
flag 66862 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 65352 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
flag 57011 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 46213 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289}]
------------------------------------------------------
client write log 4954518054016739309 (index 290) to leader 0
flag 81518 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 37726 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289} {4954518054016739309 43 290}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 279} {4173705684027397129 41 280} {2214096131508098297 41 281} {5486638469125179497 41 282} {8707443676040310983 41 283} {7523100248468634892 41 284} {5671096000216088433 41 285} {3935048225066200457 41 286} {3697062463665612587 41 287} {2791073660902899566 41 288} {4954518054016739309 41 289} {4954518054016739309 43 290}]
------------------------------------------------------
term 43 Server0 start snapshot! index=289
term 43 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=290
-------------------------------------------------------------
flag 14731 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
flag 20757 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {4954518054016739309 43 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {4954518054016739309 43 290}]
------------------------------------------------------
term 43 Server1 start snapshot! index=289
term 43 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=290
-------------------------------------------------------------
term 43 Server2 start snapshot! index=289
term 43 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=290
-------------------------------------------------------------
flag 48430 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
flag 91756 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {4954518054016739309 43 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {4954518054016739309 43 290}]
------------------------------------------------------
flag 73662 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
flag 81338 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {4954518054016739309 43 290}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {4954518054016739309 43 290}]
------------------------------------------------------
flag 52189 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
flag 63554 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {4954518054016739309 43 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {4954518054016739309 43 290}]
------------------------------------------------------
flag 19250 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
flag 96114 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {4954518054016739309 43 290}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {4954518054016739309 43 290}]
------------------------------------------------------
flag 35041 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
flag 97366 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {4954518054016739309 43 290}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {4954518054016739309 43 290}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 71310 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
flag 28347 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
flag 51640 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
flag 15809 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
flag 50522 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
flag 68810 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
term 44 server 1 vote for server 2
term 44 server 2 get vote from server 1
term 44 server 2 become leader
------------------------------------------------------
flag 92307 term 44 leader 2 nextIndex[0]: 291  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
flag 31024 term 44 leader 2 nextIndex[1]: 291  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {4954518054016739309 43 290}]
------------------------------------------------------
flag 12527 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
flag 47716 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
client write log 8653870934739760361 (index 291) to leader 2
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 291->290
------------------------------------------------------
flag 94511 term 44 leader 2 nextIndex[0]: 291  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
flag 49526 term 44 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 44 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {4954518054016739309 43 290} {8653870934739760361 44 291}]
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 290
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 83250 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 291->290
------------------------------------------------------
flag 47581 term 44 leader 2 nextIndex[0]: 291  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 81424 term 44 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 44 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 44 leaderCommit: 291 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {4954518054016739309 43 290} {8653870934739760361 44 291}]
------------------------------------------------------
client write log 5961217031156675662 (index 292) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 290
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
term 43 leader 0 nextIndex[2]: 0  matchIndex[2]: 290
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 93224 term 44 leader 2 nextIndex[0]: 291  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 95703 term 44 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 44 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 44 leaderCommit: 291 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {4954518054016739309 43 290} {8653870934739760361 44 291} {5961217031156675662 44 292}]
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 290
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
term 43 leader 0 nextIndex[2]: 0  matchIndex[2]: 290
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 75431 term 44 leader 2 nextIndex[0]: 291  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 292 
------------------------------------------------------
flag 27292 term 44 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 44 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {4954518054016739309 43 290} {8653870934739760361 44 291} {5961217031156675662 44 292}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2338995636293459501 (index 293) to leader 2
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 290
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
term 43 leader 0 nextIndex[2]: 0  matchIndex[2]: 290
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
term 44 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73669 term 44 leader 2 nextIndex[0]: 291  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 292 
------------------------------------------------------
flag 85788 term 44 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 44 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {4954518054016739309 43 290} {8653870934739760361 44 291} {5961217031156675662 44 292} {2338995636293459501 44 293}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {4954518054016739309 43 290} {8653870934739760361 44 291} {5961217031156675662 44 292} {2338995636293459501 44 293}]
------------------------------------------------------
term 44 server 2 not vote for server 1, 任期不够新
term 44 server 1 get outdate rpc reply from server 2
flag 33737 term 44 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 44 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 51780 term 44 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 44 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {4954518054016739309 43 290} {8653870934739760361 44 291} {5961217031156675662 44 292} {2338995636293459501 44 293}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {4954518054016739309 43 290} {8653870934739760361 44 291} {5961217031156675662 44 292} {2338995636293459501 44 293}]
------------------------------------------------------
flag 41246 term 44 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 44 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 62529 term 44 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 44 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {4954518054016739309 43 290} {8653870934739760361 44 291} {5961217031156675662 44 292} {2338995636293459501 44 293}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {4954518054016739309 43 290} {8653870934739760361 44 291} {5961217031156675662 44 292} {2338995636293459501 44 293}]
------------------------------------------------------
flag 61288 term 44 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 44 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 56127 term 44 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 44 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {4954518054016739309 43 290} {8653870934739760361 44 291} {5961217031156675662 44 292} {2338995636293459501 44 293}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {4954518054016739309 43 290} {8653870934739760361 44 291} {5961217031156675662 44 292} {2338995636293459501 44 293}]
------------------------------------------------------
flag 73220 term 44 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 44 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 7244 term 44 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 44 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {4954518054016739309 43 290} {8653870934739760361 44 291} {5961217031156675662 44 292} {2338995636293459501 44 293}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {4954518054016739309 43 290} {8653870934739760361 44 291} {5961217031156675662 44 292} {2338995636293459501 44 293}]
------------------------------------------------------
flag 4398 term 44 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 44 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 83166 term 44 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 44 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {4954518054016739309 43 290} {8653870934739760361 44 291} {5961217031156675662 44 292} {2338995636293459501 44 293}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {4954518054016739309 43 290} {8653870934739760361 44 291} {5961217031156675662 44 292} {2338995636293459501 44 293}]
------------------------------------------------------
flag 83934 term 44 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 44 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 84246 term 44 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 44 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {4954518054016739309 43 290} {8653870934739760361 44 291} {5961217031156675662 44 292} {2338995636293459501 44 293}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {4954518054016739309 43 290} {8653870934739760361 44 291} {5961217031156675662 44 292} {2338995636293459501 44 293}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3422979146515115412 (index 294) to leader 2
flag 6465 term 44 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 44 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 68839 term 44 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 44 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {4954518054016739309 43 290} {8653870934739760361 44 291} {5961217031156675662 44 292} {2338995636293459501 44 293} {3422979146515115412 44 294}]
------------------------------------------------------
flag 83488 term 44 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 44 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 58568 term 44 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 44 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {4954518054016739309 43 290} {8653870934739760361 44 291} {5961217031156675662 44 292} {2338995636293459501 44 293} {3422979146515115412 44 294}]
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 4387750754745577422 (index 295) to leader 2
client write log 2582642142853381922 (index 296) to leader 2
client write log 989841091658248969 (index 297) to leader 2
client write log 1803709985377153425 (index 298) to leader 2
client write log 5038904831247561394 (index 299) to leader 2
client write log 5715163372465298848 (index 300) to leader 2
client write log 2665135966436033486 (index 301) to leader 2
client write log 5277298880451878365 (index 302) to leader 2
client write log 567150687352923587 (index 303) to leader 2
client write log 3365403373709067924 (index 304) to leader 2
flag 22348 term 44 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 44 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 5956 term 44 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 44 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 41 289} {4954518054016739309 43 290} {8653870934739760361 44 291} {5961217031156675662 44 292} {2338995636293459501 44 293} {3422979146515115412 44 294} {4387750754745577422 44 295} {2582642142853381922 44 296} {989841091658248969 44 297} {1803709985377153425 44 298} {5038904831247561394 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304}]
------------------------------------------------------
term 44 Server2 start snapshot! index=299
term 44 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=304
-------------------------------------------------------------
term 44 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
flag 85282 term 44 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 44 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304}]
------------------------------------------------------
term 44 Server1 start snapshot! index=299
term 44 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=304
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7604519920575269131 (index 305) to leader 2
term 44 server 2 not vote for server 0, 日志不够新
term 44 server 1 not vote for server 0, 日志不够新
term 46 server 1 vote for server 2
term 46 server 0 vote for server 2
term 46 server 2 get vote from server 1
term 46 server 2 become leader
------------------------------------------------------
term 46 server 2 get outdate rpc reply from server 0
flag 41870 term 46 leader 2 nextIndex[0]: 306  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 9209 term 46 leader 2 nextIndex[1]: 306  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 306->305
------------------------------------------------------
term 46 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 306->305
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 294  matchIndex[0]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
flag 88560 term 46 leader 2 nextIndex[1]: 305  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
term 46 server 0 InstallSnapshot success
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 44 rf.commitIndex 299 rf.lastApplied 299
flag 80759 term 46 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 46 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 40495 term 46 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
flag 79131 term 46 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 52262 term 46 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:304 
term 46 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
flag 66848 term 46 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 16477 term 46 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
flag 46238 term 46 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 43818 term 46 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
flag 98464 term 46 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 45222 term 46 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:304 
term 46 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
flag 89693 term 46 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 25341 term 46 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
flag 97740 term 46 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 2076 term 46 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
flag 50802 term 46 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 59091 term 46 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
flag 23411 term 46 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 95593 term 46 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
flag 92798 term 46 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 62874 term 46 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
flag 32673 term 46 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 86135 term 46 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41929 term 46 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 62875 term 46 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41711 term 46 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 24072 term 46 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
flag 42303 term 46 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 67487 term 46 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23593 term 46 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 21191 term 46 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
flag 27701 term 46 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 5184 term 46 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84646 term 46 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 74139 term 46 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305}]
------------------------------------------------------
client write log 7604519920575269131 (index 306) to leader 2
flag 43525 term 46 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 24478 term 46 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305} {7604519920575269131 46 306}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305} {7604519920575269131 46 306}]
------------------------------------------------------
flag 64121 term 46 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 42327 term 46 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 46 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305} {7604519920575269131 46 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305} {7604519920575269131 46 306}]
------------------------------------------------------
flag 32147 term 46 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 96427 term 46 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 46 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305} {7604519920575269131 46 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305} {7604519920575269131 46 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64915 term 46 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 24598 term 46 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 46 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305} {7604519920575269131 46 306}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305} {7604519920575269131 46 306}]
------------------------------------------------------
flag 28380 term 46 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 96918 term 46 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 46 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305} {7604519920575269131 46 306}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305} {7604519920575269131 46 306}]
------------------------------------------------------
flag 9357 term 46 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 77070 term 46 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 46 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305} {7604519920575269131 46 306}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305} {7604519920575269131 46 306}]
------------------------------------------------------
flag 77542 term 46 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 53015 term 46 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 46 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305} {7604519920575269131 46 306}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305} {7604519920575269131 46 306}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4569758726800015002 (index 307) to leader 2
flag 56372 term 46 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 17211 term 46 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 46 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305} {7604519920575269131 46 306} {4569758726800015002 46 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65097 term 46 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 307 
------------------------------------------------------
flag 44211 term 46 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 46 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 307 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305} {7604519920575269131 46 306} {4569758726800015002 46 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6876915794916387918 (index 308) to leader 2
client write log 778928708562355235 (index 309) to leader 2
client write log 2178863649578191557 (index 310) to leader 2
client write log 8751035866731075289 (index 311) to leader 2
client write log 6895491828324420488 (index 312) to leader 2
client write log 1384678138161306488 (index 313) to leader 2
client write log 5306800660495192392 (index 314) to leader 2
client write log 3599084530155018550 (index 315) to leader 2
client write log 940988444152319744 (index 316) to leader 2
client write log 2561921690691481615 (index 317) to leader 2
client write log 5911389434601747916 (index 318) to leader 2
client write log 2747207459904116680 (index 319) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52178 term 46 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 307 
------------------------------------------------------
flag 95465 term 46 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 46 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 307 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 44 299} {5715163372465298848 44 300} {2665135966436033486 44 301} {5277298880451878365 44 302} {567150687352923587 44 303} {3365403373709067924 44 304} {7604519920575269131 44 305} {7604519920575269131 46 306} {4569758726800015002 46 307} {6876915794916387918 46 308} {778928708562355235 46 309} {2178863649578191557 46 310} {8751035866731075289 46 311} {6895491828324420488 46 312} {1384678138161306488 46 313} {5306800660495192392 46 314} {3599084530155018550 46 315} {940988444152319744 46 316} {2561921690691481615 46 317} {5911389434601747916 46 318} {2747207459904116680 46 319}]
------------------------------------------------------
term 46 Server2 start snapshot! index=309
term 46 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=319
-------------------------------------------------------------
term 46 Server2 start snapshot! index=319
term 46 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
term 46 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
flag 28486 term 46 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 46 319}]
------------------------------------------------------
term 46 Server1 start snapshot! index=309
term 46 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=319
-------------------------------------------------------------
term 46 Server1 start snapshot! index=319
term 46 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7789968019928781531 (index 320) to leader 2
term 46 server 2 not vote for server 0, 日志不够新
term 46 server 1 not vote for server 0, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 1 vote for server 2
term 48 server 2 get vote from server 1
term 48 server 2 become leader
------------------------------------------------------
term 48 server 0 vote for server 2
term 48 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37160 term 48 leader 2 nextIndex[0]: 321  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 70961 term 48 leader 2 nextIndex[1]: 321  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 321->320
------------------------------------------------------
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 321->320
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 307  matchIndex[0]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
flag 14890 term 48 leader 2 nextIndex[1]: 320  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 48 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 46 rf.commitIndex 319 rf.lastApplied 319
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66126 term 48 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 48 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 50730 term 48 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:319 
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
flag 2253 term 48 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 25018 term 48 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84015 term 48 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 39838 term 48 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
flag 73095 term 48 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 75328 term 48 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
flag 48706 term 48 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 73741 term 48 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
flag 17216 term 48 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 32995 term 48 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
flag 19601 term 48 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 35913 term 48 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
term 48 server 0 not vote for server 2, 任期不够新
term 48 server 2 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65199 term 48 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 25020 term 48 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89755 term 48 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 98308 term 48 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
flag 26742 term 48 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 42571 term 48 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
flag 8138 term 48 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 45050 term 48 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61152 term 48 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 5687 term 48 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
term 48 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78167 term 48 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 4531 term 48 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
term 48 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16365 term 48 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 43206 term 48 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
flag 90853 term 48 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 9077 term 48 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82103 term 48 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 3897 term 48 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78825 term 48 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 55090 term 48 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {7789968019928781531 46 320}]
------------------------------------------------------
client write log 7789968019928781531 (index 321) to leader 2
flag 49416 term 48 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 24196 term 48 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321}]
------------------------------------------------------
flag 75159 term 48 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 48 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 66496 term 48 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 48 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30977 term 48 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 48 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 55576 term 48 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 48 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321}]
------------------------------------------------------
flag 29608 term 48 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 48 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 59981 term 48 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 48 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321}]
------------------------------------------------------
flag 70271 term 48 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 48 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 64491 term 48 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 48 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321}]
------------------------------------------------------
flag 68098 term 48 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 48 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 15358 term 48 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 48 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
term 48 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 14511 term 48 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 48 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 43778 term 48 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 48 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 65052 term 48 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 48 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 55570 term 48 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 48 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 82977 term 48 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 48 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 99798 term 48 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 48 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 49 server 0 vote for server 1
term 49 server 1 get vote from server 0
term 49 server 1 become leader
------------------------------------------------------
client write log 5105519153063525954 (index 322) to leader 1
flag 56631 term 49 leader 1 nextIndex[0]: 322  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 25008 term 49 leader 1 nextIndex[2]: 322  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321} {5105519153063525954 49 322}]
------------------------------------------------------
flag 6884 term 48 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 48 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 46176 term 48 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 48 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 94449 term 49 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 49 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 49 leaderCommit: 322 
------------------------------------------------------
flag 33228 term 49 leader 1 nextIndex[2]: 322  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321} {5105519153063525954 49 322}]
------------------------------------------------------
flag 73836 term 48 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 48 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 20265 term 48 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 48 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
client write log 6491761441638419 (index 323) to leader 1
flag 50278 term 49 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 49 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 49 leaderCommit: 322 
------------------------------------------------------
flag 47150 term 49 leader 1 nextIndex[2]: 322  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321} {5105519153063525954 49 322} {6491761441638419 49 323}]
------------------------------------------------------
flag 70330 term 48 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 48 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 17800 term 48 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 48 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 75397 term 49 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 49 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 323 
------------------------------------------------------
flag 46629 term 49 leader 1 nextIndex[2]: 322  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321} {5105519153063525954 49 322} {6491761441638419 49 323}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 322->321
------------------------------------------------------
flag 56472 term 48 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 48 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 48 leader 2 nextIndex[1]: 0  matchIndex[1]: 321
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
!!!!!!connect server 2
client write log 1964365973796507054 (index 324) to leader 1
term 49 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 49 server 0 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 49 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76950 term 49 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 49 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 323 
------------------------------------------------------
flag 48650 term 49 leader 1 nextIndex[2]: 322  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321} {5105519153063525954 49 322} {6491761441638419 49 323} {1964365973796507054 49 324}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321} {5105519153063525954 49 322} {6491761441638419 49 323} {1964365973796507054 49 324}]
------------------------------------------------------
flag 28845 term 49 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 49 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 74307 term 49 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 49 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321} {5105519153063525954 49 322} {6491761441638419 49 323} {1964365973796507054 49 324}]
term 49 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321} {5105519153063525954 49 322} {6491761441638419 49 323} {1964365973796507054 49 324}]
------------------------------------------------------
flag 65825 term 49 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 49 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 77747 term 49 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 49 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321} {5105519153063525954 49 322} {6491761441638419 49 323} {1964365973796507054 49 324}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321} {5105519153063525954 49 322} {6491761441638419 49 323} {1964365973796507054 49 324}]
------------------------------------------------------
flag 66035 term 49 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 49 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 66189 term 49 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 49 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321} {5105519153063525954 49 322} {6491761441638419 49 323} {1964365973796507054 49 324}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321} {5105519153063525954 49 322} {6491761441638419 49 323} {1964365973796507054 49 324}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63326 term 49 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 49 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 81046 term 49 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 49 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321} {5105519153063525954 49 322} {6491761441638419 49 323} {1964365973796507054 49 324}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321} {5105519153063525954 49 322} {6491761441638419 49 323} {1964365973796507054 49 324}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75431 term 49 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 49 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 2552 term 49 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 49 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321} {5105519153063525954 49 322} {6491761441638419 49 323} {1964365973796507054 49 324}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321} {5105519153063525954 49 322} {6491761441638419 49 323} {1964365973796507054 49 324}]
------------------------------------------------------
flag 56178 term 49 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 49 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 62451 term 49 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 49 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321} {5105519153063525954 49 322} {6491761441638419 49 323} {1964365973796507054 49 324}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321} {5105519153063525954 49 322} {6491761441638419 49 323} {1964365973796507054 49 324}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6664922418172121763 (index 325) to leader 1
flag 23073 term 49 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 49 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 2811 term 49 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 49 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321} {5105519153063525954 49 322} {6491761441638419 49 323} {1964365973796507054 49 324} {6664922418172121763 49 325}]
------------------------------------------------------
flag 56673 term 49 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 49 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 9889 term 49 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 49 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321} {5105519153063525954 49 322} {6491761441638419 49 323} {1964365973796507054 49 324} {6664922418172121763 49 325}]
------------------------------------------------------
client write log 5587180543039357074 (index 326) to leader 1
client write log 3231889726250479376 (index 327) to leader 1
client write log 7753837077937135752 (index 328) to leader 1
client write log 344448550132130611 (index 329) to leader 1
client write log 4953753116923815040 (index 330) to leader 1
client write log 4055094322819677184 (index 331) to leader 1
flag 84027 term 49 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 49 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 16388 term 49 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 49 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 46 319} {7789968019928781531 46 320} {7789968019928781531 48 321} {5105519153063525954 49 322} {6491761441638419 49 323} {1964365973796507054 49 324} {6664922418172121763 49 325} {5587180543039357074 49 326} {3231889726250479376 49 327} {7753837077937135752 49 328} {344448550132130611 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331}]
------------------------------------------------------
term 49 Server1 start snapshot! index=329
term 49 server1 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=331
-------------------------------------------------------------
flag 88910 term 49 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331}]
------------------------------------------------------
term 49 Server0 start snapshot! index=329
term 49 server0 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=331
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4884955356202308195 (index 332) to leader 1
flag 49410 term 49 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 49
------------------------------------------------------
term 50 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 2 vote for server 1
term 51 server 1 get vote from server 2
term 51 server 1 become leader
------------------------------------------------------
term 51 server 0 vote for server 1
term 51 server 1 get outdate rpc reply from server 0
flag 95106 term 51 leader 1 nextIndex[0]: 333  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 82771 term 51 leader 1 nextIndex[2]: 333  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 333->332
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97822 term 51 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 325  matchIndex[2]: 0
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 49
------------------------------------------------------
term 51 server 2 InstallSnapshot success
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 49 rf.commitIndex 329 rf.lastApplied 329
term 51 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
flag 36854 term 51 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 54069 term 51 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 51 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25488 term 51 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 72383 term 51 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
flag 28948 term 51 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 71998 term 51 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
flag 14568 term 51 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 43029 term 51 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
flag 79529 term 51 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 29402 term 51 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38722 term 51 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 99097 term 51 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
flag 78277 term 51 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 35122 term 51 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
flag 59765 term 51 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 18019 term 51 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16369 term 51 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 19545 term 51 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
flag 43232 term 51 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 88550 term 51 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95074 term 51 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 94871 term 51 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
flag 92139 term 51 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 98742 term 51 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
flag 49863 term 51 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 25270 term 51 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90265 term 51 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 76803 term 51 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
flag 67304 term 51 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 75376 term 51 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8017 term 51 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 98810 term 51 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
flag 29823 term 51 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 10422 term 51 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332}]
------------------------------------------------------
client write log 4884955356202308195 (index 333) to leader 1
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41438 term 51 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 27392 term 51 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 51 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332} {4884955356202308195 51 333}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332} {4884955356202308195 51 333}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68550 term 51 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 51 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 5324 term 51 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332} {4884955356202308195 51 333}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332} {4884955356202308195 51 333}]
------------------------------------------------------
flag 84127 term 51 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 51 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 70158 term 51 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332} {4884955356202308195 51 333}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332} {4884955356202308195 51 333}]
------------------------------------------------------
flag 67070 term 51 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 51 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 45089 term 51 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332} {4884955356202308195 51 333}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332} {4884955356202308195 51 333}]
------------------------------------------------------
flag 14663 term 51 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 51 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 56099 term 51 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332} {4884955356202308195 51 333}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332} {4884955356202308195 51 333}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50125 term 51 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 51 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 82981 term 51 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332} {4884955356202308195 51 333}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332} {4884955356202308195 51 333}]
------------------------------------------------------
flag 55514 term 51 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 51 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 10516 term 51 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332} {4884955356202308195 51 333}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 49 329} {4953753116923815040 49 330} {4055094322819677184 49 331} {4884955356202308195 49 332} {4884955356202308195 51 333}]
------------------------------------------------------
  ... Passed --  82.1  3 1857  791687  333
--- PASS: TestSnapshotInstall2D (82.12s)
PASS
