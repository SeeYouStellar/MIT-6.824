=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 0 vote for server 1
term 1 server 1 get outdate rpc reply from server 0
flag 82977 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 42023 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 246166668953762715 (index 1) to leader 1
flag 63373 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 90280 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {246166668953762715 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {246166668953762715 1 1}]
------------------------------------------------------
flag 79653 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 30160 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {246166668953762715 1 1}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {246166668953762715 1 1}]
------------------------------------------------------
flag 44551 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 22491 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {246166668953762715 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {246166668953762715 1 1}]
------------------------------------------------------
flag 54960 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 62890 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {246166668953762715 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {246166668953762715 1 1}]
------------------------------------------------------
flag 25728 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 65543 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {246166668953762715 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {246166668953762715 1 1}]
------------------------------------------------------
flag 13405 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 18134 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {246166668953762715 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {246166668953762715 1 1}]
------------------------------------------------------
flag 4151 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 24113 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {246166668953762715 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {246166668953762715 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2431663473579927627 (index 2) to leader 1
flag 46838 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 53883 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {246166668953762715 1 1} {2431663473579927627 1 2}]
------------------------------------------------------
flag 69089 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 53572 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {246166668953762715 1 1} {2431663473579927627 1 2}]
------------------------------------------------------
client write log 1223320915989476881 (index 3) to leader 1
client write log 8035554765063235231 (index 4) to leader 1
client write log 1344866803607432066 (index 5) to leader 1
client write log 3491402843545655019 (index 6) to leader 1
client write log 2743464458156278374 (index 7) to leader 1
client write log 8392612290501939248 (index 8) to leader 1
client write log 5520089486318530402 (index 9) to leader 1
client write log 812696836276341534 (index 10) to leader 1
client write log 3454171379910638230 (index 11) to leader 1
client write log 7723998033275266682 (index 12) to leader 1
client write log 6760418245268740519 (index 13) to leader 1
client write log 4440609470949494869 (index 14) to leader 1
flag 29603 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 91095 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{<nil> 0 0} {246166668953762715 1 1} {2431663473579927627 1 2} {1223320915989476881 1 3} {8035554765063235231 1 4} {1344866803607432066 1 5} {3491402843545655019 1 6} {2743464458156278374 1 7} {8392612290501939248 1 8} {5520089486318530402 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=14
-------------------------------------------------------------
flag 44247 term 1 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 1 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=14
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7134148012535763447 (index 15) to leader 1
flag 68651 term 1 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 1 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 2 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 3 server 0 vote for server 1
term 3 server 2 vote for server 1
term 3 server 1 get vote from server 0
term 3 server 1 become leader
------------------------------------------------------
term 3 server 1 get outdate rpc reply from server 2
flag 51334 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 16248 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 16->15
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
flag 54617 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 4618 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 86172 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
term 3 server 1 not vote for server 2, 任期不够新
term 3 server 2 get outdate rpc reply from server 1
flag 9293 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 36147 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
flag 43357 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 74337 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
flag 8911 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 33964 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
flag 60703 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 1516 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
flag 56889 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 3192 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
flag 49474 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 39121 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
flag 78934 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 58110 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
flag 65328 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 63546 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
flag 96113 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 32232 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
flag 13980 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 29071 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
flag 2371 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 90480 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
flag 70476 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 14858 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64297 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 78531 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
flag 58528 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 7469 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
flag 11851 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 38508 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15}]
------------------------------------------------------
client write log 7134148012535763447 (index 16) to leader 1
flag 23615 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 77728 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16}]
------------------------------------------------------
flag 94210 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 50539 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16}]
------------------------------------------------------
flag 65018 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 51602 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16}]
------------------------------------------------------
flag 59542 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 3416 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16}]
------------------------------------------------------
flag 3395 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 15481 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16}]
------------------------------------------------------
flag 92607 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 31914 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 27160 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 13676 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 39189 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 36 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 19262 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 81195 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 36099 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 76627 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 vote for server 0
term 4 server 0 get vote from server 2
term 4 server 0 become leader
------------------------------------------------------
flag 77332 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 91352 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16}]
------------------------------------------------------
client write log 968306949238357394 (index 17) to leader 0
flag 76352 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 10203 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 41905 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 18613 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17}]
------------------------------------------------------
flag 75977 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 29726 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 49007 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 38576 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17}]
------------------------------------------------------
client write log 4563394514657499747 (index 18) to leader 0
flag 51207 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 63945 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 17->16
------------------------------------------------------
flag 34707 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 68500 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 16
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 34603 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 66739 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 2542 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5277697618140216625 (index 17) to leader 1
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 16
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 24304 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 4 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16953 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 92119 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
flag 34924 term 4 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 84713 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
term 4 server 0 not vote for server 2, 任期不够新
term 4 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 19->18
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 18
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 50914 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 18 args.LastIncludedIndex 9
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
flag 74870 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 81421 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35901 term 4 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 48746 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
flag 86803 term 4 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 91650 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
flag 39201 term 4 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 49297 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 19->18
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 18
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 26109 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 18 args.LastIncludedIndex 9
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7384 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 2956 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 10->9
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
flag 54043 term 4 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 30843 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
flag 81520 term 4 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 55502 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77399 term 4 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 60073 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 19->18
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 18
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 41265 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 18 args.LastIncludedIndex 9
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22021 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 97287 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
flag 2086 term 4 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 70316 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
flag 28208 term 4 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 59104 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
flag 33441 term 4 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 57768 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4752 term 4 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 15091 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
flag 18560 term 4 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 17232 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10201 term 4 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 55800 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18}]
------------------------------------------------------
client write log 5277697618140216625 (index 19) to leader 0
flag 49446 term 4 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 21835 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18} {5277697618140216625 4 19}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {812696836276341534 1 10} {3454171379910638230 1 11} {7723998033275266682 1 12} {6760418245268740519 1 13} {4440609470949494869 1 14} {7134148012535763447 1 15} {7134148012535763447 3 16} {968306949238357394 4 17} {4563394514657499747 4 18} {5277697618140216625 4 19}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 20->19
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 19
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 89190 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 InstallSnapshot success
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 59852 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 79242 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 98303 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 2238 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70654 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 89164 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88868 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 98040 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 34456 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 67716 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7823459067451371317 (index 20) to leader 0
flag 6483 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 76806 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {7823459067451371317 4 20}]
------------------------------------------------------
flag 59214 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 26655 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {7823459067451371317 4 20}]
------------------------------------------------------
client write log 998085789365765268 (index 21) to leader 0
client write log 6692943820403727858 (index 22) to leader 0
client write log 43267027917193540 (index 23) to leader 0
client write log 1285384116965379461 (index 24) to leader 0
client write log 993772852178113507 (index 25) to leader 0
client write log 6404203863043469387 (index 26) to leader 0
client write log 4337714436720792039 (index 27) to leader 0
client write log 5528965709416908426 (index 28) to leader 0
client write log 7449232746898187113 (index 29) to leader 0
flag 67373 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 15077 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 19} {7823459067451371317 4 20} {998085789365765268 4 21} {6692943820403727858 4 22} {43267027917193540 4 23} {1285384116965379461 4 24} {993772852178113507 4 25} {6404203863043469387 4 26} {4337714436720792039 4 27} {5528965709416908426 4 28} {7449232746898187113 4 29}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 29149 term 4 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3599802223085575293 (index 30) to leader 0
term 4 server 2 not vote for server 1, 日志不够新
term 4 server 0 not vote for server 1, 日志不够新
term 6 server 2 vote for server 0
term 6 server 1 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 0 get outdate rpc reply from server 1
flag 99075 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 76660 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 31->30
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 31->30
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 20  matchIndex[1]: 0
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 83012 term 6 leader 0 nextIndex[2]: 30  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
term 6 server 1 InstallSnapshot success
------------------------------------------------------
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14776 term 6 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 79620 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
------------------------------------------------------
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1761 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 87859 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
flag 39196 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 90038 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
flag 87724 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 12128 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
term 6 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98449 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 27654 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
flag 48178 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 25093 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
flag 65337 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 20477 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2847 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 64364 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
flag 9152 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 20044 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
flag 67078 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 53552 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25040 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 74310 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
flag 31374 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 68066 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94042 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 98684 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
flag 69022 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 77437 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
flag 95798 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 25737 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8161 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 63756 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
flag 74458 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 49058 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
flag 93760 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 14834 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3599802223085575293 4 30}]
------------------------------------------------------
client write log 3599802223085575293 (index 31) to leader 0
flag 39965 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 56850 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3599802223085575293 4 30} {3599802223085575293 6 31}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3599802223085575293 4 30} {3599802223085575293 6 31}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5608 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 69440 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3599802223085575293 4 30} {3599802223085575293 6 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3599802223085575293 4 30} {3599802223085575293 6 31}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 1 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 1
flag 8262 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 39373 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3599802223085575293 4 30} {3599802223085575293 6 31}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3599802223085575293 4 30} {3599802223085575293 6 31}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9400 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 84675 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3599802223085575293 4 30} {3599802223085575293 6 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3599802223085575293 4 30} {3599802223085575293 6 31}]
------------------------------------------------------
flag 45509 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 24333 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3599802223085575293 4 30} {3599802223085575293 6 31}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3599802223085575293 4 30} {3599802223085575293 6 31}]
------------------------------------------------------
flag 94721 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 47995 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3599802223085575293 4 30} {3599802223085575293 6 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3599802223085575293 4 30} {3599802223085575293 6 31}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7527790237473974043 (index 32) to leader 0
flag 76960 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 63077 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {3599802223085575293 4 30} {3599802223085575293 6 31} {7527790237473974043 6 32}]
------------------------------------------------------
flag 84216 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 80963 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {3599802223085575293 4 30} {3599802223085575293 6 31} {7527790237473974043 6 32}]
------------------------------------------------------
client write log 503599077830236519 (index 33) to leader 0
client write log 9174057778875125353 (index 34) to leader 0
client write log 1962753856694372225 (index 35) to leader 0
client write log 219902782168422570 (index 36) to leader 0
client write log 3652178467359730864 (index 37) to leader 0
client write log 5828702229283532964 (index 38) to leader 0
client write log 6384228499585912261 (index 39) to leader 0
client write log 5985651688483203808 (index 40) to leader 0
client write log 667102287709495263 (index 41) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34100 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 39880 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 29} {3599802223085575293 4 30} {3599802223085575293 6 31} {7527790237473974043 6 32} {503599077830236519 6 33} {9174057778875125353 6 34} {1962753856694372225 6 35} {219902782168422570 6 36} {3652178467359730864 6 37} {5828702229283532964 6 38} {6384228499585912261 6 39} {5985651688483203808 6 40} {667102287709495263 6 41}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=41
-------------------------------------------------------------
term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 50479 term 6 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 6 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=41
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7219299650229285458 (index 42) to leader 0
term 6 server 2 not vote for server 1, 日志不够新
term 6 server 0 not vote for server 1, 日志不够新
term 8 server 2 vote for server 0
term 8 server 1 vote for server 0
term 8 server 0 get vote from server 1
term 8 server 0 become leader
------------------------------------------------------
term 8 server 0 get outdate rpc reply from server 2
flag 30338 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 28563 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 43->42
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 43->42
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 32  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 45926 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4097 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 74875 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
flag 7331 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 11100 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
flag 78 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 71991 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
flag 99529 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 4237 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
flag 65298 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 22735 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
flag 77035 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 59845 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
flag 70822 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 25518 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
flag 30950 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 88517 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
flag 57485 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 36548 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
flag 37186 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 46825 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
flag 58172 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 51709 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
flag 94728 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 33019 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
flag 98246 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 61636 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
flag 79186 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 99808 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
flag 92145 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 69338 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
flag 98975 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 49070 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
flag 34764 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 60980 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
flag 23368 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 78577 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42}]
------------------------------------------------------
client write log 7219299650229285458 (index 43) to leader 0
flag 83920 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 14707 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42} {7219299650229285458 8 43}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42} {7219299650229285458 8 43}]
------------------------------------------------------
flag 94617 term 8 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 76606 term 8 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42} {7219299650229285458 8 43}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42} {7219299650229285458 8 43}]
------------------------------------------------------
flag 18608 term 8 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 6422 term 8 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42} {7219299650229285458 8 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42} {7219299650229285458 8 43}]
------------------------------------------------------
flag 61881 term 8 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 8193 term 8 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42} {7219299650229285458 8 43}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42} {7219299650229285458 8 43}]
------------------------------------------------------
flag 73626 term 8 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 80892 term 8 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42} {7219299650229285458 8 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42} {7219299650229285458 8 43}]
------------------------------------------------------
flag 22695 term 8 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 68568 term 8 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42} {7219299650229285458 8 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42} {7219299650229285458 8 43}]
------------------------------------------------------
flag 87849 term 8 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 52618 term 8 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42} {7219299650229285458 8 43}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42} {7219299650229285458 8 43}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 47248 term 8 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 21745 term 8 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 94555 term 8 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 4361 term 8 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91417 term 8 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 47065 term 8 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 vote for server 1
term 9 server 1 get vote from server 2
term 9 server 1 become leader
------------------------------------------------------
flag 55810 term 9 leader 1 nextIndex[0]: 44  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 75335 term 9 leader 1 nextIndex[2]: 44  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42} {7219299650229285458 8 43}]
------------------------------------------------------
client write log 5643502774147804581 (index 44) to leader 1
flag 38685 term 8 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 94319 term 8 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 54877 term 9 leader 1 nextIndex[0]: 44  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 52672 term 9 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42} {7219299650229285458 8 43} {5643502774147804581 9 44}]
------------------------------------------------------
flag 194 term 8 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 59214 term 8 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 19578 term 9 leader 1 nextIndex[0]: 44  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 17126 term 9 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42} {7219299650229285458 8 43} {5643502774147804581 9 44}]
------------------------------------------------------
client write log 5529066196296768515 (index 45) to leader 1
client write log 3467262726956507744 (index 46) to leader 1
client write log 9212067595845551239 (index 47) to leader 1
client write log 3919657651780642227 (index 48) to leader 1
client write log 2894624113180313794 (index 49) to leader 1
client write log 6745913293488036742 (index 50) to leader 1
client write log 5001665241814748342 (index 51) to leader 1
client write log 4821906408673746218 (index 52) to leader 1
client write log 2278088068608304774 (index 53) to leader 1
client write log 3721442244152780481 (index 54) to leader 1
client write log 3959228752389087003 (index 55) to leader 1
client write log 5782397909058727872 (index 56) to leader 1
flag 26802 term 8 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 50319 term 8 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 83460 term 9 leader 1 nextIndex[0]: 44  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 35395 term 9 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 39} {5985651688483203808 6 40} {667102287709495263 6 41} {7219299650229285458 6 42} {7219299650229285458 8 43} {5643502774147804581 9 44} {5529066196296768515 9 45} {3467262726956507744 9 46} {9212067595845551239 9 47} {3919657651780642227 9 48} {2894624113180313794 9 49} {6745913293488036742 9 50} {5001665241814748342 9 51} {4821906408673746218 9 52} {2278088068608304774 9 53} {3721442244152780481 9 54} {3959228752389087003 9 55} {5782397909058727872 9 56}]
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=56
-------------------------------------------------------------
flag 38847 term 8 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 94133 term 8 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 9 leader 1 nextIndex[0]: 44  matchIndex[0]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 77054 term 9 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 9 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {6745913293488036742 9 50} {5001665241814748342 9 51} {4821906408673746218 9 52} {2278088068608304774 9 53} {3721442244152780481 9 54} {3959228752389087003 9 55} {5782397909058727872 9 56}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=56
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3679636635613811266 (index 57) to leader 1
flag 70113 term 8 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 93440 term 8 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 9 server 1 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 1 nextIndex[0]: 44  matchIndex[0]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 71518 term 9 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 9 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 0 InstallSnapshot success
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {6745913293488036742 9 50} {5001665241814748342 9 51} {4821906408673746218 9 52} {2278088068608304774 9 53} {3721442244152780481 9 54} {3959228752389087003 9 55} {5782397909058727872 9 56} {3679636635613811266 9 57}]
------------------------------------------------------
term 9 server 0 not vote for server 1, 日志不够新
term 9 server 1 get outdate rpc reply from server 0
flag 3708 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 13049 term 9 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {6745913293488036742 9 50} {5001665241814748342 9 51} {4821906408673746218 9 52} {2278088068608304774 9 53} {3721442244152780481 9 54} {3959228752389087003 9 55} {5782397909058727872 9 56} {3679636635613811266 9 57}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {6745913293488036742 9 50} {5001665241814748342 9 51} {4821906408673746218 9 52} {2278088068608304774 9 53} {3721442244152780481 9 54} {3959228752389087003 9 55} {5782397909058727872 9 56} {3679636635613811266 9 57}]
------------------------------------------------------
flag 18412 term 9 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 86152 term 9 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {6745913293488036742 9 50} {5001665241814748342 9 51} {4821906408673746218 9 52} {2278088068608304774 9 53} {3721442244152780481 9 54} {3959228752389087003 9 55} {5782397909058727872 9 56} {3679636635613811266 9 57}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {6745913293488036742 9 50} {5001665241814748342 9 51} {4821906408673746218 9 52} {2278088068608304774 9 53} {3721442244152780481 9 54} {3959228752389087003 9 55} {5782397909058727872 9 56} {3679636635613811266 9 57}]
------------------------------------------------------
flag 73892 term 9 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 3792 term 9 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {6745913293488036742 9 50} {5001665241814748342 9 51} {4821906408673746218 9 52} {2278088068608304774 9 53} {3721442244152780481 9 54} {3959228752389087003 9 55} {5782397909058727872 9 56} {3679636635613811266 9 57}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {6745913293488036742 9 50} {5001665241814748342 9 51} {4821906408673746218 9 52} {2278088068608304774 9 53} {3721442244152780481 9 54} {3959228752389087003 9 55} {5782397909058727872 9 56} {3679636635613811266 9 57}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19494 term 9 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 2941 term 9 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {6745913293488036742 9 50} {5001665241814748342 9 51} {4821906408673746218 9 52} {2278088068608304774 9 53} {3721442244152780481 9 54} {3959228752389087003 9 55} {5782397909058727872 9 56} {3679636635613811266 9 57}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {6745913293488036742 9 50} {5001665241814748342 9 51} {4821906408673746218 9 52} {2278088068608304774 9 53} {3721442244152780481 9 54} {3959228752389087003 9 55} {5782397909058727872 9 56} {3679636635613811266 9 57}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 58->57
------------------------------------------------------
term 9 leader 1 nextIndex[0]: 0  matchIndex[0]: 57
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 7478 term 9 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {6745913293488036742 9 50} {5001665241814748342 9 51} {4821906408673746218 9 52} {2278088068608304774 9 53} {3721442244152780481 9 54} {3959228752389087003 9 55} {5782397909058727872 9 56} {3679636635613811266 9 57}]
------------------------------------------------------
term 9 server 0 InstallSnapshot fail
rf.commitIndex 57 args.LastIncludedIndex 49
------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
flag 90757 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 82780 term 9 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {6745913293488036742 9 50} {5001665241814748342 9 51} {4821906408673746218 9 52} {2278088068608304774 9 53} {3721442244152780481 9 54} {3959228752389087003 9 55} {5782397909058727872 9 56} {3679636635613811266 9 57}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {6745913293488036742 9 50} {5001665241814748342 9 51} {4821906408673746218 9 52} {2278088068608304774 9 53} {3721442244152780481 9 54} {3959228752389087003 9 55} {5782397909058727872 9 56} {3679636635613811266 9 57}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3474 term 9 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 74024 term 9 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {6745913293488036742 9 50} {5001665241814748342 9 51} {4821906408673746218 9 52} {2278088068608304774 9 53} {3721442244152780481 9 54} {3959228752389087003 9 55} {5782397909058727872 9 56} {3679636635613811266 9 57}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {6745913293488036742 9 50} {5001665241814748342 9 51} {4821906408673746218 9 52} {2278088068608304774 9 53} {3721442244152780481 9 54} {3959228752389087003 9 55} {5782397909058727872 9 56} {3679636635613811266 9 57}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7064874958019431031 (index 58) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 58->57
------------------------------------------------------
term 9 leader 1 nextIndex[0]: 0  matchIndex[0]: 57
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 19240 term 9 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 0 InstallSnapshot fail
rf.commitIndex 57 args.LastIncludedIndex 49
------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18837 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 13877 term 9 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {6745913293488036742 9 50} {5001665241814748342 9 51} {4821906408673746218 9 52} {2278088068608304774 9 53} {3721442244152780481 9 54} {3959228752389087003 9 55} {5782397909058727872 9 56} {3679636635613811266 9 57} {7064874958019431031 9 58}]
------------------------------------------------------
flag 3806 term 9 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 38256 term 9 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {6745913293488036742 9 50} {5001665241814748342 9 51} {4821906408673746218 9 52} {2278088068608304774 9 53} {3721442244152780481 9 54} {3959228752389087003 9 55} {5782397909058727872 9 56} {3679636635613811266 9 57} {7064874958019431031 9 58}]
------------------------------------------------------
client write log 856395371617417554 (index 59) to leader 1
client write log 8226999730263322638 (index 60) to leader 1
client write log 6513627268225288096 (index 61) to leader 1
client write log 6759944581202490370 (index 62) to leader 1
client write log 6999839479446576455 (index 63) to leader 1
client write log 7014262495685303734 (index 64) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 59->58
------------------------------------------------------
term 9 leader 1 nextIndex[0]: 0  matchIndex[0]: 58
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 42650 term 9 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 0 InstallSnapshot fail
rf.commitIndex 58 args.LastIncludedIndex 49
------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53354 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 62946 term 9 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 49} {6745913293488036742 9 50} {5001665241814748342 9 51} {4821906408673746218 9 52} {2278088068608304774 9 53} {3721442244152780481 9 54} {3959228752389087003 9 55} {5782397909058727872 9 56} {3679636635613811266 9 57} {7064874958019431031 9 58} {856395371617417554 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=64
-------------------------------------------------------------
flag 87047 term 9 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64}]
------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=64
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1525179015590529075 (index 65) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 58->57
------------------------------------------------------
flag 11162 term 9 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 57
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 10 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 server 1 not vote for server 2, 日志不够新
term 9 server 0 not vote for server 2, 日志不够新
term 12 server 2 vote for server 1
term 12 server 0 vote for server 1
term 12 server 1 get vote from server 2
term 12 server 1 become leader
------------------------------------------------------
term 12 server 1 get outdate rpc reply from server 0
flag 947 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 23932 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 12 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 66->65
------------------------------------------------------
flag 51414 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 12 leader 1 nextIndex[2]: 58  matchIndex[2]: 0
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 12 server 2 InstallSnapshot success
------------------------------------------------------
term 12 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
term 12 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96067 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 35823 term 12 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 12 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93351 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 31026 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
flag 94316 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 89602 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
flag 3932 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 86874 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
flag 17452 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 23361 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81123 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 93931 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
term 12 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
flag 43459 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 5729 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83019 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 14472 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
term 12 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85534 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 66464 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
flag 464 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 78450 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
flag 63249 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 90254 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30437 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 15366 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
flag 58665 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 16420 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
flag 33512 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 36198 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
flag 25793 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 67423 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
flag 19362 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 64494 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
flag 2617 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 1908 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65}]
------------------------------------------------------
client write log 1525179015590529075 (index 66) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27686 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 24904 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65} {1525179015590529075 12 66}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65} {1525179015590529075 12 66}]
------------------------------------------------------
flag 72117 term 12 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 12 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 66 
------------------------------------------------------
flag 78514 term 12 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 12 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 66 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65} {1525179015590529075 12 66}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65} {1525179015590529075 12 66}]
------------------------------------------------------
term 12 server 1 not vote for server 2, 任期不够新
term 12 server 2 get outdate rpc reply from server 1
flag 96964 term 12 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 12 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 66 
------------------------------------------------------
flag 85983 term 12 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 12 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 66 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65} {1525179015590529075 12 66}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65} {1525179015590529075 12 66}]
------------------------------------------------------
flag 30136 term 12 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 12 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 66 
------------------------------------------------------
flag 16812 term 12 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 12 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65} {1525179015590529075 12 66}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65} {1525179015590529075 12 66}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22795 term 12 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 12 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 66 
------------------------------------------------------
flag 60208 term 12 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 12 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65} {1525179015590529075 12 66}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65} {1525179015590529075 12 66}]
------------------------------------------------------
flag 86851 term 12 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 12 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 66 
------------------------------------------------------
flag 26984 term 12 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 12 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 66 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65} {1525179015590529075 12 66}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65} {1525179015590529075 12 66}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 297676652346945213 (index 67) to leader 1
flag 77420 term 12 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 12 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 66 
------------------------------------------------------
flag 41598 term 12 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 12 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 66 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65} {1525179015590529075 12 66} {297676652346945213 12 67}]
------------------------------------------------------
flag 20463 term 12 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 12 leaderCommit: 67 
------------------------------------------------------
flag 55956 term 12 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 12 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 67 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65} {1525179015590529075 12 66} {297676652346945213 12 67}]
------------------------------------------------------
client write log 2759676618761702903 (index 68) to leader 1
client write log 5538183333846471750 (index 69) to leader 1
client write log 5573203169965407852 (index 70) to leader 1
client write log 7055686979405314793 (index 71) to leader 1
client write log 3670272990614639418 (index 72) to leader 1
client write log 5190669288577225760 (index 73) to leader 1
client write log 8375295119997247016 (index 74) to leader 1
client write log 2114580028819854792 (index 75) to leader 1
client write log 556236008182059873 (index 76) to leader 1
client write log 2353235246142590791 (index 77) to leader 1
client write log 4894659019701471654 (index 78) to leader 1
client write log 4711029679299796774 (index 79) to leader 1
flag 14342 term 12 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 12 leaderCommit: 67 
------------------------------------------------------
flag 95819 term 12 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 12 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 67 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 9 59} {8226999730263322638 9 60} {6513627268225288096 9 61} {6759944581202490370 9 62} {6999839479446576455 9 63} {7014262495685303734 9 64} {1525179015590529075 9 65} {1525179015590529075 12 66} {297676652346945213 12 67} {2759676618761702903 12 68} {5538183333846471750 12 69} {5573203169965407852 12 70} {7055686979405314793 12 71} {3670272990614639418 12 72} {5190669288577225760 12 73} {8375295119997247016 12 74} {2114580028819854792 12 75} {556236008182059873 12 76} {2353235246142590791 12 77} {4894659019701471654 12 78} {4711029679299796774 12 79}]
------------------------------------------------------
term 12 Server1 start snapshot! index=69
term 12 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=79
-------------------------------------------------------------
term 12 Server1 start snapshot! index=79
term 12 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70525 term 12 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 12 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 12 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 12 79}]
------------------------------------------------------
term 12 Server0 start snapshot! index=69
term 12 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=79
-------------------------------------------------------------
term 12 Server0 start snapshot! index=79
term 12 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4010590112645747827 (index 80) to leader 1
term 12 server 1 not vote for server 2, 日志不够新
term 12 server 0 not vote for server 2, 日志不够新
term 14 server 2 vote for server 1
term 14 server 0 vote for server 1
term 14 server 1 get vote from server 2
term 14 server 1 become leader
------------------------------------------------------
term 14 server 1 get outdate rpc reply from server 0
flag 51936 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 12831 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 81->80
------------------------------------------------------
term 14 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 81->80
------------------------------------------------------
flag 26163 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 67  matchIndex[2]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
term 14 server 2 InstallSnapshot success
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 12 rf.commitIndex 79 rf.lastApplied 79
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
flag 55436 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 41000 term 14 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
flag 46594 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 52172 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
flag 95134 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 17370 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39246 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 32823 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
flag 14915 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 58058 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96454 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 65267 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
flag 86321 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 87334 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
flag 17426 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 57330 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75378 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 23753 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
flag 86972 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 4692 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
flag 47778 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 90445 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
flag 50236 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 25730 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
flag 79127 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 59528 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
flag 51592 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 95250 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47135 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 89967 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
flag 95637 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 55874 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
flag 25324 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 50749 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
flag 14526 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 66895 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {4010590112645747827 12 80}]
------------------------------------------------------
client write log 4010590112645747827 (index 81) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60978 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 50314 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81}]
------------------------------------------------------
flag 12384 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 70562 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81}]
------------------------------------------------------
flag 65103 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 46694 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81}]
------------------------------------------------------
term 14 server 0 not vote for server 2, 任期不够新
term 14 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36142 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 68769 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81}]
------------------------------------------------------
flag 77546 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 7508 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18902 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 67037 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81}]
------------------------------------------------------
flag 18748 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 8443 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 83855 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 73676 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 87736 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 76211 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18874 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 59753 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 14336 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 41100 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 15 server 2 vote for server 0
term 15 server 0 get vote from server 2
term 15 server 0 become leader
------------------------------------------------------
flag 4400 term 15 leader 0 nextIndex[1]: 82  matchIndex[1]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 70407 term 15 leader 0 nextIndex[2]: 82  matchIndex[2]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81}]
------------------------------------------------------
client write log 1190854846786046608 (index 82) to leader 0
flag 72931 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 54448 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 9749 term 15 leader 0 nextIndex[1]: 82  matchIndex[1]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 31184 term 15 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 15 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82}]
------------------------------------------------------
flag 73873 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 83993 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 30040 term 15 leader 0 nextIndex[1]: 82  matchIndex[1]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 33493 term 15 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 15 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 82 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82}]
------------------------------------------------------
client write log 2258111611725376088 (index 83) to leader 0
flag 12506 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 97721 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 17197 term 15 leader 0 nextIndex[1]: 82  matchIndex[1]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 43190 term 15 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 15 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 82 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
flag 48143 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 61231 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 79032 term 15 leader 0 nextIndex[1]: 82  matchIndex[1]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 8870 term 15 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
!!!!!!connect server 1
client write log 1176094793202760778 (index 82) to leader 1
flag 97854 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 89899 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 15 server 2 AppendEntries false 领导者任期过期 args.Term 14
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 15 server 0 AppendEntries false 领导者任期过期 args.Term 14
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17470 term 15 leader 0 nextIndex[1]: 82  matchIndex[1]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 42385 term 15 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41551 term 15 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 69904 term 15 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
flag 22495 term 15 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 87864 term 15 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
term 15 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36401 term 15 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 39837 term 15 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 84->83
------------------------------------------------------
term 15 leader 0 nextIndex[1]: 0  matchIndex[1]: 83
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
term 15 server 1 InstallSnapshot fail
rf.commitIndex 83 args.LastIncludedIndex 79
------------------------------------------------------
flag 22458 term 15 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40754 term 15 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 15 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
flag 37644 term 15 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
flag 84193 term 15 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 5862 term 15 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60736 term 15 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 49951 term 15 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
flag 48710 term 15 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 8321 term 15 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
flag 55292 term 15 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 83101 term 15 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
flag 25010 term 15 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 47334 term 15 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
flag 38001 term 15 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 71274 term 15 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84154 term 15 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 49802 term 15 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
flag 67579 term 15 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 7349 term 15 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 84->83
------------------------------------------------------
term 15 leader 0 nextIndex[1]: 0  matchIndex[1]: 83
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 4711 term 15 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 15 server 1 InstallSnapshot fail
rf.commitIndex 83 args.LastIncludedIndex 79
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
flag 64588 term 15 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 15 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
flag 39603 term 15 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
flag 17338 term 15 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 87109 term 15 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 84->83
------------------------------------------------------
term 15 leader 0 nextIndex[1]: 0  matchIndex[1]: 83
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 37507 term 15 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
term 15 server 1 InstallSnapshot fail
rf.commitIndex 83 args.LastIncludedIndex 79
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
flag 43332 term 15 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 15 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
flag 47916 term 15 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46398 term 15 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 21469 term 15 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83}]
------------------------------------------------------
client write log 1176094793202760778 (index 84) to leader 0
flag 28362 term 15 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 730 term 15 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83} {1176094793202760778 15 84}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83} {1176094793202760778 15 84}]
------------------------------------------------------
flag 7003 term 15 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
flag 78116 term 15 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 15 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83} {1176094793202760778 15 84}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83} {1176094793202760778 15 84}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 85->84
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 leader 0 nextIndex[1]: 0  matchIndex[1]: 84
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 31917 term 15 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 15 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
term 15 server 1 InstallSnapshot fail
rf.commitIndex 84 args.LastIncludedIndex 79
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83} {1176094793202760778 15 84}]
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
flag 12721 term 15 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 15 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 82001 term 15 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 15 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83} {1176094793202760778 15 84}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83} {1176094793202760778 15 84}]
------------------------------------------------------
flag 13795 term 15 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
flag 46702 term 15 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 15 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83} {1176094793202760778 15 84}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83} {1176094793202760778 15 84}]
------------------------------------------------------
flag 93546 term 15 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
flag 70277 term 15 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 15 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83} {1176094793202760778 15 84}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83} {1176094793202760778 15 84}]
------------------------------------------------------
flag 78222 term 15 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
flag 34898 term 15 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 15 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83} {1176094793202760778 15 84}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83} {1176094793202760778 15 84}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1333792849850353467 (index 85) to leader 0
flag 13608 term 15 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
flag 9061 term 15 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 15 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83} {1176094793202760778 15 84} {1333792849850353467 15 85}]
------------------------------------------------------
flag 41322 term 15 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
flag 85192 term 15 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 15 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83} {1176094793202760778 15 84} {1333792849850353467 15 85}]
------------------------------------------------------
client write log 205708997353240800 (index 86) to leader 0
client write log 7846222944021851295 (index 87) to leader 0
client write log 8787514073360529767 (index 88) to leader 0
client write log 2943490490125579817 (index 89) to leader 0
client write log 1614688590561338035 (index 90) to leader 0
client write log 7383674651982822990 (index 91) to leader 0
flag 58042 term 15 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
flag 7060 term 15 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 15 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 12 79} {4010590112645747827 12 80} {4010590112645747827 14 81} {1190854846786046608 15 82} {2258111611725376088 15 83} {1176094793202760778 15 84} {1333792849850353467 15 85} {205708997353240800 15 86} {7846222944021851295 15 87} {8787514073360529767 15 88} {2943490490125579817 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91}]
------------------------------------------------------
term 15 Server0 start snapshot! index=89
term 15 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=91
-------------------------------------------------------------
term 15 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 15
------------------------------------------------------
flag 52726 term 15 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 15 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91}]
------------------------------------------------------
term 15 Server2 start snapshot! index=89
term 15 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=91
-------------------------------------------------------------
!!!!!!connect server 1
client write log 754903498408641866 (index 92) to leader 0
term 15 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 15
------------------------------------------------------
flag 91723 term 15 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 15 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 server 2 vote for server 0
term 17 server 0 get vote from server 2
term 17 server 1 vote for server 0
term 17 server 0 become leader
------------------------------------------------------
term 17 server 0 get outdate rpc reply from server 1
flag 41392 term 17 leader 0 nextIndex[1]: 93  matchIndex[1]: 0
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 59299 term 17 leader 0 nextIndex[2]: 93  matchIndex[2]: 0
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
term 17 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 93->92
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 leader 0 nextIndex[1]: 85  matchIndex[1]: 0
term 17 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 15
------------------------------------------------------
flag 39502 term 17 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
term 17 server 1 InstallSnapshot success
------------------------------------------------------
term 17 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 15 rf.commitIndex 89 rf.lastApplied 89
flag 81299 term 17 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 75575 term 17 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9053 term 17 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 37961 term 17 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
flag 3963 term 17 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 88641 term 17 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
flag 33155 term 17 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 18218 term 17 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34298 term 17 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 9185 term 17 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
flag 77817 term 17 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 97560 term 17 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36258 term 17 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 84251 term 17 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
flag 73410 term 17 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 19293 term 17 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
flag 81094 term 17 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 55436 term 17 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
flag 19244 term 17 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 40028 term 17 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
flag 26373 term 17 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 24190 term 17 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
flag 3789 term 17 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 41013 term 17 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
flag 7371 term 17 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 21442 term 17 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 17 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
update nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
term 17 server 2 not vote for server 1, 任期不够新
term 17 server 1 get outdate rpc reply from server 2
term 17 server 0 not vote for server 1, 任期不够新
term 17 server 1 get outdate rpc reply from server 0
flag 77740 term 17 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 66723 term 17 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38480 term 17 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 84163 term 17 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
flag 83884 term 17 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 60836 term 17 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
flag 83914 term 17 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 41051 term 17 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92}]
------------------------------------------------------
client write log 754903498408641866 (index 93) to leader 0
flag 14721 term 17 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 12799 term 17 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92} {754903498408641866 17 93}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92} {754903498408641866 17 93}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24088 term 17 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 62029 term 17 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 17 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92} {754903498408641866 17 93}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92} {754903498408641866 17 93}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14148 term 17 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 92847 term 17 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 17 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92} {754903498408641866 17 93}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92} {754903498408641866 17 93}]
------------------------------------------------------
term 17 server 1 not vote for server 0, 任期不够新
term 17 server 0 get outdate rpc reply from server 1
flag 64699 term 17 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 87869 term 17 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 17 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92} {754903498408641866 17 93}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92} {754903498408641866 17 93}]
------------------------------------------------------
flag 63814 term 17 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 44565 term 17 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 17 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92} {754903498408641866 17 93}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92} {754903498408641866 17 93}]
------------------------------------------------------
flag 40913 term 17 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 21051 term 17 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 17 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92} {754903498408641866 17 93}]
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92} {754903498408641866 17 93}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2759116477296011579 (index 94) to leader 0
flag 50979 term 17 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 78090 term 17 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 17 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92} {754903498408641866 17 93} {2759116477296011579 17 94}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9424 term 17 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 24250 term 17 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 17 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92} {754903498408641866 17 93} {2759116477296011579 17 94}]
------------------------------------------------------
client write log 7342506964972501259 (index 95) to leader 0
client write log 1408986108675671407 (index 96) to leader 0
client write log 8988334276151462697 (index 97) to leader 0
client write log 6218220383061135059 (index 98) to leader 0
client write log 5847086496865877263 (index 99) to leader 0
client write log 6604989544419500931 (index 100) to leader 0
client write log 6584763964136484147 (index 101) to leader 0
client write log 1414743598210494003 (index 102) to leader 0
client write log 5062550241788844697 (index 103) to leader 0
client write log 1799154159286613042 (index 104) to leader 0
client write log 7838522924651450305 (index 105) to leader 0
client write log 8740667703276515326 (index 106) to leader 0
client write log 7634851493199521894 (index 107) to leader 0
client write log 2669681197399291209 (index 108) to leader 0
client write log 1802490568413125784 (index 109) to leader 0
flag 7574 term 17 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 1799 term 17 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 17 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 15 89} {1614688590561338035 15 90} {7383674651982822990 15 91} {754903498408641866 15 92} {754903498408641866 17 93} {2759116477296011579 17 94} {7342506964972501259 17 95} {1408986108675671407 17 96} {8988334276151462697 17 97} {6218220383061135059 17 98} {5847086496865877263 17 99} {6604989544419500931 17 100} {6584763964136484147 17 101} {1414743598210494003 17 102} {5062550241788844697 17 103} {1799154159286613042 17 104} {7838522924651450305 17 105} {8740667703276515326 17 106} {7634851493199521894 17 107} {2669681197399291209 17 108} {1802490568413125784 17 109}]
------------------------------------------------------
term 17 Server0 start snapshot! index=99
term 17 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=109
-------------------------------------------------------------
term 17 Server0 start snapshot! index=109
term 17 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
term 17 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 25763 term 17 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 17 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 17 109}]
------------------------------------------------------
term 17 Server2 start snapshot! index=99
term 17 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=109
-------------------------------------------------------------
term 17 Server2 start snapshot! index=109
term 17 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5575501124497937933 (index 110) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 15997 term 17 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 17 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 17 109} {5575501124497937933 17 110}]
------------------------------------------------------
term 18 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 17 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 server 2 vote for server 0
term 19 server 0 get vote from server 2
term 19 server 0 become leader
------------------------------------------------------
term 19 server 1 vote for server 0
term 19 server 0 get outdate rpc reply from server 1
flag 31465 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
flag 30766 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
term 19 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 111->110
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 17 109} {5575501124497937933 17 110}]
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 94  matchIndex[1]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 76802 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 17 109} {5575501124497937933 17 110}]
------------------------------------------------------
term 19 server 1 InstallSnapshot success
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 17 rf.commitIndex 109 rf.lastApplied 109
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14876 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
flag 67850 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 17 109} {5575501124497937933 17 110}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 17 109} {5575501124497937933 17 110}]
------------------------------------------------------
flag 15686 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
flag 86574 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 17 109} {5575501124497937933 17 110}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 17 109} {5575501124497937933 17 110}]
------------------------------------------------------
flag 15845 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
flag 51041 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 17 109} {5575501124497937933 17 110}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 17 109} {5575501124497937933 17 110}]
------------------------------------------------------
flag 24148 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
flag 59436 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 17 109} {5575501124497937933 17 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 17 109} {5575501124497937933 17 110}]
------------------------------------------------------
flag 37557 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
flag 65978 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 17 109} {5575501124497937933 17 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 17 109} {5575501124497937933 17 110}]
------------------------------------------------------
flag 53202 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
flag 96804 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 17 109} {5575501124497937933 17 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 17 109} {5575501124497937933 17 110}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 45382 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
flag 7978 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
flag 93383 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
flag 4205 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
flag 13083 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
flag 75984 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
term 20 server 1 vote for server 2
term 20 server 2 get vote from server 1
term 20 server 2 become leader
------------------------------------------------------
flag 89515 term 20 leader 2 nextIndex[0]: 111  matchIndex[0]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
flag 62155 term 20 leader 2 nextIndex[1]: 111  matchIndex[1]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 17 109} {5575501124497937933 17 110}]
------------------------------------------------------
client write log 4142685558675915875 (index 111) to leader 2
flag 1280 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
flag 20382 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79059 term 20 leader 2 nextIndex[0]: 111  matchIndex[0]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
flag 43193 term 20 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 20 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {5575501124497937933 17 110} {4142685558675915875 20 111}]
------------------------------------------------------
flag 20752 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
flag 6778 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
flag 35112 term 20 leader 2 nextIndex[0]: 111  matchIndex[0]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
flag 88957 term 20 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 20 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {5575501124497937933 17 110} {4142685558675915875 20 111}]
------------------------------------------------------
client write log 203147257366266 (index 112) to leader 2
flag 58799 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
flag 16097 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
flag 82021 term 20 leader 2 nextIndex[0]: 111  matchIndex[0]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
flag 94537 term 20 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 20 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {5575501124497937933 17 110} {4142685558675915875 20 111} {203147257366266 20 112}]
------------------------------------------------------
flag 53509 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
flag 68116 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
flag 24146 term 20 leader 2 nextIndex[0]: 111  matchIndex[0]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 91166 term 20 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 20 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {5575501124497937933 17 110} {4142685558675915875 20 111} {203147257366266 20 112}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6542377935843833094 (index 113) to leader 2
flag 57641 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
flag 93650 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
term 20 server 2 AppendEntries false 领导者任期过期 args.Term 19
------------------------------------------------------
term 20 server 1 AppendEntries false 领导者任期过期 args.Term 19
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89247 term 20 leader 2 nextIndex[0]: 111  matchIndex[0]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 77420 term 20 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 20 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5575501124497937933 17 110} {4142685558675915875 20 111} {203147257366266 20 112} {6542377935843833094 20 113}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5575501124497937933 17 110} {4142685558675915875 20 111} {203147257366266 20 112} {6542377935843833094 20 113}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78936 term 20 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 113 
------------------------------------------------------
flag 38572 term 20 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 20 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5575501124497937933 17 110} {4142685558675915875 20 111} {203147257366266 20 112} {6542377935843833094 20 113}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5575501124497937933 17 110} {4142685558675915875 20 111} {203147257366266 20 112} {6542377935843833094 20 113}]
------------------------------------------------------
term 20 server 0 not vote for server 1, 任期不够新
term 20 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87575 term 20 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 113 
------------------------------------------------------
flag 41201 term 20 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 20 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5575501124497937933 17 110} {4142685558675915875 20 111} {203147257366266 20 112} {6542377935843833094 20 113}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5575501124497937933 17 110} {4142685558675915875 20 111} {203147257366266 20 112} {6542377935843833094 20 113}]
------------------------------------------------------
flag 98508 term 20 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 113 
------------------------------------------------------
flag 26453 term 20 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 20 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5575501124497937933 17 110} {4142685558675915875 20 111} {203147257366266 20 112} {6542377935843833094 20 113}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5575501124497937933 17 110} {4142685558675915875 20 111} {203147257366266 20 112} {6542377935843833094 20 113}]
------------------------------------------------------
flag 25495 term 20 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 113 
------------------------------------------------------
flag 74303 term 20 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 20 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5575501124497937933 17 110} {4142685558675915875 20 111} {203147257366266 20 112} {6542377935843833094 20 113}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5575501124497937933 17 110} {4142685558675915875 20 111} {203147257366266 20 112} {6542377935843833094 20 113}]
------------------------------------------------------
flag 71779 term 20 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 113 
------------------------------------------------------
flag 22281 term 20 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 20 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5575501124497937933 17 110} {4142685558675915875 20 111} {203147257366266 20 112} {6542377935843833094 20 113}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5575501124497937933 17 110} {4142685558675915875 20 111} {203147257366266 20 112} {6542377935843833094 20 113}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7409309277705621187 (index 114) to leader 2
flag 37692 term 20 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 113 
------------------------------------------------------
flag 7786 term 20 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 20 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {5575501124497937933 17 110} {4142685558675915875 20 111} {203147257366266 20 112} {6542377935843833094 20 113} {7409309277705621187 20 114}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77009 term 20 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 52382 term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {5575501124497937933 17 110} {4142685558675915875 20 111} {203147257366266 20 112} {6542377935843833094 20 113} {7409309277705621187 20 114}]
------------------------------------------------------
client write log 5956649537884163193 (index 115) to leader 2
client write log 8698270177314793327 (index 116) to leader 2
client write log 8725579230588893007 (index 117) to leader 2
client write log 3113923528632758169 (index 118) to leader 2
client write log 8539162392115838056 (index 119) to leader 2
client write log 2421650486377801758 (index 120) to leader 2
client write log 4867775460699131666 (index 121) to leader 2
client write log 1707403787696718442 (index 122) to leader 2
client write log 7133045286344983096 (index 123) to leader 2
client write log 2359058741553532773 (index 124) to leader 2
client write log 7170976202889384167 (index 125) to leader 2
client write log 8422064097108903303 (index 126) to leader 2
client write log 2071293438883951529 (index 127) to leader 2
flag 71528 term 20 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 52015 term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 17 109} {5575501124497937933 17 110} {4142685558675915875 20 111} {203147257366266 20 112} {6542377935843833094 20 113} {7409309277705621187 20 114} {5956649537884163193 20 115} {8698270177314793327 20 116} {8725579230588893007 20 117} {3113923528632758169 20 118} {8539162392115838056 20 119} {2421650486377801758 20 120} {4867775460699131666 20 121} {1707403787696718442 20 122} {7133045286344983096 20 123} {2359058741553532773 20 124} {7170976202889384167 20 125} {8422064097108903303 20 126} {2071293438883951529 20 127}]
------------------------------------------------------
term 20 Server2 start snapshot! index=119
term 20 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=127
-------------------------------------------------------------
term 20 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
flag 49533 term 20 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 20 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 20 119} {2421650486377801758 20 120} {4867775460699131666 20 121} {1707403787696718442 20 122} {7133045286344983096 20 123} {2359058741553532773 20 124} {7170976202889384167 20 125} {8422064097108903303 20 126} {2071293438883951529 20 127}]
------------------------------------------------------
term 20 Server1 start snapshot! index=119
term 20 server1 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=127
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4515327017138971392 (index 128) to leader 2
term 20 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
flag 74741 term 20 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 20 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2421650486377801758 20 120} {4867775460699131666 20 121} {1707403787696718442 20 122} {7133045286344983096 20 123} {2359058741553532773 20 124} {7170976202889384167 20 125} {8422064097108903303 20 126} {2071293438883951529 20 127} {4515327017138971392 20 128}]
------------------------------------------------------
term 21 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 22 server 1 vote for server 2
term 22 server 0 vote for server 2
term 22 server 2 get vote from server 1
term 22 server 2 become leader
------------------------------------------------------
term 22 server 2 get outdate rpc reply from server 0
flag 93758 term 22 leader 2 nextIndex[0]: 129  matchIndex[0]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 75528 term 22 leader 2 nextIndex[1]: 129  matchIndex[1]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2421650486377801758 20 120} {4867775460699131666 20 121} {1707403787696718442 20 122} {7133045286344983096 20 123} {2359058741553532773 20 124} {7170976202889384167 20 125} {8422064097108903303 20 126} {2071293438883951529 20 127} {4515327017138971392 20 128}]
------------------------------------------------------
term 22 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 129->128
------------------------------------------------------
term 22 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 22 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 0
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
flag 96499 term 22 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
term 22 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2421650486377801758 20 120} {4867775460699131666 20 121} {1707403787696718442 20 122} {7133045286344983096 20 123} {2359058741553532773 20 124} {7170976202889384167 20 125} {8422064097108903303 20 126} {2071293438883951529 20 127} {4515327017138971392 20 128}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 20 rf.commitIndex 119 rf.lastApplied 119
term 22 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 120 matchIndex[0] 119 
------------------------------------------------------------------------
flag 41603 term 22 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 22 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 36327 term 22 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2421650486377801758 20 120} {4867775460699131666 20 121} {1707403787696718442 20 122} {7133045286344983096 20 123} {2359058741553532773 20 124} {7170976202889384167 20 125} {8422064097108903303 20 126} {2071293438883951529 20 127} {4515327017138971392 20 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2421650486377801758 20 120} {4867775460699131666 20 121} {1707403787696718442 20 122} {7133045286344983096 20 123} {2359058741553532773 20 124} {7170976202889384167 20 125} {8422064097108903303 20 126} {2071293438883951529 20 127} {4515327017138971392 20 128}]
------------------------------------------------------
flag 87818 term 22 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 42465 term 22 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2421650486377801758 20 120} {4867775460699131666 20 121} {1707403787696718442 20 122} {7133045286344983096 20 123} {2359058741553532773 20 124} {7170976202889384167 20 125} {8422064097108903303 20 126} {2071293438883951529 20 127} {4515327017138971392 20 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2421650486377801758 20 120} {4867775460699131666 20 121} {1707403787696718442 20 122} {7133045286344983096 20 123} {2359058741553532773 20 124} {7170976202889384167 20 125} {8422064097108903303 20 126} {2071293438883951529 20 127} {4515327017138971392 20 128}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56353 term 22 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 57694 term 22 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2421650486377801758 20 120} {4867775460699131666 20 121} {1707403787696718442 20 122} {7133045286344983096 20 123} {2359058741553532773 20 124} {7170976202889384167 20 125} {8422064097108903303 20 126} {2071293438883951529 20 127} {4515327017138971392 20 128}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2421650486377801758 20 120} {4867775460699131666 20 121} {1707403787696718442 20 122} {7133045286344983096 20 123} {2359058741553532773 20 124} {7170976202889384167 20 125} {8422064097108903303 20 126} {2071293438883951529 20 127} {4515327017138971392 20 128}]
------------------------------------------------------
term 22 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23142 term 22 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 81594 term 22 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2421650486377801758 20 120} {4867775460699131666 20 121} {1707403787696718442 20 122} {7133045286344983096 20 123} {2359058741553532773 20 124} {7170976202889384167 20 125} {8422064097108903303 20 126} {2071293438883951529 20 127} {4515327017138971392 20 128}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2421650486377801758 20 120} {4867775460699131666 20 121} {1707403787696718442 20 122} {7133045286344983096 20 123} {2359058741553532773 20 124} {7170976202889384167 20 125} {8422064097108903303 20 126} {2071293438883951529 20 127} {4515327017138971392 20 128}]
------------------------------------------------------
flag 7867 term 22 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 11157 term 22 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2421650486377801758 20 120} {4867775460699131666 20 121} {1707403787696718442 20 122} {7133045286344983096 20 123} {2359058741553532773 20 124} {7170976202889384167 20 125} {8422064097108903303 20 126} {2071293438883951529 20 127} {4515327017138971392 20 128}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2421650486377801758 20 120} {4867775460699131666 20 121} {1707403787696718442 20 122} {7133045286344983096 20 123} {2359058741553532773 20 124} {7170976202889384167 20 125} {8422064097108903303 20 126} {2071293438883951529 20 127} {4515327017138971392 20 128}]
------------------------------------------------------
flag 31182 term 22 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 35756 term 22 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2421650486377801758 20 120} {4867775460699131666 20 121} {1707403787696718442 20 122} {7133045286344983096 20 123} {2359058741553532773 20 124} {7170976202889384167 20 125} {8422064097108903303 20 126} {2071293438883951529 20 127} {4515327017138971392 20 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2421650486377801758 20 120} {4867775460699131666 20 121} {1707403787696718442 20 122} {7133045286344983096 20 123} {2359058741553532773 20 124} {7170976202889384167 20 125} {8422064097108903303 20 126} {2071293438883951529 20 127} {4515327017138971392 20 128}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2926958936859964274 (index 129) to leader 2
flag 95684 term 22 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 95167 term 22 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 119} {2421650486377801758 20 120} {4867775460699131666 20 121} {1707403787696718442 20 122} {7133045286344983096 20 123} {2359058741553532773 20 124} {7170976202889384167 20 125} {8422064097108903303 20 126} {2071293438883951529 20 127} {4515327017138971392 20 128} {2926958936859964274 22 129}]
------------------------------------------------------
term 22 Server2 start snapshot! index=129
term 22 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
flag 13859 term 22 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 22 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 129 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 22 129}]
------------------------------------------------------
term 22 Server1 start snapshot! index=129
term 22 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3071276174310602126 (index 130) to leader 2
client write log 2546767556343666104 (index 131) to leader 2
client write log 5626223310781591520 (index 132) to leader 2
client write log 6582568274305745626 (index 133) to leader 2
client write log 2871391989773809323 (index 134) to leader 2
client write log 8420418662233460816 (index 135) to leader 2
client write log 8703652019403189604 (index 136) to leader 2
client write log 2835045582697218895 (index 137) to leader 2
client write log 2274963904305827713 (index 138) to leader 2
client write log 6379909907233946917 (index 139) to leader 2
client write log 7191589674954451509 (index 140) to leader 2
client write log 7707845155079847984 (index 141) to leader 2
client write log 659791018702321663 (index 142) to leader 2
term 22 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
flag 37909 term 22 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 22 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 129 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 22 129} {3071276174310602126 22 130} {2546767556343666104 22 131} {5626223310781591520 22 132} {6582568274305745626 22 133} {2871391989773809323 22 134} {8420418662233460816 22 135} {8703652019403189604 22 136} {2835045582697218895 22 137} {2274963904305827713 22 138} {6379909907233946917 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142}]
------------------------------------------------------
term 22 Server2 start snapshot! index=139
term 22 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=142
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
flag 37894 term 22 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 22 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142}]
------------------------------------------------------
term 22 Server1 start snapshot! index=139
term 22 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=142
-------------------------------------------------------------
!!!!!!connect server 0
client write log 294617147303269057 (index 143) to leader 2
term 22 server 2 not vote for server 0, 日志不够新
term 22 server 1 not vote for server 0, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 1 vote for server 2
term 24 server 0 vote for server 2
term 24 server 2 get vote from server 1
term 24 server 2 become leader
------------------------------------------------------
term 24 server 2 get outdate rpc reply from server 0
flag 62659 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 19689 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 24 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 144->143
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 144->143
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 2 nextIndex[0]: 129  matchIndex[0]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
flag 46774 term 24 leader 2 nextIndex[1]: 143  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 24 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 22 rf.commitIndex 139 rf.lastApplied 139
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29438 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 59867 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98645 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 32198 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18079 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 87214 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5729 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 79864 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
flag 38948 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 65452 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
flag 64432 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 52412 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
flag 19147 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 6954 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
flag 74612 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 14571 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8531 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 6020 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
flag 58637 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 87166 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
flag 2444 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 27432 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
flag 66691 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 6872 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7490 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 86359 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
flag 61667 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 27156 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
flag 54632 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 20702 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
term 24 server 0 not vote for server 2, 任期不够新
term 24 server 2 get outdate rpc reply from server 0
flag 5489 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 56550 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6973 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 97270 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66323 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 57335 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143}]
------------------------------------------------------
client write log 294617147303269057 (index 144) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46650 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 48818 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144}]
------------------------------------------------------
flag 23659 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 84966 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144}]
------------------------------------------------------
flag 85524 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 45032 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144}]
------------------------------------------------------
flag 4843 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 39655 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144}]
------------------------------------------------------
flag 24412 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 77500 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144}]
------------------------------------------------------
flag 45877 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 42638 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144}]
------------------------------------------------------
flag 11930 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 73393 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74505 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 10652 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 56615 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 74848 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91325 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 89499 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74057 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 4319 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 25 server 0 vote for server 1
term 25 server 1 get vote from server 0
term 25 server 1 become leader
------------------------------------------------------
client write log 6950148970957004793 (index 145) to leader 1
flag 2548 term 25 leader 1 nextIndex[0]: 145  matchIndex[0]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 35291 term 25 leader 1 nextIndex[2]: 145  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144} {6950148970957004793 25 145}]
------------------------------------------------------
flag 81744 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 68661 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 82890 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 68254 term 25 leader 1 nextIndex[2]: 145  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144} {6950148970957004793 25 145}]
------------------------------------------------------
client write log 8677433475918034241 (index 146) to leader 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 145->144
------------------------------------------------------
flag 16521 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 144
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
term 25 server 1 not vote for server 0, 任期不够新
term 25 server 0 get outdate rpc reply from server 1
flag 26416 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 74850 term 25 leader 1 nextIndex[2]: 145  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144} {6950148970957004793 25 145} {8677433475918034241 25 146}]
------------------------------------------------------
flag 28828 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 144
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
flag 99014 term 25 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 92608 term 25 leader 1 nextIndex[2]: 145  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144} {6950148970957004793 25 145} {8677433475918034241 25 146}]
------------------------------------------------------
!!!!!!connect server 2
client write log 8315526669329443479 (index 147) to leader 1
flag 81652 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 144
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
term 25 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 25 server 0 AppendEntries false 领导者任期过期 args.Term 24
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69667 term 25 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 25956 term 25 leader 1 nextIndex[2]: 145  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144} {6950148970957004793 25 145} {8677433475918034241 25 146} {8315526669329443479 25 147}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144} {6950148970957004793 25 145} {8677433475918034241 25 146} {8315526669329443479 25 147}]
------------------------------------------------------
flag 73232 term 25 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 25 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 57704 term 25 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 25 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144} {6950148970957004793 25 145} {8677433475918034241 25 146} {8315526669329443479 25 147}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144} {6950148970957004793 25 145} {8677433475918034241 25 146} {8315526669329443479 25 147}]
------------------------------------------------------
flag 22172 term 25 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 25 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 51280 term 25 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 25 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144} {6950148970957004793 25 145} {8677433475918034241 25 146} {8315526669329443479 25 147}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144} {6950148970957004793 25 145} {8677433475918034241 25 146} {8315526669329443479 25 147}]
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26416 term 25 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 25 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 27648 term 25 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 25 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144} {6950148970957004793 25 145} {8677433475918034241 25 146} {8315526669329443479 25 147}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144} {6950148970957004793 25 145} {8677433475918034241 25 146} {8315526669329443479 25 147}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64909 term 25 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 25 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 28627 term 25 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 25 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144} {6950148970957004793 25 145} {8677433475918034241 25 146} {8315526669329443479 25 147}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144} {6950148970957004793 25 145} {8677433475918034241 25 146} {8315526669329443479 25 147}]
------------------------------------------------------
flag 40996 term 25 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 25 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 95656 term 25 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 25 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144} {6950148970957004793 25 145} {8677433475918034241 25 146} {8315526669329443479 25 147}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144} {6950148970957004793 25 145} {8677433475918034241 25 146} {8315526669329443479 25 147}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5061425545263743360 (index 148) to leader 1
flag 46360 term 25 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 25 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 92721 term 25 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 25 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144} {6950148970957004793 25 145} {8677433475918034241 25 146} {8315526669329443479 25 147} {5061425545263743360 25 148}]
------------------------------------------------------
flag 72013 term 25 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 25 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 148 
------------------------------------------------------
flag 58304 term 25 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 25 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 25 leaderCommit: 148 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144} {6950148970957004793 25 145} {8677433475918034241 25 146} {8315526669329443479 25 147} {5061425545263743360 25 148}]
------------------------------------------------------
client write log 1447519769494655449 (index 149) to leader 1
client write log 4306513538664742413 (index 150) to leader 1
client write log 8403569597469870247 (index 151) to leader 1
client write log 5600189006017608050 (index 152) to leader 1
client write log 1632515534035536670 (index 153) to leader 1
client write log 7357525449729565920 (index 154) to leader 1
client write log 319901581149371669 (index 155) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 148->147
------------------------------------------------------
flag 17369 term 25 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 25 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 148 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 0  matchIndex[2]: 147
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 22 139} {7191589674954451509 22 140} {7707845155079847984 22 141} {659791018702321663 22 142} {294617147303269057 22 143} {294617147303269057 24 144} {6950148970957004793 25 145} {8677433475918034241 25 146} {8315526669329443479 25 147} {5061425545263743360 25 148} {1447519769494655449 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155}]
------------------------------------------------------
term 25 Server1 start snapshot! index=149
term 25 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=155
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
term 25 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71981 term 25 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 25 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 0  matchIndex[2]: 147
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 Server0 start snapshot! index=149
term 25 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=155
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3676280113891925519 (index 156) to leader 1
term 26 server 2 not vote for server 0, 任期不够新
term 25 server 0 get outdate rpc reply from server 2
flag 44461 term 25 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 25 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 0  matchIndex[2]: 147
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
term 26 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 25 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 server 2 vote for server 1
term 27 server 0 vote for server 1
term 27 server 1 get vote from server 0
term 27 server 1 become leader
------------------------------------------------------
term 27 server 1 get outdate rpc reply from server 2
flag 61186 term 27 leader 1 nextIndex[0]: 157  matchIndex[0]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 2315 term 27 leader 1 nextIndex[2]: 157  matchIndex[2]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 27 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 157->156
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
flag 60252 term 27 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 27 leader 1 nextIndex[2]: 148  matchIndex[2]: 0
term 27 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
term 27 server 2 InstallSnapshot success
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 25 rf.commitIndex 149 rf.lastApplied 149
term 27 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38187 term 27 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 85216 term 27 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25997 term 27 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 18575 term 27 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
flag 53323 term 27 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 30771 term 27 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
flag 89796 term 27 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 77456 term 27 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
flag 9017 term 27 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 55911 term 27 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
flag 62729 term 27 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 81355 term 27 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
flag 63180 term 27 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 49122 term 27 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
term 27 server 2 not vote for server 1, 任期不够新
term 27 server 1 get outdate rpc reply from server 2
flag 56902 term 27 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 31215 term 27 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
term 27 server 2 not vote for server 1, 任期不够新
term 27 server 1 get outdate rpc reply from server 2
flag 58845 term 27 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 27446 term 27 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
flag 71064 term 27 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 81969 term 27 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
flag 43697 term 27 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 59001 term 27 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32484 term 27 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 46725 term 27 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55947 term 27 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 65820 term 27 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
flag 81425 term 27 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 65083 term 27 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
flag 71206 term 27 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 70434 term 27 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
flag 14152 term 27 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 58107 term 27 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
term 27 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
flag 22436 term 27 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 29919 term 27 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156}]
------------------------------------------------------
client write log 3676280113891925519 (index 157) to leader 1
flag 61251 term 27 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 96314 term 27 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 27 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156} {3676280113891925519 27 157}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156} {3676280113891925519 27 157}]
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11050 term 27 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 27 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 27 leaderCommit: 157 
------------------------------------------------------
flag 2226 term 27 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 27 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 27 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156} {3676280113891925519 27 157}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156} {3676280113891925519 27 157}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2223 term 27 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 27 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 27 leaderCommit: 157 
------------------------------------------------------
flag 10395 term 27 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 27 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 27 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156} {3676280113891925519 27 157}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156} {3676280113891925519 27 157}]
------------------------------------------------------
flag 75128 term 27 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 27 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 27 leaderCommit: 157 
------------------------------------------------------
flag 46009 term 27 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 27 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 27 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156} {3676280113891925519 27 157}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156} {3676280113891925519 27 157}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69368 term 27 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 27 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 27 leaderCommit: 157 
------------------------------------------------------
flag 70815 term 27 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 27 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 27 leaderCommit: 157 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156} {3676280113891925519 27 157}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156} {3676280113891925519 27 157}]
------------------------------------------------------
flag 16040 term 27 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 27 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 27 leaderCommit: 157 
------------------------------------------------------
flag 32529 term 27 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 27 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 27 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156} {3676280113891925519 27 157}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156} {3676280113891925519 27 157}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 2
client write log 5246797520590780035 (index 158) to leader 1
flag 85789 term 27 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 27 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 27 leaderCommit: 157 
------------------------------------------------------
flag 95545 term 27 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 27 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 27 leaderCommit: 157 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156} {3676280113891925519 27 157} {5246797520590780035 27 158}]
------------------------------------------------------
flag 33297 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 27 leaderCommit: 158 
------------------------------------------------------
flag 65593 term 27 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 27 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 27 leaderCommit: 158 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156} {3676280113891925519 27 157} {5246797520590780035 27 158}]
------------------------------------------------------
client write log 6691469802051957821 (index 159) to leader 1
client write log 3264466542422752244 (index 160) to leader 1
client write log 3787415405761387742 (index 161) to leader 1
client write log 3647850493758284038 (index 162) to leader 1
client write log 9165193184750811983 (index 163) to leader 1
client write log 4047467009132259007 (index 164) to leader 1
client write log 4780807326038434377 (index 165) to leader 1
client write log 1957996651065375817 (index 166) to leader 1
client write log 7562411430722214246 (index 167) to leader 1
client write log 5371829754159308693 (index 168) to leader 1
client write log 1379383528775212247 (index 169) to leader 1
client write log 1186173770562183193 (index 170) to leader 1
client write log 3740694196058846757 (index 171) to leader 1
client write log 2335309090394505012 (index 172) to leader 1
flag 13838 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 27 leaderCommit: 158 
------------------------------------------------------
flag 48250 term 27 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 27 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 27 leaderCommit: 158 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 25 149} {4306513538664742413 25 150} {8403569597469870247 25 151} {5600189006017608050 25 152} {1632515534035536670 25 153} {7357525449729565920 25 154} {319901581149371669 25 155} {3676280113891925519 25 156} {3676280113891925519 27 157} {5246797520590780035 27 158} {6691469802051957821 27 159} {3264466542422752244 27 160} {3787415405761387742 27 161} {3647850493758284038 27 162} {9165193184750811983 27 163} {4047467009132259007 27 164} {4780807326038434377 27 165} {1957996651065375817 27 166} {7562411430722214246 27 167} {5371829754159308693 27 168} {1379383528775212247 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172}]
------------------------------------------------------
term 27 Server1 start snapshot! index=159
term 27 server1 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=172
-------------------------------------------------------------
term 27 Server1 start snapshot! index=169
term 27 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=172
-------------------------------------------------------------
flag 94565 term 27 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 27 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 27 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 27 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172}]
------------------------------------------------------
term 27 Server0 start snapshot! index=159
term 27 server0 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=172
-------------------------------------------------------------
term 27 Server0 start snapshot! index=169
term 27 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=172
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8073083580737704188 (index 173) to leader 1
term 27 server 1 not vote for server 2, 日志不够新
term 27 server 0 not vote for server 2, 日志不够新
term 29 server 2 vote for server 1
term 29 server 0 vote for server 1
term 29 server 1 get vote from server 2
term 29 server 1 become leader
------------------------------------------------------
term 29 server 1 get outdate rpc reply from server 0
flag 99666 term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 77221 term 29 leader 1 nextIndex[2]: 174  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 174->173
------------------------------------------------------
term 29 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 174->173
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72406 term 29 leader 1 nextIndex[0]: 173  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 158  matchIndex[2]: 0
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
term 29 server 2 InstallSnapshot success
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:172 
term 29 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 27 rf.commitIndex 169 rf.lastApplied 169
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
flag 78215 term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 73742 term 29 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
flag 83395 term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 64341 term 29 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
term 29 server 1 not vote for server 2, 任期不够新
term 29 server 2 get outdate rpc reply from server 1
flag 79299 term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 39670 term 29 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68876 term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 48230 term 29 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70531 term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 86635 term 29 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
flag 9374 term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 54913 term 29 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
flag 87382 term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 36831 term 29 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
flag 58960 term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 6202 term 29 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
flag 63638 term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 89743 term 29 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
flag 54414 term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 35932 term 29 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
flag 31487 term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 3559 term 29 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
flag 48096 term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 81498 term 29 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
flag 49215 term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 97184 term 29 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
term 29 server 0 not vote for server 2, 任期不够新
term 29 server 2 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89797 term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 83833 term 29 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
flag 59588 term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 97708 term 29 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16424 term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 15614 term 29 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
flag 10562 term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 83863 term 29 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12992 term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 16973 term 29 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173}]
------------------------------------------------------
client write log 8073083580737704188 (index 174) to leader 1
flag 14527 term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 90833 term 29 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174}]
------------------------------------------------------
flag 58854 term 29 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 41013 term 29 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174}]
------------------------------------------------------
flag 68177 term 29 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 81075 term 29 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49158 term 29 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 97122 term 29 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
term 29 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174}]
------------------------------------------------------
flag 87796 term 29 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 35525 term 29 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174}]
------------------------------------------------------
flag 54628 term 29 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 66366 term 29 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
term 29 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
flag 69102 term 29 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 86609 term 29 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3610 term 29 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 26156 term 29 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26420 term 29 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 55008 term 29 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 vote for server 0
term 30 server 0 get vote from server 2
term 30 server 0 become leader
------------------------------------------------------
flag 78028 term 29 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 57284 term 29 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 6616 term 30 leader 0 nextIndex[1]: 175  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 1081 term 30 leader 0 nextIndex[2]: 175  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174}]
------------------------------------------------------
client write log 2049433016719363545 (index 175) to leader 0
flag 5715 term 29 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 32995 term 29 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 40085 term 30 leader 0 nextIndex[1]: 175  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 54593 term 30 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175}]
------------------------------------------------------
flag 97640 term 29 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 71519 term 29 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 45003 term 30 leader 0 nextIndex[1]: 175  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
flag 10011 term 30 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175}]
------------------------------------------------------
client write log 773490364044356504 (index 176) to leader 0
flag 24132 term 29 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 15275 term 29 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 22347 term 30 leader 0 nextIndex[1]: 175  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
flag 37171 term 30 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 175->174
------------------------------------------------------
flag 72730 term 29 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 0  matchIndex[2]: 174
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
flag 46375 term 30 leader 0 nextIndex[1]: 175  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
flag 17278 term 30 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
!!!!!!connect server 1
client write log 8513424842125187422 (index 175) to leader 1
flag 80078 term 29 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 0  matchIndex[2]: 174
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
term 30 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 server 0 AppendEntries false 领导者任期过期 args.Term 29
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52341 term 30 leader 0 nextIndex[1]: 175  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
flag 2178 term 30 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
flag 84899 term 30 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 7189 term 30 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
flag 51090 term 30 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 46337 term 30 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92317 term 30 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 93017 term 30 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73688 term 30 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 9090 term 30 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
flag 44659 term 30 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 33179 term 30 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
flag 90104 term 30 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 11310 term 30 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
flag 94824 term 30 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 15067 term 30 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
flag 6077 term 30 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 59565 term 30 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
flag 69158 term 30 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 46693 term 30 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
flag 63404 term 30 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 16210 term 30 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
flag 72343 term 30 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 53832 term 30 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
flag 34046 term 30 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 79204 term 30 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
flag 98966 term 30 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 53151 term 30 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
flag 87934 term 30 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 75506 term 30 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
flag 44362 term 30 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 79574 term 30 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 177->176
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 0  matchIndex[1]: 176
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
flag 25782 term 30 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
term 30 server 1 InstallSnapshot fail
rf.commitIndex 176 args.LastIncludedIndex 169
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
flag 55530 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 176 
------------------------------------------------------
flag 70125 term 30 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 177->176
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 0  matchIndex[1]: 176
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
flag 53464 term 30 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
term 30 server 1 InstallSnapshot fail
rf.commitIndex 176 args.LastIncludedIndex 169
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
flag 97048 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 176 
------------------------------------------------------
flag 9794 term 30 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176}]
------------------------------------------------------
client write log 8513424842125187422 (index 177) to leader 0
flag 45375 term 30 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 75121 term 30 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176} {8513424842125187422 30 177}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176} {8513424842125187422 30 177}]
------------------------------------------------------
flag 80542 term 30 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
flag 98132 term 30 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 30 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176} {8513424842125187422 30 177}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176} {8513424842125187422 30 177}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60390 term 30 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
flag 73354 term 30 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 30 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176} {8513424842125187422 30 177}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176} {8513424842125187422 30 177}]
------------------------------------------------------
flag 8105 term 30 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
flag 60017 term 30 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 30 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176} {8513424842125187422 30 177}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176} {8513424842125187422 30 177}]
------------------------------------------------------
flag 88167 term 30 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
flag 53960 term 30 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 30 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176} {8513424842125187422 30 177}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176} {8513424842125187422 30 177}]
------------------------------------------------------
flag 78491 term 30 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
flag 51635 term 30 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 30 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176} {8513424842125187422 30 177}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176} {8513424842125187422 30 177}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 178->177
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3207501757756091385 (index 178) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 0  matchIndex[1]: 177
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
flag 35580 term 30 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 30 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176} {8513424842125187422 30 177} {3207501757756091385 30 178}]
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 0  matchIndex[1]: 177
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
flag 72778 term 30 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176} {8513424842125187422 30 177} {3207501757756091385 30 178}]
------------------------------------------------------
client write log 1575166284194811325 (index 179) to leader 0
client write log 1570276862088551309 (index 180) to leader 0
client write log 1725192108653599575 (index 181) to leader 0
client write log 2406693441344949272 (index 182) to leader 0
client write log 4108953764176944262 (index 183) to leader 0
client write log 5661021826842238875 (index 184) to leader 0
client write log 4215501892872113046 (index 185) to leader 0
client write log 7067896754977848241 (index 186) to leader 0
client write log 8408660650502015048 (index 187) to leader 0
client write log 1511532526668855057 (index 188) to leader 0
client write log 2136169746471129689 (index 189) to leader 0
client write log 3557755476445149988 (index 190) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 0  matchIndex[1]: 177
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
flag 74897 term 30 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 27 169} {1186173770562183193 27 170} {3740694196058846757 27 171} {2335309090394505012 27 172} {8073083580737704188 27 173} {8073083580737704188 29 174} {2049433016719363545 30 175} {773490364044356504 30 176} {8513424842125187422 30 177} {3207501757756091385 30 178} {1575166284194811325 30 179} {1570276862088551309 30 180} {1725192108653599575 30 181} {2406693441344949272 30 182} {4108953764176944262 30 183} {5661021826842238875 30 184} {4215501892872113046 30 185} {7067896754977848241 30 186} {8408660650502015048 30 187} {1511532526668855057 30 188} {2136169746471129689 30 189} {3557755476445149988 30 190}]
------------------------------------------------------
term 30 Server0 start snapshot! index=179
term 30 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=190
-------------------------------------------------------------
term 30 Server0 start snapshot! index=189
term 30 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 0  matchIndex[1]: 177
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 12782 term 30 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190}]
------------------------------------------------------
term 30 Server2 start snapshot! index=179
term 30 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=190
-------------------------------------------------------------
term 30 Server2 start snapshot! index=189
term 30 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4022923756587042208 (index 191) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 0  matchIndex[1]: 177
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 48149 term 30 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
term 31 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 2 not vote for server 1, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 2 vote for server 0
term 32 server 0 get vote from server 2
term 32 server 0 become leader
------------------------------------------------------
term 32 server 1 vote for server 0
term 32 server 0 get outdate rpc reply from server 1
flag 74229 term 32 leader 0 nextIndex[1]: 192  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 61671 term 32 leader 0 nextIndex[2]: 192  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
term 32 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 192->191
------------------------------------------------------
term 32 leader 0 nextIndex[1]: 178  matchIndex[1]: 0
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 254 term 32 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
term 32 server 1 InstallSnapshot success
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 30 rf.commitIndex 189 rf.lastApplied 189
flag 16582 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 30924 term 32 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
flag 63250 term 32 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 16454 term 32 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63706 term 32 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 77828 term 32 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
flag 59377 term 32 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 46145 term 32 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
flag 47859 term 32 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 44757 term 32 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 0 not vote for server 1, 任期不够新
term 32 server 1 get outdate rpc reply from server 0
flag 31693 term 32 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 57964 term 32 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
flag 40475 term 32 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 74406 term 32 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76998 term 32 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 55227 term 32 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
term 32 server 1 not vote for server 0, 任期不够新
term 32 server 0 get outdate rpc reply from server 1
flag 23519 term 32 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 84079 term 32 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94474 term 32 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 31046 term 32 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
flag 49824 term 32 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 72796 term 32 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
flag 30759 term 32 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 30143 term 32 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
flag 42682 term 32 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 91727 term 32 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
flag 5774 term 32 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 71970 term 32 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
flag 17850 term 32 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 26851 term 32 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
flag 84845 term 32 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 40423 term 32 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191}]
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 4022923756587042208 (index 192) to leader 0
flag 85797 term 32 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 1594 term 32 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191} {4022923756587042208 32 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191} {4022923756587042208 32 192}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30930 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 55254 term 32 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191} {4022923756587042208 32 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191} {4022923756587042208 32 192}]
------------------------------------------------------
term 32 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11433 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 35813 term 32 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191} {4022923756587042208 32 192}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191} {4022923756587042208 32 192}]
------------------------------------------------------
flag 86380 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 5939 term 32 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191} {4022923756587042208 32 192}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191} {4022923756587042208 32 192}]
------------------------------------------------------
flag 79988 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 85713 term 32 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191} {4022923756587042208 32 192}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191} {4022923756587042208 32 192}]
------------------------------------------------------
flag 50146 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 68824 term 32 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191} {4022923756587042208 32 192}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191} {4022923756587042208 32 192}]
------------------------------------------------------
flag 12930 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 73391 term 32 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191} {4022923756587042208 32 192}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191} {4022923756587042208 32 192}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7751471810339339723 (index 193) to leader 0
flag 30844 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 68511 term 32 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191} {4022923756587042208 32 192} {7751471810339339723 32 193}]
------------------------------------------------------
flag 34701 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 94295 term 32 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 32 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191} {4022923756587042208 32 192} {7751471810339339723 32 193}]
------------------------------------------------------
client write log 6243439570444070399 (index 194) to leader 0
client write log 4587956495270102646 (index 195) to leader 0
client write log 7487787817545491015 (index 196) to leader 0
client write log 5105511214647588602 (index 197) to leader 0
client write log 7988731572793112493 (index 198) to leader 0
client write log 8631839977830799245 (index 199) to leader 0
flag 48124 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 32943 term 32 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 32 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 30 189} {3557755476445149988 30 190} {4022923756587042208 30 191} {4022923756587042208 32 192} {7751471810339339723 32 193} {6243439570444070399 32 194} {4587956495270102646 32 195} {7487787817545491015 32 196} {5105511214647588602 32 197} {7988731572793112493 32 198} {8631839977830799245 32 199}]
------------------------------------------------------
term 32 Server0 start snapshot! index=199
term 32 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 43539 term 32 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 32 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 32 199}]
------------------------------------------------------
term 32 Server2 start snapshot! index=199
term 32 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8045869398286614077 (index 200) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 57420 term 32 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 32 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8045869398286614077 32 200}]
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 server 1 vote for server 0
term 34 server 2 vote for server 0
term 34 server 0 get vote from server 1
term 34 server 0 become leader
------------------------------------------------------
term 34 server 0 get outdate rpc reply from server 2
flag 42031 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 53931 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 34 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8045869398286614077 32 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 201->200
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 193  matchIndex[1]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 48898 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8045869398286614077 32 200}]
------------------------------------------------------
term 34 server 1 InstallSnapshot success
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 32 rf.commitIndex 199 rf.lastApplied 199
flag 96360 term 34 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 34 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 23100 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8045869398286614077 32 200}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8045869398286614077 32 200}]
------------------------------------------------------
flag 81316 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 55287 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8045869398286614077 32 200}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8045869398286614077 32 200}]
------------------------------------------------------
flag 71207 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 48287 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8045869398286614077 32 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8045869398286614077 32 200}]
------------------------------------------------------
flag 75908 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 8158 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8045869398286614077 32 200}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8045869398286614077 32 200}]
------------------------------------------------------
flag 97424 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 67495 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8045869398286614077 32 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8045869398286614077 32 200}]
------------------------------------------------------
flag 77527 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 2000 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8045869398286614077 32 200}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8045869398286614077 32 200}]
------------------------------------------------------
term 34 server 2 not vote for server 1, 任期不够新
term 34 server 1 get outdate rpc reply from server 2
flag 10178 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 28163 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8045869398286614077 32 200}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8045869398286614077 32 200}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
flag 66103 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 44109 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 14974 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 85498 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 44777 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 54518 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22576 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 88623 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 35 server 2 vote for server 1
term 35 server 1 get vote from server 2
term 35 server 1 become leader
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 201->200
------------------------------------------------------
flag 25829 term 35 leader 1 nextIndex[0]: 201  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 83810 term 35 leader 1 nextIndex[2]: 201  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8045869398286614077 32 200}]
------------------------------------------------------
client write log 8226048873332704658 (index 201) to leader 1
flag 60147 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 0  matchIndex[2]: 200
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 69289 term 35 leader 1 nextIndex[0]: 201  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 37010 term 35 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 35 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {8045869398286614077 32 200} {8226048873332704658 35 201}]
------------------------------------------------------
flag 93484 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 0  matchIndex[2]: 200
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 37144 term 35 leader 1 nextIndex[0]: 201  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 73350 term 35 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 35 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 35 leaderCommit: 201 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {8045869398286614077 32 200} {8226048873332704658 35 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
client write log 4730700493015893591 (index 202) to leader 1
client write log 4687252440575559828 (index 203) to leader 1
client write log 2650016636760071127 (index 204) to leader 1
client write log 2430324627142605270 (index 205) to leader 1
client write log 1122255070192078601 (index 206) to leader 1
client write log 7409295405116930166 (index 207) to leader 1
client write log 5339017730202726501 (index 208) to leader 1
client write log 3872304237191321270 (index 209) to leader 1
client write log 7449639574327250979 (index 210) to leader 1
flag 33946 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 0  matchIndex[2]: 200
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 27267 term 35 leader 1 nextIndex[0]: 201  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 29356 term 35 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 35 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 35 leaderCommit: 201 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 32 199} {8045869398286614077 32 200} {8226048873332704658 35 201} {4730700493015893591 35 202} {4687252440575559828 35 203} {2650016636760071127 35 204} {2430324627142605270 35 205} {1122255070192078601 35 206} {7409295405116930166 35 207} {5339017730202726501 35 208} {3872304237191321270 35 209} {7449639574327250979 35 210}]
------------------------------------------------------
term 35 Server1 start snapshot! index=209
term 35 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=210
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 201->200
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 0  matchIndex[1]: 200
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 0  matchIndex[2]: 200
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
term 35 leader 1 nextIndex[0]: 201  matchIndex[0]: 0
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
flag 37941 term 35 leader 1 nextIndex[2]: 211  matchIndex[2]: 210
term 35 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 35 leaderCommit: 210 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 35 209} {7449639574327250979 35 210}]
------------------------------------------------------
term 35 Server2 start snapshot! index=209
term 35 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=210
-------------------------------------------------------------
!!!!!!connect server 0
client write log 160102704037697265 (index 211) to leader 1
term 34 leader 0 nextIndex[1]: 0  matchIndex[1]: 200
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 0  matchIndex[2]: 200
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
term 35 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 34 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 35 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 35 leader 1 nextIndex[0]: 201  matchIndex[0]: 0
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
flag 9423 term 35 leader 1 nextIndex[2]: 211  matchIndex[2]: 210
term 35 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 35 leaderCommit: 210 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 35 209} {7449639574327250979 35 210} {160102704037697265 35 211}]
------------------------------------------------------
term 35 server 0 InstallSnapshot success
------------------------------------------------------
term 35 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 210 matchIndex[0] 209 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 35 rf.commitIndex 209 rf.lastApplied 209
term 35 server 2 not vote for server 0, 日志不够新
term 35 server 1 not vote for server 0, 日志不够新
term 37 server 2 vote for server 1
term 37 server 1 get vote from server 2
term 37 server 1 become leader
------------------------------------------------------
term 37 server 0 vote for server 1
term 37 server 1 get outdate rpc reply from server 0
flag 75650 term 37 leader 1 nextIndex[0]: 212  matchIndex[0]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 35 leaderCommit: 211 
------------------------------------------------------
flag 24506 term 37 leader 1 nextIndex[2]: 212  matchIndex[2]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 35 leaderCommit: 211 
------------------------------------------------------
term 37 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 212->211
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 35 209} {7449639574327250979 35 210} {160102704037697265 35 211}]
------------------------------------------------------
flag 57695 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 211 
------------------------------------------------------
flag 60235 term 37 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 37 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 35 leaderCommit: 211 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 35 209} {7449639574327250979 35 210} {160102704037697265 35 211}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 35 209} {7449639574327250979 35 210} {160102704037697265 35 211}]
------------------------------------------------------
flag 45188 term 37 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 37 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 35 leaderCommit: 211 
------------------------------------------------------
flag 30291 term 37 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 37 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 35 leaderCommit: 211 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 35 209} {7449639574327250979 35 210} {160102704037697265 35 211}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 35 209} {7449639574327250979 35 210} {160102704037697265 35 211}]
------------------------------------------------------
term 37 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95293 term 37 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 37 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 35 leaderCommit: 211 
------------------------------------------------------
flag 92092 term 37 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 37 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 35 leaderCommit: 211 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 35 209} {7449639574327250979 35 210} {160102704037697265 35 211}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 35 209} {7449639574327250979 35 210} {160102704037697265 35 211}]
------------------------------------------------------
term 37 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 745 term 37 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 37 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 35 leaderCommit: 211 
------------------------------------------------------
flag 63254 term 37 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 37 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 35 leaderCommit: 211 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 35 209} {7449639574327250979 35 210} {160102704037697265 35 211}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 35 209} {7449639574327250979 35 210} {160102704037697265 35 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56232 term 37 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 37 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 35 leaderCommit: 211 
------------------------------------------------------
flag 84597 term 37 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 37 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 35 leaderCommit: 211 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 35 209} {7449639574327250979 35 210} {160102704037697265 35 211}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 35 209} {7449639574327250979 35 210} {160102704037697265 35 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62064 term 37 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 37 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 35 leaderCommit: 211 
------------------------------------------------------
flag 93725 term 37 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 37 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 35 leaderCommit: 211 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 35 209} {7449639574327250979 35 210} {160102704037697265 35 211}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 35 209} {7449639574327250979 35 210} {160102704037697265 35 211}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7939704797884566781 (index 212) to leader 1
flag 79362 term 37 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 37 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 35 leaderCommit: 211 
------------------------------------------------------
flag 87003 term 37 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 37 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 35 leaderCommit: 211 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {7449639574327250979 35 210} {160102704037697265 35 211} {7939704797884566781 37 212}]
------------------------------------------------------
flag 55472 term 37 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 37 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 37 leaderCommit: 212 
------------------------------------------------------
flag 82047 term 37 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 37 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {7449639574327250979 35 210} {160102704037697265 35 211} {7939704797884566781 37 212}]
------------------------------------------------------
client write log 5506509885513813585 (index 213) to leader 1
client write log 3532592854993696312 (index 214) to leader 1
client write log 869976681778317763 (index 215) to leader 1
client write log 1234988985721289542 (index 216) to leader 1
client write log 6938255432293355543 (index 217) to leader 1
client write log 472630972829500112 (index 218) to leader 1
client write log 531452922086294009 (index 219) to leader 1
client write log 1159945095019300707 (index 220) to leader 1
client write log 5521632604237895293 (index 221) to leader 1
client write log 2316951702630108583 (index 222) to leader 1
client write log 1160384584234886351 (index 223) to leader 1
client write log 5360294089717915510 (index 224) to leader 1
client write log 1817026226969945841 (index 225) to leader 1
client write log 8373621696481899833 (index 226) to leader 1
client write log 6127052773368945418 (index 227) to leader 1
term 37 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 37 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11944 term 37 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 37 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 37 leaderCommit: 212 
------------------------------------------------------
flag 9347 term 37 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 37 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 35 209} {7449639574327250979 35 210} {160102704037697265 35 211} {7939704797884566781 37 212} {5506509885513813585 37 213} {3532592854993696312 37 214} {869976681778317763 37 215} {1234988985721289542 37 216} {6938255432293355543 37 217} {472630972829500112 37 218} {531452922086294009 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227}]
------------------------------------------------------
term 37 Server1 start snapshot! index=219
term 37 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=227
-------------------------------------------------------------
flag 22366 term 37 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 37 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 37
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227}]
------------------------------------------------------
term 37 Server0 start snapshot! index=219
term 37 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=227
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8695319448736241705 (index 228) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 212->211
------------------------------------------------------
flag 60661 term 37 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 37 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 0  matchIndex[2]: 211
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 37
------------------------------------------------------
term 38 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 server 2 vote for server 1
term 39 server 1 get vote from server 2
term 39 server 1 become leader
------------------------------------------------------
term 39 server 0 vote for server 1
term 39 server 1 get outdate rpc reply from server 0
flag 64153 term 39 leader 1 nextIndex[0]: 229  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 89878 term 39 leader 1 nextIndex[2]: 229  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 39 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 229->228
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
flag 55214 term 39 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 212  matchIndex[2]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 37
------------------------------------------------------
term 39 server 2 InstallSnapshot success
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 37 rf.commitIndex 219 rf.lastApplied 219
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
flag 10301 term 39 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 48241 term 39 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 39 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3120 term 39 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 2094 term 39 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64464 term 39 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 22723 term 39 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueterm 39 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
update nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
flag 13054 term 39 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 90202 term 39 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
term 39 server 0 not vote for server 1, 任期不够新
term 39 server 1 get outdate rpc reply from server 0
flag 23347 term 39 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 97183 term 39 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
flag 19788 term 39 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 31479 term 39 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
flag 45352 term 39 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 15121 term 39 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
flag 41457 term 39 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 86547 term 39 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10925 term 39 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 56272 term 39 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
term 39 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77063 term 39 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 176 term 39 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
flag 6219 term 39 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 67794 term 39 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
flag 70528 term 39 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 14335 term 39 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
flag 51103 term 39 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 88993 term 39 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64535 term 39 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 2176 term 39 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71725 term 39 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 11242 term 39 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
flag 53097 term 39 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 59114 term 39 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228}]
------------------------------------------------------
client write log 8695319448736241705 (index 229) to leader 1
term 39 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34173 term 39 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 38515 term 39 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228} {8695319448736241705 39 229}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 219} {1159945095019300707 37 220} {5521632604237895293 37 221} {2316951702630108583 37 222} {1160384584234886351 37 223} {5360294089717915510 37 224} {1817026226969945841 37 225} {8373621696481899833 37 226} {6127052773368945418 37 227} {8695319448736241705 37 228} {8695319448736241705 39 229}]
------------------------------------------------------
term 39 Server1 start snapshot! index=229
term 39 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
flag 33177 term 39 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 39 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
flag 1663 term 39 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 39 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 39 229}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 39 229}]
------------------------------------------------------
term 39 Server2 start snapshot! index=229
term 39 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
term 39 Server0 start snapshot! index=229
term 39 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
flag 86808 term 39 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 39 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
flag 92070 term 39 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 39 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 39 229}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 39 229}]
------------------------------------------------------
flag 54291 term 39 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 39 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
flag 24016 term 39 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 39 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 39 229}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 39 229}]
------------------------------------------------------
flag 77754 term 39 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 39 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
flag 21455 term 39 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 39 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 39 229}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 39 229}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33068 term 39 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 39 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
flag 95377 term 39 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 39 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 39 229}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 39 229}]
------------------------------------------------------
flag 86854 term 39 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 39 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
flag 2607 term 39 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 39 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 39 229}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 39 229}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1943777642181465056 (index 230) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69596 term 39 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 39 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
flag 29191 term 39 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 39 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 39 229} {1943777642181465056 39 230}]
------------------------------------------------------
term 39 server 0 not vote for server 1, 任期不够新
term 39 server 1 get outdate rpc reply from server 0
flag 50235 term 39 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 39 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
flag 77280 term 39 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 39 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 39 229} {1943777642181465056 39 230}]
------------------------------------------------------
client write log 1136257268296009054 (index 231) to leader 1
client write log 2980100329458403177 (index 232) to leader 1
client write log 7090288027988739141 (index 233) to leader 1
client write log 4534288606437012441 (index 234) to leader 1
client write log 5273249957792804247 (index 235) to leader 1
client write log 5485068809210535815 (index 236) to leader 1
flag 69739 term 39 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 39 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
flag 88257 term 39 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 39 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 39 229} {1943777642181465056 39 230} {1136257268296009054 39 231} {2980100329458403177 39 232} {7090288027988739141 39 233} {4534288606437012441 39 234} {5273249957792804247 39 235} {5485068809210535815 39 236}]
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64596 term 39 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 39 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 236 
------------------------------------------------------
flag 44470 term 39 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 39 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 236 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 39 229} {1943777642181465056 39 230} {1136257268296009054 39 231} {2980100329458403177 39 232} {7090288027988739141 39 233} {4534288606437012441 39 234} {5273249957792804247 39 235} {5485068809210535815 39 236}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1651580481214944537 (index 237) to leader 1
flag 75881 term 39 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 39 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 236 
------------------------------------------------------
flag 41153 term 39 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 39 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 236 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
term 40 server 2 AppendEntries false 领导者任期过期 args.Term 39
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {1943777642181465056 39 230} {1136257268296009054 39 231} {2980100329458403177 39 232} {7090288027988739141 39 233} {4534288606437012441 39 234} {5273249957792804247 39 235} {5485068809210535815 39 236} {1651580481214944537 39 237}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 39 server 0 not vote for server 2, 任期不够新
term 40 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 server 1 not vote for server 2, 日志不够新
term 39 server 0 not vote for server 2, 日志不够新
term 42 server 1 not vote for server 0, 投给了其他人
term 42 server 2 vote for server 1
term 42 server 1 get vote from server 2
term 42 server 2 not vote for server 0, 投给了其他人
term 42 server 1 become leader
------------------------------------------------------
term 42 server 0 not vote for server 1, 投给了其他人
term 42 server 1 get outdate rpc reply from server 0
flag 3501 term 42 leader 1 nextIndex[0]: 238  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
flag 74393 term 42 leader 1 nextIndex[2]: 238  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
term 42 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 238->237
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {1943777642181465056 39 230} {1136257268296009054 39 231} {2980100329458403177 39 232} {7090288027988739141 39 233} {4534288606437012441 39 234} {5273249957792804247 39 235} {5485068809210535815 39 236} {1651580481214944537 39 237}]
------------------------------------------------------
flag 24420 term 42 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
flag 30556 term 42 leader 1 nextIndex[2]: 230  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {1943777642181465056 39 230} {1136257268296009054 39 231} {2980100329458403177 39 232} {7090288027988739141 39 233} {4534288606437012441 39 234} {5273249957792804247 39 235} {5485068809210535815 39 236} {1651580481214944537 39 237}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {1943777642181465056 39 230} {1136257268296009054 39 231} {2980100329458403177 39 232} {7090288027988739141 39 233} {4534288606437012441 39 234} {5273249957792804247 39 235} {5485068809210535815 39 236} {1651580481214944537 39 237}]
------------------------------------------------------
flag 78225 term 42 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
flag 50964 term 42 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {1943777642181465056 39 230} {1136257268296009054 39 231} {2980100329458403177 39 232} {7090288027988739141 39 233} {4534288606437012441 39 234} {5273249957792804247 39 235} {5485068809210535815 39 236} {1651580481214944537 39 237}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {1943777642181465056 39 230} {1136257268296009054 39 231} {2980100329458403177 39 232} {7090288027988739141 39 233} {4534288606437012441 39 234} {5273249957792804247 39 235} {5485068809210535815 39 236} {1651580481214944537 39 237}]
------------------------------------------------------
term 42 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68116 term 42 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
flag 2368 term 42 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {1943777642181465056 39 230} {1136257268296009054 39 231} {2980100329458403177 39 232} {7090288027988739141 39 233} {4534288606437012441 39 234} {5273249957792804247 39 235} {5485068809210535815 39 236} {1651580481214944537 39 237}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {1943777642181465056 39 230} {1136257268296009054 39 231} {2980100329458403177 39 232} {7090288027988739141 39 233} {4534288606437012441 39 234} {5273249957792804247 39 235} {5485068809210535815 39 236} {1651580481214944537 39 237}]
------------------------------------------------------
flag 32001 term 42 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
flag 79092 term 42 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {1943777642181465056 39 230} {1136257268296009054 39 231} {2980100329458403177 39 232} {7090288027988739141 39 233} {4534288606437012441 39 234} {5273249957792804247 39 235} {5485068809210535815 39 236} {1651580481214944537 39 237}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {1943777642181465056 39 230} {1136257268296009054 39 231} {2980100329458403177 39 232} {7090288027988739141 39 233} {4534288606437012441 39 234} {5273249957792804247 39 235} {5485068809210535815 39 236} {1651580481214944537 39 237}]
------------------------------------------------------
flag 63001 term 42 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
flag 76321 term 42 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {1943777642181465056 39 230} {1136257268296009054 39 231} {2980100329458403177 39 232} {7090288027988739141 39 233} {4534288606437012441 39 234} {5273249957792804247 39 235} {5485068809210535815 39 236} {1651580481214944537 39 237}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {1943777642181465056 39 230} {1136257268296009054 39 231} {2980100329458403177 39 232} {7090288027988739141 39 233} {4534288606437012441 39 234} {5273249957792804247 39 235} {5485068809210535815 39 236} {1651580481214944537 39 237}]
------------------------------------------------------
flag 62172 term 42 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
flag 92448 term 42 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {1943777642181465056 39 230} {1136257268296009054 39 231} {2980100329458403177 39 232} {7090288027988739141 39 233} {4534288606437012441 39 234} {5273249957792804247 39 235} {5485068809210535815 39 236} {1651580481214944537 39 237}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {1943777642181465056 39 230} {1136257268296009054 39 231} {2980100329458403177 39 232} {7090288027988739141 39 233} {4534288606437012441 39 234} {5273249957792804247 39 235} {5485068809210535815 39 236} {1651580481214944537 39 237}]
------------------------------------------------------
flag 22742 term 42 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
flag 10566 term 42 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {1943777642181465056 39 230} {1136257268296009054 39 231} {2980100329458403177 39 232} {7090288027988739141 39 233} {4534288606437012441 39 234} {5273249957792804247 39 235} {5485068809210535815 39 236} {1651580481214944537 39 237}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {1943777642181465056 39 230} {1136257268296009054 39 231} {2980100329458403177 39 232} {7090288027988739141 39 233} {4534288606437012441 39 234} {5273249957792804247 39 235} {5485068809210535815 39 236} {1651580481214944537 39 237}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 74402 term 42 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
flag 62415 term 42 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
term 42 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83587 term 42 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
flag 19312 term 42 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
flag 67768 term 42 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
flag 90372 term 42 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 2 vote for server 0
term 43 server 0 get vote from server 2
term 43 server 0 become leader
------------------------------------------------------
flag 23987 term 43 leader 0 nextIndex[1]: 238  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
flag 10320 term 43 leader 0 nextIndex[2]: 238  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {1943777642181465056 39 230} {1136257268296009054 39 231} {2980100329458403177 39 232} {7090288027988739141 39 233} {4534288606437012441 39 234} {5273249957792804247 39 235} {5485068809210535815 39 236} {1651580481214944537 39 237}]
------------------------------------------------------
flag 74016 term 42 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
flag 6867 term 42 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
client write log 6512990084244872455 (index 238) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87921 term 43 leader 0 nextIndex[1]: 238  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
flag 65604 term 43 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 43 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {1943777642181465056 39 230} {1136257268296009054 39 231} {2980100329458403177 39 232} {7090288027988739141 39 233} {4534288606437012441 39 234} {5273249957792804247 39 235} {5485068809210535815 39 236} {1651580481214944537 39 237} {6512990084244872455 43 238}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 238->237
------------------------------------------------------
flag 71639 term 42 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 237
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 39
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 238->237
------------------------------------------------------
flag 9626 term 43 leader 0 nextIndex[1]: 238  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
flag 76672 term 43 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 43 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {1943777642181465056 39 230} {1136257268296009054 39 231} {2980100329458403177 39 232} {7090288027988739141 39 233} {4534288606437012441 39 234} {5273249957792804247 39 235} {5485068809210535815 39 236} {1651580481214944537 39 237} {6512990084244872455 43 238}]
------------------------------------------------------
client write log 5170477875125807371 (index 239) to leader 0
term 42 leader 1 nextIndex[0]: 0  matchIndex[0]: 237
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 39
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 237
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 39
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 238->237
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 39
------------------------------------------------------
flag 29538 term 43 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 43 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 39 229} {1943777642181465056 39 230} {1136257268296009054 39 231} {2980100329458403177 39 232} {7090288027988739141 39 233} {4534288606437012441 39 234} {5273249957792804247 39 235} {5485068809210535815 39 236} {1651580481214944537 39 237} {6512990084244872455 43 238} {5170477875125807371 43 239}]
------------------------------------------------------
term 43 Server0 start snapshot! index=239
term 43 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
term 42 leader 1 nextIndex[0]: 0  matchIndex[0]: 237
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 39
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 237
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 39
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 43
------------------------------------------------------
flag 44167 term 43 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 43 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
term 43 Server2 start snapshot! index=239
term 43 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3647179348814464114 (index 238) to leader 1
term 42 leader 1 nextIndex[0]: 0  matchIndex[0]: 237
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 39
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 237
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 39
------------------------------------------------------
term 43 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 42 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 43
------------------------------------------------------
flag 6427 term 43 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 43 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 43 server 1 InstallSnapshot success
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 43 rf.commitIndex 239 rf.lastApplied 239
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
term 44 server 2 vote for server 1
term 44 server 0 vote for server 1
term 44 server 1 get vote from server 2
term 44 server 1 become leader
------------------------------------------------------
term 44 server 1 get outdate rpc reply from server 0
flag 85691 term 44 leader 1 nextIndex[0]: 240  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
flag 58885 term 44 leader 1 nextIndex[2]: 240  matchIndex[2]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
flag 89918 term 44 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
flag 35512 term 44 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:239 
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
term 44 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41283 term 44 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
flag 67502 term 44 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
flag 18401 term 44 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
flag 40728 term 44 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
flag 68895 term 44 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
flag 58633 term 44 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 1113 term 44 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
flag 49092 term 44 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
term 44 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader log:
[{snapshot 43 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
flag 36401 term 44 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
flag 69364 term 44 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19865 term 44 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
flag 10488 term 44 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17627 term 44 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
flag 73991 term 44 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
flag 77578 term 44 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
flag 44181 term 44 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36932 term 44 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
flag 16271 term 44 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
flag 18546 term 44 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
flag 53894 term 44 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
term 44 server 1 not vote for server 2, 任期不够新
term 44 server 2 get outdate rpc reply from server 1
flag 13616 term 44 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
flag 24128 term 44 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
flag 349 term 44 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
flag 1808 term 44 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9950 term 44 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
flag 75137 term 44 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
flag 91692 term 44 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
flag 91652 term 44 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21567 term 44 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
flag 22920 term 44 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
flag 20114 term 44 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
flag 91049 term 44 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
flag 54833 term 44 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
flag 97113 term 44 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
client write log 3647179348814464114 (index 240) to leader 1
flag 55631 term 44 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
flag 63101 term 44 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 44 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 43 239} {3647179348814464114 44 240}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 43 239} {3647179348814464114 44 240}]
------------------------------------------------------
term 44 server 0 not vote for server 2, 任期不够新
term 44 server 2 get outdate rpc reply from server 0
flag 31681 term 44 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 44 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 240 
------------------------------------------------------
flag 33480 term 44 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 44 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 240 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 43 239} {3647179348814464114 44 240}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 43 239} {3647179348814464114 44 240}]
------------------------------------------------------
flag 38872 term 44 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 44 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 240 
------------------------------------------------------
flag 84048 term 44 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 44 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 240 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 43 239} {3647179348814464114 44 240}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 43 239} {3647179348814464114 44 240}]
------------------------------------------------------
flag 68661 term 44 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 44 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 240 
------------------------------------------------------
flag 16674 term 44 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 44 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 240 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 43 239} {3647179348814464114 44 240}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 43 239} {3647179348814464114 44 240}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47776 term 44 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 44 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 240 
------------------------------------------------------
flag 95861 term 44 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 44 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 240 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 43 239} {3647179348814464114 44 240}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 43 239} {3647179348814464114 44 240}]
------------------------------------------------------
flag 11867 term 44 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 44 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 240 
------------------------------------------------------
flag 22499 term 44 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 44 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 240 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 43 239} {3647179348814464114 44 240}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 43 239} {3647179348814464114 44 240}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4682 term 44 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 44 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 240 
------------------------------------------------------
flag 46132 term 44 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 44 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 240 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 43 239} {3647179348814464114 44 240}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 43 239} {3647179348814464114 44 240}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5375245609452441671 (index 241) to leader 1
flag 24676 term 44 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 44 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 240 
------------------------------------------------------
flag 34063 term 44 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 44 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 240 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 43 239} {3647179348814464114 44 240} {5375245609452441671 44 241}]
------------------------------------------------------
flag 18252 term 44 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 44 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 44 leaderCommit: 241 
------------------------------------------------------
flag 37558 term 44 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 44 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 241 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 43 239} {3647179348814464114 44 240} {5375245609452441671 44 241}]
------------------------------------------------------
client write log 7539210794965795971 (index 242) to leader 1
client write log 68088463251533733 (index 243) to leader 1
client write log 5613491336036193338 (index 244) to leader 1
client write log 3871374362329961402 (index 245) to leader 1
client write log 475632544337944609 (index 246) to leader 1
client write log 1431064034955673655 (index 247) to leader 1
client write log 6476701513008351676 (index 248) to leader 1
client write log 1338986038186383738 (index 249) to leader 1
client write log 6987586901165655310 (index 250) to leader 1
client write log 6429990532463404248 (index 251) to leader 1
client write log 8551962722491664383 (index 252) to leader 1
client write log 7806127740652413802 (index 253) to leader 1
client write log 6337978243248907526 (index 254) to leader 1
client write log 3928276011678866279 (index 255) to leader 1
client write log 313237021400853270 (index 256) to leader 1
flag 55235 term 44 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 44 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 44 leaderCommit: 241 
------------------------------------------------------
flag 98612 term 44 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 44 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 241 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 43 239} {3647179348814464114 44 240} {5375245609452441671 44 241} {7539210794965795971 44 242} {68088463251533733 44 243} {5613491336036193338 44 244} {3871374362329961402 44 245} {475632544337944609 44 246} {1431064034955673655 44 247} {6476701513008351676 44 248} {1338986038186383738 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256}]
------------------------------------------------------
term 44 Server1 start snapshot! index=249
term 44 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=256
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93882 term 44 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256}]
------------------------------------------------------
term 44 Server0 start snapshot! index=249
term 44 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=256
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7542428156530133509 (index 257) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 1 not vote for server 2, 日志不够新
term 44 server 0 not vote for server 2, 日志不够新
term 46 server 2 vote for server 1
term 46 server 1 get vote from server 2
term 46 server 1 become leader
------------------------------------------------------
term 46 server 0 vote for server 1
term 46 server 1 get outdate rpc reply from server 0
flag 40980 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 5431 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 258->257
------------------------------------------------------
term 46 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 258->257
------------------------------------------------------
term 46 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48017 term 46 leader 1 nextIndex[0]: 257  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 241  matchIndex[2]: 0
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 44
------------------------------------------------------
term 46 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 44 rf.commitIndex 249 rf.lastApplied 249
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
flag 33451 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 79130 term 46 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 46 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
flag 70360 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 27418 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
flag 42876 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 22540 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
flag 20577 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 89353 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67226 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 7496 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
flag 12334 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 33100 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 server 1 not vote for server 0, 任期不够新
term 46 server 0 get outdate rpc reply from server 1
flag 67374 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 45574 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85041 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 72903 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
flag 10962 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 39098 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
flag 88830 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 17141 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97615 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 37037 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
flag 69870 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 99669 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
term 46 server 1 not vote for server 2, 任期不够新
term 46 server 2 get outdate rpc reply from server 1
flag 4303 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 50093 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50163 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 90101 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
flag 75826 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 44553 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
flag 36385 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 13854 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
flag 83271 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 38875 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257}]
------------------------------------------------------
client write log 7542428156530133509 (index 258) to leader 1
flag 59207 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 38976 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257} {7542428156530133509 46 258}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257} {7542428156530133509 46 258}]
------------------------------------------------------
flag 85742 term 46 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 72212 term 46 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257} {7542428156530133509 46 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257} {7542428156530133509 46 258}]
------------------------------------------------------
flag 7745 term 46 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 38083 term 46 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257} {7542428156530133509 46 258}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257} {7542428156530133509 46 258}]
------------------------------------------------------
flag 746 term 46 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 9134 term 46 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257} {7542428156530133509 46 258}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257} {7542428156530133509 46 258}]
------------------------------------------------------
flag 92134 term 46 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 30843 term 46 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257} {7542428156530133509 46 258}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257} {7542428156530133509 46 258}]
------------------------------------------------------
flag 33448 term 46 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 21401 term 46 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257} {7542428156530133509 46 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257} {7542428156530133509 46 258}]
------------------------------------------------------
flag 67919 term 46 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 23948 term 46 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
term 46 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257} {7542428156530133509 46 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257} {7542428156530133509 46 258}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1786701298641128010 (index 259) to leader 1
flag 99152 term 46 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 57085 term 46 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 44 249} {6987586901165655310 44 250} {6429990532463404248 44 251} {8551962722491664383 44 252} {7806127740652413802 44 253} {6337978243248907526 44 254} {3928276011678866279 44 255} {313237021400853270 44 256} {7542428156530133509 44 257} {7542428156530133509 46 258} {1786701298641128010 46 259}]
------------------------------------------------------
term 46 Server1 start snapshot! index=259
term 46 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
flag 51507 term 46 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 46 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 259 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 46 259}]
------------------------------------------------------
term 46 Server0 start snapshot! index=259
term 46 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
client write log 878431904494646674 (index 260) to leader 1
client write log 1769056072349764333 (index 261) to leader 1
client write log 1326242515687458982 (index 262) to leader 1
client write log 6579947785173809702 (index 263) to leader 1
client write log 6337279527995267053 (index 264) to leader 1
client write log 4432895397911644493 (index 265) to leader 1
flag 70940 term 46 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 46 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 259 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265}]
------------------------------------------------------
flag 75954 term 46 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 46 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3876899406317715061 (index 266) to leader 1
flag 58624 term 46 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 46 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
term 47 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 0 vote for server 1
term 48 server 2 vote for server 1
term 48 server 1 get vote from server 0
term 48 server 1 become leader
------------------------------------------------------
term 48 server 1 get outdate rpc reply from server 2
flag 55504 term 48 leader 1 nextIndex[0]: 267  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 15583 term 48 leader 1 nextIndex[2]: 267  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 267->266
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
flag 62344 term 48 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 259  matchIndex[2]: 0
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
term 48 server 2 InstallSnapshot success
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 46 rf.commitIndex 259 rf.lastApplied 259
term 48 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
flag 68653 term 48 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 70789 term 48 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 48 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68700 term 48 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 58310 term 48 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
flag 98251 term 48 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 48673 term 48 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
flag 15282 term 48 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 87034 term 48 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
flag 13217 term 48 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 95139 term 48 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
flag 90460 term 48 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 66319 term 48 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42134 term 48 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 7077 term 48 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
flag 37814 term 48 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 1166 term 48 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
flag 83576 term 48 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 77092 term 48 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
flag 13839 term 48 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 45986 term 48 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
flag 30714 term 48 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 3735 term 48 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
flag 56582 term 48 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 2757 term 48 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
flag 72015 term 48 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 68863 term 48 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
term 48 server 0 not vote for server 2, 任期不够新
term 48 server 2 get outdate rpc reply from server 0
flag 98270 term 48 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 71015 term 48 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
flag 60516 term 48 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 78393 term 48 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64018 term 48 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 22539 term 48 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
term 48 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
flag 12064 term 48 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 40393 term 48 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266}]
------------------------------------------------------
client write log 3876899406317715061 (index 267) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94157 term 48 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 33864 term 48 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266} {3876899406317715061 48 267}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266} {3876899406317715061 48 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4770 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 74203 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266} {3876899406317715061 48 267}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266} {3876899406317715061 48 267}]
------------------------------------------------------
flag 67169 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 9747 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266} {3876899406317715061 48 267}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266} {3876899406317715061 48 267}]
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 359 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 73202 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266} {3876899406317715061 48 267}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266} {3876899406317715061 48 267}]
------------------------------------------------------
flag 3265 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 34569 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266} {3876899406317715061 48 267}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266} {3876899406317715061 48 267}]
------------------------------------------------------
flag 84747 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 31100 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266} {3876899406317715061 48 267}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266} {3876899406317715061 48 267}]
------------------------------------------------------
flag 68835 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 52362 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266} {3876899406317715061 48 267}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266} {3876899406317715061 48 267}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 69998 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 44364 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83025 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 40679 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 34941 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 40118 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 268->267
------------------------------------------------------
term 49 server 0 vote for server 2
term 49 server 2 get vote from server 0
term 49 server 2 become leader
------------------------------------------------------
flag 92224 term 49 leader 2 nextIndex[0]: 268  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 90112 term 49 leader 2 nextIndex[1]: 268  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266} {3876899406317715061 48 267}]
------------------------------------------------------
client write log 3896795745049079340 (index 268) to leader 2
flag 27394 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 0  matchIndex[2]: 267
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
flag 54511 term 49 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 49 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 40686 term 49 leader 2 nextIndex[1]: 268  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266} {3876899406317715061 48 267} {3896795745049079340 49 268}]
------------------------------------------------------
flag 75235 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 0  matchIndex[2]: 267
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
flag 96068 term 49 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 49 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
flag 37115 term 49 leader 2 nextIndex[1]: 268  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 268 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266} {3876899406317715061 48 267} {3896795745049079340 49 268}]
------------------------------------------------------
client write log 1624917417346880587 (index 269) to leader 2
client write log 5956497734718015378 (index 270) to leader 2
client write log 8203794953636948716 (index 271) to leader 2
client write log 9132313776954618713 (index 272) to leader 2
client write log 5519889632621297416 (index 273) to leader 2
client write log 5926210195045459923 (index 274) to leader 2
client write log 6115274007924022138 (index 275) to leader 2
client write log 7414863228651619335 (index 276) to leader 2
client write log 15537467139880463 (index 277) to leader 2
client write log 7722569583286987394 (index 278) to leader 2
flag 79395 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 0  matchIndex[2]: 267
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 268->267
------------------------------------------------------
flag 29870 term 49 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 49 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
flag 94751 term 49 leader 2 nextIndex[1]: 268  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 268 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 46 259} {878431904494646674 46 260} {1769056072349764333 46 261} {1326242515687458982 46 262} {6579947785173809702 46 263} {6337279527995267053 46 264} {4432895397911644493 46 265} {3876899406317715061 46 266} {3876899406317715061 48 267} {3896795745049079340 49 268} {1624917417346880587 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
term 49 Server2 start snapshot! index=269
term 49 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=278
-------------------------------------------------------------
term 48 leader 1 nextIndex[0]: 0  matchIndex[0]: 267
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 0  matchIndex[2]: 267
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
flag 39105 term 49 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 49 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 49 leader 2 nextIndex[1]: 268  matchIndex[1]: 0
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
term 49 Server0 start snapshot! index=269
term 49 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=278
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8813208557698859232 (index 268) to leader 1
term 48 leader 1 nextIndex[0]: 0  matchIndex[0]: 267
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 0  matchIndex[2]: 267
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
term 49 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 49 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 server 1 not vote for server 2, 任期不够新
term 49 server 2 get outdate rpc reply from server 1
flag 94820 term 49 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 49 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 49 leader 2 nextIndex[1]: 268  matchIndex[1]: 0
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 49 rf.commitIndex 269 rf.lastApplied 269
term 49 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
term 49 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 server 2 not vote for server 1, 日志不够新
term 49 server 0 not vote for server 1, 日志不够新
term 51 server 1 vote for server 2
term 51 server 0 vote for server 2
term 51 server 2 get vote from server 1
term 51 server 2 become leader
------------------------------------------------------
term 51 server 2 get outdate rpc reply from server 0
flag 5944 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 17951 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 51 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 279->278
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20882 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 87733 term 51 leader 2 nextIndex[1]: 270  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65591 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 12359 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
term 51 server 1 not vote for server 2, 任期不够新
term 51 server 2 get outdate rpc reply from server 1
flag 58449 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 40877 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8247 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 50617 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
flag 33472 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 13006 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
flag 13399 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 32387 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
flag 51730 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 81421 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96076 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 12590 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43147 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 71830 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
flag 31562 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 5535 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
flag 30033 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 65133 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
flag 64976 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 66391 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
flag 53866 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 88694 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
flag 27646 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 98845 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
flag 51220 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 88966 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
flag 72999 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 62836 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
flag 48860 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 24208 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278}]
------------------------------------------------------
flag 46183 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 36628 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
client write log 8813208557698859232 (index 279) to leader 2
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278} {8813208557698859232 51 279}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278} {8813208557698859232 51 279}]
------------------------------------------------------
flag 59435 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 84553 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278} {8813208557698859232 51 279}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 49 269} {5956497734718015378 49 270} {8203794953636948716 49 271} {9132313776954618713 49 272} {5519889632621297416 49 273} {5926210195045459923 49 274} {6115274007924022138 49 275} {7414863228651619335 49 276} {15537467139880463 49 277} {7722569583286987394 49 278} {8813208557698859232 51 279}]
------------------------------------------------------
term 51 Server2 start snapshot! index=279
term 51 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70227 term 51 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 51 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 279 
------------------------------------------------------
flag 49994 term 51 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 51 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 279 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 51 279}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 51 279}]
------------------------------------------------------
term 51 Server1 start snapshot! index=279
term 51 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
term 51 Server0 start snapshot! index=279
term 51 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
flag 30784 term 51 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 51 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 279 
------------------------------------------------------
flag 40100 term 51 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 51 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 279 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 51 279}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 51 279}]
------------------------------------------------------
flag 5836 term 51 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 51 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 279 
------------------------------------------------------
flag 14900 term 51 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 51 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 279 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 51 279}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 51 279}]
------------------------------------------------------
flag 84455 term 51 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 51 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 279 
------------------------------------------------------
flag 32729 term 51 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 51 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 279 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 51 279}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 51 279}]
------------------------------------------------------
flag 90161 term 51 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 51 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 279 
------------------------------------------------------
flag 89827 term 51 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 51 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 279 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 51 279}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 51 279}]
------------------------------------------------------
flag 57544 term 51 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 51 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 279 
------------------------------------------------------
flag 53015 term 51 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 51 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 279 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
term 51 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
[{snapshot 51 279}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 51 279}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1709788548303331506 (index 280) to leader 2
flag 14639 term 51 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 51 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 279 
------------------------------------------------------
flag 45718 term 51 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 51 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 279 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 51 279} {1709788548303331506 51 280}]
------------------------------------------------------
flag 52862 term 51 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 51 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 280 
------------------------------------------------------
flag 88340 term 51 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 51 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 51 leaderCommit: 280 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 51 279} {1709788548303331506 51 280}]
------------------------------------------------------
client write log 8187464750693944593 (index 281) to leader 2
client write log 116329118784074590 (index 282) to leader 2
client write log 7388807549550038289 (index 283) to leader 2
client write log 9068398605914311291 (index 284) to leader 2
client write log 602964532348186730 (index 285) to leader 2
client write log 2146074441256156073 (index 286) to leader 2
flag 13061 term 51 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 51 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 280 
------------------------------------------------------
flag 67131 term 51 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 51 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 51 leaderCommit: 280 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286}]
------------------------------------------------------
flag 61374 term 51 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 51 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 67945 term 51 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 51 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2369839624339486159 (index 287) to leader 2
term 51 server 2 not vote for server 0, 日志不够新
term 51 server 1 not vote for server 0, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 1 vote for server 2
term 53 server 0 vote for server 2
term 53 server 2 get vote from server 1
term 53 server 2 become leader
------------------------------------------------------
term 53 server 2 get outdate rpc reply from server 0
flag 54873 term 53 leader 2 nextIndex[0]: 288  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 52150 term 53 leader 2 nextIndex[1]: 288  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 288->287
------------------------------------------------------
term 53 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 288->287
------------------------------------------------------
flag 65051 term 53 leader 2 nextIndex[0]: 280  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 77805 term 53 leader 2 nextIndex[1]: 287  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
flag 12679 term 53 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 2563 term 53 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
flag 31671 term 53 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 75883 term 53 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
term 53 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
flag 16673 term 53 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 30425 term 53 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
flag 53304 term 53 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 749 term 53 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
term 53 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92553 term 53 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 78442 term 53 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
flag 36689 term 53 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 63335 term 53 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
flag 21284 term 53 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 24059 term 53 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
flag 78037 term 53 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 21322 term 53 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
flag 44829 term 53 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 14670 term 53 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
flag 70136 term 53 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 13225 term 53 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
flag 64382 term 53 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 57401 term 53 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48083 term 53 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 54187 term 53 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3131 term 53 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 49326 term 53 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
flag 4191 term 53 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 3983 term 53 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
flag 44584 term 53 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 6440 term 53 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51036 term 53 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 3854 term 53 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
flag 23632 term 53 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 95362 term 53 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48607 term 53 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 14505 term 53 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287}]
------------------------------------------------------
client write log 2369839624339486159 (index 288) to leader 2
flag 58170 term 53 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 97307 term 53 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 53 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287} {2369839624339486159 53 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287} {2369839624339486159 53 288}]
------------------------------------------------------
term 53 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86711 term 53 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 53024 term 53 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 53 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287} {2369839624339486159 53 288}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287} {2369839624339486159 53 288}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70371 term 53 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 83916 term 53 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 53 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287} {2369839624339486159 53 288}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287} {2369839624339486159 53 288}]
------------------------------------------------------
flag 50715 term 53 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 65314 term 53 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 53 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287} {2369839624339486159 53 288}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287} {2369839624339486159 53 288}]
------------------------------------------------------
flag 98937 term 53 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 60800 term 53 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 53 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287} {2369839624339486159 53 288}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287} {2369839624339486159 53 288}]
------------------------------------------------------
flag 64586 term 53 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 37164 term 53 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 53 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287} {2369839624339486159 53 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287} {2369839624339486159 53 288}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40270 term 53 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 45221 term 53 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 53 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287} {2369839624339486159 53 288}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287} {2369839624339486159 53 288}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1222887784480457947 (index 289) to leader 2
flag 86882 term 53 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 44692 term 53 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 53 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 279} {1709788548303331506 51 280} {8187464750693944593 51 281} {116329118784074590 51 282} {7388807549550038289 51 283} {9068398605914311291 51 284} {602964532348186730 51 285} {2146074441256156073 51 286} {2369839624339486159 51 287} {2369839624339486159 53 288} {1222887784480457947 53 289}]
------------------------------------------------------
term 53 Server2 start snapshot! index=289
term 53 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 53
------------------------------------------------------
flag 86495 term 53 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 53 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 53 leaderCommit: 289 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 53 289}]
------------------------------------------------------
term 53 Server1 start snapshot! index=289
term 53 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
client write log 1682770910782708284 (index 290) to leader 2
client write log 6682316521774090583 (index 291) to leader 2
client write log 1474428112679870545 (index 292) to leader 2
client write log 5081577740747181067 (index 293) to leader 2
client write log 8062749799174991331 (index 294) to leader 2
client write log 5874050161430218747 (index 295) to leader 2
client write log 1744923662140809264 (index 296) to leader 2
client write log 4627616564320780926 (index 297) to leader 2
client write log 2560872330703397233 (index 298) to leader 2
client write log 1776973028476942357 (index 299) to leader 2
client write log 4181247490423223063 (index 300) to leader 2
client write log 8774904365616893509 (index 301) to leader 2
client write log 7742547184456585550 (index 302) to leader 2
client write log 3397818786509742613 (index 303) to leader 2
client write log 6894915033396919356 (index 304) to leader 2
term 53 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 53
------------------------------------------------------
flag 86245 term 53 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 53 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 53 leaderCommit: 289 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 53 289} {1682770910782708284 53 290} {6682316521774090583 53 291} {1474428112679870545 53 292} {5081577740747181067 53 293} {8062749799174991331 53 294} {5874050161430218747 53 295} {1744923662140809264 53 296} {4627616564320780926 53 297} {2560872330703397233 53 298} {1776973028476942357 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304}]
------------------------------------------------------
term 53 Server2 start snapshot! index=299
term 53 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=304
-------------------------------------------------------------
term 53 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 53
------------------------------------------------------
flag 59750 term 53 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 53 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304}]
------------------------------------------------------
term 53 Server1 start snapshot! index=299
term 53 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=304
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4549341899343990890 (index 305) to leader 2
term 53 server 2 not vote for server 0, 日志不够新
term 53 server 1 not vote for server 0, 日志不够新
term 55 server 1 vote for server 2
term 55 server 2 get vote from server 1
term 55 server 0 vote for server 2
term 55 server 2 become leader
------------------------------------------------------
term 55 server 2 get outdate rpc reply from server 0
flag 51957 term 55 leader 2 nextIndex[0]: 306  matchIndex[0]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
flag 62358 term 55 leader 2 nextIndex[1]: 306  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
term 55 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 55 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 306->305
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 306->305
------------------------------------------------------
term 55 leader 2 nextIndex[0]: 289  matchIndex[0]: 0
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 53
------------------------------------------------------
flag 3296 term 55 leader 2 nextIndex[1]: 305  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
term 55 server 0 InstallSnapshot success
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 53 rf.commitIndex 299 rf.lastApplied 299
flag 26729 term 55 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 55 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
flag 33031 term 55 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
flag 72696 term 55 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
flag 83584 term 55 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
flag 81525 term 55 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
flag 64650 term 55 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
flag 55161 term 55 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
flag 69863 term 55 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
flag 19620 term 55 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
flag 76484 term 55 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
flag 50345 term 55 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
flag 11066 term 55 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
flag 10419 term 55 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
flag 84062 term 55 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
flag 96324 term 55 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
flag 27044 term 55 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46923 term 55 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
flag 57452 term 55 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
flag 86462 term 55 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
flag 3869 term 55 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
flag 29231 term 55 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
flag 43220 term 55 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
flag 73564 term 55 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
flag 35142 term 55 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
flag 70587 term 55 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
flag 673 term 55 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
flag 58372 term 55 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
flag 18573 term 55 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
flag 92883 term 55 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
flag 21763 term 55 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25790 term 55 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
flag 85281 term 55 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
flag 71312 term 55 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
flag 92928 term 55 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305}]
------------------------------------------------------
client write log 4549341899343990890 (index 306) to leader 2
flag 19020 term 55 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
flag 7264 term 55 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305} {4549341899343990890 55 306}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305} {4549341899343990890 55 306}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33251 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
flag 20979 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305} {4549341899343990890 55 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305} {4549341899343990890 55 306}]
------------------------------------------------------
flag 55638 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
flag 34009 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305} {4549341899343990890 55 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305} {4549341899343990890 55 306}]
------------------------------------------------------
flag 76825 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
flag 67692 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305} {4549341899343990890 55 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305} {4549341899343990890 55 306}]
------------------------------------------------------
flag 74378 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
flag 56028 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305} {4549341899343990890 55 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305} {4549341899343990890 55 306}]
------------------------------------------------------
flag 79586 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
flag 49947 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305} {4549341899343990890 55 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305} {4549341899343990890 55 306}]
------------------------------------------------------
flag 74100 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
flag 30667 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305} {4549341899343990890 55 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305} {4549341899343990890 55 306}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 7728 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
flag 57509 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
flag 55315 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
flag 75312 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
flag 95253 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
flag 77735 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
term 56 server 1 vote for server 0
term 56 server 0 get vote from server 1
term 56 server 0 become leader
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 307->306
------------------------------------------------------
flag 44772 term 56 leader 0 nextIndex[1]: 307  matchIndex[1]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
flag 92217 term 56 leader 0 nextIndex[2]: 307  matchIndex[2]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305} {4549341899343990890 55 306}]
------------------------------------------------------
term 55 leader 2 nextIndex[0]: 0  matchIndex[0]: 306
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 53
------------------------------------------------------
flag 69430 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
client write log 4159519870584603773 (index 307) to leader 0
flag 80079 term 56 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 56 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
flag 65989 term 56 leader 0 nextIndex[2]: 307  matchIndex[2]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305} {4549341899343990890 55 306} {4159519870584603773 56 307}]
------------------------------------------------------
term 55 leader 2 nextIndex[0]: 0  matchIndex[0]: 306
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 53
------------------------------------------------------
flag 16542 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
flag 38489 term 56 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 56 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 56 leaderCommit: 307 
------------------------------------------------------
flag 32481 term 56 leader 0 nextIndex[2]: 307  matchIndex[2]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305} {4549341899343990890 55 306} {4159519870584603773 56 307}]
------------------------------------------------------
term 55 leader 2 nextIndex[0]: 0  matchIndex[0]: 306
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 53
------------------------------------------------------
flag 81791 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
client write log 7744350603101450084 (index 308) to leader 0
client write log 3891093403407654654 (index 309) to leader 0
client write log 5824248234869302349 (index 310) to leader 0
client write log 2395990854439268053 (index 311) to leader 0
client write log 3544408507045134498 (index 312) to leader 0
client write log 7678118904541650457 (index 313) to leader 0
client write log 7151387280046759160 (index 314) to leader 0
flag 51634 term 56 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 56 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 56 leaderCommit: 307 
------------------------------------------------------
flag 29258 term 56 leader 0 nextIndex[2]: 307  matchIndex[2]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 53 299} {4181247490423223063 53 300} {8774904365616893509 53 301} {7742547184456585550 53 302} {3397818786509742613 53 303} {6894915033396919356 53 304} {4549341899343990890 53 305} {4549341899343990890 55 306} {4159519870584603773 56 307} {7744350603101450084 56 308} {3891093403407654654 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
term 56 Server0 start snapshot! index=309
term 56 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=314
-------------------------------------------------------------
term 55 leader 2 nextIndex[0]: 0  matchIndex[0]: 306
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 53
------------------------------------------------------
flag 62178 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
flag 19499 term 56 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
term 56 leader 0 nextIndex[2]: 307  matchIndex[2]: 0
term 56 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 56
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
term 56 Server1 start snapshot! index=309
term 56 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=314
-------------------------------------------------------------
term 55 leader 2 nextIndex[0]: 0  matchIndex[0]: 306
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 53
------------------------------------------------------
flag 1751 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 55 leaderCommit: 306 
------------------------------------------------------
!!!!!!connect server 2
client write log 6567834527819451780 (index 307) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 307->306
------------------------------------------------------
flag 55994 term 56 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
term 56 leader 0 nextIndex[2]: 307  matchIndex[2]: 0
term 56 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 56
------------------------------------------------------
term 56 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 56 rf.commitIndex 309 rf.lastApplied 309
term 56 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
term 56 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
flag 56734 term 56 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
flag 90348 term 56 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 56 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
flag 79175 term 56 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
flag 38006 term 56 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
flag 56718 term 56 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
flag 75913 term 56 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86662 term 56 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
flag 55395 term 56 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
flag 23129 term 56 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
flag 48050 term 56 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
flag 19118 term 56 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
flag 5281 term 56 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
flag 39843 term 56 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
flag 19543 term 56 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
flag 91216 term 56 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
flag 68924 term 56 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51561 term 56 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
flag 52397 term 56 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
flag 39441 term 56 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
flag 86425 term 56 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50416 term 56 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
flag 1640 term 56 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
flag 6103 term 56 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
flag 53135 term 56 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
flag 58269 term 56 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
flag 70462 term 56 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
flag 77466 term 56 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
flag 49075 term 56 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
flag 39670 term 56 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
flag 45468 term 56 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
term 56 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
flag 62322 term 56 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
flag 68677 term 56 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 56 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
flag 62065 term 56 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
flag 66157 term 56 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
flag 91429 term 56 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
flag 86398 term 56 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
flag 23634 term 56 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
flag 78288 term 56 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314}]
------------------------------------------------------
client write log 6567834527819451780 (index 315) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77973 term 56 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
flag 30543 term 56 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 56 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314} {6567834527819451780 56 315}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314} {6567834527819451780 56 315}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17525 term 56 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 56 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 56 leaderCommit: 315 
------------------------------------------------------
flag 54382 term 56 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 56 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 56 leaderCommit: 315 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314} {6567834527819451780 56 315}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314} {6567834527819451780 56 315}]
------------------------------------------------------
flag 51886 term 56 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 56 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 56 leaderCommit: 315 
------------------------------------------------------
flag 19298 term 56 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 56 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 56 leaderCommit: 315 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314} {6567834527819451780 56 315}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314} {6567834527819451780 56 315}]
------------------------------------------------------
flag 6841 term 56 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 56 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 56 leaderCommit: 315 
------------------------------------------------------
flag 51204 term 56 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 56 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 56 leaderCommit: 315 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314} {6567834527819451780 56 315}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314} {6567834527819451780 56 315}]
------------------------------------------------------
term 56 server 2 not vote for server 0, 日志不够新
term 56 server 0 get outdate rpc reply from server 2
flag 35524 term 56 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 56 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 56 leaderCommit: 315 
------------------------------------------------------
flag 35448 term 56 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 56 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 56 leaderCommit: 315 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314} {6567834527819451780 56 315}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314} {6567834527819451780 56 315}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 316->315
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97556 term 56 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 56 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 56 leaderCommit: 315 
------------------------------------------------------
term 56 leader 0 nextIndex[2]: 0  matchIndex[2]: 315
term 56 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 56
------------------------------------------------------
term 56 server 2 InstallSnapshot fail
rf.commitIndex 315 args.LastIncludedIndex 309
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
term 56 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314} {6567834527819451780 56 315}]
------------------------------------------------------
flag 28081 term 56 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 56 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 56 leaderCommit: 315 
------------------------------------------------------
flag 29749 term 56 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 56 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 56 leaderCommit: 315 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314} {6567834527819451780 56 315}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314} {6567834527819451780 56 315}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6874394637047890423 (index 316) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35581 term 56 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 56 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 56 leaderCommit: 315 
------------------------------------------------------
flag 16831 term 56 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 56 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 56 leaderCommit: 315 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314} {6567834527819451780 56 315} {6874394637047890423 56 316}]
------------------------------------------------------
flag 3250 term 56 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 56 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
flag 2477 term 56 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314} {6567834527819451780 56 315} {6874394637047890423 56 316}]
------------------------------------------------------
client write log 8097278169044934183 (index 317) to leader 0
client write log 832558777647617744 (index 318) to leader 0
client write log 7055091983840136693 (index 319) to leader 0
client write log 3630484189577943847 (index 320) to leader 0
client write log 3906978150421389710 (index 321) to leader 0
client write log 2689444381242714033 (index 322) to leader 0
client write log 235481591841364175 (index 323) to leader 0
client write log 171617474558411943 (index 324) to leader 0
client write log 3235808265876171870 (index 325) to leader 0
client write log 5007297882029310251 (index 326) to leader 0
client write log 1219434364883716824 (index 327) to leader 0
client write log 5798414720166904411 (index 328) to leader 0
client write log 1588185364355436838 (index 329) to leader 0
client write log 1299857889218762002 (index 330) to leader 0
term 56 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52193 term 56 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 56 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
flag 85911 term 56 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 56 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 56 leaderCommit: 316 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 56 309} {5824248234869302349 56 310} {2395990854439268053 56 311} {3544408507045134498 56 312} {7678118904541650457 56 313} {7151387280046759160 56 314} {6567834527819451780 56 315} {6874394637047890423 56 316} {8097278169044934183 56 317} {832558777647617744 56 318} {7055091983840136693 56 319} {3630484189577943847 56 320} {3906978150421389710 56 321} {2689444381242714033 56 322} {235481591841364175 56 323} {171617474558411943 56 324} {3235808265876171870 56 325} {5007297882029310251 56 326} {1219434364883716824 56 327} {5798414720166904411 56 328} {1588185364355436838 56 329} {1299857889218762002 56 330}]
------------------------------------------------------
term 56 Server0 start snapshot! index=319
term 56 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=330
-------------------------------------------------------------
term 56 Server0 start snapshot! index=329
term 56 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
term 56 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 56 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 56
------------------------------------------------------
flag 66074 term 56 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 56 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330}]
------------------------------------------------------
term 56 Server2 start snapshot! index=319
term 56 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=330
-------------------------------------------------------------
term 56 Server2 start snapshot! index=329
term 56 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3503752343434633736 (index 331) to leader 0
term 56 server 2 not vote for server 1, 日志不够新
term 56 server 0 not vote for server 1, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 58 server 2 vote for server 0
term 58 server 0 get vote from server 2
term 58 server 1 vote for server 0
term 58 server 0 become leader
------------------------------------------------------
term 58 server 0 get outdate rpc reply from server 1
flag 87397 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 59383 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 332->331
------------------------------------------------------
term 58 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 332->331
------------------------------------------------------
term 58 leader 0 nextIndex[1]: 316  matchIndex[1]: 0
term 58 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 56
------------------------------------------------------
flag 77891 term 58 leader 0 nextIndex[2]: 331  matchIndex[2]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
term 58 server 1 InstallSnapshot success
------------------------------------------------------
term 58 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 56 rf.commitIndex 329 rf.lastApplied 329
flag 83459 term 58 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 47971 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
flag 13168 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 51035 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
flag 54742 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 84689 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
flag 47546 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 84736 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
flag 79502 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 58388 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93502 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 64262 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
flag 11542 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 95939 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
flag 93001 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 23560 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
flag 13885 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 30786 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
term 58 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
flag 45546 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 10742 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
flag 24799 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 52542 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
flag 70548 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 4645 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67653 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 75460 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
flag 18524 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 60258 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
flag 24373 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 45353 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
flag 38112 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 7569 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69157 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 66577 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
flag 23901 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 9622 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331}]
------------------------------------------------------
client write log 3503752343434633736 (index 332) to leader 0
flag 64006 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 46676 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331} {3503752343434633736 58 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331} {3503752343434633736 58 332}]
------------------------------------------------------
flag 76581 term 58 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 58 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 3049 term 58 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 58 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331} {3503752343434633736 58 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331} {3503752343434633736 58 332}]
------------------------------------------------------
term 58 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50169 term 58 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 58 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 35770 term 58 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 58 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
term 58 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
update leader CommitIndex=332
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331} {3503752343434633736 58 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331} {3503752343434633736 58 332}]
------------------------------------------------------
flag 36214 term 58 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 58 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 93624 term 58 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 58 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331} {3503752343434633736 58 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331} {3503752343434633736 58 332}]
------------------------------------------------------
flag 33797 term 58 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 58 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 80817 term 58 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 58 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331} {3503752343434633736 58 332}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331} {3503752343434633736 58 332}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75510 term 58 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 58 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 84503 term 58 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 58 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331} {3503752343434633736 58 332}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 56 329} {1299857889218762002 56 330} {3503752343434633736 56 331} {3503752343434633736 58 332}]
------------------------------------------------------
  ... Passed --  82.7  3 1891  861458  332
--- PASS: TestSnapshotInstall2D (82.70s)
PASS
