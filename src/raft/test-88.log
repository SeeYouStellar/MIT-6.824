=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 0 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 1 get outdate rpc reply from server 0
flag 62231 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 55168 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 3272994713676484563 (index 1) to leader 1
flag 56742 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 46617 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3272994713676484563 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3272994713676484563 1 1}]
------------------------------------------------------
flag 97703 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 68640 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3272994713676484563 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3272994713676484563 1 1}]
------------------------------------------------------
flag 45879 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 66946 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3272994713676484563 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3272994713676484563 1 1}]
------------------------------------------------------
flag 43778 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 27383 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3272994713676484563 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3272994713676484563 1 1}]
------------------------------------------------------
flag 27112 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 65986 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3272994713676484563 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3272994713676484563 1 1}]
------------------------------------------------------
flag 26030 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 45881 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3272994713676484563 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3272994713676484563 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 60184 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 52562 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
client write log 1845700262188721001 (index 2) to leader 1
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3272994713676484563 1 1} {1845700262188721001 1 2}]
------------------------------------------------------
flag 23992 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 21466 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {3272994713676484563 1 1} {1845700262188721001 1 2}]
------------------------------------------------------
flag 6275 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 40932 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {3272994713676484563 1 1} {1845700262188721001 1 2}]
------------------------------------------------------
client write log 7236233790135100984 (index 3) to leader 1
client write log 3815364841973154256 (index 4) to leader 1
client write log 5820972969669824236 (index 5) to leader 1
client write log 8928377810433496829 (index 6) to leader 1
client write log 3748828743285856188 (index 7) to leader 1
client write log 8218815206235218436 (index 8) to leader 1
client write log 206184355026787279 (index 9) to leader 1
client write log 7631637540417733920 (index 10) to leader 1
flag 68419 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 59221 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {3272994713676484563 1 1} {1845700262188721001 1 2} {7236233790135100984 1 3} {3815364841973154256 1 4} {5820972969669824236 1 5} {8928377810433496829 1 6} {3748828743285856188 1 7} {8218815206235218436 1 8} {206184355026787279 1 9} {7631637540417733920 1 10}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 23553 term 1 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 1 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2355349130036444883 (index 11) to leader 1
flag 85873 term 1 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 1 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 2 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 3 server 0 vote for server 1
term 3 server 1 get vote from server 0
term 3 server 2 vote for server 1
term 3 server 1 become leader
------------------------------------------------------
term 3 server 1 get outdate rpc reply from server 2
flag 39840 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 12298 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 12->11
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
flag 77231 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
flag 43590 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 27861 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
flag 90437 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 52089 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
flag 62561 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 48146 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92865 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 48235 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
flag 96549 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 78333 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
flag 29938 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 43143 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
flag 21344 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 71025 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
flag 88951 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 59035 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56090 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 44260 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14480 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 6602 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
flag 95881 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 7623 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
flag 73274 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 86049 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
flag 15114 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 77925 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
flag 54650 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 52026 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
flag 76770 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 24314 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
flag 47960 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 41088 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
flag 12893 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 17266 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11}]
------------------------------------------------------
client write log 2355349130036444883 (index 12) to leader 1
flag 51690 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 72104 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11} {2355349130036444883 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11} {2355349130036444883 3 12}]
------------------------------------------------------
flag 58941 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 95908 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11} {2355349130036444883 3 12}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11} {2355349130036444883 3 12}]
------------------------------------------------------
flag 911 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 4451 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11} {2355349130036444883 3 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11} {2355349130036444883 3 12}]
------------------------------------------------------
flag 34653 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 59819 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11} {2355349130036444883 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11} {2355349130036444883 3 12}]
------------------------------------------------------
flag 40432 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 40472 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11} {2355349130036444883 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11} {2355349130036444883 3 12}]
------------------------------------------------------
flag 73022 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 60609 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11} {2355349130036444883 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11} {2355349130036444883 3 12}]
------------------------------------------------------
flag 79610 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 27315 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11} {2355349130036444883 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11} {2355349130036444883 3 12}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 75560 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 84516 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 29287 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 43871 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 63661 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 24735 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 vote for server 2
term 4 server 2 get vote from server 0
term 4 server 2 become leader
------------------------------------------------------
flag 43631 term 4 leader 2 nextIndex[0]: 13  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 90489 term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11} {2355349130036444883 3 12}]
------------------------------------------------------
flag 35028 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 17437 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
client write log 5150541467311373635 (index 13) to leader 2
flag 35803 term 4 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 85846 term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11} {2355349130036444883 3 12} {5150541467311373635 4 13}]
------------------------------------------------------
flag 53815 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 37927 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 3176 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 77683 term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11} {2355349130036444883 3 12} {5150541467311373635 4 13}]
------------------------------------------------------
client write log 2224699554230559298 (index 14) to leader 2
client write log 3793211166290294725 (index 15) to leader 2
client write log 5784195892286422641 (index 16) to leader 2
client write log 1993804577376582854 (index 17) to leader 2
client write log 8227681825401321138 (index 18) to leader 2
client write log 3224725158649501180 (index 19) to leader 2
client write log 8841169715986270317 (index 20) to leader 2
client write log 4766644243696629944 (index 21) to leader 2
client write log 1348980984402731837 (index 22) to leader 2
client write log 8470100405312065472 (index 23) to leader 2
client write log 3495103124545633975 (index 24) to leader 2
client write log 1022916084857076947 (index 25) to leader 2
client write log 5726277833316563891 (index 26) to leader 2
client write log 7018568586840012858 (index 27) to leader 2
flag 3414 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 85537 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 21809 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 12940 term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 1 9} {7631637540417733920 1 10} {2355349130036444883 1 11} {2355349130036444883 3 12} {5150541467311373635 4 13} {2224699554230559298 4 14} {3793211166290294725 4 15} {5784195892286422641 4 16} {1993804577376582854 4 17} {8227681825401321138 4 18} {3224725158649501180 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=27
-------------------------------------------------------------
flag 58233 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 49766 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 13->12
------------------------------------------------------
flag 3536 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=27
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7765657496819074672 (index 13) to leader 1
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 12
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 20005 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 3 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52895 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
term 4 server 0 not vote for server 1, 日志不够新
term 4 server 2 not vote for server 1, 日志不够新
term 6 server 1 vote for server 2
term 6 server 0 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 2 get outdate rpc reply from server 0
flag 83529 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 97635 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 28->27
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
flag 2615 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 40402 term 6 leader 2 nextIndex[1]: 20  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93071 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 57062 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
flag 72146 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 18414 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69249 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 59641 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
flag 94722 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 95636 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
flag 81535 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 21066 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
flag 95393 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 76469 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51644 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 47699 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41152 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 79235 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
flag 46040 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 12815 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86621 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 69448 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
flag 39776 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 80430 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 1 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 1
flag 85224 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 34323 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
flag 5673 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 26539 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25377 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 54470 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
flag 15439 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 1658 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77257 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 15525 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
flag 22296 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 45039 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27}]
------------------------------------------------------
client write log 7765657496819074672 (index 28) to leader 2
term 6 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83059 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 27665 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27} {7765657496819074672 6 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27} {7765657496819074672 6 28}]
------------------------------------------------------
term 6 server 0 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 0
flag 21781 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 68471 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27} {7765657496819074672 6 28}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27} {7765657496819074672 6 28}]
------------------------------------------------------
flag 70682 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 98142 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27} {7765657496819074672 6 28}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27} {7765657496819074672 6 28}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18781 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 83630 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27} {7765657496819074672 6 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27} {7765657496819074672 6 28}]
------------------------------------------------------
term 6 server 1 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 1
flag 24816 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 49493 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27} {7765657496819074672 6 28}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27} {7765657496819074672 6 28}]
------------------------------------------------------
flag 77007 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 63654 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27} {7765657496819074672 6 28}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27} {7765657496819074672 6 28}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6489718790330192094 (index 29) to leader 2
flag 8726 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 64022 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 19} {8841169715986270317 4 20} {4766644243696629944 4 21} {1348980984402731837 4 22} {8470100405312065472 4 23} {3495103124545633975 4 24} {1022916084857076947 4 25} {5726277833316563891 4 26} {7018568586840012858 4 27} {7765657496819074672 6 28} {6489718790330192094 6 29}]
------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 85239 term 6 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
client write log 1321066012436977675 (index 30) to leader 2
client write log 540862861921437544 (index 31) to leader 2
client write log 570774605620479928 (index 32) to leader 2
client write log 8386583291724863673 (index 33) to leader 2
client write log 2138790974946167798 (index 34) to leader 2
client write log 483503742789857187 (index 35) to leader 2
client write log 852028118379147199 (index 36) to leader 2
term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 14476 term 6 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {1321066012436977675 6 30} {540862861921437544 6 31} {570774605620479928 6 32} {8386583291724863673 6 33} {2138790974946167798 6 34} {483503742789857187 6 35} {852028118379147199 6 36}]
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 83652 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {1321066012436977675 6 30} {540862861921437544 6 31} {570774605620479928 6 32} {8386583291724863673 6 33} {2138790974946167798 6 34} {483503742789857187 6 35} {852028118379147199 6 36}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2753803509976122357 (index 37) to leader 2
term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 86928 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {1321066012436977675 6 30} {540862861921437544 6 31} {570774605620479928 6 32} {8386583291724863673 6 33} {2138790974946167798 6 34} {483503742789857187 6 35} {852028118379147199 6 36} {2753803509976122357 6 37}]
------------------------------------------------------
term 7 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 1 vote for server 2
term 8 server 0 vote for server 2
term 8 server 2 get vote from server 1
term 8 server 2 become leader
------------------------------------------------------
term 8 server 2 get outdate rpc reply from server 0
flag 82882 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 57448 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {1321066012436977675 6 30} {540862861921437544 6 31} {570774605620479928 6 32} {8386583291724863673 6 33} {2138790974946167798 6 34} {483503742789857187 6 35} {852028118379147199 6 36} {2753803509976122357 6 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 38->37
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 29  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 65596 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 0 InstallSnapshot success
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
Server0 get CondInstallSnapshot!
[{snapshot 6 29} {1321066012436977675 6 30} {540862861921437544 6 31} {570774605620479928 6 32} {8386583291724863673 6 33} {2138790974946167798 6 34} {483503742789857187 6 35} {852028118379147199 6 36} {2753803509976122357 6 37}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
rf.lastIncludedIndex 29 rf.lastIncludedTerm 6 rf.commitIndex 29 rf.lastApplied 29
flag 18390 term 8 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 8 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 18606 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {1321066012436977675 6 30} {540862861921437544 6 31} {570774605620479928 6 32} {8386583291724863673 6 33} {2138790974946167798 6 34} {483503742789857187 6 35} {852028118379147199 6 36} {2753803509976122357 6 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {1321066012436977675 6 30} {540862861921437544 6 31} {570774605620479928 6 32} {8386583291724863673 6 33} {2138790974946167798 6 34} {483503742789857187 6 35} {852028118379147199 6 36} {2753803509976122357 6 37}]
------------------------------------------------------
flag 69383 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 41666 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {1321066012436977675 6 30} {540862861921437544 6 31} {570774605620479928 6 32} {8386583291724863673 6 33} {2138790974946167798 6 34} {483503742789857187 6 35} {852028118379147199 6 36} {2753803509976122357 6 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {1321066012436977675 6 30} {540862861921437544 6 31} {570774605620479928 6 32} {8386583291724863673 6 33} {2138790974946167798 6 34} {483503742789857187 6 35} {852028118379147199 6 36} {2753803509976122357 6 37}]
------------------------------------------------------
flag 2547 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 42190 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {1321066012436977675 6 30} {540862861921437544 6 31} {570774605620479928 6 32} {8386583291724863673 6 33} {2138790974946167798 6 34} {483503742789857187 6 35} {852028118379147199 6 36} {2753803509976122357 6 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {1321066012436977675 6 30} {540862861921437544 6 31} {570774605620479928 6 32} {8386583291724863673 6 33} {2138790974946167798 6 34} {483503742789857187 6 35} {852028118379147199 6 36} {2753803509976122357 6 37}]
------------------------------------------------------
flag 993 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 34027 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {1321066012436977675 6 30} {540862861921437544 6 31} {570774605620479928 6 32} {8386583291724863673 6 33} {2138790974946167798 6 34} {483503742789857187 6 35} {852028118379147199 6 36} {2753803509976122357 6 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {1321066012436977675 6 30} {540862861921437544 6 31} {570774605620479928 6 32} {8386583291724863673 6 33} {2138790974946167798 6 34} {483503742789857187 6 35} {852028118379147199 6 36} {2753803509976122357 6 37}]
------------------------------------------------------
term 8 server 2 not vote for server 0, 任期不够新
term 8 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48354 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 99765 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {1321066012436977675 6 30} {540862861921437544 6 31} {570774605620479928 6 32} {8386583291724863673 6 33} {2138790974946167798 6 34} {483503742789857187 6 35} {852028118379147199 6 36} {2753803509976122357 6 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {1321066012436977675 6 30} {540862861921437544 6 31} {570774605620479928 6 32} {8386583291724863673 6 33} {2138790974946167798 6 34} {483503742789857187 6 35} {852028118379147199 6 36} {2753803509976122357 6 37}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25776 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 51205 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {1321066012436977675 6 30} {540862861921437544 6 31} {570774605620479928 6 32} {8386583291724863673 6 33} {2138790974946167798 6 34} {483503742789857187 6 35} {852028118379147199 6 36} {2753803509976122357 6 37}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {1321066012436977675 6 30} {540862861921437544 6 31} {570774605620479928 6 32} {8386583291724863673 6 33} {2138790974946167798 6 34} {483503742789857187 6 35} {852028118379147199 6 36} {2753803509976122357 6 37}]
------------------------------------------------------
flag 1621 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 15725 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {1321066012436977675 6 30} {540862861921437544 6 31} {570774605620479928 6 32} {8386583291724863673 6 33} {2138790974946167798 6 34} {483503742789857187 6 35} {852028118379147199 6 36} {2753803509976122357 6 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {1321066012436977675 6 30} {540862861921437544 6 31} {570774605620479928 6 32} {8386583291724863673 6 33} {2138790974946167798 6 34} {483503742789857187 6 35} {852028118379147199 6 36} {2753803509976122357 6 37}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5860346094033827406 (index 38) to leader 2
flag 57033 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 82704 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1321066012436977675 6 30} {540862861921437544 6 31} {570774605620479928 6 32} {8386583291724863673 6 33} {2138790974946167798 6 34} {483503742789857187 6 35} {852028118379147199 6 36} {2753803509976122357 6 37} {5860346094033827406 8 38}]
------------------------------------------------------
flag 14753 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 25703 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1321066012436977675 6 30} {540862861921437544 6 31} {570774605620479928 6 32} {8386583291724863673 6 33} {2138790974946167798 6 34} {483503742789857187 6 35} {852028118379147199 6 36} {2753803509976122357 6 37} {5860346094033827406 8 38}]
------------------------------------------------------
client write log 7792924995300793658 (index 39) to leader 2
client write log 2055402746985105899 (index 40) to leader 2
client write log 4238614015717797471 (index 41) to leader 2
client write log 676149682064724502 (index 42) to leader 2
client write log 1213206625248509892 (index 43) to leader 2
client write log 2746108782788119224 (index 44) to leader 2
client write log 9165815721972702243 (index 45) to leader 2
client write log 8927649491554540845 (index 46) to leader 2
client write log 806233251108735550 (index 47) to leader 2
client write log 3399010295100291121 (index 48) to leader 2
client write log 2517368619269906601 (index 49) to leader 2
client write log 8697639500520263158 (index 50) to leader 2
client write log 6732605191786478982 (index 51) to leader 2
client write log 7312383697074245372 (index 52) to leader 2
client write log 4283840483757890907 (index 53) to leader 2
flag 89031 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 66718 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 29} {1321066012436977675 6 30} {540862861921437544 6 31} {570774605620479928 6 32} {8386583291724863673 6 33} {2138790974946167798 6 34} {483503742789857187 6 35} {852028118379147199 6 36} {2753803509976122357 6 37} {5860346094033827406 8 38} {7792924995300793658 8 39} {2055402746985105899 8 40} {4238614015717797471 8 41} {676149682064724502 8 42} {1213206625248509892 8 43} {2746108782788119224 8 44} {9165815721972702243 8 45} {8927649491554540845 8 46} {806233251108735550 8 47} {3399010295100291121 8 48} {2517368619269906601 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53}]
------------------------------------------------------
term 8 Server2 start snapshot! index=39
term 8 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=53
-------------------------------------------------------------
term 8 Server2 start snapshot! index=49
term 8 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=53
-------------------------------------------------------------
term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 96555 term 8 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 8 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53}]
------------------------------------------------------
term 8 Server1 start snapshot! index=39
term 8 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=53
-------------------------------------------------------------
term 8 Server1 start snapshot! index=49
term 8 server1 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=53
-------------------------------------------------------------
!!!!!!connect server 0
client write log 781222377381663844 (index 54) to leader 2
term 8 server 2 not vote for server 0, 日志不够新
term 8 server 1 not vote for server 0, 日志不够新
term 10 server 1 vote for server 2
term 10 server 0 vote for server 2
term 10 server 2 get vote from server 1
term 10 server 2 become leader
------------------------------------------------------
term 10 server 2 get outdate rpc reply from server 0
flag 76192 term 10 leader 2 nextIndex[0]: 55  matchIndex[0]: 0
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 30019 term 10 leader 2 nextIndex[1]: 55  matchIndex[1]: 0
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 55->54
------------------------------------------------------
term 10 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 55->54
------------------------------------------------------
term 10 leader 2 nextIndex[0]: 38  matchIndex[0]: 0
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 18125 term 10 leader 2 nextIndex[1]: 54  matchIndex[1]: 0
term 10 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
term 10 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
term 10 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 8 rf.commitIndex 49 rf.lastApplied 49
flag 3109 term 10 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 93473 term 10 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
flag 54216 term 10 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 7452 term 10 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26121 term 10 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 28453 term 10 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
flag 15366 term 10 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 8970 term 10 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41415 term 10 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 81759 term 10 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
flag 32991 term 10 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 70714 term 10 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
flag 33002 term 10 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 31372 term 10 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55640 term 10 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 37742 term 10 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
flag 41012 term 10 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 6540 term 10 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
flag 87298 term 10 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 4561 term 10 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
flag 85051 term 10 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 75309 term 10 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18373 term 10 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 9723 term 10 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
flag 16960 term 10 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 10047 term 10 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75795 term 10 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 9001 term 10 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
flag 18735 term 10 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 2626 term 10 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22953 term 10 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 58704 term 10 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
flag 17419 term 10 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 66780 term 10 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
flag 16318 term 10 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 24887 term 10 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54}]
------------------------------------------------------
client write log 781222377381663844 (index 55) to leader 2
flag 81115 term 10 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 72922 term 10 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54} {781222377381663844 10 55}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54} {781222377381663844 10 55}]
------------------------------------------------------
flag 68770 term 10 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 98788 term 10 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54} {781222377381663844 10 55}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54} {781222377381663844 10 55}]
------------------------------------------------------
flag 53566 term 10 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 55722 term 10 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54} {781222377381663844 10 55}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54} {781222377381663844 10 55}]
------------------------------------------------------
term 10 server 1 not vote for server 0, 任期不够新
term 10 server 0 get outdate rpc reply from server 1
flag 10160 term 10 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 49926 term 10 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54} {781222377381663844 10 55}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54} {781222377381663844 10 55}]
------------------------------------------------------
flag 69242 term 10 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 47930 term 10 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54} {781222377381663844 10 55}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54} {781222377381663844 10 55}]
------------------------------------------------------
flag 14084 term 10 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 59115 term 10 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54} {781222377381663844 10 55}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54} {781222377381663844 10 55}]
------------------------------------------------------
flag 98924 term 10 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 46309 term 10 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54} {781222377381663844 10 55}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54} {781222377381663844 10 55}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 62030 term 10 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 12603 term 10 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 18380 term 10 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 57249 term 10 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 8738 term 10 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 55627 term 10 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 43405 term 10 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 43973 term 10 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
term 11 server 1 vote for server 0
term 11 server 0 get vote from server 1
term 11 server 0 become leader
------------------------------------------------------
flag 89108 term 11 leader 0 nextIndex[1]: 56  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 56325 term 11 leader 0 nextIndex[2]: 56  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54} {781222377381663844 10 55}]
------------------------------------------------------
client write log 3417283013414656400 (index 56) to leader 0
flag 903 term 10 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 53992 term 10 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 91940 term 11 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 11 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 98197 term 11 leader 0 nextIndex[2]: 56  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54} {781222377381663844 10 55} {3417283013414656400 11 56}]
------------------------------------------------------
flag 54420 term 10 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 22062 term 10 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 91773 term 11 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 11 leaderCommit: 56 
------------------------------------------------------
flag 51760 term 11 leader 0 nextIndex[2]: 56  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54} {781222377381663844 10 55} {3417283013414656400 11 56}]
------------------------------------------------------
client write log 3617283120000374367 (index 57) to leader 0
client write log 5893845242724794475 (index 58) to leader 0
client write log 896024633013246694 (index 59) to leader 0
client write log 2326811830542060000 (index 60) to leader 0
client write log 8154673405343038584 (index 61) to leader 0
client write log 3257303631272031744 (index 62) to leader 0
client write log 1626383949525381994 (index 63) to leader 0
client write log 7746284809255960825 (index 64) to leader 0
client write log 7554469690686046358 (index 65) to leader 0
client write log 8992161209622720155 (index 66) to leader 0
client write log 6825550707574677902 (index 67) to leader 0
client write log 8227176493749426258 (index 68) to leader 0
client write log 5880210138764101197 (index 69) to leader 0
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 56->55
------------------------------------------------------
flag 58667 term 10 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
term 10 leader 2 nextIndex[1]: 0  matchIndex[1]: 55
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 33431 term 11 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 11 leaderCommit: 56 
------------------------------------------------------
flag 71458 term 11 leader 0 nextIndex[2]: 56  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 8 49} {8697639500520263158 8 50} {6732605191786478982 8 51} {7312383697074245372 8 52} {4283840483757890907 8 53} {781222377381663844 8 54} {781222377381663844 10 55} {3417283013414656400 11 56} {3617283120000374367 11 57} {5893845242724794475 11 58} {896024633013246694 11 59} {2326811830542060000 11 60} {8154673405343038584 11 61} {3257303631272031744 11 62} {1626383949525381994 11 63} {7746284809255960825 11 64} {7554469690686046358 11 65} {8992161209622720155 11 66} {6825550707574677902 11 67} {8227176493749426258 11 68} {5880210138764101197 11 69}]
------------------------------------------------------
term 11 Server0 start snapshot! index=59
term 11 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=69
-------------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
flag 63966 term 10 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
term 10 leader 2 nextIndex[1]: 0  matchIndex[1]: 55
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 54606 term 11 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 leader 0 nextIndex[2]: 56  matchIndex[2]: 0
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 11 Server1 start snapshot! index=59
term 11 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=69
-------------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3817456101127829687 (index 56) to leader 2
flag 45370 term 10 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
term 10 leader 2 nextIndex[1]: 0  matchIndex[1]: 55
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 11 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 10 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 0 AppendEntries false 领导者任期过期 args.Term 10
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18567 term 11 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 leader 0 nextIndex[2]: 56  matchIndex[2]: 0
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 2 InstallSnapshot success
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
term 11 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 12 server 1 vote for server 2
term 12 server 2 get vote from server 1
term 12 server 2 become leader
------------------------------------------------------
term 12 server 0 vote for server 2
term 12 server 2 get outdate rpc reply from server 0
flag 67275 term 12 leader 2 nextIndex[0]: 70  matchIndex[0]: 0
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 41430 term 12 leader 2 nextIndex[1]: 70  matchIndex[1]: 0
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 54967 term 12 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 16552 term 12 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 52567 term 12 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 10020 term 12 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 52934 term 12 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 89143 term 12 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 40269 term 12 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 23885 term 12 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 16205 term 12 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 91300 term 12 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 24157 term 12 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 20386 term 12 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 19507 term 12 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 55874 term 12 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32698 term 12 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 39452 term 12 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 55427 term 12 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 19521 term 12 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 12 server 2 not vote for server 0, 任期不够新
term 12 server 0 get outdate rpc reply from server 2
flag 67786 term 12 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 67496 term 12 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 39606 term 12 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 93966 term 12 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28436 term 12 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 55779 term 12 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 12 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74132 term 12 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 29768 term 12 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 55990 term 12 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 6663 term 12 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 51391 term 12 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 6838 term 12 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 26719 term 12 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 99335 term 12 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 46349 term 12 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 31383 term 12 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99652 term 12 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 73500 term 12 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
client write log 3817456101127829687 (index 70) to leader 2
flag 72826 term 12 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 52763 term 12 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader log:
[{snapshot 11 69} {3817456101127829687 12 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {3817456101127829687 12 70}]
------------------------------------------------------
term 12 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40566 term 12 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 12 leaderCommit: 70 
------------------------------------------------------
flag 42591 term 12 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 12 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 12 leaderCommit: 70 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {3817456101127829687 12 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {3817456101127829687 12 70}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50356 term 12 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 12 leaderCommit: 70 
------------------------------------------------------
flag 25124 term 12 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 12 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 12 leaderCommit: 70 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {3817456101127829687 12 70}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {3817456101127829687 12 70}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6925 term 12 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 12 leaderCommit: 70 
------------------------------------------------------
flag 39140 term 12 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 12 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 12 leaderCommit: 70 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {3817456101127829687 12 70}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {3817456101127829687 12 70}]
------------------------------------------------------
term 12 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15594 term 12 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 12 leaderCommit: 70 
------------------------------------------------------
flag 83111 term 12 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 12 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 12 leaderCommit: 70 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {3817456101127829687 12 70}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {3817456101127829687 12 70}]
------------------------------------------------------
flag 30616 term 12 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 12 leaderCommit: 70 
------------------------------------------------------
flag 18223 term 12 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 12 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 12 leaderCommit: 70 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {3817456101127829687 12 70}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {3817456101127829687 12 70}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 588210600076666269 (index 71) to leader 2
flag 8867 term 12 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 12 leaderCommit: 70 
------------------------------------------------------
flag 59478 term 12 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 12 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 12 leaderCommit: 70 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {3817456101127829687 12 70} {588210600076666269 12 71}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19244 term 12 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
flag 52767 term 12 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 12 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {3817456101127829687 12 70} {588210600076666269 12 71}]
------------------------------------------------------
client write log 251540818705599669 (index 72) to leader 2
client write log 6923833011455358277 (index 73) to leader 2
client write log 5608519489336886843 (index 74) to leader 2
client write log 7696385153126901511 (index 75) to leader 2
client write log 2559437060901465290 (index 76) to leader 2
client write log 5914632892409221584 (index 77) to leader 2
client write log 1671344432230621928 (index 78) to leader 2
client write log 1827513024341475179 (index 79) to leader 2
client write log 8699640165556996773 (index 80) to leader 2
flag 79636 term 12 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
flag 55068 term 12 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 12 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 69} {3817456101127829687 12 70} {588210600076666269 12 71} {251540818705599669 12 72} {6923833011455358277 12 73} {5608519489336886843 12 74} {7696385153126901511 12 75} {2559437060901465290 12 76} {5914632892409221584 12 77} {1671344432230621928 12 78} {1827513024341475179 12 79} {8699640165556996773 12 80}]
------------------------------------------------------
term 12 Server2 start snapshot! index=79
term 12 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=80
-------------------------------------------------------------
term 12 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 71401 term 12 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 12 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80}]
------------------------------------------------------
term 12 Server1 start snapshot! index=79
term 12 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=80
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5057989737648234841 (index 81) to leader 2
term 12 server 2 not vote for server 0, 日志不够新
term 12 server 1 not vote for server 0, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 0 vote for server 2
term 14 server 1 vote for server 2
term 14 server 2 get vote from server 0
term 14 server 2 become leader
------------------------------------------------------
term 14 server 2 get outdate rpc reply from server 1
flag 68236 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 27773 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 14 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 82->81
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 82->81
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 2 nextIndex[0]: 71  matchIndex[0]: 0
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 80063 term 14 leader 2 nextIndex[1]: 81  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 14 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 12 rf.commitIndex 79 rf.lastApplied 79
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
flag 9530 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 48331 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
flag 86970 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 5685 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17866 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 13932 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
flag 75872 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 95062 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
flag 89399 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 56908 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16663 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 62088 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
flag 57051 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 26763 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41360 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 76267 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6002 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 25078 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
flag 48477 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 68955 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
flag 75593 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 56743 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
flag 2561 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 25988 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
flag 25571 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 88045 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
flag 27051 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 34931 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
flag 18933 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 65135 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42987 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 33741 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
flag 40777 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 92390 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81}]
------------------------------------------------------
client write log 5057989737648234841 (index 82) to leader 2
flag 85604 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 96825 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81} {5057989737648234841 14 82}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81} {5057989737648234841 14 82}]
------------------------------------------------------
flag 19111 term 14 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 42499 term 14 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81} {5057989737648234841 14 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81} {5057989737648234841 14 82}]
------------------------------------------------------
flag 8159 term 14 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 34976 term 14 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81} {5057989737648234841 14 82}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81} {5057989737648234841 14 82}]
------------------------------------------------------
flag 50988 term 14 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 384 term 14 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81} {5057989737648234841 14 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81} {5057989737648234841 14 82}]
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98539 term 14 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 32130 term 14 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81} {5057989737648234841 14 82}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81} {5057989737648234841 14 82}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32343 term 14 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 79371 term 14 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81} {5057989737648234841 14 82}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81} {5057989737648234841 14 82}]
------------------------------------------------------
flag 11483 term 14 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 84169 term 14 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81} {5057989737648234841 14 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81} {5057989737648234841 14 82}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4725796270669807237 (index 83) to leader 2
flag 64973 term 14 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 74820 term 14 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81} {5057989737648234841 14 82} {4725796270669807237 14 83}]
------------------------------------------------------
flag 67735 term 14 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 35591 term 14 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81} {5057989737648234841 14 82} {4725796270669807237 14 83}]
------------------------------------------------------
client write log 8674785361772260249 (index 84) to leader 2
client write log 3255815236513089713 (index 85) to leader 2
client write log 6173198997923971123 (index 86) to leader 2
client write log 4063362161270150678 (index 87) to leader 2
client write log 4436396994578341806 (index 88) to leader 2
client write log 2672797275479099609 (index 89) to leader 2
client write log 4516293917608404701 (index 90) to leader 2
client write log 4521233367902858472 (index 91) to leader 2
client write log 8318241042500748470 (index 92) to leader 2
client write log 6620904923792166980 (index 93) to leader 2
client write log 2558770415958261339 (index 94) to leader 2
client write log 7677733024502108128 (index 95) to leader 2
flag 22764 term 14 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 32215 term 14 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 12 79} {8699640165556996773 12 80} {5057989737648234841 12 81} {5057989737648234841 14 82} {4725796270669807237 14 83} {8674785361772260249 14 84} {3255815236513089713 14 85} {6173198997923971123 14 86} {4063362161270150678 14 87} {4436396994578341806 14 88} {2672797275479099609 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95}]
------------------------------------------------------
term 14 Server2 start snapshot! index=89
term 14 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=95
-------------------------------------------------------------
term 14 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 47593 term 14 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 14 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95}]
------------------------------------------------------
term 14 Server1 start snapshot! index=89
term 14 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=95
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3768462269749009859 (index 96) to leader 2
term 14 server 2 not vote for server 0, 日志不够新
term 14 server 1 not vote for server 0, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 1 vote for server 2
term 16 server 0 vote for server 2
term 16 server 2 get vote from server 1
term 16 server 2 become leader
------------------------------------------------------
term 16 server 2 get outdate rpc reply from server 0
flag 57520 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 19076 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 97->96
------------------------------------------------------
term 16 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 97->96
------------------------------------------------------
term 16 leader 2 nextIndex[0]: 83  matchIndex[0]: 0
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 58484 term 16 leader 2 nextIndex[1]: 96  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 0 InstallSnapshot success
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 14 rf.commitIndex 89 rf.lastApplied 89
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36433 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 53761 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
flag 28319 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 1709 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
flag 8457 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 78926 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
flag 55767 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 95353 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
flag 10469 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 63947 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63634 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 73923 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
flag 68444 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 40604 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
flag 57217 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 18585 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
flag 87576 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 40595 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
flag 66274 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 86849 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
flag 17528 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 13306 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
flag 69142 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 2862 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 750 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 70913 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53484 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 21833 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
flag 23304 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 31547 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
flag 97858 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 81010 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88122 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 99158 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96}]
------------------------------------------------------
client write log 3768462269749009859 (index 97) to leader 2
flag 51128 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 52218 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96} {3768462269749009859 16 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96} {3768462269749009859 16 97}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39508 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 61425 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96} {3768462269749009859 16 97}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96} {3768462269749009859 16 97}]
------------------------------------------------------
flag 22553 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 78037 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96} {3768462269749009859 16 97}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96} {3768462269749009859 16 97}]
------------------------------------------------------
flag 98882 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 45224 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96} {3768462269749009859 16 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96} {3768462269749009859 16 97}]
------------------------------------------------------
flag 33854 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 95856 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96} {3768462269749009859 16 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96} {3768462269749009859 16 97}]
------------------------------------------------------
flag 23932 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 5412 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96} {3768462269749009859 16 97}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96} {3768462269749009859 16 97}]
------------------------------------------------------
flag 93317 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 59004 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96} {3768462269749009859 16 97}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96} {3768462269749009859 16 97}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 35559 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 87480 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 56567 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 72105 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98644 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 88015 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 98469 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 67280 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 17 server 1 vote for server 0
term 17 server 0 get vote from server 1
term 17 server 0 become leader
------------------------------------------------------
flag 58606 term 17 leader 0 nextIndex[1]: 98  matchIndex[1]: 0
term 17 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 62035 term 17 leader 0 nextIndex[2]: 98  matchIndex[2]: 0
term 17 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96} {3768462269749009859 16 97}]
------------------------------------------------------
client write log 3900351877503594770 (index 98) to leader 0
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 98->97
------------------------------------------------------
term 16 leader 2 nextIndex[0]: 0  matchIndex[0]: 97
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 62335 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 47914 term 17 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 17 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 15750 term 17 leader 0 nextIndex[2]: 98  matchIndex[2]: 0
term 17 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96} {3768462269749009859 16 97} {3900351877503594770 17 98}]
------------------------------------------------------
term 16 leader 2 nextIndex[0]: 0  matchIndex[0]: 97
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 78594 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 74503 term 17 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 17 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 28485 term 17 leader 0 nextIndex[2]: 98  matchIndex[2]: 0
term 17 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96} {3768462269749009859 16 97} {3900351877503594770 17 98}]
------------------------------------------------------
client write log 2287425206425149618 (index 99) to leader 0
client write log 1840014183253560990 (index 100) to leader 0
client write log 6415652942084712487 (index 101) to leader 0
client write log 2966413626377787897 (index 102) to leader 0
client write log 7127299324576805554 (index 103) to leader 0
client write log 4213016404749809107 (index 104) to leader 0
client write log 7769048845256932834 (index 105) to leader 0
client write log 7538904163387262714 (index 106) to leader 0
client write log 2069860338158159333 (index 107) to leader 0
term 16 leader 2 nextIndex[0]: 0  matchIndex[0]: 97
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 24576 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 41381 term 17 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 17 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 38321 term 17 leader 0 nextIndex[2]: 98  matchIndex[2]: 0
term 17 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 14 89} {4516293917608404701 14 90} {4521233367902858472 14 91} {8318241042500748470 14 92} {6620904923792166980 14 93} {2558770415958261339 14 94} {7677733024502108128 14 95} {3768462269749009859 14 96} {3768462269749009859 16 97} {3900351877503594770 17 98} {2287425206425149618 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
term 17 Server0 start snapshot! index=99
term 17 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=107
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 98->97
------------------------------------------------------
term 16 leader 2 nextIndex[0]: 0  matchIndex[0]: 97
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 19419 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 96428 term 17 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 17 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 17 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 17
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
term 17 Server1 start snapshot! index=99
term 17 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=107
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3643045124668480725 (index 98) to leader 2
term 16 leader 2 nextIndex[0]: 0  matchIndex[0]: 97
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 66650 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 17 server 1 AppendEntries false 领导者任期过期 args.Term 16
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 17 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80980 term 17 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 17 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 17 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 17
------------------------------------------------------
term 17 server 2 InstallSnapshot success
------------------------------------------------------
term 17 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 17 rf.commitIndex 99 rf.lastApplied 99
term 17 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
flag 81877 term 17 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 37613 term 17 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 17 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
term 17 server 2 not vote for server 0, 日志不够新
term 17 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 108->107
------------------------------------------------------
flag 91399 term 17 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 17 leader 0 nextIndex[2]: 0  matchIndex[2]: 107
term 17 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 17
------------------------------------------------------
term 17 server 2 InstallSnapshot fail
rf.commitIndex 99 args.LastIncludedIndex 99
------------------------------------------------------
term 17 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
flag 40444 term 17 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 71704 term 17 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 17 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
flag 10371 term 17 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 57026 term 17 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
flag 6087 term 17 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 20473 term 17 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
flag 75343 term 17 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 75880 term 17 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
flag 43686 term 17 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 74831 term 17 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
flag 75943 term 17 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 49766 term 17 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
flag 52434 term 17 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 20175 term 17 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
flag 18792 term 17 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 7620 term 17 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
flag 27115 term 17 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 73748 term 17 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
flag 30138 term 17 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 84904 term 17 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
flag 18294 term 17 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 43633 term 17 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
flag 43247 term 17 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 37602 term 17 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
flag 73942 term 17 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 59089 term 17 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
flag 32311 term 17 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 15262 term 17 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65013 term 17 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 20610 term 17 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
flag 8951 term 17 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 57092 term 17 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
flag 95310 term 17 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 63761 term 17 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
term 17 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107}]
------------------------------------------------------
client write log 3643045124668480725 (index 108) to leader 0
flag 74260 term 17 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 21302 term 17 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107} {3643045124668480725 17 108}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107} {3643045124668480725 17 108}]
------------------------------------------------------
flag 76505 term 17 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 17 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 108 
------------------------------------------------------
flag 24599 term 17 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 17 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 108 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107} {3643045124668480725 17 108}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107} {3643045124668480725 17 108}]
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44470 term 17 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 17 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 108 
------------------------------------------------------
flag 93450 term 17 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 17 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 108 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107} {3643045124668480725 17 108}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107} {3643045124668480725 17 108}]
------------------------------------------------------
flag 95759 term 17 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 17 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 108 
------------------------------------------------------
flag 16883 term 17 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 17 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 108 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
term 17 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107} {3643045124668480725 17 108}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107} {3643045124668480725 17 108}]
------------------------------------------------------
flag 26798 term 17 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 17 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 108 
------------------------------------------------------
flag 69073 term 17 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 17 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 108 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107} {3643045124668480725 17 108}]
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107} {3643045124668480725 17 108}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12318 term 17 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 17 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 108 
------------------------------------------------------
flag 9624 term 17 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 17 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 108 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107} {3643045124668480725 17 108}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107} {3643045124668480725 17 108}]
------------------------------------------------------
flag 84076 term 17 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 17 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 108 
------------------------------------------------------
flag 82798 term 17 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 17 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 108 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107} {3643045124668480725 17 108}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107} {3643045124668480725 17 108}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6501104723862494331 (index 109) to leader 0
flag 82610 term 17 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 17 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 108 
------------------------------------------------------
flag 91056 term 17 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 17 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 108 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 17 99} {1840014183253560990 17 100} {6415652942084712487 17 101} {2966413626377787897 17 102} {7127299324576805554 17 103} {4213016404749809107 17 104} {7769048845256932834 17 105} {7538904163387262714 17 106} {2069860338158159333 17 107} {3643045124668480725 17 108} {6501104723862494331 17 109}]
------------------------------------------------------
term 17 Server0 start snapshot! index=109
term 17 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
term 17 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 17 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 18241 term 17 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 17 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 17 109}]
------------------------------------------------------
term 17 Server2 start snapshot! index=109
term 17 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
client write log 7374726542484628660 (index 110) to leader 0
client write log 9215386987783403331 (index 111) to leader 0
client write log 4039691187091638076 (index 112) to leader 0
client write log 771836418445507697 (index 113) to leader 0
client write log 8885816209326098655 (index 114) to leader 0
client write log 316277735163099989 (index 115) to leader 0
client write log 8658696040621303860 (index 116) to leader 0
client write log 7634647239416522892 (index 117) to leader 0
client write log 6414891942701203460 (index 118) to leader 0
client write log 5399052174014525868 (index 119) to leader 0
client write log 6198344360905168433 (index 120) to leader 0
client write log 9018517759284050252 (index 121) to leader 0
client write log 8403769187829399872 (index 122) to leader 0
client write log 8696995543649239919 (index 123) to leader 0
client write log 2203900178963871805 (index 124) to leader 0
term 17 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 17 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 34720 term 17 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 17 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 17 leaderCommit: 109 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 17 109} {7374726542484628660 17 110} {9215386987783403331 17 111} {4039691187091638076 17 112} {771836418445507697 17 113} {8885816209326098655 17 114} {316277735163099989 17 115} {8658696040621303860 17 116} {7634647239416522892 17 117} {6414891942701203460 17 118} {5399052174014525868 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124}]
------------------------------------------------------
term 17 Server0 start snapshot! index=119
term 17 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=124
-------------------------------------------------------------
term 17 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 17 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 17
------------------------------------------------------
flag 43619 term 17 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 17 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124}]
------------------------------------------------------
term 17 Server2 start snapshot! index=119
term 17 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=124
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4474215108254420734 (index 125) to leader 0
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 125->124
------------------------------------------------------
term 17 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 17 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 17
------------------------------------------------------
term 17 leader 0 nextIndex[2]: 0  matchIndex[2]: 124
term 17 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 17
------------------------------------------------------
term 17 server 2 InstallSnapshot fail
rf.commitIndex 124 args.LastIncludedIndex 119
------------------------------------------------------
term 17 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
term 18 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 17 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 server 2 vote for server 0
term 19 server 0 get vote from server 2
term 19 server 0 become leader
------------------------------------------------------
term 19 server 1 vote for server 0
term 19 server 0 get outdate rpc reply from server 1
flag 77701 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
flag 41345 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 126->125
------------------------------------------------------
term 19 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 126->125
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 109  matchIndex[1]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 17
------------------------------------------------------
flag 78683 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 19 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 17 rf.commitIndex 119 rf.lastApplied 119
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
flag 79991 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
flag 42000 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
flag 31790 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
flag 25770 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
flag 60205 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
flag 51509 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58553 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
flag 41871 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90597 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
flag 67203 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
flag 2604 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
flag 43310 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39288 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
flag 83119 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
flag 4675 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
flag 938 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
flag 77501 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
flag 6205 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28652 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
flag 31885 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
flag 46854 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
flag 17497 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34826 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
flag 1125 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
term 19 server 2 not vote for server 1, 任期不够新
term 19 server 1 get outdate rpc reply from server 2
flag 73863 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
flag 74633 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
flag 91668 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
flag 12677 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11538 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
flag 10211 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
flag 83935 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
flag 68931 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
flag 50056 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
flag 72129 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125}]
------------------------------------------------------
client write log 4474215108254420734 (index 126) to leader 0
flag 11231 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
flag 67864 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 17 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125} {4474215108254420734 19 126}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125} {4474215108254420734 19 126}]
------------------------------------------------------
flag 51430 term 19 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 19 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 80811 term 19 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 19 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125} {4474215108254420734 19 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125} {4474215108254420734 19 126}]
------------------------------------------------------
flag 20065 term 19 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 19 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 28882 term 19 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 19 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125} {4474215108254420734 19 126}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125} {4474215108254420734 19 126}]
------------------------------------------------------
flag 36955 term 19 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 19 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 8933 term 19 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 19 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
term 19 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
update leader CommitIndex=126
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125} {4474215108254420734 19 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125} {4474215108254420734 19 126}]
------------------------------------------------------
flag 6607 term 19 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 19 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 16676 term 19 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 19 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125} {4474215108254420734 19 126}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125} {4474215108254420734 19 126}]
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89396 term 19 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 19 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 40963 term 19 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 19 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125} {4474215108254420734 19 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125} {4474215108254420734 19 126}]
------------------------------------------------------
flag 44036 term 19 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 19 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 25984 term 19 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 19 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125} {4474215108254420734 19 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125} {4474215108254420734 19 126}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5324413193578500898 (index 127) to leader 0
flag 8552 term 19 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 19 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 8701 term 19 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 19 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125} {4474215108254420734 19 126} {5324413193578500898 19 127}]
------------------------------------------------------
flag 45328 term 19 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 19 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 127 
------------------------------------------------------
flag 12560 term 19 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 19 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 127 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125} {4474215108254420734 19 126} {5324413193578500898 19 127}]
------------------------------------------------------
client write log 2408445563977422734 (index 128) to leader 0
client write log 191957652482246419 (index 129) to leader 0
client write log 2383561051951569118 (index 130) to leader 0
client write log 6051626745494025536 (index 131) to leader 0
client write log 8197878543536561969 (index 132) to leader 0
client write log 7692923402279685971 (index 133) to leader 0
client write log 4781990015437006609 (index 134) to leader 0
client write log 2264336041291362071 (index 135) to leader 0
client write log 1598004123261979979 (index 136) to leader 0
flag 51366 term 19 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 19 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 127 
------------------------------------------------------
flag 49856 term 19 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 19 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 127 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 17 119} {6198344360905168433 17 120} {9018517759284050252 17 121} {8403769187829399872 17 122} {8696995543649239919 17 123} {2203900178963871805 17 124} {4474215108254420734 17 125} {4474215108254420734 19 126} {5324413193578500898 19 127} {2408445563977422734 19 128} {191957652482246419 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136}]
------------------------------------------------------
term 19 Server0 start snapshot! index=129
term 19 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=136
-------------------------------------------------------------
term 19 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 55226 term 19 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 19 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136}]
------------------------------------------------------
term 19 Server2 start snapshot! index=129
term 19 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=136
-------------------------------------------------------------
!!!!!!connect server 1
client write log 709104325243870136 (index 137) to leader 0
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 server 2 not vote for server 1, 日志不够新
term 19 server 0 not vote for server 1, 日志不够新
term 21 server 1 vote for server 0
term 21 server 0 get vote from server 1
term 21 server 0 become leader
------------------------------------------------------
term 21 server 2 vote for server 0
term 21 server 0 get outdate rpc reply from server 2
flag 9953 term 21 leader 0 nextIndex[1]: 138  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 37985 term 21 leader 0 nextIndex[2]: 138  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 21 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 138->137
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 138->137
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 127  matchIndex[1]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 31805 term 21 leader 0 nextIndex[2]: 137  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
term 21 server 1 InstallSnapshot success
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 19 rf.commitIndex 129 rf.lastApplied 129
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38115 term 21 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 21 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 7295 term 21 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=136
leader log:
term 21 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
flag 72404 term 21 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 1880 term 21 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
flag 79644 term 21 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 78539 term 21 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
flag 19512 term 21 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 11486 term 21 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
term 21 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29838 term 21 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 33334 term 21 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
flag 7313 term 21 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 11738 term 21 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
flag 81521 term 21 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 98335 term 21 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
flag 55951 term 21 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 90439 term 21 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
flag 79433 term 21 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 27913 term 21 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
flag 15188 term 21 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 91365 term 21 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
flag 55047 term 21 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 1142 term 21 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
flag 10863 term 21 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 20874 term 21 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
flag 37530 term 21 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 34289 term 21 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
flag 42026 term 21 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 56884 term 21 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
flag 13230 term 21 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 78687 term 21 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
flag 82170 term 21 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 66868 term 21 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
flag 32717 term 21 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 71073 term 21 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
term 21 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
update matchIndex[1]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
flag 94398 term 21 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 57425 term 21 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137}]
------------------------------------------------------
client write log 709104325243870136 (index 138) to leader 0
flag 66940 term 21 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 66645 term 21 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137} {709104325243870136 21 138}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137} {709104325243870136 21 138}]
------------------------------------------------------
flag 48868 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 14187 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137} {709104325243870136 21 138}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137} {709104325243870136 21 138}]
------------------------------------------------------
flag 76461 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 88090 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137} {709104325243870136 21 138}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137} {709104325243870136 21 138}]
------------------------------------------------------
flag 84688 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 35385 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=138
leader log:
term 21 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137} {709104325243870136 21 138}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137} {709104325243870136 21 138}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41935 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 81314 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137} {709104325243870136 21 138}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137} {709104325243870136 21 138}]
------------------------------------------------------
flag 30472 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 81096 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137} {709104325243870136 21 138}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137} {709104325243870136 21 138}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 65626 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 75958 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 74019 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 72761 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 12637 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 39119 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 22 server 2 vote for server 1
term 22 server 1 get vote from server 2
term 22 server 1 become leader
------------------------------------------------------
flag 15550 term 22 leader 1 nextIndex[0]: 139  matchIndex[0]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 13672 term 22 leader 1 nextIndex[2]: 139  matchIndex[2]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137} {709104325243870136 21 138}]
------------------------------------------------------
client write log 6179845764676585169 (index 139) to leader 1
flag 50712 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 40075 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 65835 term 22 leader 1 nextIndex[0]: 139  matchIndex[0]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 57369 term 22 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 22 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 19 129} {2383561051951569118 19 130} {6051626745494025536 19 131} {8197878543536561969 19 132} {7692923402279685971 19 133} {4781990015437006609 19 134} {2264336041291362071 19 135} {1598004123261979979 19 136} {709104325243870136 19 137} {709104325243870136 21 138} {6179845764676585169 22 139}]
------------------------------------------------------
term 22 Server1 start snapshot! index=139
term 22 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
flag 52863 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 18440 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 22 leader 1 nextIndex[0]: 139  matchIndex[0]: 0
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
flag 2118 term 22 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 22 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 139}]
------------------------------------------------------
term 22 Server2 start snapshot! index=139
term 22 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
client write log 8097697584777602739 (index 140) to leader 1
client write log 2947264783894152939 (index 141) to leader 1
client write log 2149328366934536546 (index 142) to leader 1
client write log 7002254069267896271 (index 143) to leader 1
client write log 6406175267901891655 (index 144) to leader 1
client write log 5083538098760405710 (index 145) to leader 1
client write log 8999198165899351226 (index 146) to leader 1
client write log 524372436611746355 (index 147) to leader 1
client write log 7730151213253729806 (index 148) to leader 1
client write log 2160040518830000735 (index 149) to leader 1
client write log 6657548685566199549 (index 150) to leader 1
flag 85933 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 49658 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 22 leader 1 nextIndex[0]: 139  matchIndex[0]: 0
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
flag 95744 term 22 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 22 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 139} {8097697584777602739 22 140} {2947264783894152939 22 141} {2149328366934536546 22 142} {7002254069267896271 22 143} {6406175267901891655 22 144} {5083538098760405710 22 145} {8999198165899351226 22 146} {524372436611746355 22 147} {7730151213253729806 22 148} {2160040518830000735 22 149} {6657548685566199549 22 150}]
------------------------------------------------------
term 22 Server1 start snapshot! index=149
term 22 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=150
-------------------------------------------------------------
flag 78748 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 25645 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 22 leader 1 nextIndex[0]: 139  matchIndex[0]: 0
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
flag 14332 term 22 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 22 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 150 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {6657548685566199549 22 150}]
------------------------------------------------------
term 22 Server2 start snapshot! index=149
term 22 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=150
-------------------------------------------------------------
flag 75716 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 38033 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
!!!!!!connect server 0
client write log 295747675770019723 (index 151) to leader 1
term 22 leader 1 nextIndex[0]: 139  matchIndex[0]: 0
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
flag 82294 term 22 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 22 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 150 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {6657548685566199549 22 150} {295747675770019723 22 151}]
------------------------------------------------------
term 22 server 0 InstallSnapshot success
------------------------------------------------------
term 22 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 22 rf.commitIndex 149 rf.lastApplied 149
flag 29156 term 22 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 22 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 151 
------------------------------------------------------
flag 43253 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 22 leaderCommit: 151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {6657548685566199549 22 150} {295747675770019723 22 151}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {6657548685566199549 22 150} {295747675770019723 22 151}]
------------------------------------------------------
term 22 server 0 not vote for server 1, 任期不够新
term 22 server 1 get outdate rpc reply from server 0
flag 17938 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 22 leaderCommit: 151 
------------------------------------------------------
flag 29251 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 22 leaderCommit: 151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {6657548685566199549 22 150} {295747675770019723 22 151}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {6657548685566199549 22 150} {295747675770019723 22 151}]
------------------------------------------------------
flag 49587 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 22 leaderCommit: 151 
------------------------------------------------------
flag 87652 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 22 leaderCommit: 151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {6657548685566199549 22 150} {295747675770019723 22 151}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {6657548685566199549 22 150} {295747675770019723 22 151}]
------------------------------------------------------
flag 64349 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 22 leaderCommit: 151 
------------------------------------------------------
flag 27967 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 22 leaderCommit: 151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {6657548685566199549 22 150} {295747675770019723 22 151}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {6657548685566199549 22 150} {295747675770019723 22 151}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64774 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 22 leaderCommit: 151 
------------------------------------------------------
flag 64760 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 22 leaderCommit: 151 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {6657548685566199549 22 150} {295747675770019723 22 151}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {6657548685566199549 22 150} {295747675770019723 22 151}]
------------------------------------------------------
flag 93661 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 22 leaderCommit: 151 
------------------------------------------------------
flag 43078 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 22 leaderCommit: 151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {6657548685566199549 22 150} {295747675770019723 22 151}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {6657548685566199549 22 150} {295747675770019723 22 151}]
------------------------------------------------------
flag 85676 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 22 leaderCommit: 151 
------------------------------------------------------
flag 69895 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 22 leaderCommit: 151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {6657548685566199549 22 150} {295747675770019723 22 151}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {6657548685566199549 22 150} {295747675770019723 22 151}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8435971964400624707 (index 152) to leader 1
flag 14139 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 22 leaderCommit: 151 
------------------------------------------------------
flag 42053 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 22 leaderCommit: 151 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 22 149} {6657548685566199549 22 150} {295747675770019723 22 151} {8435971964400624707 22 152}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51558 term 22 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 22 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 22 leaderCommit: 152 
------------------------------------------------------
flag 41980 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 22 leaderCommit: 152 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 22 149} {6657548685566199549 22 150} {295747675770019723 22 151} {8435971964400624707 22 152}]
------------------------------------------------------
client write log 4006989901956405689 (index 153) to leader 1
client write log 3434685629560988807 (index 154) to leader 1
client write log 692645976381928612 (index 155) to leader 1
client write log 1506903702061231116 (index 156) to leader 1
client write log 4227711174116085190 (index 157) to leader 1
client write log 8721470033162407319 (index 158) to leader 1
client write log 5888405412455349650 (index 159) to leader 1
client write log 7359347271789570962 (index 160) to leader 1
client write log 2173818540670310954 (index 161) to leader 1
client write log 3210540765584762111 (index 162) to leader 1
client write log 4991459440483792028 (index 163) to leader 1
client write log 7753161362883400258 (index 164) to leader 1
term 22 server 0 not vote for server 1, 日志不够新
term 22 server 1 get outdate rpc reply from server 0
flag 67068 term 22 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 22 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 22 leaderCommit: 152 
------------------------------------------------------
flag 49455 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 22 leaderCommit: 152 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 149} {6657548685566199549 22 150} {295747675770019723 22 151} {8435971964400624707 22 152} {4006989901956405689 22 153} {3434685629560988807 22 154} {692645976381928612 22 155} {1506903702061231116 22 156} {4227711174116085190 22 157} {8721470033162407319 22 158} {5888405412455349650 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164}]
------------------------------------------------------
term 22 Server1 start snapshot! index=159
term 22 server1 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=164
-------------------------------------------------------------
flag 40480 term 22 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 22 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164}]
------------------------------------------------------
term 22 Server0 start snapshot! index=159
term 22 server0 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=164
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1977921852682475681 (index 165) to leader 1
term 22 server 1 not vote for server 2, 日志不够新
term 22 server 0 not vote for server 2, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 2 vote for server 1
term 24 server 1 get vote from server 2
term 24 server 1 become leader
term 24 server 0 vote for server 1
------------------------------------------------------
term 24 server 1 get outdate rpc reply from server 0
flag 56473 term 24 leader 1 nextIndex[0]: 166  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 89999 term 24 leader 1 nextIndex[2]: 166  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 166->165
------------------------------------------------------
term 24 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 166->165
------------------------------------------------------
term 24 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78203 term 24 leader 1 nextIndex[0]: 165  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 152  matchIndex[2]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 22
------------------------------------------------------
term 24 server 2 InstallSnapshot success
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 22 rf.commitIndex 159 rf.lastApplied 159
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
flag 23306 term 24 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 42411 term 24 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3899 term 24 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 86961 term 24 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
flag 54459 term 24 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 32573 term 24 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25928 term 24 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 19530 term 24 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22673 term 24 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 45958 term 24 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
flag 69045 term 24 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 21941 term 24 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
flag 44385 term 24 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 64188 term 24 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83266 term 24 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 72407 term 24 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82059 term 24 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 38899 term 24 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
flag 36172 term 24 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 15775 term 24 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24362 term 24 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 2846 term 24 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
flag 29649 term 24 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 7210 term 24 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55988 term 24 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 17639 term 24 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
flag 89485 term 24 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 40477 term 24 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
flag 21115 term 24 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 94157 term 24 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
flag 87912 term 24 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 26302 term 24 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
flag 36674 term 24 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 27358 term 24 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165}]
------------------------------------------------------
term 24 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 1977921852682475681 (index 166) to leader 1
flag 34021 term 24 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 84128 term 24 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165} {1977921852682475681 24 166}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165} {1977921852682475681 24 166}]
------------------------------------------------------
flag 13957 term 24 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 24 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 166 
------------------------------------------------------
flag 74919 term 24 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 24 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 166 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165} {1977921852682475681 24 166}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165} {1977921852682475681 24 166}]
------------------------------------------------------
flag 51900 term 24 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 24 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 166 
------------------------------------------------------
flag 9720 term 24 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 24 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 166 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165} {1977921852682475681 24 166}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165} {1977921852682475681 24 166}]
------------------------------------------------------
flag 68418 term 24 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 24 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 166 
------------------------------------------------------
flag 77608 term 24 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 24 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 166 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165} {1977921852682475681 24 166}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165} {1977921852682475681 24 166}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47919 term 24 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 24 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 166 
------------------------------------------------------
flag 2728 term 24 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 24 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 166 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165} {1977921852682475681 24 166}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165} {1977921852682475681 24 166}]
------------------------------------------------------
flag 31695 term 24 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 24 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 166 
------------------------------------------------------
flag 39359 term 24 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 24 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 166 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
term 24 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165} {1977921852682475681 24 166}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165} {1977921852682475681 24 166}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2405011346519469702 (index 167) to leader 1
flag 31972 term 24 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 24 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 166 
------------------------------------------------------
flag 31405 term 24 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 24 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 166 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165} {1977921852682475681 24 166} {2405011346519469702 24 167}]
------------------------------------------------------
flag 38967 term 24 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 38573 term 24 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 24 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165} {1977921852682475681 24 166} {2405011346519469702 24 167}]
------------------------------------------------------
client write log 4079051130082622267 (index 168) to leader 1
client write log 3915006056731413462 (index 169) to leader 1
client write log 6669335675897358597 (index 170) to leader 1
client write log 4879084933945238400 (index 171) to leader 1
client write log 6019731238342310118 (index 172) to leader 1
client write log 4933155448211048653 (index 173) to leader 1
client write log 974212472866069131 (index 174) to leader 1
client write log 3857491734033635969 (index 175) to leader 1
client write log 8054534817543137315 (index 176) to leader 1
client write log 597130023517962581 (index 177) to leader 1
client write log 6551974737802454808 (index 178) to leader 1
client write log 493959491480193629 (index 179) to leader 1
client write log 1297103195675452407 (index 180) to leader 1
client write log 2318339335310675871 (index 181) to leader 1
flag 2001 term 24 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 39338 term 24 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 24 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 22 159} {7359347271789570962 22 160} {2173818540670310954 22 161} {3210540765584762111 22 162} {4991459440483792028 22 163} {7753161362883400258 22 164} {1977921852682475681 22 165} {1977921852682475681 24 166} {2405011346519469702 24 167} {4079051130082622267 24 168} {3915006056731413462 24 169} {6669335675897358597 24 170} {4879084933945238400 24 171} {6019731238342310118 24 172} {4933155448211048653 24 173} {974212472866069131 24 174} {3857491734033635969 24 175} {8054534817543137315 24 176} {597130023517962581 24 177} {6551974737802454808 24 178} {493959491480193629 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181}]
------------------------------------------------------
term 24 Server1 start snapshot! index=169
term 24 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=181
-------------------------------------------------------------
term 24 Server1 start snapshot! index=179
term 24 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=181
-------------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53658 term 24 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 24 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181}]
------------------------------------------------------
term 24 Server0 start snapshot! index=169
term 24 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=181
-------------------------------------------------------------
term 24 Server0 start snapshot! index=179
term 24 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=181
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4279718251181463135 (index 182) to leader 1
flag 36839 term 24 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 24 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 24
------------------------------------------------------
term 25 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 0 vote for server 1
term 26 server 1 get vote from server 0
term 26 server 1 become leader
term 26 server 2 vote for server 1
------------------------------------------------------
term 26 server 1 get outdate rpc reply from server 2
flag 86893 term 26 leader 1 nextIndex[0]: 183  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 99713 term 26 leader 1 nextIndex[2]: 183  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 183->182
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
flag 21359 term 26 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 167  matchIndex[2]: 0
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 24
------------------------------------------------------
term 26 server 2 InstallSnapshot success
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 24 rf.commitIndex 179 rf.lastApplied 179
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96507 term 26 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 37115 term 26 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 26 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
flag 67611 term 26 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 18968 term 26 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
flag 66133 term 26 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 94829 term 26 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
flag 30813 term 26 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 13133 term 26 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
flag 87674 term 26 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 27202 term 26 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
flag 22928 term 26 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 61504 term 26 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
flag 16625 term 26 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 30599 term 26 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39773 term 26 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 21399 term 26 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33092 term 26 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 35694 term 26 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14733 term 26 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 96897 term 26 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28193 term 26 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 40507 term 26 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
flag 76457 term 26 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 53977 term 26 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
flag 65781 term 26 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 30418 term 26 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
term 26 server 0 not vote for server 2, 任期不够新
term 26 server 2 get outdate rpc reply from server 0
flag 15752 term 26 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 4913 term 26 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
flag 72648 term 26 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 58326 term 26 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4236 term 26 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 77363 term 26 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
flag 66309 term 26 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 7836 term 26 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182}]
------------------------------------------------------
client write log 4279718251181463135 (index 183) to leader 1
term 26 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47442 term 26 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 24597 term 26 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183}]
------------------------------------------------------
flag 70883 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
flag 3454 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183}]
------------------------------------------------------
flag 53207 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
flag 7771 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99301 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
flag 78545 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183}]
------------------------------------------------------
flag 80481 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
flag 37281 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64635 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
flag 31114 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183}]
------------------------------------------------------
term 26 server 1 not vote for server 2, 任期不够新
term 26 server 2 get outdate rpc reply from server 1
flag 47922 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
flag 10479 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 65461 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
flag 47901 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
flag 23101 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
flag 37800 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
flag 98643 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
flag 13564 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
term 27 server 2 vote for server 0
term 27 server 0 get vote from server 2
term 27 server 0 become leader
------------------------------------------------------
flag 30453 term 27 leader 0 nextIndex[1]: 184  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
flag 22410 term 27 leader 0 nextIndex[2]: 184  matchIndex[2]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
client write log 3300998308650898619 (index 184) to leader 0
term 27 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184}]
------------------------------------------------------
flag 47901 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
flag 51841 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27384 term 27 leader 0 nextIndex[1]: 184  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
flag 42132 term 27 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 27 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184}]
------------------------------------------------------
flag 66614 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
flag 90103 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28562 term 27 leader 0 nextIndex[1]: 184  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 58026 term 27 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 27 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 184 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184}]
------------------------------------------------------
flag 71999 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
flag 13914 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
client write log 937585964387923792 (index 185) to leader 0
flag 9746 term 27 leader 0 nextIndex[1]: 184  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 28990 term 27 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 27 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 184 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
flag 37626 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
flag 59779 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
flag 49831 term 27 leader 0 nextIndex[1]: 184  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 87044 term 27 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
!!!!!!connect server 1
client write log 6829634190389633311 (index 184) to leader 1
flag 90661 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
flag 91906 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 183 
------------------------------------------------------
term 27 server 2 AppendEntries false 领导者任期过期 args.Term 26
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 27 server 0 AppendEntries false 领导者任期过期 args.Term 26
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38815 term 27 leader 0 nextIndex[1]: 184  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 24956 term 27 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66483 term 27 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 65431 term 27 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
flag 67206 term 27 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 37094 term 27 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54427 term 27 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 23149 term 27 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
flag 13964 term 27 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 75206 term 27 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
flag 74830 term 27 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 21160 term 27 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
flag 4080 term 27 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 67689 term 27 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
flag 36839 term 27 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 70819 term 27 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
flag 44640 term 27 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 39524 term 27 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
flag 79156 term 27 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 31631 term 27 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
flag 96760 term 27 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 20506 term 27 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
flag 68543 term 27 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 5819 term 27 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
flag 16560 term 27 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 3534 term 27 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
flag 36136 term 27 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 43816 term 27 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
flag 3145 term 27 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 18854 term 27 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
flag 11130 term 27 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 45559 term 27 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
flag 86645 term 27 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 86309 term 27 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
flag 58106 term 27 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 75443 term 27 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
flag 39101 term 27 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 40473 term 27 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41782 term 27 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 7606 term 27 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185}]
------------------------------------------------------
client write log 6829634190389633311 (index 186) to leader 0
flag 12683 term 27 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 25922 term 27 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 27 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185} {6829634190389633311 27 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185} {6829634190389633311 27 186}]
------------------------------------------------------
flag 38276 term 27 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 27 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 186 
------------------------------------------------------
flag 85116 term 27 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 27 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 186 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185} {6829634190389633311 27 186}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185} {6829634190389633311 27 186}]
------------------------------------------------------
flag 54900 term 27 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 27 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 186 
------------------------------------------------------
flag 49893 term 27 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 27 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 186 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
term 27 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185} {6829634190389633311 27 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185} {6829634190389633311 27 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58537 term 27 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 27 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 186 
------------------------------------------------------
flag 2737 term 27 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 27 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 186 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185} {6829634190389633311 27 186}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185} {6829634190389633311 27 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25878 term 27 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 27 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 186 
------------------------------------------------------
flag 21858 term 27 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 27 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 186 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185} {6829634190389633311 27 186}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185} {6829634190389633311 27 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34020 term 27 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 27 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 186 
------------------------------------------------------
flag 5 term 27 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 27 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 186 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185} {6829634190389633311 27 186}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185} {6829634190389633311 27 186}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1936016939396245991 (index 187) to leader 0
flag 57559 term 27 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 27 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 186 
------------------------------------------------------
flag 52178 term 27 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 27 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 186 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185} {6829634190389633311 27 186} {1936016939396245991 27 187}]
------------------------------------------------------
flag 51555 term 27 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 27 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 187 
------------------------------------------------------
flag 54610 term 27 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 27 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 27 leaderCommit: 187 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185} {6829634190389633311 27 186} {1936016939396245991 27 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 187->186
------------------------------------------------------
client write log 1878001058531951845 (index 188) to leader 0
client write log 1330973220746149634 (index 189) to leader 0
client write log 1054722690497060889 (index 190) to leader 0
client write log 4809090617084549823 (index 191) to leader 0
client write log 2884265832503260813 (index 192) to leader 0
client write log 2894007275902164083 (index 193) to leader 0
client write log 6369577151675852632 (index 194) to leader 0
client write log 6225938173124966438 (index 195) to leader 0
client write log 5182608261865564692 (index 196) to leader 0
client write log 3061560106211821579 (index 197) to leader 0
client write log 689014671800353762 (index 198) to leader 0
client write log 6227276970428409268 (index 199) to leader 0
term 27 leader 0 nextIndex[1]: 0  matchIndex[1]: 186
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 24
------------------------------------------------------
flag 5890 term 27 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 27 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 27 leaderCommit: 187 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 24 179} {1297103195675452407 24 180} {2318339335310675871 24 181} {4279718251181463135 24 182} {4279718251181463135 26 183} {3300998308650898619 27 184} {937585964387923792 27 185} {6829634190389633311 27 186} {1936016939396245991 27 187} {1878001058531951845 27 188} {1330973220746149634 27 189} {1054722690497060889 27 190} {4809090617084549823 27 191} {2884265832503260813 27 192} {2894007275902164083 27 193} {6369577151675852632 27 194} {6225938173124966438 27 195} {5182608261865564692 27 196} {3061560106211821579 27 197} {689014671800353762 27 198} {6227276970428409268 27 199}]
------------------------------------------------------
term 27 Server0 start snapshot! index=189
term 27 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=199
-------------------------------------------------------------
term 27 Server0 start snapshot! index=199
term 27 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
term 27 leader 0 nextIndex[1]: 0  matchIndex[1]: 186
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 27
------------------------------------------------------
flag 21451 term 27 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 27 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 27 199}]
------------------------------------------------------
term 27 Server2 start snapshot! index=189
term 27 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=199
-------------------------------------------------------------
term 27 Server2 start snapshot! index=199
term 27 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7749614298820461684 (index 200) to leader 0
term 27 server 2 not vote for server 1, 日志不够新
term 27 server 0 not vote for server 1, 日志不够新
term 29 server 2 vote for server 0
term 29 server 1 vote for server 0
term 29 server 0 get vote from server 2
term 29 server 0 become leader
------------------------------------------------------
term 29 server 0 get outdate rpc reply from server 1
flag 34171 term 29 leader 0 nextIndex[1]: 201  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
flag 78825 term 29 leader 0 nextIndex[2]: 201  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
term 29 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 201->200
------------------------------------------------------
term 29 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 201->200
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 0
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 27
------------------------------------------------------
flag 32 term 29 leader 0 nextIndex[2]: 200  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
term 29 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 27 rf.commitIndex 199 rf.lastApplied 199
term 29 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
flag 87158 term 29 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
flag 76075 term 29 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
flag 96801 term 29 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
flag 43893 term 29 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
flag 55146 term 29 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
flag 28838 term 29 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
flag 33566 term 29 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
flag 22700 term 29 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
flag 25566 term 29 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
flag 88599 term 29 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
flag 92764 term 29 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
flag 17166 term 29 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94716 term 29 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
flag 1012 term 29 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75998 term 29 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
flag 63571 term 29 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
flag 96726 term 29 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
flag 64980 term 29 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
flag 48008 term 29 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
flag 84460 term 29 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44404 term 29 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
flag 60725 term 29 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47846 term 29 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
flag 33413 term 29 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
flag 35914 term 29 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
flag 61893 term 29 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72073 term 29 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
flag 83119 term 29 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
flag 44847 term 29 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
flag 61380 term 29 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
flag 24036 term 29 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
flag 19596 term 29 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85260 term 29 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
flag 53354 term 29 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 27 199} {7749614298820461684 27 200}]
------------------------------------------------------
client write log 7749614298820461684 (index 201) to leader 0
flag 46725 term 29 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
flag 35497 term 29 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 27 leaderCommit: 199 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 27 199} {7749614298820461684 27 200} {7749614298820461684 29 201}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 27 199} {7749614298820461684 27 200} {7749614298820461684 29 201}]
------------------------------------------------------
flag 83547 term 29 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 38688 term 29 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 29 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 27 199} {7749614298820461684 27 200} {7749614298820461684 29 201}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 27 199} {7749614298820461684 27 200} {7749614298820461684 29 201}]
------------------------------------------------------
flag 51568 term 29 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 15438 term 29 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 29 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 27 199} {7749614298820461684 27 200} {7749614298820461684 29 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 27 199} {7749614298820461684 27 200} {7749614298820461684 29 201}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78480 term 29 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 48999 term 29 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 29 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 27 199} {7749614298820461684 27 200} {7749614298820461684 29 201}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 27 199} {7749614298820461684 27 200} {7749614298820461684 29 201}]
------------------------------------------------------
flag 17249 term 29 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 68350 term 29 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 29 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 27 199} {7749614298820461684 27 200} {7749614298820461684 29 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 27 199} {7749614298820461684 27 200} {7749614298820461684 29 201}]
------------------------------------------------------
flag 58753 term 29 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 16711 term 29 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 29 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 27 199} {7749614298820461684 27 200} {7749614298820461684 29 201}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 27 199} {7749614298820461684 27 200} {7749614298820461684 29 201}]
------------------------------------------------------
flag 58152 term 29 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 35726 term 29 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 29 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 27 199} {7749614298820461684 27 200} {7749614298820461684 29 201}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 27 199} {7749614298820461684 27 200} {7749614298820461684 29 201}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2252359317443207522 (index 202) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31776 term 29 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 46700 term 29 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 29 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 27 199} {7749614298820461684 27 200} {7749614298820461684 29 201} {2252359317443207522 29 202}]
------------------------------------------------------
flag 22219 term 29 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 16893 term 29 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 29 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 27 199} {7749614298820461684 27 200} {7749614298820461684 29 201} {2252359317443207522 29 202}]
------------------------------------------------------
client write log 2391783492203817781 (index 203) to leader 0
client write log 3515271094559585691 (index 204) to leader 0
client write log 8209109180849568842 (index 205) to leader 0
client write log 8819146848232374443 (index 206) to leader 0
client write log 9033594393624722938 (index 207) to leader 0
client write log 5441256853730298909 (index 208) to leader 0
client write log 8335687167294153968 (index 209) to leader 0
client write log 8878436429865830095 (index 210) to leader 0
client write log 959163464569857432 (index 211) to leader 0
client write log 4887944012216920849 (index 212) to leader 0
client write log 8495974893533023026 (index 213) to leader 0
client write log 2515260301458113550 (index 214) to leader 0
client write log 7152759737958213708 (index 215) to leader 0
client write log 231883754674882827 (index 216) to leader 0
client write log 6888350007867021592 (index 217) to leader 0
flag 1183 term 29 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 88104 term 29 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 29 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 27 199} {7749614298820461684 27 200} {7749614298820461684 29 201} {2252359317443207522 29 202} {2391783492203817781 29 203} {3515271094559585691 29 204} {8209109180849568842 29 205} {8819146848232374443 29 206} {9033594393624722938 29 207} {5441256853730298909 29 208} {8335687167294153968 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217}]
------------------------------------------------------
term 29 Server0 start snapshot! index=209
term 29 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=217
-------------------------------------------------------------
term 29 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 29
------------------------------------------------------
flag 58571 term 29 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 29 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217}]
------------------------------------------------------
term 29 Server2 start snapshot! index=209
term 29 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=217
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4094375403983431442 (index 218) to leader 0
term 29 server 2 not vote for server 1, 日志不够新
term 29 server 0 not vote for server 1, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 1 vote for server 0
term 31 server 2 vote for server 0
term 31 server 0 get vote from server 1
term 31 server 0 become leader
------------------------------------------------------
term 31 server 0 get outdate rpc reply from server 2
flag 18789 term 31 leader 0 nextIndex[1]: 219  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 74181 term 31 leader 0 nextIndex[2]: 219  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 31 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 219->218
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 219->218
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 29
------------------------------------------------------
flag 35008 term 31 leader 0 nextIndex[2]: 218  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
term 31 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 29 rf.commitIndex 209 rf.lastApplied 209
flag 10752 term 31 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 31 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 19142 term 31 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65032 term 31 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 63960 term 31 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
flag 44662 term 31 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 49029 term 31 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
term 31 server 1 not vote for server 0, 任期不够新
term 31 server 0 get outdate rpc reply from server 1
flag 12948 term 31 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 45273 term 31 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
flag 976 term 31 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 10909 term 31 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54645 term 31 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 84299 term 31 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
flag 62887 term 31 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 83056 term 31 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
flag 69883 term 31 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 67572 term 31 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
flag 95396 term 31 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 10824 term 31 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
flag 75882 term 31 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 39233 term 31 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
flag 73770 term 31 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 5181 term 31 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 1000 term 31 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 47531 term 31 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
flag 43927 term 31 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 94396 term 31 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
flag 32467 term 31 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 85057 term 31 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
flag 67437 term 31 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 94278 term 31 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
flag 38654 term 31 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 79816 term 31 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
flag 62133 term 31 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 71431 term 31 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218}]
------------------------------------------------------
client write log 4094375403983431442 (index 219) to leader 0
flag 25224 term 31 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 68671 term 31 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218} {4094375403983431442 31 219}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 29 209} {8878436429865830095 29 210} {959163464569857432 29 211} {4887944012216920849 29 212} {8495974893533023026 29 213} {2515260301458113550 29 214} {7152759737958213708 29 215} {231883754674882827 29 216} {6888350007867021592 29 217} {4094375403983431442 29 218} {4094375403983431442 31 219}]
------------------------------------------------------
term 31 Server0 start snapshot! index=219
term 31 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
flag 97589 term 31 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 27761 term 31 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 219}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 219}]
------------------------------------------------------
term 31 Server2 start snapshot! index=219
term 31 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
term 31 Server1 start snapshot! index=219
term 31 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17074 term 31 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 65410 term 31 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
term 31 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader log:
[{snapshot 31 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 219}]
------------------------------------------------------
flag 50580 term 31 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 84839 term 31 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
term 31 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
[{snapshot 31 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 219}]
------------------------------------------------------
flag 55251 term 31 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 69589 term 31 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 219}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 219}]
------------------------------------------------------
flag 10626 term 31 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 18148 term 31 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
term 31 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
[{snapshot 31 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 219}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 38989 term 31 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 13676 term 31 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 73028 term 31 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 61275 term 31 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 43444 term 31 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 88787 term 31 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 32 server 2 vote for server 1
term 32 server 1 get vote from server 2
term 32 server 1 become leader
------------------------------------------------------
flag 19511 term 32 leader 1 nextIndex[0]: 220  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 64443 term 32 leader 1 nextIndex[2]: 220  matchIndex[2]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 219}]
------------------------------------------------------
client write log 2696136737893787169 (index 220) to leader 1
flag 20730 term 31 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 84069 term 31 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 83563 term 32 leader 1 nextIndex[0]: 220  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 29115 term 32 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 32 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {2696136737893787169 32 220}]
------------------------------------------------------
flag 21292 term 31 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 29704 term 31 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 99961 term 32 leader 1 nextIndex[0]: 220  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
flag 35312 term 32 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 32 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 32 leaderCommit: 220 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {2696136737893787169 32 220}]
------------------------------------------------------
client write log 2560451455558808564 (index 221) to leader 1
client write log 2752037523725024988 (index 222) to leader 1
client write log 7577014737840374079 (index 223) to leader 1
client write log 3130676079279758066 (index 224) to leader 1
client write log 5644845122074641168 (index 225) to leader 1
client write log 4531501915803504512 (index 226) to leader 1
client write log 7724639598628408937 (index 227) to leader 1
client write log 5810993001241226487 (index 228) to leader 1
client write log 9162650850344643985 (index 229) to leader 1
client write log 8365870128412706634 (index 230) to leader 1
client write log 1546943716701853237 (index 231) to leader 1
client write log 4305717988788037287 (index 232) to leader 1
client write log 7054678746394361853 (index 233) to leader 1
client write log 3010178581262891414 (index 234) to leader 1
flag 59882 term 31 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 87224 term 31 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 220->219
------------------------------------------------------
flag 38260 term 32 leader 1 nextIndex[0]: 220  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
flag 62406 term 32 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 32 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 32 leaderCommit: 220 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 31 219} {2696136737893787169 32 220} {2560451455558808564 32 221} {2752037523725024988 32 222} {7577014737840374079 32 223} {3130676079279758066 32 224} {5644845122074641168 32 225} {4531501915803504512 32 226} {7724639598628408937 32 227} {5810993001241226487 32 228} {9162650850344643985 32 229} {8365870128412706634 32 230} {1546943716701853237 32 231} {4305717988788037287 32 232} {7054678746394361853 32 233} {3010178581262891414 32 234}]
------------------------------------------------------
term 32 Server1 start snapshot! index=229
term 32 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=234
-------------------------------------------------------------
flag 55957 term 31 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 31 leader 0 nextIndex[2]: 0  matchIndex[2]: 219
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
term 32 leader 1 nextIndex[0]: 220  matchIndex[0]: 0
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 32
------------------------------------------------------
flag 74640 term 32 leader 1 nextIndex[2]: 235  matchIndex[2]: 234
term 32 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 32 leaderCommit: 234 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 32 229} {8365870128412706634 32 230} {1546943716701853237 32 231} {4305717988788037287 32 232} {7054678746394361853 32 233} {3010178581262891414 32 234}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 220->219
------------------------------------------------------
term 32 Server2 start snapshot! index=229
term 32 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=234
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4135720097661620570 (index 235) to leader 1
flag 90806 term 31 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 31 leader 0 nextIndex[2]: 0  matchIndex[2]: 219
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
term 32 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 31 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 32 server 1 AppendEntries false 领导者任期过期 args.Term 31
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 32
------------------------------------------------------
flag 26744 term 32 leader 1 nextIndex[2]: 235  matchIndex[2]: 234
term 32 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 32 leaderCommit: 234 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 32 229} {8365870128412706634 32 230} {1546943716701853237 32 231} {4305717988788037287 32 232} {7054678746394361853 32 233} {3010178581262891414 32 234} {4135720097661620570 32 235}]
------------------------------------------------------
term 32 server 0 InstallSnapshot success
------------------------------------------------------
term 32 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 32 rf.commitIndex 229 rf.lastApplied 229
term 32 server 2 not vote for server 0, 日志不够新
term 32 server 1 not vote for server 0, 日志不够新
term 34 server 2 vote for server 1
term 34 server 0 vote for server 1
term 34 server 1 get vote from server 2
term 34 server 1 become leader
------------------------------------------------------
term 34 server 1 get outdate rpc reply from server 0
flag 49240 term 34 leader 1 nextIndex[0]: 236  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 32 leaderCommit: 235 
------------------------------------------------------
flag 70406 term 34 leader 1 nextIndex[2]: 236  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 32 leaderCommit: 235 
------------------------------------------------------
term 34 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 236->235
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 32 229} {8365870128412706634 32 230} {1546943716701853237 32 231} {4305717988788037287 32 232} {7054678746394361853 32 233} {3010178581262891414 32 234} {4135720097661620570 32 235}]
------------------------------------------------------
flag 58753 term 34 leader 1 nextIndex[0]: 230  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 32 leaderCommit: 235 
------------------------------------------------------
flag 8992 term 34 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 34 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 32 leaderCommit: 235 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 32 229} {8365870128412706634 32 230} {1546943716701853237 32 231} {4305717988788037287 32 232} {7054678746394361853 32 233} {3010178581262891414 32 234} {4135720097661620570 32 235}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 32 229} {8365870128412706634 32 230} {1546943716701853237 32 231} {4305717988788037287 32 232} {7054678746394361853 32 233} {3010178581262891414 32 234} {4135720097661620570 32 235}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88244 term 34 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 32 leaderCommit: 235 
------------------------------------------------------
flag 54359 term 34 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 34 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 32 leaderCommit: 235 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 32 229} {8365870128412706634 32 230} {1546943716701853237 32 231} {4305717988788037287 32 232} {7054678746394361853 32 233} {3010178581262891414 32 234} {4135720097661620570 32 235}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 32 229} {8365870128412706634 32 230} {1546943716701853237 32 231} {4305717988788037287 32 232} {7054678746394361853 32 233} {3010178581262891414 32 234} {4135720097661620570 32 235}]
------------------------------------------------------
flag 62056 term 34 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 32 leaderCommit: 235 
------------------------------------------------------
flag 4418 term 34 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 34 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 32 leaderCommit: 235 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 32 229} {8365870128412706634 32 230} {1546943716701853237 32 231} {4305717988788037287 32 232} {7054678746394361853 32 233} {3010178581262891414 32 234} {4135720097661620570 32 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 32 229} {8365870128412706634 32 230} {1546943716701853237 32 231} {4305717988788037287 32 232} {7054678746394361853 32 233} {3010178581262891414 32 234} {4135720097661620570 32 235}]
------------------------------------------------------
term 34 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35892 term 34 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 32 leaderCommit: 235 
------------------------------------------------------
flag 82673 term 34 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 34 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 32 leaderCommit: 235 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 32 229} {8365870128412706634 32 230} {1546943716701853237 32 231} {4305717988788037287 32 232} {7054678746394361853 32 233} {3010178581262891414 32 234} {4135720097661620570 32 235}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 32 229} {8365870128412706634 32 230} {1546943716701853237 32 231} {4305717988788037287 32 232} {7054678746394361853 32 233} {3010178581262891414 32 234} {4135720097661620570 32 235}]
------------------------------------------------------
flag 96236 term 34 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 32 leaderCommit: 235 
------------------------------------------------------
flag 22879 term 34 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 34 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 32 leaderCommit: 235 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 32 229} {8365870128412706634 32 230} {1546943716701853237 32 231} {4305717988788037287 32 232} {7054678746394361853 32 233} {3010178581262891414 32 234} {4135720097661620570 32 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 32 229} {8365870128412706634 32 230} {1546943716701853237 32 231} {4305717988788037287 32 232} {7054678746394361853 32 233} {3010178581262891414 32 234} {4135720097661620570 32 235}]
------------------------------------------------------
flag 27848 term 34 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 32 leaderCommit: 235 
------------------------------------------------------
flag 89508 term 34 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 34 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 32 leaderCommit: 235 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 32 229} {8365870128412706634 32 230} {1546943716701853237 32 231} {4305717988788037287 32 232} {7054678746394361853 32 233} {3010178581262891414 32 234} {4135720097661620570 32 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 32 229} {8365870128412706634 32 230} {1546943716701853237 32 231} {4305717988788037287 32 232} {7054678746394361853 32 233} {3010178581262891414 32 234} {4135720097661620570 32 235}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8850554246645060522 (index 236) to leader 1
flag 58557 term 34 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 32 leaderCommit: 235 
------------------------------------------------------
flag 82158 term 34 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 34 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 32 leaderCommit: 235 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 32 229} {8365870128412706634 32 230} {1546943716701853237 32 231} {4305717988788037287 32 232} {7054678746394361853 32 233} {3010178581262891414 32 234} {4135720097661620570 32 235} {8850554246645060522 34 236}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7950 term 34 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 34 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 3585 term 34 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 34 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 32 leaderCommit: 236 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 32 229} {8365870128412706634 32 230} {1546943716701853237 32 231} {4305717988788037287 32 232} {7054678746394361853 32 233} {3010178581262891414 32 234} {4135720097661620570 32 235} {8850554246645060522 34 236}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 236->235
------------------------------------------------------
client write log 4345379581525727816 (index 237) to leader 1
client write log 8503693868970562176 (index 238) to leader 1
client write log 5883606430700023586 (index 239) to leader 1
client write log 3546860108130970134 (index 240) to leader 1
client write log 2265416323910512012 (index 241) to leader 1
client write log 8905956000858448426 (index 242) to leader 1
client write log 1883996733842533420 (index 243) to leader 1
flag 77882 term 34 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 34 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 0  matchIndex[2]: 235
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 32
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 32 229} {8365870128412706634 32 230} {1546943716701853237 32 231} {4305717988788037287 32 232} {7054678746394361853 32 233} {3010178581262891414 32 234} {4135720097661620570 32 235} {8850554246645060522 34 236} {4345379581525727816 34 237} {8503693868970562176 34 238} {5883606430700023586 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243}]
------------------------------------------------------
term 34 Server1 start snapshot! index=239
term 34 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=243
-------------------------------------------------------------
flag 30319 term 34 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 34 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 0  matchIndex[2]: 235
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243}]
------------------------------------------------------
term 34 Server0 start snapshot! index=239
term 34 server0 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=243
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7203718176038698427 (index 244) to leader 1
term 34 server 1 not vote for server 2, 日志不够新
term 34 server 0 not vote for server 2, 日志不够新
term 36 server 2 vote for server 1
term 36 server 0 vote for server 1
term 36 server 1 get vote from server 2
term 36 server 1 become leader
------------------------------------------------------
term 36 server 1 get outdate rpc reply from server 0
flag 7521 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 57317 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 36 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 245->244
------------------------------------------------------
term 36 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 245->244
------------------------------------------------------
flag 61587 term 36 leader 1 nextIndex[0]: 244  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 34
------------------------------------------------------
term 36 server 2 InstallSnapshot success
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 34 rf.commitIndex 239 rf.lastApplied 239
term 36 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
flag 33267 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 86669 term 36 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
term 36 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37403 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 67735 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64047 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 22288 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
flag 62133 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 27071 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
flag 88169 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 57042 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
flag 27785 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 70769 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37566 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 45797 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
flag 57410 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 21118 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
term 36 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
term 36 server 0 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 0
flag 15122 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 35513 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48392 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 34335 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
flag 25639 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 59203 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
flag 41206 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 57904 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12934 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 15802 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
flag 88398 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 7514 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
flag 79563 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 51729 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45891 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 85288 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
flag 26645 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 98213 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244}]
------------------------------------------------------
client write log 7203718176038698427 (index 245) to leader 1
flag 82413 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 12030 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244} {7203718176038698427 36 245}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244} {7203718176038698427 36 245}]
------------------------------------------------------
flag 73454 term 36 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 36 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 12767 term 36 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244} {7203718176038698427 36 245}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244} {7203718176038698427 36 245}]
------------------------------------------------------
flag 9567 term 36 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 36 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 51448 term 36 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244} {7203718176038698427 36 245}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244} {7203718176038698427 36 245}]
------------------------------------------------------
flag 88483 term 36 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 36 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 3470 term 36 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244} {7203718176038698427 36 245}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244} {7203718176038698427 36 245}]
------------------------------------------------------
flag 24604 term 36 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 36 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 48293 term 36 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244} {7203718176038698427 36 245}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244} {7203718176038698427 36 245}]
------------------------------------------------------
flag 36503 term 36 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 36 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 47519 term 36 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244} {7203718176038698427 36 245}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244} {7203718176038698427 36 245}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1948049566254567691 (index 246) to leader 1
flag 73135 term 36 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 36 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 40248 term 36 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244} {7203718176038698427 36 245} {1948049566254567691 36 246}]
------------------------------------------------------
flag 8044 term 36 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 36 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 32593 term 36 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244} {7203718176038698427 36 245} {1948049566254567691 36 246}]
------------------------------------------------------
client write log 5706594480105610896 (index 247) to leader 1
client write log 2374349954018268262 (index 248) to leader 1
client write log 6476217737775589322 (index 249) to leader 1
client write log 2037163546187178814 (index 250) to leader 1
client write log 6810644480640085612 (index 251) to leader 1
client write log 608673701269864019 (index 252) to leader 1
client write log 6815198311989718322 (index 253) to leader 1
client write log 5649364331680583703 (index 254) to leader 1
client write log 8174127442863907458 (index 255) to leader 1
client write log 6897679185542494204 (index 256) to leader 1
client write log 1769075248735113335 (index 257) to leader 1
flag 34744 term 36 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 36 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 14102 term 36 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 34 239} {3546860108130970134 34 240} {2265416323910512012 34 241} {8905956000858448426 34 242} {1883996733842533420 34 243} {7203718176038698427 34 244} {7203718176038698427 36 245} {1948049566254567691 36 246} {5706594480105610896 36 247} {2374349954018268262 36 248} {6476217737775589322 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257}]
------------------------------------------------------
term 36 Server1 start snapshot! index=249
term 36 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=257
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28050 term 36 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 36 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257}]
------------------------------------------------------
term 36 Server0 start snapshot! index=249
term 36 server0 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=257
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1710655087826997979 (index 258) to leader 1
flag 45352 term 36 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 36 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
term 37 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 2 vote for server 1
term 38 server 0 vote for server 1
term 38 server 1 get vote from server 2
term 38 server 1 become leader
------------------------------------------------------
term 38 server 1 get outdate rpc reply from server 0
flag 48746 term 38 leader 1 nextIndex[0]: 259  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
flag 37480 term 38 leader 1 nextIndex[2]: 259  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
term 38 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 259->258
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31261 term 38 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 246  matchIndex[2]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
term 38 server 2 InstallSnapshot success
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 36 rf.commitIndex 249 rf.lastApplied 249
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
flag 86931 term 38 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
flag 33492 term 38 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 38 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81840 term 38 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
flag 52899 term 38 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84604 term 38 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
flag 88578 term 38 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
term 38 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
flag 44414 term 38 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
flag 83983 term 38 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
flag 72127 term 38 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
flag 26662 term 38 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
flag 86945 term 38 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
flag 6541 term 38 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
flag 6892 term 38 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
flag 71737 term 38 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
flag 59986 term 38 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
flag 54181 term 38 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
flag 46629 term 38 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
flag 51573 term 38 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
flag 46971 term 38 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
flag 93578 term 38 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
flag 55960 term 38 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
flag 75332 term 38 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
flag 84371 term 38 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
flag 7367 term 38 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25794 term 38 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
flag 62773 term 38 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
flag 78971 term 38 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
flag 55569 term 38 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
flag 60119 term 38 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
flag 6037 term 38 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
flag 72315 term 38 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
flag 32636 term 38 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
flag 64780 term 38 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
flag 24061 term 38 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258}]
------------------------------------------------------
client write log 1710655087826997979 (index 259) to leader 1
flag 78299 term 38 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
flag 84076 term 38 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 38 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258} {1710655087826997979 38 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 36 249} {2037163546187178814 36 250} {6810644480640085612 36 251} {608673701269864019 36 252} {6815198311989718322 36 253} {5649364331680583703 36 254} {8174127442863907458 36 255} {6897679185542494204 36 256} {1769075248735113335 36 257} {1710655087826997979 36 258} {1710655087826997979 38 259}]
------------------------------------------------------
term 38 Server1 start snapshot! index=259
term 38 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
flag 83930 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 88242 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 38 259}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 38 259}]
------------------------------------------------------
term 38 Server0 start snapshot! index=259
term 38 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
term 38 Server2 start snapshot! index=259
term 38 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
flag 4659 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 88681 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 38 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 38 259}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43907 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 13254 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 38 259}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 38 259}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97292 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 52924 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 38 259}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 38 259}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25792 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 70844 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 38 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 38 259}]
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4346 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 76999 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 38 259}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 38 259}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 92514 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 52891 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 20183 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 72669 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 28385 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 3957 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 39 server 0 vote for server 2
term 39 server 2 get vote from server 0
term 39 server 2 become leader
------------------------------------------------------
client write log 7685248801514584271 (index 260) to leader 2
flag 54082 term 39 leader 2 nextIndex[0]: 260  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 6572 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 38 259} {7685248801514584271 39 260}]
------------------------------------------------------
flag 21386 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 40771 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 82913 term 39 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 39 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
flag 63838 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 38 259} {7685248801514584271 39 260}]
------------------------------------------------------
flag 57408 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 78065 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
client write log 3747305045411099599 (index 261) to leader 2
client write log 8963124534627732563 (index 262) to leader 2
client write log 6304002422467809173 (index 263) to leader 2
client write log 7609201657480706294 (index 264) to leader 2
client write log 7372854968626440085 (index 265) to leader 2
client write log 3489965596119289191 (index 266) to leader 2
client write log 8995228792115302771 (index 267) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51029 term 39 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 39 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
flag 89728 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
flag 28492 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 67809 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 86486 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 59280 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 267 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5365543670815134122 (index 260) to leader 1
flag 45634 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 69350 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 39 server 2 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 39 server 0 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29115 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 16167 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 268->267
------------------------------------------------------
flag 31969 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 leader 2 nextIndex[1]: 0  matchIndex[1]: 267
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
term 39 server 1 InstallSnapshot fail
rf.commitIndex 260 args.LastIncludedIndex 259
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
term 39 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
flag 41337 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 93982 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19440 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 1233 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
flag 57229 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 94878 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
flag 87328 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 36254 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
flag 87076 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 77580 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3224 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 3336 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 268->267
------------------------------------------------------
flag 38799 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 leader 2 nextIndex[1]: 0  matchIndex[1]: 267
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
term 39 server 1 InstallSnapshot fail
rf.commitIndex 267 args.LastIncludedIndex 259
------------------------------------------------------
term 39 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
flag 43359 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 31932 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 267 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
flag 25121 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 93541 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
flag 87341 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 34612 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77606 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 89623 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
flag 32162 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 22707 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
flag 22871 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 99629 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91951 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 69005 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
term 39 server 0 not vote for server 2, 任期不够新
term 39 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 903 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 71209 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
flag 67986 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 43125 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 268->267
------------------------------------------------------
flag 14248 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 leader 2 nextIndex[1]: 0  matchIndex[1]: 267
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
term 39 server 1 InstallSnapshot fail
rf.commitIndex 267 args.LastIncludedIndex 259
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
term 39 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267}]
------------------------------------------------------
client write log 5365543670815134122 (index 268) to leader 2
flag 42753 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 51508 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267} {5365543670815134122 39 268}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267} {5365543670815134122 39 268}]
------------------------------------------------------
flag 50789 term 39 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
flag 18777 term 39 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267} {5365543670815134122 39 268}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267} {5365543670815134122 39 268}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49283 term 39 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
flag 21723 term 39 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267} {5365543670815134122 39 268}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267} {5365543670815134122 39 268}]
------------------------------------------------------
flag 75085 term 39 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
flag 6769 term 39 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267} {5365543670815134122 39 268}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267} {5365543670815134122 39 268}]
------------------------------------------------------
flag 35771 term 39 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
flag 72697 term 39 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267} {5365543670815134122 39 268}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267} {5365543670815134122 39 268}]
------------------------------------------------------
flag 40713 term 39 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
flag 52042 term 39 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267} {5365543670815134122 39 268}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267} {5365543670815134122 39 268}]
------------------------------------------------------
flag 13777 term 39 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
flag 39591 term 39 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267} {5365543670815134122 39 268}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267} {5365543670815134122 39 268}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2220172305979512205 (index 269) to leader 2
flag 41323 term 39 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
flag 91299 term 39 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 38 259} {7685248801514584271 39 260} {3747305045411099599 39 261} {8963124534627732563 39 262} {6304002422467809173 39 263} {7609201657480706294 39 264} {7372854968626440085 39 265} {3489965596119289191 39 266} {8995228792115302771 39 267} {5365543670815134122 39 268} {2220172305979512205 39 269}]
------------------------------------------------------
term 39 Server2 start snapshot! index=269
term 39 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 39
------------------------------------------------------
flag 29027 term 39 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 39 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 269 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 39 269}]
------------------------------------------------------
term 39 Server1 start snapshot! index=269
term 39 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
client write log 274089139509175131 (index 270) to leader 2
client write log 3436962245833911450 (index 271) to leader 2
client write log 5374764483898008902 (index 272) to leader 2
client write log 5251743229796118799 (index 273) to leader 2
client write log 6170922541770610705 (index 274) to leader 2
client write log 609233185211901327 (index 275) to leader 2
client write log 8611720491782176800 (index 276) to leader 2
client write log 2685872469783025928 (index 277) to leader 2
client write log 2735291998837412703 (index 278) to leader 2
client write log 3545990223099651281 (index 279) to leader 2
term 39 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 39
------------------------------------------------------
flag 5050 term 39 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 39 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 269 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 39 269} {274089139509175131 39 270} {3436962245833911450 39 271} {5374764483898008902 39 272} {5251743229796118799 39 273} {6170922541770610705 39 274} {609233185211901327 39 275} {8611720491782176800 39 276} {2685872469783025928 39 277} {2735291998837412703 39 278} {3545990223099651281 39 279}]
------------------------------------------------------
term 39 Server2 start snapshot! index=279
term 39 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
term 39 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 39
------------------------------------------------------
flag 45134 term 39 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 39 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 279 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 39 279}]
------------------------------------------------------
term 39 Server1 start snapshot! index=279
term 39 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5094296308033385535 (index 280) to leader 2
term 39 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 39
------------------------------------------------------
flag 62349 term 39 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 39 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 279 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
term 40 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 279} {5094296308033385535 39 280}]
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 server 1 vote for server 2
term 41 server 0 vote for server 2
term 41 server 2 get vote from server 1
term 41 server 2 become leader
------------------------------------------------------
term 41 server 2 get outdate rpc reply from server 0
flag 3063 term 41 leader 2 nextIndex[0]: 281  matchIndex[0]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 39 leaderCommit: 280 
------------------------------------------------------
flag 40993 term 41 leader 2 nextIndex[1]: 281  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 39 leaderCommit: 280 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 279} {5094296308033385535 39 280}]
------------------------------------------------------
term 41 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 281->280
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 2 nextIndex[0]: 269  matchIndex[0]: 0
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 39
------------------------------------------------------
flag 2674 term 41 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 41 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 39 leaderCommit: 280 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 279} {5094296308033385535 39 280}]
------------------------------------------------------
term 41 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 39 rf.commitIndex 279 rf.lastApplied 279
term 41 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18589 term 41 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 41 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 280 
------------------------------------------------------
flag 39009 term 41 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 41 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 39 leaderCommit: 280 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 279} {5094296308033385535 39 280}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 279} {5094296308033385535 39 280}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57703 term 41 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 41 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 39 leaderCommit: 280 
------------------------------------------------------
flag 55526 term 41 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 41 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 39 leaderCommit: 280 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 279} {5094296308033385535 39 280}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 279} {5094296308033385535 39 280}]
------------------------------------------------------
flag 92836 term 41 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 41 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 39 leaderCommit: 280 
------------------------------------------------------
flag 48622 term 41 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 41 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 39 leaderCommit: 280 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 279} {5094296308033385535 39 280}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 279} {5094296308033385535 39 280}]
------------------------------------------------------
flag 30059 term 41 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 41 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 39 leaderCommit: 280 
------------------------------------------------------
flag 81229 term 41 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 41 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 39 leaderCommit: 280 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 279} {5094296308033385535 39 280}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 279} {5094296308033385535 39 280}]
------------------------------------------------------
flag 18802 term 41 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 41 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 39 leaderCommit: 280 
------------------------------------------------------
flag 49267 term 41 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 41 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 39 leaderCommit: 280 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 279} {5094296308033385535 39 280}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 279} {5094296308033385535 39 280}]
------------------------------------------------------
flag 72922 term 41 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 41 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 39 leaderCommit: 280 
------------------------------------------------------
flag 75312 term 41 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 41 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 39 leaderCommit: 280 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 279} {5094296308033385535 39 280}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 279} {5094296308033385535 39 280}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 476615014104251878 (index 281) to leader 2
flag 91632 term 41 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 41 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 39 leaderCommit: 280 
------------------------------------------------------
flag 67589 term 41 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 41 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 39 leaderCommit: 280 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 281->280
------------------------------------------------------
term 41 leader 2 nextIndex[0]: 0  matchIndex[0]: 280
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 39
------------------------------------------------------
flag 58642 term 41 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 41 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 281 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281}]
------------------------------------------------------
client write log 5989822842222316223 (index 282) to leader 2
client write log 3535278704630491920 (index 283) to leader 2
client write log 3189296553223862895 (index 284) to leader 2
client write log 3250934043175800562 (index 285) to leader 2
client write log 7962109646201759326 (index 286) to leader 2
client write log 7960998146997955479 (index 287) to leader 2
term 41 leader 2 nextIndex[0]: 0  matchIndex[0]: 280
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 39
------------------------------------------------------
flag 87428 term 41 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 41 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 281 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 2 nextIndex[0]: 0  matchIndex[0]: 280
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 39
------------------------------------------------------
flag 94052 term 41 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 41 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2545795505586803814 (index 288) to leader 2
term 41 server 1 not vote for server 0, 日志不够新
term 41 server 2 not vote for server 0, 日志不够新
term 43 server 1 vote for server 2
term 43 server 2 get vote from server 1
term 43 server 2 become leader
------------------------------------------------------
term 43 server 0 vote for server 2
term 43 server 2 get outdate rpc reply from server 0
flag 93586 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
flag 89070 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
term 43 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 289->288
------------------------------------------------------
term 43 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 289->288
------------------------------------------------------
flag 61851 term 43 leader 2 nextIndex[0]: 281  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 39 leaderCommit: 287 
------------------------------------------------------
flag 56887 term 43 leader 2 nextIndex[1]: 288  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38888 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
flag 32970 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78510 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
flag 74432 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93985 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
flag 18991 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
term 43 server 1 not vote for server 2, 任期不够新
term 43 server 2 get outdate rpc reply from server 1
flag 29634 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
flag 89856 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
flag 41142 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
flag 24413 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
flag 4452 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
flag 64560 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
flag 81944 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
flag 11018 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66204 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
flag 46817 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
flag 50244 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
flag 27232 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47052 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
flag 71662 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
flag 60300 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
flag 98606 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
flag 84249 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
flag 2721 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
flag 16789 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
flag 6104 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
term 43 server 1 not vote for server 0, 任期不够新
term 43 server 0 get outdate rpc reply from server 1
flag 38506 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
flag 65170 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92160 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
flag 41342 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
flag 64833 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
flag 24886 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
term 43 server 1 not vote for server 2, 任期不够新
term 43 server 2 get outdate rpc reply from server 1
flag 56053 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
flag 74681 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288}]
------------------------------------------------------
client write log 2545795505586803814 (index 289) to leader 2
flag 36196 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
flag 44734 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 287 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288} {2545795505586803814 43 289}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 39 279} {5094296308033385535 39 280} {476615014104251878 41 281} {5989822842222316223 41 282} {3535278704630491920 41 283} {3189296553223862895 41 284} {3250934043175800562 41 285} {7962109646201759326 41 286} {7960998146997955479 41 287} {2545795505586803814 41 288} {2545795505586803814 43 289}]
------------------------------------------------------
term 43 Server2 start snapshot! index=289
term 43 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
flag 4430 term 43 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
flag 5242 term 43 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 43 289}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 43 289}]
------------------------------------------------------
term 43 Server0 start snapshot! index=289
term 43 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
term 43 Server1 start snapshot! index=289
term 43 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
flag 39102 term 43 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
flag 33772 term 43 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 43 289}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 43 289}]
------------------------------------------------------
flag 69185 term 43 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
flag 83490 term 43 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 43 289}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 43 289}]
------------------------------------------------------
flag 16034 term 43 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
flag 59791 term 43 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 43 289}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 43 289}]
------------------------------------------------------
flag 941 term 43 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
flag 2829 term 43 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 43 289}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 43 289}]
------------------------------------------------------
flag 63341 term 43 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
flag 573 term 43 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 43 289}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 43 289}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 11654 term 43 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
flag 45466 term 43 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97570 term 43 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
flag 923 term 43 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
flag 46592 term 43 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
flag 45596 term 43 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
term 44 server 0 vote for server 1
term 44 server 1 get vote from server 0
term 44 server 1 become leader
------------------------------------------------------
flag 91690 term 44 leader 1 nextIndex[0]: 290  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
flag 27889 term 44 leader 1 nextIndex[2]: 290  matchIndex[2]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 43 289}]
------------------------------------------------------
flag 34305 term 43 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
flag 80061 term 43 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
client write log 2919234726411242683 (index 290) to leader 1
flag 70150 term 44 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 44 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
flag 23634 term 44 leader 1 nextIndex[2]: 290  matchIndex[2]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 43 289} {2919234726411242683 44 290}]
------------------------------------------------------
flag 74058 term 43 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
flag 49920 term 43 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
flag 86962 term 44 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 44 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 290 
------------------------------------------------------
flag 62426 term 44 leader 1 nextIndex[2]: 290  matchIndex[2]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 43 289} {2919234726411242683 44 290}]
------------------------------------------------------
client write log 258849806045532153 (index 291) to leader 1
flag 13057 term 43 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
flag 50378 term 43 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
flag 40648 term 44 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 44 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 290 
------------------------------------------------------
flag 73615 term 44 leader 1 nextIndex[2]: 290  matchIndex[2]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {2919234726411242683 44 290} {258849806045532153 44 291}]
------------------------------------------------------
flag 21061 term 43 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
flag 89035 term 43 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
flag 94422 term 44 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 44 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 44 leaderCommit: 291 
------------------------------------------------------
flag 16441 term 44 leader 1 nextIndex[2]: 290  matchIndex[2]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {2919234726411242683 44 290} {258849806045532153 44 291}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6043099567096396624 (index 292) to leader 1
flag 12903 term 43 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
flag 23556 term 43 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
term 44 server 1 AppendEntries false 领导者任期过期 args.Term 43
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 44 server 0 AppendEntries false 领导者任期过期 args.Term 43
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7498 term 44 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 44 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 44 leaderCommit: 291 
------------------------------------------------------
flag 33342 term 44 leader 1 nextIndex[2]: 290  matchIndex[2]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 43 289} {2919234726411242683 44 290} {258849806045532153 44 291} {6043099567096396624 44 292}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 43 289} {2919234726411242683 44 290} {258849806045532153 44 291} {6043099567096396624 44 292}]
------------------------------------------------------
flag 41248 term 44 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 44 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 70206 term 44 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 44 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 44 server 2 not vote for server 0, 任期不够新
term 44 server 0 get outdate rpc reply from server 2
term 44 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 43 289} {2919234726411242683 44 290} {258849806045532153 44 291} {6043099567096396624 44 292}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 43 289} {2919234726411242683 44 290} {258849806045532153 44 291} {6043099567096396624 44 292}]
------------------------------------------------------
flag 90869 term 44 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 44 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 75251 term 44 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 44 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 43 289} {2919234726411242683 44 290} {258849806045532153 44 291} {6043099567096396624 44 292}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 43 289} {2919234726411242683 44 290} {258849806045532153 44 291} {6043099567096396624 44 292}]
------------------------------------------------------
flag 35566 term 44 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 44 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 4780 term 44 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 44 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 43 289} {2919234726411242683 44 290} {258849806045532153 44 291} {6043099567096396624 44 292}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 43 289} {2919234726411242683 44 290} {258849806045532153 44 291} {6043099567096396624 44 292}]
------------------------------------------------------
flag 33889 term 44 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 44 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 25673 term 44 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 44 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 43 289} {2919234726411242683 44 290} {258849806045532153 44 291} {6043099567096396624 44 292}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 43 289} {2919234726411242683 44 290} {258849806045532153 44 291} {6043099567096396624 44 292}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 293->292
------------------------------------------------------
flag 95577 term 44 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 44 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 0  matchIndex[2]: 292
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 43
------------------------------------------------------
term 44 server 2 InstallSnapshot fail
rf.commitIndex 292 args.LastIncludedIndex 289
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 43 289} {2919234726411242683 44 290} {258849806045532153 44 291} {6043099567096396624 44 292}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6275644211404548495 (index 293) to leader 1
flag 60185 term 44 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 44 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 73889 term 44 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 44 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 292 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {2919234726411242683 44 290} {258849806045532153 44 291} {6043099567096396624 44 292} {6275644211404548495 44 293}]
------------------------------------------------------
flag 44305 term 44 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 44 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 41881 term 44 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 44 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {2919234726411242683 44 290} {258849806045532153 44 291} {6043099567096396624 44 292} {6275644211404548495 44 293}]
------------------------------------------------------
client write log 2563431261764752645 (index 294) to leader 1
client write log 1836827414061797617 (index 295) to leader 1
client write log 1167772243380825953 (index 296) to leader 1
client write log 7070090225066468791 (index 297) to leader 1
client write log 6832650772192560984 (index 298) to leader 1
client write log 3949616502188217952 (index 299) to leader 1
client write log 6532476467060930782 (index 300) to leader 1
client write log 1866773480390026515 (index 301) to leader 1
client write log 4707554773030982421 (index 302) to leader 1
client write log 8394187838056197797 (index 303) to leader 1
client write log 1966014357356124421 (index 304) to leader 1
client write log 8256385570277800838 (index 305) to leader 1
flag 68309 term 44 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 44 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 30622 term 44 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 44 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=305
leader log:
[{snapshot 43 289} {2919234726411242683 44 290} {258849806045532153 44 291} {6043099567096396624 44 292} {6275644211404548495 44 293} {2563431261764752645 44 294} {1836827414061797617 44 295} {1167772243380825953 44 296} {7070090225066468791 44 297} {6832650772192560984 44 298} {3949616502188217952 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305}]
------------------------------------------------------
term 44 Server1 start snapshot! index=299
term 44 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=305
-------------------------------------------------------------
flag 67305 term 44 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 44 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305}]
------------------------------------------------------
term 44 Server0 start snapshot! index=299
term 44 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=305
-------------------------------------------------------------
!!!!!!connect server 2
client write log 284639434973339062 (index 306) to leader 1
flag 93811 term 44 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 44 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
term 45 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 2 vote for server 1
term 46 server 1 get vote from server 2
term 46 server 1 become leader
------------------------------------------------------
term 46 server 0 vote for server 1
term 46 server 1 get outdate rpc reply from server 0
flag 72084 term 46 leader 1 nextIndex[0]: 307  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 9660 term 46 leader 1 nextIndex[2]: 307  matchIndex[2]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 46 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 307->306
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51271 term 46 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 293  matchIndex[2]: 0
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
term 46 server 2 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 44 rf.commitIndex 299 rf.lastApplied 299
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26239 term 46 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 44195 term 46 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 46 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
flag 43123 term 46 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 3687 term 46 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
flag 7844 term 46 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 19683 term 46 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
flag 27185 term 46 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 3995 term 46 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79437 term 46 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 47639 term 46 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
term 46 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
flag 57170 term 46 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 13026 term 46 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
flag 86721 term 46 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 26450 term 46 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
flag 70837 term 46 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 92105 term 46 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
flag 93055 term 46 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 18091 term 46 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32083 term 46 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 35799 term 46 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
flag 1791 term 46 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 51208 term 46 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55334 term 46 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 56878 term 46 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
flag 57832 term 46 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 24577 term 46 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
flag 69077 term 46 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 62670 term 46 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
flag 13453 term 46 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 44886 term 46 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
flag 97825 term 46 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 11373 term 46 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 1 not vote for server 2, 任期不够新
term 46 server 2 get outdate rpc reply from server 1
flag 28306 term 46 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 29195 term 46 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306}]
------------------------------------------------------
client write log 284639434973339062 (index 307) to leader 1
flag 75833 term 46 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 29345 term 46 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 46 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306} {284639434973339062 46 307}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306} {284639434973339062 46 307}]
------------------------------------------------------
flag 54953 term 46 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 46 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 307 
------------------------------------------------------
flag 56267 term 46 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 46 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 307 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306} {284639434973339062 46 307}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306} {284639434973339062 46 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13228 term 46 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 46 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 307 
------------------------------------------------------
flag 6108 term 46 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 46 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 307 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306} {284639434973339062 46 307}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306} {284639434973339062 46 307}]
------------------------------------------------------
flag 6182 term 46 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 46 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 307 
------------------------------------------------------
flag 72787 term 46 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 46 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 307 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306} {284639434973339062 46 307}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306} {284639434973339062 46 307}]
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14294 term 46 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 46 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 307 
------------------------------------------------------
flag 33955 term 46 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 46 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 307 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306} {284639434973339062 46 307}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306} {284639434973339062 46 307}]
------------------------------------------------------
flag 69703 term 46 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 46 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 307 
------------------------------------------------------
flag 49431 term 46 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 46 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 307 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306} {284639434973339062 46 307}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306} {284639434973339062 46 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50273 term 46 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 46 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 307 
------------------------------------------------------
flag 67118 term 46 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 46 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 307 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306} {284639434973339062 46 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306} {284639434973339062 46 307}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1085803438336200169 (index 308) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32752 term 46 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 46 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 307 
------------------------------------------------------
flag 99864 term 46 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 46 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 307 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306} {284639434973339062 46 307} {1085803438336200169 46 308}]
------------------------------------------------------
flag 53515 term 46 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 46 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 46 leaderCommit: 308 
------------------------------------------------------
flag 82978 term 46 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 46 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 308 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306} {284639434973339062 46 307} {1085803438336200169 46 308}]
------------------------------------------------------
client write log 997588285569398962 (index 309) to leader 1
client write log 1229724165217443871 (index 310) to leader 1
client write log 166608363395507574 (index 311) to leader 1
client write log 7683649766306324108 (index 312) to leader 1
client write log 1470708282477627930 (index 313) to leader 1
client write log 4982549737254627158 (index 314) to leader 1
client write log 6898587425974226935 (index 315) to leader 1
client write log 1851953935803813840 (index 316) to leader 1
client write log 5808106488964748719 (index 317) to leader 1
client write log 379611800448665031 (index 318) to leader 1
client write log 7518995179620500041 (index 319) to leader 1
client write log 5115821173164023133 (index 320) to leader 1
client write log 8201862533682696388 (index 321) to leader 1
client write log 7537268926791853583 (index 322) to leader 1
flag 92346 term 46 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 46 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 46 leaderCommit: 308 
------------------------------------------------------
flag 38721 term 46 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 46 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 308 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 44 299} {6532476467060930782 44 300} {1866773480390026515 44 301} {4707554773030982421 44 302} {8394187838056197797 44 303} {1966014357356124421 44 304} {8256385570277800838 44 305} {284639434973339062 44 306} {284639434973339062 46 307} {1085803438336200169 46 308} {997588285569398962 46 309} {1229724165217443871 46 310} {166608363395507574 46 311} {7683649766306324108 46 312} {1470708282477627930 46 313} {4982549737254627158 46 314} {6898587425974226935 46 315} {1851953935803813840 46 316} {5808106488964748719 46 317} {379611800448665031 46 318} {7518995179620500041 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322}]
------------------------------------------------------
term 46 Server1 start snapshot! index=309
term 46 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=322
-------------------------------------------------------------
term 46 Server1 start snapshot! index=319
term 46 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=322
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57044 term 46 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 46 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322}]
------------------------------------------------------
term 46 Server0 start snapshot! index=309
term 46 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=322
-------------------------------------------------------------
term 46 Server0 start snapshot! index=319
term 46 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=322
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5084832820252456189 (index 323) to leader 1
flag 18720 term 46 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 46 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
term 47 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 2 vote for server 1
term 48 server 0 vote for server 1
term 48 server 1 get vote from server 2
term 48 server 1 become leader
------------------------------------------------------
term 48 server 1 get outdate rpc reply from server 0
flag 80654 term 48 leader 1 nextIndex[0]: 324  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 11050 term 48 leader 1 nextIndex[2]: 324  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 324->323
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92513 term 48 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 308  matchIndex[2]: 0
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
term 48 server 2 InstallSnapshot success
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 46 rf.commitIndex 319 rf.lastApplied 319
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96167 term 48 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 84023 term 48 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 48 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32957 term 48 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 74673 term 48 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
term 48 server 2 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 2
flag 62655 term 48 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 53307 term 48 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
flag 79135 term 48 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34295 term 48 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60873 term 48 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 67349 term 48 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
flag 59879 term 48 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 23177 term 48 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
flag 58220 term 48 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 53889 term 48 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46243 term 48 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 61456 term 48 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21418 term 48 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 4994 term 48 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
flag 21536 term 48 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 19909 term 48 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
flag 64781 term 48 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 80806 term 48 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77600 term 48 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 63236 term 48 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49795 term 48 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 26579 term 48 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26003 term 48 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 78550 term 48 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
flag 36540 term 48 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 61269 term 48 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
flag 72300 term 48 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 43132 term 48 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
flag 21727 term 48 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 52962 term 48 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323}]
------------------------------------------------------
client write log 5084832820252456189 (index 324) to leader 1
flag 18490 term 48 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 27798 term 48 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323} {5084832820252456189 48 324}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323} {5084832820252456189 48 324}]
------------------------------------------------------
flag 762 term 48 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 43067 term 48 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323} {5084832820252456189 48 324}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323} {5084832820252456189 48 324}]
------------------------------------------------------
flag 77499 term 48 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 22348 term 48 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323} {5084832820252456189 48 324}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323} {5084832820252456189 48 324}]
------------------------------------------------------
flag 6908 term 48 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 49046 term 48 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323} {5084832820252456189 48 324}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323} {5084832820252456189 48 324}]
------------------------------------------------------
term 48 server 1 not vote for server 2, 任期不够新
term 48 server 2 get outdate rpc reply from server 1
flag 27544 term 48 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 77940 term 48 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323} {5084832820252456189 48 324}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323} {5084832820252456189 48 324}]
------------------------------------------------------
flag 45906 term 48 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 19899 term 48 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323} {5084832820252456189 48 324}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323} {5084832820252456189 48 324}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24907 term 48 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 11515 term 48 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323} {5084832820252456189 48 324}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323} {5084832820252456189 48 324}]
------------------------------------------------------
!!!!!!diconnect server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63838 term 48 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 1644 term 48 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 57057 term 48 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 72671 term 48 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 99896 term 48 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 76270 term 48 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 49 server 0 vote for server 2
term 49 server 2 get vote from server 0
term 49 server 2 become leader
------------------------------------------------------
client write log 8534780266477492445 (index 325) to leader 2
flag 62755 term 49 leader 2 nextIndex[0]: 325  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 20500 term 49 leader 2 nextIndex[1]: 325  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323} {5084832820252456189 48 324} {8534780266477492445 49 325}]
------------------------------------------------------
flag 58032 term 48 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 47868 term 48 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 802 term 49 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 49 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 66388 term 49 leader 2 nextIndex[1]: 325  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323} {5084832820252456189 48 324} {8534780266477492445 49 325}]
------------------------------------------------------
flag 49450 term 48 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 88663 term 48 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
client write log 8427327201419163733 (index 326) to leader 2
client write log 3463462226298128716 (index 327) to leader 2
client write log 6475074342349928402 (index 328) to leader 2
client write log 3184940689746972527 (index 329) to leader 2
client write log 5645593938507015192 (index 330) to leader 2
client write log 895764234908309272 (index 331) to leader 2
flag 70877 term 49 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 49 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 91984 term 49 leader 2 nextIndex[1]: 325  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 46 319} {5115821173164023133 46 320} {8201862533682696388 46 321} {7537268926791853583 46 322} {5084832820252456189 46 323} {5084832820252456189 48 324} {8534780266477492445 49 325} {8427327201419163733 49 326} {3463462226298128716 49 327} {6475074342349928402 49 328} {3184940689746972527 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
term 49 Server2 start snapshot! index=329
term 49 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=331
-------------------------------------------------------------
flag 61557 term 48 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 36104 term 48 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 88847 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 leader 2 nextIndex[1]: 325  matchIndex[1]: 0
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
flag 18117 term 48 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 8578 term 48 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 49 Server0 start snapshot! index=329
term 49 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=331
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6485946604059570547 (index 325) to leader 1
flag 44449 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 leader 2 nextIndex[1]: 325  matchIndex[1]: 0
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 1 InstallSnapshot success
------------------------------------------------------
term 49 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 49 rf.commitIndex 329 rf.lastApplied 329
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
term 49 server 0 not vote for server 2, 任期不够新
term 49 server 2 get outdate rpc reply from server 0
flag 68999 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 8206 term 49 leader 2 nextIndex[1]: 330  matchIndex[1]: 329
term 49 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
flag 19724 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 84095 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90633 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 36387 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
flag 20447 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 72183 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
flag 49840 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 97272 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
flag 21350 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 19776 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
flag 95410 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 80047 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
flag 79766 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 62506 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32170 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 5518 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
flag 34315 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 42712 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
flag 4809 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 68213 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
flag 32394 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 32939 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
flag 33300 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 85483 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36768 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 44506 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12253 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 25454 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
flag 26913 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 35485 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
flag 88637 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 3000 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
flag 96631 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 92546 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
term 49 server 0 not vote for server 2, 任期不够新
term 49 server 2 get outdate rpc reply from server 0
flag 921 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 78068 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331}]
------------------------------------------------------
client write log 6485946604059570547 (index 332) to leader 2
flag 78061 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 21866 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331} {6485946604059570547 49 332}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331} {6485946604059570547 49 332}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35998 term 49 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 47633 term 49 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331} {6485946604059570547 49 332}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331} {6485946604059570547 49 332}]
------------------------------------------------------
flag 19941 term 49 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 25605 term 49 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331} {6485946604059570547 49 332}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331} {6485946604059570547 49 332}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51158 term 49 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 91468 term 49 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331} {6485946604059570547 49 332}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331} {6485946604059570547 49 332}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2427 term 49 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 31588 term 49 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331} {6485946604059570547 49 332}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331} {6485946604059570547 49 332}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42881 term 49 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 86647 term 49 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331} {6485946604059570547 49 332}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331} {6485946604059570547 49 332}]
------------------------------------------------------
flag 87000 term 49 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 9319 term 49 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
term 49 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331} {6485946604059570547 49 332}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331} {6485946604059570547 49 332}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5456202339427062636 (index 333) to leader 2
flag 81889 term 49 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 84594 term 49 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331} {6485946604059570547 49 332} {5456202339427062636 49 333}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 333->332
------------------------------------------------------
term 49 leader 2 nextIndex[0]: 0  matchIndex[0]: 332
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 49
------------------------------------------------------
flag 93221 term 49 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 49 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331} {6485946604059570547 49 332} {5456202339427062636 49 333}]
------------------------------------------------------
client write log 7981463274681773641 (index 334) to leader 2
client write log 7404498591534361148 (index 335) to leader 2
client write log 5538689958132282903 (index 336) to leader 2
client write log 3407510316545094809 (index 337) to leader 2
client write log 6717683742837900732 (index 338) to leader 2
client write log 5486497055748522569 (index 339) to leader 2
client write log 5194518576102737588 (index 340) to leader 2
client write log 1831947689056915571 (index 341) to leader 2
client write log 4280267321308145384 (index 342) to leader 2
client write log 6732383705383466473 (index 343) to leader 2
client write log 7087115547590835830 (index 344) to leader 2
client write log 1835221473125780578 (index 345) to leader 2
client write log 1944227604750155650 (index 346) to leader 2
term 49 leader 2 nextIndex[0]: 0  matchIndex[0]: 332
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 49
------------------------------------------------------
flag 13603 term 49 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 49 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 329} {5645593938507015192 49 330} {895764234908309272 49 331} {6485946604059570547 49 332} {5456202339427062636 49 333} {7981463274681773641 49 334} {7404498591534361148 49 335} {5538689958132282903 49 336} {3407510316545094809 49 337} {6717683742837900732 49 338} {5486497055748522569 49 339} {5194518576102737588 49 340} {1831947689056915571 49 341} {4280267321308145384 49 342} {6732383705383466473 49 343} {7087115547590835830 49 344} {1835221473125780578 49 345} {1944227604750155650 49 346}]
------------------------------------------------------
term 49 Server2 start snapshot! index=339
term 49 server2 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=346
-------------------------------------------------------------
term 49 leader 2 nextIndex[0]: 0  matchIndex[0]: 332
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
flag 15818 term 49 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 49 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 49 leaderCommit: 346 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {5194518576102737588 49 340} {1831947689056915571 49 341} {4280267321308145384 49 342} {6732383705383466473 49 343} {7087115547590835830 49 344} {1835221473125780578 49 345} {1944227604750155650 49 346}]
------------------------------------------------------
term 49 Server1 start snapshot! index=339
term 49 server1 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=346
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1982858608610308658 (index 347) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 2 nextIndex[0]: 0  matchIndex[0]: 332
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
flag 41064 term 49 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 49 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 49 leaderCommit: 346 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
term 50 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5194518576102737588 49 340} {1831947689056915571 49 341} {4280267321308145384 49 342} {6732383705383466473 49 343} {7087115547590835830 49 344} {1835221473125780578 49 345} {1944227604750155650 49 346} {1982858608610308658 49 347}]
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 server 1 vote for server 2
term 51 server 2 get vote from server 1
term 51 server 0 vote for server 2
term 51 server 2 become leader
------------------------------------------------------
term 51 server 2 get outdate rpc reply from server 0
flag 28570 term 51 leader 2 nextIndex[0]: 348  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 79855 term 51 leader 2 nextIndex[1]: 348  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5194518576102737588 49 340} {1831947689056915571 49 341} {4280267321308145384 49 342} {6732383705383466473 49 343} {7087115547590835830 49 344} {1835221473125780578 49 345} {1944227604750155650 49 346} {1982858608610308658 49 347}]
------------------------------------------------------
term 51 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 348->347
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 333  matchIndex[0]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
flag 6190 term 51 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 51 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5194518576102737588 49 340} {1831947689056915571 49 341} {4280267321308145384 49 342} {6732383705383466473 49 343} {7087115547590835830 49 344} {1835221473125780578 49 345} {1944227604750155650 49 346} {1982858608610308658 49 347}]
------------------------------------------------------
term 51 server 0 InstallSnapshot success
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 340 matchIndex[0] 339 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 49 rf.commitIndex 339 rf.lastApplied 339
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52173 term 51 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 51 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 42200 term 51 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 51 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5194518576102737588 49 340} {1831947689056915571 49 341} {4280267321308145384 49 342} {6732383705383466473 49 343} {7087115547590835830 49 344} {1835221473125780578 49 345} {1944227604750155650 49 346} {1982858608610308658 49 347}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5194518576102737588 49 340} {1831947689056915571 49 341} {4280267321308145384 49 342} {6732383705383466473 49 343} {7087115547590835830 49 344} {1835221473125780578 49 345} {1944227604750155650 49 346} {1982858608610308658 49 347}]
------------------------------------------------------
flag 21860 term 51 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 51 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 64473 term 51 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 51 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5194518576102737588 49 340} {1831947689056915571 49 341} {4280267321308145384 49 342} {6732383705383466473 49 343} {7087115547590835830 49 344} {1835221473125780578 49 345} {1944227604750155650 49 346} {1982858608610308658 49 347}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5194518576102737588 49 340} {1831947689056915571 49 341} {4280267321308145384 49 342} {6732383705383466473 49 343} {7087115547590835830 49 344} {1835221473125780578 49 345} {1944227604750155650 49 346} {1982858608610308658 49 347}]
------------------------------------------------------
flag 10989 term 51 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 51 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 49991 term 51 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 51 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5194518576102737588 49 340} {1831947689056915571 49 341} {4280267321308145384 49 342} {6732383705383466473 49 343} {7087115547590835830 49 344} {1835221473125780578 49 345} {1944227604750155650 49 346} {1982858608610308658 49 347}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5194518576102737588 49 340} {1831947689056915571 49 341} {4280267321308145384 49 342} {6732383705383466473 49 343} {7087115547590835830 49 344} {1835221473125780578 49 345} {1944227604750155650 49 346} {1982858608610308658 49 347}]
------------------------------------------------------
flag 70550 term 51 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 51 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 95622 term 51 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 51 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5194518576102737588 49 340} {1831947689056915571 49 341} {4280267321308145384 49 342} {6732383705383466473 49 343} {7087115547590835830 49 344} {1835221473125780578 49 345} {1944227604750155650 49 346} {1982858608610308658 49 347}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5194518576102737588 49 340} {1831947689056915571 49 341} {4280267321308145384 49 342} {6732383705383466473 49 343} {7087115547590835830 49 344} {1835221473125780578 49 345} {1944227604750155650 49 346} {1982858608610308658 49 347}]
------------------------------------------------------
term 51 server 2 not vote for server 0, 任期不够新
term 51 server 0 get outdate rpc reply from server 2
flag 41208 term 51 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 51 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 43873 term 51 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 51 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5194518576102737588 49 340} {1831947689056915571 49 341} {4280267321308145384 49 342} {6732383705383466473 49 343} {7087115547590835830 49 344} {1835221473125780578 49 345} {1944227604750155650 49 346} {1982858608610308658 49 347}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5194518576102737588 49 340} {1831947689056915571 49 341} {4280267321308145384 49 342} {6732383705383466473 49 343} {7087115547590835830 49 344} {1835221473125780578 49 345} {1944227604750155650 49 346} {1982858608610308658 49 347}]
------------------------------------------------------
flag 81876 term 51 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 51 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 58243 term 51 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 51 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5194518576102737588 49 340} {1831947689056915571 49 341} {4280267321308145384 49 342} {6732383705383466473 49 343} {7087115547590835830 49 344} {1835221473125780578 49 345} {1944227604750155650 49 346} {1982858608610308658 49 347}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5194518576102737588 49 340} {1831947689056915571 49 341} {4280267321308145384 49 342} {6732383705383466473 49 343} {7087115547590835830 49 344} {1835221473125780578 49 345} {1944227604750155650 49 346} {1982858608610308658 49 347}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77155 term 51 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 51 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 64922 term 51 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 51 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5194518576102737588 49 340} {1831947689056915571 49 341} {4280267321308145384 49 342} {6732383705383466473 49 343} {7087115547590835830 49 344} {1835221473125780578 49 345} {1944227604750155650 49 346} {1982858608610308658 49 347}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5194518576102737588 49 340} {1831947689056915571 49 341} {4280267321308145384 49 342} {6732383705383466473 49 343} {7087115547590835830 49 344} {1835221473125780578 49 345} {1944227604750155650 49 346} {1982858608610308658 49 347}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1651533112139594143 (index 348) to leader 2
flag 98529 term 51 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 51 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 31162 term 51 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 51 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {5194518576102737588 49 340} {1831947689056915571 49 341} {4280267321308145384 49 342} {6732383705383466473 49 343} {7087115547590835830 49 344} {1835221473125780578 49 345} {1944227604750155650 49 346} {1982858608610308658 49 347} {1651533112139594143 51 348}]
------------------------------------------------------
flag 38434 term 51 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 51 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 348 
------------------------------------------------------
flag 21360 term 51 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 348 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {5194518576102737588 49 340} {1831947689056915571 49 341} {4280267321308145384 49 342} {6732383705383466473 49 343} {7087115547590835830 49 344} {1835221473125780578 49 345} {1944227604750155650 49 346} {1982858608610308658 49 347} {1651533112139594143 51 348}]
------------------------------------------------------
client write log 1043324717381538668 (index 349) to leader 2
client write log 3858825623247430384 (index 350) to leader 2
client write log 8992179910750316885 (index 351) to leader 2
client write log 114036148030090386 (index 352) to leader 2
client write log 2540696717470353137 (index 353) to leader 2
client write log 8190765317043313294 (index 354) to leader 2
client write log 25323507124019763 (index 355) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11805 term 51 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 51 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 348 
------------------------------------------------------
flag 18761 term 51 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 348 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=356
update matchIndex[1]=355
update leader CommitIndex=355
leader log:
[{snapshot 49 339} {5194518576102737588 49 340} {1831947689056915571 49 341} {4280267321308145384 49 342} {6732383705383466473 49 343} {7087115547590835830 49 344} {1835221473125780578 49 345} {1944227604750155650 49 346} {1982858608610308658 49 347} {1651533112139594143 51 348} {1043324717381538668 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355}]
------------------------------------------------------
term 51 Server2 start snapshot! index=349
term 51 server2 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=355
-------------------------------------------------------------
term 51 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 51
------------------------------------------------------
flag 77059 term 51 leader 2 nextIndex[1]: 356  matchIndex[1]: 355
term 51 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=356
update matchIndex[1]=355
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355}]
------------------------------------------------------
term 51 Server1 start snapshot! index=349
term 51 server1 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=355
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6714430092865674681 (index 356) to leader 2
term 51 server 2 not vote for server 0, 日志不够新
term 51 server 1 not vote for server 0, 日志不够新
term 53 server 1 vote for server 2
term 53 server 0 vote for server 2
term 53 server 2 get vote from server 1
term 53 server 2 become leader
------------------------------------------------------
term 53 server 2 get outdate rpc reply from server 0
flag 32869 term 53 leader 2 nextIndex[0]: 357  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
flag 82325 term 53 leader 2 nextIndex[1]: 357  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
term 53 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 357->356
------------------------------------------------------
term 53 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 357->356
------------------------------------------------------
term 53 leader 2 nextIndex[0]: 348  matchIndex[0]: 0
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 51
------------------------------------------------------
flag 690 term 53 leader 2 nextIndex[1]: 356  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
term 53 server 0 InstallSnapshot success
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 350 matchIndex[0] 349 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 349 rf.lastIncludedTerm 51 rf.commitIndex 349 rf.lastApplied 349
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66957 term 53 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 53 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
flag 61163 term 53 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
flag 13768 term 53 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
flag 40202 term 53 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
flag 40838 term 53 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
flag 76029 term 53 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70385 term 53 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
flag 81395 term 53 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
flag 66652 term 53 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
flag 53583 term 53 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
flag 91848 term 53 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
flag 72358 term 53 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
flag 32990 term 53 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
flag 29235 term 53 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
flag 46223 term 53 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
flag 29177 term 53 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34314 term 53 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
flag 34318 term 53 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44481 term 53 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
flag 3367 term 53 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
flag 98602 term 53 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
flag 79926 term 53 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
term 53 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
flag 39980 term 53 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
flag 46855 term 53 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
flag 79694 term 53 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
flag 58559 term 53 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 1 not vote for server 2, 任期不够新
term 53 server 2 get outdate rpc reply from server 1
flag 6139 term 53 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
flag 94654 term 53 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
flag 38778 term 53 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
flag 71428 term 53 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
flag 1271 term 53 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
flag 29628 term 53 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
flag 30403 term 53 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
flag 69734 term 53 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356}]
------------------------------------------------------
client write log 6714430092865674681 (index 357) to leader 2
flag 73844 term 53 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
flag 32704 term 53 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 53 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 51 leaderCommit: 355 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356} {6714430092865674681 53 357}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=358
update matchIndex[0]=357
update leader CommitIndex=357
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356} {6714430092865674681 53 357}]
------------------------------------------------------
flag 85524 term 53 leader 2 nextIndex[0]: 358  matchIndex[0]: 357
term 53 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 76366 term 53 leader 2 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356} {6714430092865674681 53 357}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=358
update matchIndex[0]=357
update leader CommitIndex=357
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356} {6714430092865674681 53 357}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34502 term 53 leader 2 nextIndex[0]: 358  matchIndex[0]: 357
term 53 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 44246 term 53 leader 2 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356} {6714430092865674681 53 357}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=358
update matchIndex[0]=357
update leader CommitIndex=357
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356} {6714430092865674681 53 357}]
------------------------------------------------------
flag 88655 term 53 leader 2 nextIndex[0]: 358  matchIndex[0]: 357
term 53 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 37624 term 53 leader 2 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356} {6714430092865674681 53 357}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=358
update matchIndex[0]=357
update leader CommitIndex=357
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356} {6714430092865674681 53 357}]
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89222 term 53 leader 2 nextIndex[0]: 358  matchIndex[0]: 357
term 53 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 30963 term 53 leader 2 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356} {6714430092865674681 53 357}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=358
update matchIndex[0]=357
update leader CommitIndex=357
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356} {6714430092865674681 53 357}]
------------------------------------------------------
flag 6685 term 53 leader 2 nextIndex[0]: 358  matchIndex[0]: 357
term 53 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 34591 term 53 leader 2 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356} {6714430092865674681 53 357}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=358
update matchIndex[0]=357
update leader CommitIndex=357
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356} {6714430092865674681 53 357}]
------------------------------------------------------
flag 16761 term 53 leader 2 nextIndex[0]: 358  matchIndex[0]: 357
term 53 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 56789 term 53 leader 2 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356} {6714430092865674681 53 357}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=358
update matchIndex[0]=357
update leader CommitIndex=357
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356} {6714430092865674681 53 357}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 38313 term 53 leader 2 nextIndex[0]: 358  matchIndex[0]: 357
term 53 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 72920 term 53 leader 2 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13811 term 53 leader 2 nextIndex[0]: 358  matchIndex[0]: 357
term 53 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 1832 term 53 leader 2 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 19130 term 53 leader 2 nextIndex[0]: 358  matchIndex[0]: 357
term 53 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 72799 term 53 leader 2 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 358->357
------------------------------------------------------
term 53 leader 2 nextIndex[0]: 0  matchIndex[0]: 357
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 51
------------------------------------------------------
flag 69214 term 53 leader 2 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 54 server 0 vote for server 1
term 54 server 1 get vote from server 0
term 54 server 1 become leader
------------------------------------------------------
flag 96770 term 54 leader 1 nextIndex[0]: 358  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 41631 term 54 leader 1 nextIndex[2]: 358  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=358
update matchIndex[0]=357
update leader CommitIndex=357
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356} {6714430092865674681 53 357}]
------------------------------------------------------
client write log 7647096976047882841 (index 358) to leader 1
term 53 leader 2 nextIndex[0]: 0  matchIndex[0]: 357
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 51
------------------------------------------------------
flag 33510 term 53 leader 2 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 15498 term 54 leader 1 nextIndex[0]: 358  matchIndex[0]: 357
term 54 leader 1 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 45889 term 54 leader 1 nextIndex[2]: 358  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356} {6714430092865674681 53 357} {7647096976047882841 54 358}]
------------------------------------------------------
term 53 leader 2 nextIndex[0]: 0  matchIndex[0]: 357
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 51
------------------------------------------------------
flag 39621 term 53 leader 2 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 82065 term 54 leader 1 nextIndex[0]: 359  matchIndex[0]: 358
term 54 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 54 leaderCommit: 358 
------------------------------------------------------
flag 81424 term 54 leader 1 nextIndex[2]: 358  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356} {6714430092865674681 53 357} {7647096976047882841 54 358}]
------------------------------------------------------
client write log 8716148068394132351 (index 359) to leader 1
term 53 leader 2 nextIndex[0]: 0  matchIndex[0]: 357
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 51
------------------------------------------------------
flag 92876 term 53 leader 2 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 16657 term 54 leader 1 nextIndex[0]: 359  matchIndex[0]: 358
term 54 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 54 leaderCommit: 358 
------------------------------------------------------
flag 66538 term 54 leader 1 nextIndex[2]: 358  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=359
leader log:
[{snapshot 51 349} {3858825623247430384 51 350} {8992179910750316885 51 351} {114036148030090386 51 352} {2540696717470353137 51 353} {8190765317043313294 51 354} {25323507124019763 51 355} {6714430092865674681 51 356} {6714430092865674681 53 357} {7647096976047882841 54 358} {8716148068394132351 54 359}]
------------------------------------------------------
term 54 Server1 start snapshot! index=359
term 54 server1 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=359
-------------------------------------------------------------
term 53 leader 2 nextIndex[0]: 0  matchIndex[0]: 357
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 51
------------------------------------------------------
flag 97071 term 53 leader 2 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 95989 term 54 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 54 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 54 leaderCommit: 359 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 358  matchIndex[2]: 0
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=359
leader log:
[{snapshot 54 359}]
------------------------------------------------------
term 54 Server0 start snapshot! index=359
term 54 server0 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=359
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1924015297566026615 (index 360) to leader 1
term 53 leader 2 nextIndex[0]: 0  matchIndex[0]: 357
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 51
------------------------------------------------------
flag 47321 term 53 leader 2 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 54 server 1 AppendEntries false 领导者任期过期 args.Term 53
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 54 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84242 term 54 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 54 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 54 leaderCommit: 359 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 358  matchIndex[2]: 0
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 2 InstallSnapshot success
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 360 matchIndex[2] 359 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 359 rf.lastIncludedTerm 54 rf.commitIndex 359 rf.lastApplied 359
term 54 server 0 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=361
update matchIndex[0]=360
update leader CommitIndex=360
leader log:
[{snapshot 54 359} {1924015297566026615 54 360}]
------------------------------------------------------
flag 52151 term 54 leader 1 nextIndex[0]: 361  matchIndex[0]: 360
term 54 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 54 leaderCommit: 360 
------------------------------------------------------
flag 74048 term 54 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 54 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 54 leaderCommit: 360 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=361
update matchIndex[2]=360
update leader CommitIndex=360
leader log:
[{snapshot 54 359} {1924015297566026615 54 360}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=361
update matchIndex[0]=360
update leader CommitIndex=360
leader log:
[{snapshot 54 359} {1924015297566026615 54 360}]
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 360 matchIndex[2] 359 
------------------------------------------------------------------------
flag 94314 term 54 leader 1 nextIndex[0]: 361  matchIndex[0]: 360
term 54 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 54 leaderCommit: 360 
------------------------------------------------------
flag 98134 term 54 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 54 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 54 leaderCommit: 360 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=361
update matchIndex[2]=360
update leader CommitIndex=360
leader log:
[{snapshot 54 359} {1924015297566026615 54 360}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=361
update matchIndex[0]=360
update leader CommitIndex=360
leader log:
[{snapshot 54 359} {1924015297566026615 54 360}]
------------------------------------------------------
flag 39548 term 54 leader 1 nextIndex[0]: 361  matchIndex[0]: 360
term 54 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 54 leaderCommit: 360 
------------------------------------------------------
flag 79687 term 54 leader 1 nextIndex[2]: 361  matchIndex[2]: 360
term 54 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 54 leaderCommit: 360 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=361
update matchIndex[2]=360
update leader CommitIndex=360
leader log:
[{snapshot 54 359} {1924015297566026615 54 360}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=361
update matchIndex[0]=360
update leader CommitIndex=360
leader log:
[{snapshot 54 359} {1924015297566026615 54 360}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13532 term 54 leader 1 nextIndex[0]: 361  matchIndex[0]: 360
term 54 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 54 leaderCommit: 360 
------------------------------------------------------
flag 98290 term 54 leader 1 nextIndex[2]: 361  matchIndex[2]: 360
term 54 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 54 leaderCommit: 360 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=361
update matchIndex[2]=360
update leader CommitIndex=360
leader log:
[{snapshot 54 359} {1924015297566026615 54 360}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=361
update matchIndex[0]=360
update leader CommitIndex=360
leader log:
[{snapshot 54 359} {1924015297566026615 54 360}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 361->360
------------------------------------------------------
flag 72304 term 54 leader 1 nextIndex[0]: 361  matchIndex[0]: 360
term 54 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 54 leaderCommit: 360 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 0  matchIndex[2]: 360
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 2 InstallSnapshot fail
term 54 server 0 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=361
update matchIndex[0]=360
update leader CommitIndex=360
leader log:
[{snapshot 54 359} {1924015297566026615 54 360}]
------------------------------------------------------
rf.commitIndex 360 args.LastIncludedIndex 359
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 360 matchIndex[2] 359 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 360->359
------------------------------------------------------
flag 45607 term 54 leader 1 nextIndex[0]: 361  matchIndex[0]: 360
term 54 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 54 leaderCommit: 360 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 0  matchIndex[2]: 359
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 2 InstallSnapshot fail
rf.commitIndex 360 args.LastIncludedIndex 359
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:360 
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 360 matchIndex[2] 359 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=361
update matchIndex[0]=360
update leader CommitIndex=360
leader log:
[{snapshot 54 359} {1924015297566026615 54 360}]
------------------------------------------------------
flag 3146 term 54 leader 1 nextIndex[0]: 361  matchIndex[0]: 360
term 54 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 54 leaderCommit: 360 
------------------------------------------------------
flag 73749 term 54 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 54 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 54 leaderCommit: 360 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=361
update matchIndex[2]=360
update leader CommitIndex=360
leader log:
[{snapshot 54 359} {1924015297566026615 54 360}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=361
update matchIndex[0]=360
update leader CommitIndex=360
leader log:
[{snapshot 54 359} {1924015297566026615 54 360}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1022681602789815389 (index 361) to leader 1
flag 67378 term 54 leader 1 nextIndex[0]: 361  matchIndex[0]: 360
term 54 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 54 leaderCommit: 360 
------------------------------------------------------
flag 45228 term 54 leader 1 nextIndex[2]: 361  matchIndex[2]: 360
term 54 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 54 leaderCommit: 360 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=362
update matchIndex[0]=361
update leader CommitIndex=361
leader log:
[{snapshot 54 359} {1924015297566026615 54 360} {1022681602789815389 54 361}]
------------------------------------------------------
flag 56530 term 54 leader 1 nextIndex[0]: 362  matchIndex[0]: 361
term 54 leader 1 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 54 leaderCommit: 361 
------------------------------------------------------
flag 84760 term 54 leader 1 nextIndex[2]: 361  matchIndex[2]: 360
term 54 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 54 leaderCommit: 361 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=362
update matchIndex[0]=361
update leader CommitIndex=361
leader log:
[{snapshot 54 359} {1924015297566026615 54 360} {1022681602789815389 54 361}]
------------------------------------------------------
client write log 8938695124498359816 (index 362) to leader 1
client write log 6331318271308087367 (index 363) to leader 1
client write log 1727149836689997045 (index 364) to leader 1
client write log 2653007639212537207 (index 365) to leader 1
client write log 9122057763112213192 (index 366) to leader 1
client write log 3258365750173743852 (index 367) to leader 1
client write log 3285677324229477962 (index 368) to leader 1
client write log 851763591934423781 (index 369) to leader 1
client write log 7534231350403393563 (index 370) to leader 1
client write log 4824956353503089043 (index 371) to leader 1
flag 97324 term 54 leader 1 nextIndex[0]: 362  matchIndex[0]: 361
term 54 leader 1 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 54 leaderCommit: 361 
------------------------------------------------------
flag 10529 term 54 leader 1 nextIndex[2]: 361  matchIndex[2]: 360
term 54 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 54 leaderCommit: 361 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=371
leader log:
[{snapshot 54 359} {1924015297566026615 54 360} {1022681602789815389 54 361} {8938695124498359816 54 362} {6331318271308087367 54 363} {1727149836689997045 54 364} {2653007639212537207 54 365} {9122057763112213192 54 366} {3258365750173743852 54 367} {3285677324229477962 54 368} {851763591934423781 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371}]
------------------------------------------------------
term 54 Server1 start snapshot! index=369
term 54 server1 snapshot success
lastIncludedIndex=369 lastApplied=369 lastIndex=371
-------------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52363 term 54 leader 1 nextIndex[0]: 372  matchIndex[0]: 371
term 54 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 361  matchIndex[2]: 360
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371}]
------------------------------------------------------
term 54 Server0 start snapshot! index=369
term 54 server0 snapshot success
lastIncludedIndex=369 lastApplied=370 lastIndex=371
-------------------------------------------------------------
!!!!!!connect server 2
client write log 923850738026836569 (index 372) to leader 1
flag 36648 term 54 leader 1 nextIndex[0]: 372  matchIndex[0]: 371
term 54 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 361  matchIndex[2]: 360
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 54
------------------------------------------------------
term 55 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 server 2 vote for server 1
term 56 server 0 vote for server 1
term 56 server 1 get vote from server 2
term 56 server 1 become leader
------------------------------------------------------
term 56 server 1 get outdate rpc reply from server 0
flag 67726 term 56 leader 1 nextIndex[0]: 373  matchIndex[0]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
flag 18556 term 56 leader 1 nextIndex[2]: 373  matchIndex[2]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
term 56 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 373->372
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
flag 69792 term 56 leader 1 nextIndex[0]: 373  matchIndex[0]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
term 56 leader 1 nextIndex[2]: 361  matchIndex[2]: 0
term 56 leader 1 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 54
------------------------------------------------------
term 56 server 2 InstallSnapshot success
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
term 56 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 370 matchIndex[2] 369 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=371
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 369 rf.lastIncludedTerm 54 rf.commitIndex 369 rf.lastApplied 369
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
flag 77357 term 56 leader 1 nextIndex[0]: 373  matchIndex[0]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
flag 48771 term 56 leader 1 nextIndex[2]: 370  matchIndex[2]: 369
term 56 leader 1 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=373
update matchIndex[2]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28153 term 56 leader 1 nextIndex[0]: 373  matchIndex[0]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
flag 42788 term 56 leader 1 nextIndex[2]: 373  matchIndex[2]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=373
update matchIndex[2]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
flag 88206 term 56 leader 1 nextIndex[0]: 373  matchIndex[0]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
flag 75147 term 56 leader 1 nextIndex[2]: 373  matchIndex[2]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=373
update matchIndex[2]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
flag 4120 term 56 leader 1 nextIndex[0]: 373  matchIndex[0]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
flag 11048 term 56 leader 1 nextIndex[2]: 373  matchIndex[2]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=373
update matchIndex[2]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
flag 61706 term 56 leader 1 nextIndex[0]: 373  matchIndex[0]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
flag 71391 term 56 leader 1 nextIndex[2]: 373  matchIndex[2]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=373
update matchIndex[2]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 56 server 1 not vote for server 0, 任期不够新
term 56 server 0 get outdate rpc reply from server 1
flag 97850 term 56 leader 1 nextIndex[0]: 373  matchIndex[0]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
flag 91396 term 56 leader 1 nextIndex[2]: 373  matchIndex[2]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=373
update matchIndex[2]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
flag 78744 term 56 leader 1 nextIndex[0]: 373  matchIndex[0]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
flag 30245 term 56 leader 1 nextIndex[2]: 373  matchIndex[2]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=373
update matchIndex[2]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
flag 60965 term 56 leader 1 nextIndex[0]: 373  matchIndex[0]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
flag 89031 term 56 leader 1 nextIndex[2]: 373  matchIndex[2]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=373
update matchIndex[2]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
flag 92538 term 56 leader 1 nextIndex[0]: 373  matchIndex[0]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
flag 53290 term 56 leader 1 nextIndex[2]: 373  matchIndex[2]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=373
update matchIndex[2]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
flag 76720 term 56 leader 1 nextIndex[0]: 373  matchIndex[0]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
flag 76175 term 56 leader 1 nextIndex[2]: 373  matchIndex[2]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=373
update matchIndex[2]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52898 term 56 leader 1 nextIndex[0]: 373  matchIndex[0]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
flag 95465 term 56 leader 1 nextIndex[2]: 373  matchIndex[2]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:371 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=373
update matchIndex[2]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31435 term 56 leader 1 nextIndex[0]: 373  matchIndex[0]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
flag 38460 term 56 leader 1 nextIndex[2]: 373  matchIndex[2]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=373
update matchIndex[2]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51234 term 56 leader 1 nextIndex[0]: 373  matchIndex[0]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
flag 17991 term 56 leader 1 nextIndex[2]: 373  matchIndex[2]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=373
update matchIndex[2]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18770 term 56 leader 1 nextIndex[0]: 373  matchIndex[0]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
flag 77943 term 56 leader 1 nextIndex[2]: 373  matchIndex[2]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=373
update matchIndex[2]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
term 56 server 2 not vote for server 1, 任期不够新
term 56 server 1 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75272 term 56 leader 1 nextIndex[0]: 373  matchIndex[0]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
flag 27594 term 56 leader 1 nextIndex[2]: 373  matchIndex[2]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=373
update matchIndex[2]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
term 56 server 0 not vote for server 2, 任期不够新
term 56 server 2 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44775 term 56 leader 1 nextIndex[0]: 373  matchIndex[0]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
flag 56454 term 56 leader 1 nextIndex[2]: 373  matchIndex[2]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:371 
term 56 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=371
leader log:
------------------------------------------------------
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=373
update matchIndex[2]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
flag 89589 term 56 leader 1 nextIndex[0]: 373  matchIndex[0]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
flag 94145 term 56 leader 1 nextIndex[2]: 373  matchIndex[2]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=373
update matchIndex[2]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=371
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372}]
------------------------------------------------------
client write log 923850738026836569 (index 373) to leader 1
flag 17368 term 56 leader 1 nextIndex[0]: 373  matchIndex[0]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
flag 27366 term 56 leader 1 nextIndex[2]: 373  matchIndex[2]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 54 leaderCommit: 371 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:371 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=373
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372} {923850738026836569 56 373}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=373
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372} {923850738026836569 56 373}]
------------------------------------------------------
flag 51474 term 56 leader 1 nextIndex[0]: 374  matchIndex[0]: 373
term 56 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 373 
------------------------------------------------------
flag 86005 term 56 leader 1 nextIndex[2]: 374  matchIndex[2]: 373
term 56 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 373 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=373
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372} {923850738026836569 56 373}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=373
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372} {923850738026836569 56 373}]
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20872 term 56 leader 1 nextIndex[0]: 374  matchIndex[0]: 373
term 56 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 373 
------------------------------------------------------
flag 72140 term 56 leader 1 nextIndex[2]: 374  matchIndex[2]: 373
term 56 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 373 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=373
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372} {923850738026836569 56 373}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=373
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372} {923850738026836569 56 373}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23398 term 56 leader 1 nextIndex[0]: 374  matchIndex[0]: 373
term 56 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 373 
------------------------------------------------------
flag 20780 term 56 leader 1 nextIndex[2]: 374  matchIndex[2]: 373
term 56 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 373 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=373
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372} {923850738026836569 56 373}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=373
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372} {923850738026836569 56 373}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43422 term 56 leader 1 nextIndex[0]: 374  matchIndex[0]: 373
term 56 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 373 
------------------------------------------------------
flag 1941 term 56 leader 1 nextIndex[2]: 374  matchIndex[2]: 373
term 56 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 373 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=373
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372} {923850738026836569 56 373}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=373
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372} {923850738026836569 56 373}]
------------------------------------------------------
flag 92975 term 56 leader 1 nextIndex[0]: 374  matchIndex[0]: 373
term 56 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 373 
------------------------------------------------------
flag 90616 term 56 leader 1 nextIndex[2]: 374  matchIndex[2]: 373
term 56 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 373 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=373
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372} {923850738026836569 56 373}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=373
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372} {923850738026836569 56 373}]
------------------------------------------------------
flag 51665 term 56 leader 1 nextIndex[0]: 374  matchIndex[0]: 373
term 56 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 373 
------------------------------------------------------
flag 85037 term 56 leader 1 nextIndex[2]: 374  matchIndex[2]: 373
term 56 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 373 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=373
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372} {923850738026836569 56 373}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=373
leader log:
[{snapshot 54 369} {7534231350403393563 54 370} {4824956353503089043 54 371} {923850738026836569 54 372} {923850738026836569 56 373}]
------------------------------------------------------
  ... Passed --  83.8  3 1906  881850  373
--- PASS: TestSnapshotInstall2D (83.81s)
PASS
