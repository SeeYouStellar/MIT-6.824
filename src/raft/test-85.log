=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 0 vote for server 2
term 1 server 2 get outdate rpc reply from server 0
flag 83534 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 81010 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 2372976548744296993 (index 1) to leader 2
flag 6639 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 6656 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2372976548744296993 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2372976548744296993 1 1}]
------------------------------------------------------
flag 43143 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 95105 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
[{<nil> 0 0} {2372976548744296993 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2372976548744296993 1 1}]
------------------------------------------------------
flag 54991 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 55773 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2372976548744296993 1 1}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2372976548744296993 1 1}]
------------------------------------------------------
flag 20300 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 70693 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2372976548744296993 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2372976548744296993 1 1}]
------------------------------------------------------
flag 37428 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 82635 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2372976548744296993 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2372976548744296993 1 1}]
------------------------------------------------------
flag 20774 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 11527 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2372976548744296993 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2372976548744296993 1 1}]
------------------------------------------------------
flag 28109 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 43032 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2372976548744296993 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2372976548744296993 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1047740691660982935 (index 2) to leader 2
flag 28164 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 77374 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2372976548744296993 1 1} {1047740691660982935 1 2}]
------------------------------------------------------
flag 37184 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 44985 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2372976548744296993 1 1} {1047740691660982935 1 2}]
------------------------------------------------------
client write log 1615630007790221740 (index 3) to leader 2
client write log 2343675314537393882 (index 4) to leader 2
client write log 7204476338513974102 (index 5) to leader 2
client write log 2105677698732600924 (index 6) to leader 2
client write log 2448723551921159074 (index 7) to leader 2
client write log 2965543547424245862 (index 8) to leader 2
client write log 6591242432332246711 (index 9) to leader 2
client write log 2729587823561859114 (index 10) to leader 2
client write log 2729809067495855296 (index 11) to leader 2
client write log 7674940564598048180 (index 12) to leader 2
flag 37775 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 16515 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{<nil> 0 0} {2372976548744296993 1 1} {1047740691660982935 1 2} {1615630007790221740 1 3} {2343675314537393882 1 4} {7204476338513974102 1 5} {2105677698732600924 1 6} {2448723551921159074 1 7} {2965543547424245862 1 8} {6591242432332246711 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=12
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 2->1
------------------------------------------------------
term 1 leader 2 nextIndex[0]: 0  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 57816 term 1 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 1 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=12
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4409621787210254190 (index 13) to leader 2
term 1 server 2 not vote for server 0, 日志不够新
term 1 server 1 not vote for server 0, 日志不够新
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 2 get outdate rpc reply from server 0
flag 89079 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 75597 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 14->13
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 14->13
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 1133 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueServer0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
update nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68089 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 8372 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
flag 35748 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 80489 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
flag 67887 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 76674 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
flag 32955 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 79514 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
flag 11173 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 77540 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
flag 8171 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 62035 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98024 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 22024 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
flag 73680 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 72025 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
flag 41653 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 78671 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
flag 19290 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 60810 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
flag 81904 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 31480 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
flag 71874 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 96348 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
flag 18705 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 64775 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
flag 34263 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 51199 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
flag 74544 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 1234 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
flag 44883 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 58857 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
flag 82603 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 91913 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
flag 61983 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 98088 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13}]
------------------------------------------------------
client write log 4409621787210254190 (index 14) to leader 2
flag 70908 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 78944 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13} {4409621787210254190 3 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13} {4409621787210254190 3 14}]
------------------------------------------------------
flag 86321 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 19541 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13} {4409621787210254190 3 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13} {4409621787210254190 3 14}]
------------------------------------------------------
flag 96446 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 67613 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13} {4409621787210254190 3 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13} {4409621787210254190 3 14}]
------------------------------------------------------
flag 5446 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 56571 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13} {4409621787210254190 3 14}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13} {4409621787210254190 3 14}]
------------------------------------------------------
flag 97873 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 93394 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13} {4409621787210254190 3 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13} {4409621787210254190 3 14}]
------------------------------------------------------
flag 16823 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 1751 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13} {4409621787210254190 3 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13} {4409621787210254190 3 14}]
------------------------------------------------------
flag 72320 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 88676 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13} {4409621787210254190 3 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13} {4409621787210254190 3 14}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 83604 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 58031 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 57415 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 45995 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 24528 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 85496 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 vote for server 0
term 4 server 0 get vote from server 1
term 4 server 0 become leader
------------------------------------------------------
client write log 7256235008282218334 (index 15) to leader 0
flag 10055 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 59595 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13} {4409621787210254190 3 14} {7256235008282218334 4 15}]
------------------------------------------------------
flag 97541 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 65148 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66170 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 52985 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13} {4409621787210254190 3 14} {7256235008282218334 4 15}]
------------------------------------------------------
client write log 4789273027725766559 (index 16) to leader 0
client write log 3395635527581721976 (index 17) to leader 0
client write log 6087028013313606797 (index 18) to leader 0
client write log 6949683453838319305 (index 19) to leader 0
client write log 7270167918192597017 (index 20) to leader 0
client write log 5315200889772970791 (index 21) to leader 0
client write log 7216172340760105799 (index 22) to leader 0
client write log 5517370210489546400 (index 23) to leader 0
flag 83492 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 20343 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 79999 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 10254 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 1 9} {2729587823561859114 1 10} {2729809067495855296 1 11} {7674940564598048180 1 12} {4409621787210254190 1 13} {4409621787210254190 3 14} {7256235008282218334 4 15} {4789273027725766559 4 16} {3395635527581721976 4 17} {6087028013313606797 4 18} {6949683453838319305 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=23
-------------------------------------------------------------
flag 8095 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 70325 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 37803 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=23
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2847605100725036183 (index 15) to leader 2
flag 6718 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 66630 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97897 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot success
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
Server2 get CondInstallSnapshot!
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
flag 93949 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 57341 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
flag 76522 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 1140 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
flag 24934 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 71384 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
flag 58045 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 82756 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
flag 40810 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 32254 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
flag 20352 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 74054 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
flag 59337 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 89466 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
flag 25558 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 86184 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
flag 85444 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 16401 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
flag 39925 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 89058 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
flag 92810 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 18463 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
flag 48789 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 73948 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
flag 6485 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 44313 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
flag 56333 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 11434 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
flag 19551 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 44075 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
flag 31172 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 92993 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
flag 5806 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 15546 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
term 4 server 2 not vote for server 0, 日志不够新
term 4 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 24->23
------------------------------------------------------
flag 4020 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 23
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 23 args.LastIncludedIndex 19
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
flag 89292 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 68298 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23}]
------------------------------------------------------
client write log 2847605100725036183 (index 24) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59629 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 8930 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23} {2847605100725036183 4 24}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23} {2847605100725036183 4 24}]
------------------------------------------------------
flag 64652 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 54105 term 4 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23} {2847605100725036183 4 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23} {2847605100725036183 4 24}]
------------------------------------------------------
flag 31678 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 7055 term 4 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23} {2847605100725036183 4 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23} {2847605100725036183 4 24}]
------------------------------------------------------
flag 5336 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 59934 term 4 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23} {2847605100725036183 4 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23} {2847605100725036183 4 24}]
------------------------------------------------------
flag 42279 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 89695 term 4 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23} {2847605100725036183 4 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23} {2847605100725036183 4 24}]
------------------------------------------------------
flag 57650 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 17125 term 4 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23} {2847605100725036183 4 24}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23} {2847605100725036183 4 24}]
------------------------------------------------------
flag 23332 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 1632 term 4 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23} {2847605100725036183 4 24}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23} {2847605100725036183 4 24}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8522959703403150381 (index 25) to leader 0
flag 12337 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 40609 term 4 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23} {2847605100725036183 4 24} {8522959703403150381 4 25}]
------------------------------------------------------
flag 25020 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 85 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23} {2847605100725036183 4 24} {8522959703403150381 4 25}]
------------------------------------------------------
client write log 2715853171419056998 (index 26) to leader 0
client write log 7362160351353219661 (index 27) to leader 0
client write log 3017667491973119325 (index 28) to leader 0
client write log 740944277333218626 (index 29) to leader 0
client write log 4732225348266583243 (index 30) to leader 0
client write log 3961510420820071473 (index 31) to leader 0
flag 62066 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 3568 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 19} {7270167918192597017 4 20} {5315200889772970791 4 21} {7216172340760105799 4 22} {5517370210489546400 4 23} {2847605100725036183 4 24} {8522959703403150381 4 25} {2715853171419056998 4 26} {7362160351353219661 4 27} {3017667491973119325 4 28} {740944277333218626 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=31
-------------------------------------------------------------
term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 48102 term 4 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 4 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=31
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5724536591515715320 (index 32) to leader 0
term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 77801 term 4 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 4 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 5 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 1 vote for server 0
term 6 server 0 get outdate rpc reply from server 1
flag 23384 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 2713 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 33->32
------------------------------------------------------
term 6 server 2 not vote for server 1, 任期不够新
term 6 server 1 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 0
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 54391 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 6 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
flag 91309 term 6 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 26561 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
flag 39294 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 54352 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84454 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 95353 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 0 not vote for server 1, 任期不够新
term 6 server 1 get outdate rpc reply from server 0
flag 61186 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 71417 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86864 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 53683 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10626 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 79892 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
flag 90181 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 87074 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
flag 26526 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 23816 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
flag 3594 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 80500 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
flag 89676 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 21871 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
flag 51069 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 8355 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
flag 60705 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 79493 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
flag 655 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 29471 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
flag 68498 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 34989 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
flag 84936 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 35892 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46101 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 16044 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32036 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 27473 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32}]
------------------------------------------------------
client write log 5724536591515715320 (index 33) to leader 0
flag 39733 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 56991 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32} {5724536591515715320 6 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32} {5724536591515715320 6 33}]
------------------------------------------------------
flag 44297 term 6 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 36971 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32} {5724536591515715320 6 33}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32} {5724536591515715320 6 33}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65933 term 6 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 96877 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32} {5724536591515715320 6 33}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32} {5724536591515715320 6 33}]
------------------------------------------------------
flag 47570 term 6 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 830 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32} {5724536591515715320 6 33}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32} {5724536591515715320 6 33}]
------------------------------------------------------
flag 24221 term 6 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 8974 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32} {5724536591515715320 6 33}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32} {5724536591515715320 6 33}]
------------------------------------------------------
flag 97596 term 6 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 57896 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32} {5724536591515715320 6 33}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32} {5724536591515715320 6 33}]
------------------------------------------------------
flag 99460 term 6 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 56126 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32} {5724536591515715320 6 33}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32} {5724536591515715320 6 33}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 294775332105046190 (index 34) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2239 term 6 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 13361 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32} {5724536591515715320 6 33} {294775332105046190 6 34}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36586 term 6 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 22361 term 6 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32} {5724536591515715320 6 33} {294775332105046190 6 34}]
------------------------------------------------------
client write log 4812715933605992345 (index 35) to leader 0
client write log 7985964773508819864 (index 36) to leader 0
client write log 3612557639643134344 (index 37) to leader 0
client write log 3959092910484439936 (index 38) to leader 0
client write log 6733842441422837779 (index 39) to leader 0
client write log 6342588601919403826 (index 40) to leader 0
client write log 5817930519862897427 (index 41) to leader 0
client write log 4642427334387549206 (index 42) to leader 0
client write log 4099950699494008157 (index 43) to leader 0
client write log 4923074404543209898 (index 44) to leader 0
client write log 3112411575052476308 (index 45) to leader 0
client write log 5943294177078868378 (index 46) to leader 0
client write log 2706905909396972099 (index 47) to leader 0
flag 35241 term 6 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 75301 term 6 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 29} {4732225348266583243 4 30} {3961510420820071473 4 31} {5724536591515715320 4 32} {5724536591515715320 6 33} {294775332105046190 6 34} {4812715933605992345 6 35} {7985964773508819864 6 36} {3612557639643134344 6 37} {3959092910484439936 6 38} {6733842441422837779 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=47
-------------------------------------------------------------
term 6 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 52415 term 6 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 6 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=47
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1627553870539573103 (index 48) to leader 0
term 6 server 0 not vote for server 1, 日志不够新
term 6 server 2 not vote for server 1, 日志不够新
term 8 server 2 vote for server 0
term 8 server 1 vote for server 0
term 8 server 0 get vote from server 2
term 8 server 0 become leader
------------------------------------------------------
term 8 server 0 get outdate rpc reply from server 1
flag 55646 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 81912 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 49->48
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 49->48
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 34  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 59215 term 8 leader 0 nextIndex[2]: 48  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
flag 35413 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 17904 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16262 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 65843 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
flag 54754 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 51484 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
flag 86789 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 22985 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
flag 69486 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 45551 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
flag 15320 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 80523 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
flag 65959 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 94991 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
flag 42029 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 92450 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
flag 74472 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 54039 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
flag 73393 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 79528 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
flag 60611 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 59794 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
flag 75525 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 29991 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
flag 87177 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 96830 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
flag 24894 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 25805 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
flag 82270 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 38835 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
flag 10695 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 56845 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
flag 38888 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 6302 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48}]
------------------------------------------------------
client write log 1627553870539573103 (index 49) to leader 0
flag 4810 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 73075 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48} {1627553870539573103 8 49}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 39} {6342588601919403826 6 40} {5817930519862897427 6 41} {4642427334387549206 6 42} {4099950699494008157 6 43} {4923074404543209898 6 44} {3112411575052476308 6 45} {5943294177078868378 6 46} {2706905909396972099 6 47} {1627553870539573103 6 48} {1627553870539573103 8 49}]
------------------------------------------------------
term 8 Server0 start snapshot! index=49
term 8 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83755 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 32597 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
term 8 Server2 start snapshot! index=49
term 8 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 8 Server1 start snapshot! index=49
term 8 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
flag 85653 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 64487 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
flag 62744 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 95282 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
flag 42451 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 15176 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35104 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 59939 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 36254 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 43662 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 95872 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 37972 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 48011 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 23094 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 9 server 2 vote for server 1
term 9 server 1 get vote from server 2
term 9 server 1 become leader
------------------------------------------------------
flag 87607 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 58069 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
client write log 1574598238867557147 (index 50) to leader 1
flag 65422 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 34995 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 32691 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 32438 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {1574598238867557147 9 50}]
------------------------------------------------------
flag 65040 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 43045 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 41366 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 41203 term 9 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {1574598238867557147 9 50}]
------------------------------------------------------
client write log 8639948385983423211 (index 51) to leader 1
client write log 1614003510155200740 (index 52) to leader 1
client write log 1705589650703089178 (index 53) to leader 1
client write log 4526172968058491943 (index 54) to leader 1
client write log 15351523476277708 (index 55) to leader 1
client write log 2061721558630898457 (index 56) to leader 1
client write log 8682979670845108201 (index 57) to leader 1
flag 21065 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 71668 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43051 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 66479 term 9 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {1574598238867557147 9 50} {8639948385983423211 9 51} {1614003510155200740 9 52} {1705589650703089178 9 53} {4526172968058491943 9 54} {15351523476277708 9 55} {2061721558630898457 9 56} {8682979670845108201 9 57}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55876 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 25193 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 1882 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 15280 term 9 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {1574598238867557147 9 50} {8639948385983423211 9 51} {1614003510155200740 9 52} {1705589650703089178 9 53} {4526172968058491943 9 54} {15351523476277708 9 55} {2061721558630898457 9 56} {8682979670845108201 9 57}]
------------------------------------------------------
!!!!!!connect server 0
client write log 886459843287567757 (index 58) to leader 1
flag 26172 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 84794 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
term 9 server 1 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33514 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 69941 term 9 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 8 49} {1574598238867557147 9 50} {8639948385983423211 9 51} {1614003510155200740 9 52} {1705589650703089178 9 53} {4526172968058491943 9 54} {15351523476277708 9 55} {2061721558630898457 9 56} {8682979670845108201 9 57} {886459843287567757 9 58}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 8 49} {1574598238867557147 9 50} {8639948385983423211 9 51} {1614003510155200740 9 52} {1705589650703089178 9 53} {4526172968058491943 9 54} {15351523476277708 9 55} {2061721558630898457 9 56} {8682979670845108201 9 57} {886459843287567757 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62983 term 9 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 81847 term 9 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 8 49} {1574598238867557147 9 50} {8639948385983423211 9 51} {1614003510155200740 9 52} {1705589650703089178 9 53} {4526172968058491943 9 54} {15351523476277708 9 55} {2061721558630898457 9 56} {8682979670845108201 9 57} {886459843287567757 9 58}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 8 49} {1574598238867557147 9 50} {8639948385983423211 9 51} {1614003510155200740 9 52} {1705589650703089178 9 53} {4526172968058491943 9 54} {15351523476277708 9 55} {2061721558630898457 9 56} {8682979670845108201 9 57} {886459843287567757 9 58}]
------------------------------------------------------
flag 62380 term 9 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 21079 term 9 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 8 49} {1574598238867557147 9 50} {8639948385983423211 9 51} {1614003510155200740 9 52} {1705589650703089178 9 53} {4526172968058491943 9 54} {15351523476277708 9 55} {2061721558630898457 9 56} {8682979670845108201 9 57} {886459843287567757 9 58}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 8 49} {1574598238867557147 9 50} {8639948385983423211 9 51} {1614003510155200740 9 52} {1705589650703089178 9 53} {4526172968058491943 9 54} {15351523476277708 9 55} {2061721558630898457 9 56} {8682979670845108201 9 57} {886459843287567757 9 58}]
------------------------------------------------------
flag 76998 term 9 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 11688 term 9 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 8 49} {1574598238867557147 9 50} {8639948385983423211 9 51} {1614003510155200740 9 52} {1705589650703089178 9 53} {4526172968058491943 9 54} {15351523476277708 9 55} {2061721558630898457 9 56} {8682979670845108201 9 57} {886459843287567757 9 58}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 8 49} {1574598238867557147 9 50} {8639948385983423211 9 51} {1614003510155200740 9 52} {1705589650703089178 9 53} {4526172968058491943 9 54} {15351523476277708 9 55} {2061721558630898457 9 56} {8682979670845108201 9 57} {886459843287567757 9 58}]
------------------------------------------------------
flag 98050 term 9 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 24647 term 9 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 8 49} {1574598238867557147 9 50} {8639948385983423211 9 51} {1614003510155200740 9 52} {1705589650703089178 9 53} {4526172968058491943 9 54} {15351523476277708 9 55} {2061721558630898457 9 56} {8682979670845108201 9 57} {886459843287567757 9 58}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 8 49} {1574598238867557147 9 50} {8639948385983423211 9 51} {1614003510155200740 9 52} {1705589650703089178 9 53} {4526172968058491943 9 54} {15351523476277708 9 55} {2061721558630898457 9 56} {8682979670845108201 9 57} {886459843287567757 9 58}]
------------------------------------------------------
flag 67508 term 9 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 11582 term 9 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 8 49} {1574598238867557147 9 50} {8639948385983423211 9 51} {1614003510155200740 9 52} {1705589650703089178 9 53} {4526172968058491943 9 54} {15351523476277708 9 55} {2061721558630898457 9 56} {8682979670845108201 9 57} {886459843287567757 9 58}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 8 49} {1574598238867557147 9 50} {8639948385983423211 9 51} {1614003510155200740 9 52} {1705589650703089178 9 53} {4526172968058491943 9 54} {15351523476277708 9 55} {2061721558630898457 9 56} {8682979670845108201 9 57} {886459843287567757 9 58}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7924833472408541353 (index 59) to leader 1
flag 40160 term 9 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 64152 term 9 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 49} {1574598238867557147 9 50} {8639948385983423211 9 51} {1614003510155200740 9 52} {1705589650703089178 9 53} {4526172968058491943 9 54} {15351523476277708 9 55} {2061721558630898457 9 56} {8682979670845108201 9 57} {886459843287567757 9 58} {7924833472408541353 9 59}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 60->59
------------------------------------------------------
term 9 leader 1 nextIndex[0]: 0  matchIndex[0]: 59
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
term 9 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
client write log 3969978496915087361 (index 60) to leader 1
client write log 3973378872769472892 (index 61) to leader 1
client write log 6035267706845312982 (index 62) to leader 1
client write log 7167184277557324294 (index 63) to leader 1
client write log 1530566553759741359 (index 64) to leader 1
client write log 7789268208194902219 (index 65) to leader 1
client write log 4050993535277810873 (index 66) to leader 1
client write log 5177514120973313510 (index 67) to leader 1
client write log 9177520758224146398 (index 68) to leader 1
flag 86997 term 9 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68}]
------------------------------------------------------
flag 22470 term 9 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 9 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68}]
------------------------------------------------------
!!!!!!connect server 2
client write log 8082712575702786888 (index 69) to leader 1
term 9 server 1 not vote for server 2, 日志不够新
term 9 server 0 not vote for server 2, 日志不够新
term 11 server 2 vote for server 1
term 11 server 1 get vote from server 2
term 11 server 1 become leader
------------------------------------------------------
term 11 server 0 vote for server 1
term 11 server 1 get outdate rpc reply from server 0
flag 74881 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 8182 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 70->69
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 70->69
------------------------------------------------------
flag 68751 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 59  matchIndex[2]: 0
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 11 server 2 InstallSnapshot success
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
flag 8507 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 62784 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
flag 24538 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 74132 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78177 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 32566 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3050 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 64005 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
flag 58876 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 59098 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
flag 30110 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 97186 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65189 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 81958 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
flag 27856 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 92600 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
flag 52694 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 19495 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
flag 26547 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 46526 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91813 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 8960 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
flag 45809 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 74694 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5235 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 45917 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
flag 60674 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 72954 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59171 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 9691 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
flag 27666 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 50303 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59916 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 11489 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44039 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 25537 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueterm 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
update nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69}]
------------------------------------------------------
client write log 8082712575702786888 (index 70) to leader 1
flag 69923 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 99655 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69} {8082712575702786888 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 59} {3969978496915087361 9 60} {3973378872769472892 9 61} {6035267706845312982 9 62} {7167184277557324294 9 63} {1530566553759741359 9 64} {7789268208194902219 9 65} {4050993535277810873 9 66} {5177514120973313510 9 67} {9177520758224146398 9 68} {8082712575702786888 9 69} {8082712575702786888 11 70}]
------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
flag 85306 term 11 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 60722 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8082712575702786888 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8082712575702786888 11 70}]
------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
flag 88773 term 11 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 67275 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8082712575702786888 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8082712575702786888 11 70}]
------------------------------------------------------
flag 14187 term 11 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 5031 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8082712575702786888 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8082712575702786888 11 70}]
------------------------------------------------------
flag 26686 term 11 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 36875 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8082712575702786888 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8082712575702786888 11 70}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32715 term 11 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 36422 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8082712575702786888 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8082712575702786888 11 70}]
------------------------------------------------------
flag 45298 term 11 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 5686 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8082712575702786888 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8082712575702786888 11 70}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4800847889685987114 (index 71) to leader 1
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51433 term 11 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 16152 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71}]
------------------------------------------------------
flag 54253 term 11 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 22910 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71}]
------------------------------------------------------
client write log 2383019889735761447 (index 72) to leader 1
client write log 5267978561705483210 (index 73) to leader 1
client write log 3490084307753813019 (index 74) to leader 1
client write log 6819719207002402653 (index 75) to leader 1
client write log 6163379589244740856 (index 76) to leader 1
client write log 4437310740158834073 (index 77) to leader 1
flag 85321 term 11 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 11835 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37476 term 11 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 11 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 26624 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77}]
------------------------------------------------------
!!!!!!connect server 2
client write log 7710875942198941581 (index 78) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 1 not vote for server 2, 日志不够新
term 11 server 0 not vote for server 2, 日志不够新
term 13 server 2 vote for server 1
term 13 server 1 get vote from server 2
term 13 server 1 become leader
------------------------------------------------------
term 13 server 0 vote for server 1
term 13 server 1 get outdate rpc reply from server 0
flag 32361 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 26559 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 79->78
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 79->78
------------------------------------------------------
term 13 server 0 not vote for server 1, 任期不够新
term 13 server 1 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62972 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 42779 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44344 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 17777 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38856 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 64550 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
flag 43504 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 55612 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
flag 82772 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 94219 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
flag 30162 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 11580 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
flag 99322 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 8048 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91835 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 95589 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
flag 31877 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 12315 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
flag 77221 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 52210 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
flag 6080 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 32334 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
flag 62636 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 23045 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
flag 98598 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 47010 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62216 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 1272 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
flag 65045 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 96418 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
flag 44187 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 23082 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
flag 32566 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 76233 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57333 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 1792 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
flag 19625 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 82510 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78}]
------------------------------------------------------
client write log 7710875942198941581 (index 79) to leader 1
flag 88699 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 25887 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78} {7710875942198941581 13 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 9 69} {8082712575702786888 11 70} {4800847889685987114 11 71} {2383019889735761447 11 72} {5267978561705483210 11 73} {3490084307753813019 11 74} {6819719207002402653 11 75} {6163379589244740856 11 76} {4437310740158834073 11 77} {7710875942198941581 11 78} {7710875942198941581 13 79}]
------------------------------------------------------
term 13 Server1 start snapshot! index=79
term 13 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
flag 42092 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 50451 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
term 13 Server0 start snapshot! index=79
term 13 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
term 13 Server2 start snapshot! index=79
term 13 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
flag 52134 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 36528 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
flag 69219 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 86694 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
flag 573 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 98814 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
flag 57529 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 76469 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
flag 34867 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 13405 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 91890 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 26535 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 6711 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 32271 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47745 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 97977 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 51073 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 43049 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 vote for server 0
term 14 server 0 get vote from server 2
term 14 server 0 become leader
------------------------------------------------------
flag 93175 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 31146 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
client write log 7391140753380180419 (index 80) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 80->79
------------------------------------------------------
flag 28837 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 68300 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 46299 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 13 79} {7391140753380180419 14 80}]
------------------------------------------------------
flag 42133 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 22435 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 89762 term 14 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 13 79} {7391140753380180419 14 80}]
------------------------------------------------------
client write log 691497907034036547 (index 81) to leader 0
flag 50549 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 83951 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 43853 term 14 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 80->79
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 80->79
------------------------------------------------------
term 13 leader 1 nextIndex[0]: 0  matchIndex[0]: 79
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 0  matchIndex[2]: 79
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 48255 term 14 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
!!!!!!connect server 1
client write log 7705841443786854797 (index 80) to leader 1
term 13 leader 1 nextIndex[0]: 0  matchIndex[0]: 79
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 0  matchIndex[2]: 79
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 14 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 42663 term 14 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 1 InstallSnapshot fail
rf.commitIndex 79 args.LastIncludedIndex 79
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
term 14 server 2 not vote for server 1, 日志不够新
term 14 server 0 not vote for server 1, 日志不够新
term 16 server 2 vote for server 0
term 16 server 1 vote for server 0
term 16 server 0 get vote from server 2
term 16 server 0 become leader
------------------------------------------------------
term 16 server 0 get outdate rpc reply from server 1
flag 63228 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 23979 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 82->81
------------------------------------------------------
term 16 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31436 term 16 leader 0 nextIndex[1]: 81  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 88873 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 81->80
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 20863 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 16 server 1 InstallSnapshot fail
rf.commitIndex 79 args.LastIncludedIndex 79
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
term 16 server 1 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 1
flag 71413 term 16 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 16 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 2808 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
flag 23083 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 70409 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
flag 2002 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 22943 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
flag 33603 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 55665 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
flag 87125 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 33181 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2296 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 9024 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
flag 64049 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 10281 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
flag 60833 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 94639 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38471 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 1573 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90762 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 24998 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
flag 46271 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 92767 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39667 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 15870 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20356 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 67347 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
flag 81701 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 45282 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4232 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 86829 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81}]
------------------------------------------------------
client write log 7705841443786854797 (index 82) to leader 0
flag 36098 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 43087 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81} {7705841443786854797 16 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81} {7705841443786854797 16 82}]
------------------------------------------------------
flag 91859 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 15261 term 16 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81} {7705841443786854797 16 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81} {7705841443786854797 16 82}]
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55161 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 44123 term 16 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81} {7705841443786854797 16 82}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81} {7705841443786854797 16 82}]
------------------------------------------------------
flag 21525 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 37623 term 16 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81} {7705841443786854797 16 82}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81} {7705841443786854797 16 82}]
------------------------------------------------------
flag 79847 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 27740 term 16 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81} {7705841443786854797 16 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81} {7705841443786854797 16 82}]
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30932 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 46592 term 16 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81} {7705841443786854797 16 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81} {7705841443786854797 16 82}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6506863464632090778 (index 83) to leader 0
flag 81668 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 55291 term 16 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81} {7705841443786854797 16 82} {6506863464632090778 16 83}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29701 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 39118 term 16 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 16 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81} {7705841443786854797 16 82} {6506863464632090778 16 83}]
------------------------------------------------------
client write log 5997227319280971143 (index 84) to leader 0
client write log 2243786972789895542 (index 85) to leader 0
client write log 377109340036786506 (index 86) to leader 0
client write log 7736237248234556918 (index 87) to leader 0
client write log 1605330627409490969 (index 88) to leader 0
client write log 8348936847383061339 (index 89) to leader 0
client write log 9211946234265179278 (index 90) to leader 0
client write log 4725094793337917324 (index 91) to leader 0
client write log 2361913648782727660 (index 92) to leader 0
client write log 1012217798153239890 (index 93) to leader 0
client write log 5394692326515889645 (index 94) to leader 0
client write log 5784022329937723266 (index 95) to leader 0
client write log 2477073053055026660 (index 96) to leader 0
client write log 4948870132627032072 (index 97) to leader 0
flag 67814 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 68691 term 16 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 16 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 13 79} {7391140753380180419 14 80} {691497907034036547 14 81} {7705841443786854797 16 82} {6506863464632090778 16 83} {5997227319280971143 16 84} {2243786972789895542 16 85} {377109340036786506 16 86} {7736237248234556918 16 87} {1605330627409490969 16 88} {8348936847383061339 16 89} {9211946234265179278 16 90} {4725094793337917324 16 91} {2361913648782727660 16 92} {1012217798153239890 16 93} {5394692326515889645 16 94} {5784022329937723266 16 95} {2477073053055026660 16 96} {4948870132627032072 16 97}]
------------------------------------------------------
term 16 Server0 start snapshot! index=89
term 16 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=97
-------------------------------------------------------------
term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 86703 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {9211946234265179278 16 90} {4725094793337917324 16 91} {2361913648782727660 16 92} {1012217798153239890 16 93} {5394692326515889645 16 94} {5784022329937723266 16 95} {2477073053055026660 16 96} {4948870132627032072 16 97}]
------------------------------------------------------
term 16 Server2 start snapshot! index=89
term 16 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=97
-------------------------------------------------------------
!!!!!!connect server 1
client write log 146522835359000139 (index 98) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 83->82
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 0  matchIndex[1]: 82
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 95428 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {9211946234265179278 16 90} {4725094793337917324 16 91} {2361913648782727660 16 92} {1012217798153239890 16 93} {5394692326515889645 16 94} {5784022329937723266 16 95} {2477073053055026660 16 96} {4948870132627032072 16 97} {146522835359000139 16 98}]
------------------------------------------------------
term 17 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 vote for server 0
term 18 server 0 get vote from server 2
term 18 server 0 become leader
------------------------------------------------------
term 18 server 1 vote for server 0
term 18 server 0 get outdate rpc reply from server 1
flag 63858 term 18 leader 0 nextIndex[1]: 99  matchIndex[1]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 15844 term 18 leader 0 nextIndex[2]: 99  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 99->98
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {9211946234265179278 16 90} {4725094793337917324 16 91} {2361913648782727660 16 92} {1012217798153239890 16 93} {5394692326515889645 16 94} {5784022329937723266 16 95} {2477073053055026660 16 96} {4948870132627032072 16 97} {146522835359000139 16 98}]
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 83  matchIndex[1]: 0
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 29713 term 18 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 1 InstallSnapshot success
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {9211946234265179278 16 90} {4725094793337917324 16 91} {2361913648782727660 16 92} {1012217798153239890 16 93} {5394692326515889645 16 94} {5784022329937723266 16 95} {2477073053055026660 16 96} {4948870132627032072 16 97} {146522835359000139 16 98}]
------------------------------------------------------
rf.lastIncludedIndex 89 rf.lastIncludedTerm 16 rf.commitIndex 89 rf.lastApplied 89
flag 16209 term 18 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 18 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 85956 term 18 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {9211946234265179278 16 90} {4725094793337917324 16 91} {2361913648782727660 16 92} {1012217798153239890 16 93} {5394692326515889645 16 94} {5784022329937723266 16 95} {2477073053055026660 16 96} {4948870132627032072 16 97} {146522835359000139 16 98}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {9211946234265179278 16 90} {4725094793337917324 16 91} {2361913648782727660 16 92} {1012217798153239890 16 93} {5394692326515889645 16 94} {5784022329937723266 16 95} {2477073053055026660 16 96} {4948870132627032072 16 97} {146522835359000139 16 98}]
------------------------------------------------------
flag 63521 term 18 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 53787 term 18 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {9211946234265179278 16 90} {4725094793337917324 16 91} {2361913648782727660 16 92} {1012217798153239890 16 93} {5394692326515889645 16 94} {5784022329937723266 16 95} {2477073053055026660 16 96} {4948870132627032072 16 97} {146522835359000139 16 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {9211946234265179278 16 90} {4725094793337917324 16 91} {2361913648782727660 16 92} {1012217798153239890 16 93} {5394692326515889645 16 94} {5784022329937723266 16 95} {2477073053055026660 16 96} {4948870132627032072 16 97} {146522835359000139 16 98}]
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27852 term 18 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 11140 term 18 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {9211946234265179278 16 90} {4725094793337917324 16 91} {2361913648782727660 16 92} {1012217798153239890 16 93} {5394692326515889645 16 94} {5784022329937723266 16 95} {2477073053055026660 16 96} {4948870132627032072 16 97} {146522835359000139 16 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {9211946234265179278 16 90} {4725094793337917324 16 91} {2361913648782727660 16 92} {1012217798153239890 16 93} {5394692326515889645 16 94} {5784022329937723266 16 95} {2477073053055026660 16 96} {4948870132627032072 16 97} {146522835359000139 16 98}]
------------------------------------------------------
flag 7160 term 18 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 48731 term 18 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
term 18 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {9211946234265179278 16 90} {4725094793337917324 16 91} {2361913648782727660 16 92} {1012217798153239890 16 93} {5394692326515889645 16 94} {5784022329937723266 16 95} {2477073053055026660 16 96} {4948870132627032072 16 97} {146522835359000139 16 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {9211946234265179278 16 90} {4725094793337917324 16 91} {2361913648782727660 16 92} {1012217798153239890 16 93} {5394692326515889645 16 94} {5784022329937723266 16 95} {2477073053055026660 16 96} {4948870132627032072 16 97} {146522835359000139 16 98}]
------------------------------------------------------
flag 30895 term 18 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 37758 term 18 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {9211946234265179278 16 90} {4725094793337917324 16 91} {2361913648782727660 16 92} {1012217798153239890 16 93} {5394692326515889645 16 94} {5784022329937723266 16 95} {2477073053055026660 16 96} {4948870132627032072 16 97} {146522835359000139 16 98}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {9211946234265179278 16 90} {4725094793337917324 16 91} {2361913648782727660 16 92} {1012217798153239890 16 93} {5394692326515889645 16 94} {5784022329937723266 16 95} {2477073053055026660 16 96} {4948870132627032072 16 97} {146522835359000139 16 98}]
------------------------------------------------------
flag 53904 term 18 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 96335 term 18 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {9211946234265179278 16 90} {4725094793337917324 16 91} {2361913648782727660 16 92} {1012217798153239890 16 93} {5394692326515889645 16 94} {5784022329937723266 16 95} {2477073053055026660 16 96} {4948870132627032072 16 97} {146522835359000139 16 98}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {9211946234265179278 16 90} {4725094793337917324 16 91} {2361913648782727660 16 92} {1012217798153239890 16 93} {5394692326515889645 16 94} {5784022329937723266 16 95} {2477073053055026660 16 96} {4948870132627032072 16 97} {146522835359000139 16 98}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4104853755417414965 (index 99) to leader 0
flag 59083 term 18 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 31111 term 18 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 89} {9211946234265179278 16 90} {4725094793337917324 16 91} {2361913648782727660 16 92} {1012217798153239890 16 93} {5394692326515889645 16 94} {5784022329937723266 16 95} {2477073053055026660 16 96} {4948870132627032072 16 97} {146522835359000139 16 98} {4104853755417414965 18 99}]
------------------------------------------------------
term 18 Server0 start snapshot! index=99
term 18 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
term 18 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 60880 term 18 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
term 18 Server2 start snapshot! index=99
term 18 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
client write log 1103264868906511634 (index 100) to leader 0
client write log 4313476945483575188 (index 101) to leader 0
client write log 3694635613701998146 (index 102) to leader 0
client write log 911899108926196342 (index 103) to leader 0
client write log 4627095352683298491 (index 104) to leader 0
client write log 4905795831841208885 (index 105) to leader 0
client write log 3794449957746719599 (index 106) to leader 0
client write log 5494649078538628394 (index 107) to leader 0
client write log 4581809927746242250 (index 108) to leader 0
term 18 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 62149 term 18 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108}]
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 38945 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5916650883544596432 (index 109) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 57062 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
term 19 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 1 vote for server 0
term 20 server 2 vote for server 0
term 20 server 0 get vote from server 1
term 20 server 0 become leader
------------------------------------------------------
term 20 server 0 get outdate rpc reply from server 2
flag 7027 term 20 leader 0 nextIndex[1]: 110  matchIndex[1]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
flag 58243 term 20 leader 0 nextIndex[2]: 110  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
term 20 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 110->109
------------------------------------------------------
term 20 leader 0 nextIndex[1]: 99  matchIndex[1]: 0
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 47955 term 20 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
term 20 server 1 InstallSnapshot success
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 18 rf.commitIndex 99 rf.lastApplied 99
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43421 term 20 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 20 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
flag 64747 term 20 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
flag 69581 term 20 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
flag 12709 term 20 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
flag 89827 term 20 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
flag 95746 term 20 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59073 term 20 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
flag 89293 term 20 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
flag 17354 term 20 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
flag 23563 term 20 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
flag 1151 term 20 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
flag 24085 term 20 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
flag 75115 term 20 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
flag 27646 term 20 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
flag 72866 term 20 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
flag 51031 term 20 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38197 term 20 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
flag 83125 term 20 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
flag 32373 term 20 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
flag 74557 term 20 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
term 20 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
update matchIndex[1]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
flag 2045 term 20 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
flag 30733 term 20 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
flag 27135 term 20 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
flag 91050 term 20 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
term 20 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
term 20 server 2 not vote for server 1, 任期不够新
term 20 server 1 get outdate rpc reply from server 2
term 20 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29282 term 20 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
flag 5030 term 20 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 2 not vote for server 1, 任期不够新
term 20 server 1 get outdate rpc reply from server 2
flag 37204 term 20 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
flag 76816 term 20 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62074 term 20 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
flag 72902 term 20 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39883 term 20 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
flag 54246 term 20 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109}]
------------------------------------------------------
term 20 server 0 not vote for server 1, 任期不够新
term 20 server 1 get outdate rpc reply from server 0
client write log 5916650883544596432 (index 110) to leader 0
flag 52850 term 20 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
flag 49767 term 20 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
term 20 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109} {5916650883544596432 20 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 18 99} {1103264868906511634 18 100} {4313476945483575188 18 101} {3694635613701998146 18 102} {911899108926196342 18 103} {4627095352683298491 18 104} {4905795831841208885 18 105} {3794449957746719599 18 106} {5494649078538628394 18 107} {4581809927746242250 18 108} {5916650883544596432 18 109} {5916650883544596432 20 110}]
------------------------------------------------------
term 20 Server0 start snapshot! index=109
term 20 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=110
-------------------------------------------------------------
flag 89156 term 20 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
flag 5385 term 20 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {5916650883544596432 20 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {5916650883544596432 20 110}]
------------------------------------------------------
term 20 Server2 start snapshot! index=109
term 20 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=110
-------------------------------------------------------------
term 20 Server1 start snapshot! index=109
term 20 server1 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=110
-------------------------------------------------------------
flag 59431 term 20 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
flag 47713 term 20 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {5916650883544596432 20 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {5916650883544596432 20 110}]
------------------------------------------------------
flag 83198 term 20 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
flag 86754 term 20 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:110 
term 20 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {5916650883544596432 20 110}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {5916650883544596432 20 110}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24904 term 20 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
flag 91002 term 20 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
term 20 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
[{snapshot 18 109} {5916650883544596432 20 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {5916650883544596432 20 110}]
------------------------------------------------------
term 20 server 0 not vote for server 1, 任期不够新
term 20 server 1 get outdate rpc reply from server 0
flag 23591 term 20 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
flag 42466 term 20 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
term 20 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {5916650883544596432 20 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {5916650883544596432 20 110}]
------------------------------------------------------
flag 9143 term 20 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
flag 24754 term 20 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {5916650883544596432 20 110}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {5916650883544596432 20 110}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 4803 term 20 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
flag 80102 term 20 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88160 term 20 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
flag 50199 term 20 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
flag 765 term 20 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
flag 89349 term 20 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
flag 27205 term 20 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
flag 56081 term 20 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
term 21 server 1 vote for server 2
term 21 server 2 get vote from server 1
term 21 server 2 become leader
------------------------------------------------------
flag 65990 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
flag 448 term 21 leader 2 nextIndex[1]: 111  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {5916650883544596432 20 110}]
------------------------------------------------------
client write log 4367433982460438496 (index 111) to leader 2
flag 92733 term 20 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
flag 89954 term 20 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
flag 4857 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
flag 97829 term 21 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 18 109} {5916650883544596432 20 110} {4367433982460438496 21 111}]
------------------------------------------------------
flag 64565 term 20 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
flag 59948 term 20 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
flag 50748 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 81129 term 21 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 18 109} {5916650883544596432 20 110} {4367433982460438496 21 111}]
------------------------------------------------------
client write log 7682010469205016736 (index 112) to leader 2
flag 98365 term 20 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
flag 11489 term 20 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
flag 71079 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 31248 term 21 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {5916650883544596432 20 110} {4367433982460438496 21 111} {7682010469205016736 21 112}]
------------------------------------------------------
flag 5571 term 20 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
flag 20060 term 20 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
flag 52423 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 35394 term 21 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 21 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 21 leaderCommit: 112 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {5916650883544596432 20 110} {4367433982460438496 21 111} {7682010469205016736 21 112}]
------------------------------------------------------
!!!!!!connect server 0
client write log 5667380608139160525 (index 113) to leader 2
flag 56218 term 20 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
flag 8697 term 20 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 21 server 1 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76077 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 61488 term 21 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 21 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 21 leaderCommit: 112 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5916650883544596432 20 110} {4367433982460438496 21 111} {7682010469205016736 21 112} {5667380608139160525 21 113}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5916650883544596432 20 110} {4367433982460438496 21 111} {7682010469205016736 21 112} {5667380608139160525 21 113}]
------------------------------------------------------
flag 88511 term 21 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 69103 term 21 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5916650883544596432 20 110} {4367433982460438496 21 111} {7682010469205016736 21 112} {5667380608139160525 21 113}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5916650883544596432 20 110} {4367433982460438496 21 111} {7682010469205016736 21 112} {5667380608139160525 21 113}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 114->113
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 0  matchIndex[0]: 113
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 7671 term 21 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 0 InstallSnapshot fail
rf.commitIndex 113 args.LastIncludedIndex 109
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5916650883544596432 20 110} {4367433982460438496 21 111} {7682010469205016736 21 112} {5667380608139160525 21 113}]
------------------------------------------------------
flag 41718 term 21 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 16857 term 21 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5916650883544596432 20 110} {4367433982460438496 21 111} {7682010469205016736 21 112} {5667380608139160525 21 113}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5916650883544596432 20 110} {4367433982460438496 21 111} {7682010469205016736 21 112} {5667380608139160525 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30489 term 21 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 86422 term 21 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5916650883544596432 20 110} {4367433982460438496 21 111} {7682010469205016736 21 112} {5667380608139160525 21 113}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5916650883544596432 20 110} {4367433982460438496 21 111} {7682010469205016736 21 112} {5667380608139160525 21 113}]
------------------------------------------------------
flag 2673 term 21 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 46587 term 21 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5916650883544596432 20 110} {4367433982460438496 21 111} {7682010469205016736 21 112} {5667380608139160525 21 113}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5916650883544596432 20 110} {4367433982460438496 21 111} {7682010469205016736 21 112} {5667380608139160525 21 113}]
------------------------------------------------------
flag 21919 term 21 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 11177 term 21 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5916650883544596432 20 110} {4367433982460438496 21 111} {7682010469205016736 21 112} {5667380608139160525 21 113}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5916650883544596432 20 110} {4367433982460438496 21 111} {7682010469205016736 21 112} {5667380608139160525 21 113}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6136811400561890841 (index 114) to leader 2
flag 83781 term 21 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 82995 term 21 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {5916650883544596432 20 110} {4367433982460438496 21 111} {7682010469205016736 21 112} {5667380608139160525 21 113} {6136811400561890841 21 114}]
------------------------------------------------------
flag 11581 term 21 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 85724 term 21 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {5916650883544596432 20 110} {4367433982460438496 21 111} {7682010469205016736 21 112} {5667380608139160525 21 113} {6136811400561890841 21 114}]
------------------------------------------------------
client write log 8103907965182600130 (index 115) to leader 2
client write log 2435260642418570732 (index 116) to leader 2
client write log 5362208472988363662 (index 117) to leader 2
client write log 8562348696669215928 (index 118) to leader 2
client write log 8236288362393879526 (index 119) to leader 2
client write log 1366009352419299368 (index 120) to leader 2
client write log 79209624809803634 (index 121) to leader 2
client write log 6631671158977101592 (index 122) to leader 2
client write log 1440313620722246634 (index 123) to leader 2
client write log 6161599952575380917 (index 124) to leader 2
client write log 5378890641111857252 (index 125) to leader 2
flag 87158 term 21 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 12055 term 21 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 18 109} {5916650883544596432 20 110} {4367433982460438496 21 111} {7682010469205016736 21 112} {5667380608139160525 21 113} {6136811400561890841 21 114} {8103907965182600130 21 115} {2435260642418570732 21 116} {5362208472988363662 21 117} {8562348696669215928 21 118} {8236288362393879526 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125}]
------------------------------------------------------
term 21 Server2 start snapshot! index=119
term 21 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=125
-------------------------------------------------------------
term 21 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 6887 term 21 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125}]
------------------------------------------------------
term 21 Server1 start snapshot! index=119
term 21 server1 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=125
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2500224484422009721 (index 126) to leader 2
term 21 server 2 not vote for server 0, 日志不够新
term 21 server 1 not vote for server 0, 日志不够新
term 23 server 1 vote for server 2
term 23 server 0 vote for server 2
term 23 server 2 get vote from server 1
term 23 server 2 become leader
------------------------------------------------------
term 23 server 2 get outdate rpc reply from server 0
flag 70016 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 18349 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 127->126
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 127->126
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 114  matchIndex[0]: 0
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 87567 term 23 leader 2 nextIndex[1]: 126  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
term 23 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 21 rf.commitIndex 119 rf.lastApplied 119
term 23 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 120 matchIndex[0] 119 
------------------------------------------------------------------------
flag 85187 term 23 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 91323 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61290 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 91807 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
flag 89985 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 93320 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
flag 13557 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 69470 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
term 23 server 0 not vote for server 2, 任期不够新
term 23 server 2 get outdate rpc reply from server 0
flag 26755 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 18725 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22227 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 8663 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
flag 80781 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 93182 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84878 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 24927 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
flag 58695 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 69246 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
flag 37026 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 84249 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19925 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 70388 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21551 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 10137 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
flag 17748 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 24775 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
flag 64553 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 78963 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95688 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 26749 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
flag 98690 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 75264 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
flag 95340 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 16398 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
flag 11250 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 64170 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126}]
------------------------------------------------------
client write log 2500224484422009721 (index 127) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61483 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 85384 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126} {2500224484422009721 23 127}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126} {2500224484422009721 23 127}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24889 term 23 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
flag 14038 term 23 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126} {2500224484422009721 23 127}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126} {2500224484422009721 23 127}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45615 term 23 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
flag 28380 term 23 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126} {2500224484422009721 23 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126} {2500224484422009721 23 127}]
------------------------------------------------------
flag 85442 term 23 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
flag 76510 term 23 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126} {2500224484422009721 23 127}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126} {2500224484422009721 23 127}]
------------------------------------------------------
flag 20577 term 23 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
flag 58803 term 23 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126} {2500224484422009721 23 127}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126} {2500224484422009721 23 127}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87546 term 23 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
flag 56442 term 23 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126} {2500224484422009721 23 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126} {2500224484422009721 23 127}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8857671140478505887 (index 128) to leader 2
flag 52776 term 23 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
flag 38543 term 23 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126} {2500224484422009721 23 127} {8857671140478505887 23 128}]
------------------------------------------------------
flag 21434 term 23 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 128 
------------------------------------------------------
flag 53288 term 23 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 23 leaderCommit: 128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126} {2500224484422009721 23 127} {8857671140478505887 23 128}]
------------------------------------------------------
client write log 692611120580221971 (index 129) to leader 2
client write log 1158750633002234022 (index 130) to leader 2
client write log 8031255948574910235 (index 131) to leader 2
client write log 2082961916427474846 (index 132) to leader 2
client write log 8988060314901543268 (index 133) to leader 2
client write log 3332697091602431579 (index 134) to leader 2
client write log 2749953003350365351 (index 135) to leader 2
client write log 596035988411554357 (index 136) to leader 2
client write log 1402638955709596995 (index 137) to leader 2
client write log 8168844872063581848 (index 138) to leader 2
client write log 1564860726817462206 (index 139) to leader 2
client write log 4620233015390385654 (index 140) to leader 2
client write log 9098879093994702369 (index 141) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26247 term 23 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 128 
------------------------------------------------------
flag 78360 term 23 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 23 leaderCommit: 128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 119} {1366009352419299368 21 120} {79209624809803634 21 121} {6631671158977101592 21 122} {1440313620722246634 21 123} {6161599952575380917 21 124} {5378890641111857252 21 125} {2500224484422009721 21 126} {2500224484422009721 23 127} {8857671140478505887 23 128} {692611120580221971 23 129} {1158750633002234022 23 130} {8031255948574910235 23 131} {2082961916427474846 23 132} {8988060314901543268 23 133} {3332697091602431579 23 134} {2749953003350365351 23 135} {596035988411554357 23 136} {1402638955709596995 23 137} {8168844872063581848 23 138} {1564860726817462206 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141}]
------------------------------------------------------
term 23 Server2 start snapshot! index=129
term 23 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=141
-------------------------------------------------------------
term 23 Server2 start snapshot! index=139
term 23 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=141
-------------------------------------------------------------
term 23 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 70739 term 23 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 23 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141}]
------------------------------------------------------
term 23 Server1 start snapshot! index=129
term 23 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=141
-------------------------------------------------------------
term 23 Server1 start snapshot! index=139
term 23 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=141
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8815511409348696726 (index 142) to leader 2
term 23 server 2 not vote for server 0, 日志不够新
term 23 server 1 not vote for server 0, 日志不够新
term 25 server 1 vote for server 2
term 25 server 2 get vote from server 1
term 25 server 2 become leader
------------------------------------------------------
term 25 server 0 vote for server 2
term 25 server 2 get outdate rpc reply from server 0
flag 56816 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 71382 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 143->142
------------------------------------------------------
term 25 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 143->142
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 2 nextIndex[0]: 128  matchIndex[0]: 0
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 11734 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 25 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 23 rf.commitIndex 139 rf.lastApplied 139
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18890 term 25 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 25 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 11515 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65980 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 86469 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
flag 52365 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 88362 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45042 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 76415 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
flag 30797 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 8145 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73193 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 62299 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
flag 35332 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 62059 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
flag 36947 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 22520 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
flag 96166 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 87547 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65289 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 28847 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
flag 40509 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 34247 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
flag 78381 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 33461 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
flag 94203 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 56773 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
flag 65722 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 83553 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11982 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 25485 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
flag 60874 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 63774 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
flag 33423 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 70538 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
flag 78010 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 5838 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142}]
------------------------------------------------------
client write log 8815511409348696726 (index 143) to leader 2
flag 21383 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 12152 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142} {8815511409348696726 25 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142} {8815511409348696726 25 143}]
------------------------------------------------------
flag 32303 term 25 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 46019 term 25 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142} {8815511409348696726 25 143}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142} {8815511409348696726 25 143}]
------------------------------------------------------
flag 82142 term 25 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 75198 term 25 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142} {8815511409348696726 25 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142} {8815511409348696726 25 143}]
------------------------------------------------------
flag 99907 term 25 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 47992 term 25 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142} {8815511409348696726 25 143}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142} {8815511409348696726 25 143}]
------------------------------------------------------
flag 79614 term 25 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 430 term 25 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142} {8815511409348696726 25 143}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142} {8815511409348696726 25 143}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92576 term 25 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 44851 term 25 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142} {8815511409348696726 25 143}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142} {8815511409348696726 25 143}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 73448 term 25 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 250 term 25 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 26665 term 25 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 42968 term 25 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 2761 term 25 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 95162 term 25 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 1 vote for server 0
term 26 server 0 get vote from server 1
term 26 server 0 become leader
------------------------------------------------------
flag 16739 term 26 leader 0 nextIndex[1]: 144  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 21946 term 26 leader 0 nextIndex[2]: 144  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142} {8815511409348696726 25 143}]
------------------------------------------------------
client write log 4253065829333708334 (index 144) to leader 0
flag 41133 term 25 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 90689 term 25 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50979 term 26 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 26 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 2196 term 26 leader 0 nextIndex[2]: 144  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142} {8815511409348696726 25 143} {4253065829333708334 26 144}]
------------------------------------------------------
flag 25429 term 25 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 77751 term 25 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 51684 term 26 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 26 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 26 leaderCommit: 144 
------------------------------------------------------
flag 89993 term 26 leader 0 nextIndex[2]: 144  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142} {8815511409348696726 25 143} {4253065829333708334 26 144}]
------------------------------------------------------
flag 17268 term 25 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 92805 term 25 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
client write log 7289705329092880191 (index 145) to leader 0
client write log 4315512939406649758 (index 146) to leader 0
client write log 7019241077230148047 (index 147) to leader 0
client write log 8788369760630141631 (index 148) to leader 0
client write log 7866828270214547964 (index 149) to leader 0
client write log 3816914575307823398 (index 150) to leader 0
client write log 2463735162540958721 (index 151) to leader 0
client write log 3246438620421452059 (index 152) to leader 0
client write log 6469863087086160636 (index 153) to leader 0
client write log 7337044868954081017 (index 154) to leader 0
client write log 8511418969804209047 (index 155) to leader 0
flag 93994 term 26 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 26 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 26 leaderCommit: 144 
------------------------------------------------------
flag 2633 term 26 leader 0 nextIndex[2]: 144  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 23 139} {4620233015390385654 23 140} {9098879093994702369 23 141} {8815511409348696726 23 142} {8815511409348696726 25 143} {4253065829333708334 26 144} {7289705329092880191 26 145} {4315512939406649758 26 146} {7019241077230148047 26 147} {8788369760630141631 26 148} {7866828270214547964 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
term 26 Server0 start snapshot! index=149
term 26 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=155
-------------------------------------------------------------
flag 43489 term 25 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 40850 term 25 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 144->143
------------------------------------------------------
flag 41544 term 26 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 144  matchIndex[2]: 0
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
term 25 leader 2 nextIndex[0]: 0  matchIndex[0]: 143
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 27548 term 25 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 26 Server1 start snapshot! index=149
term 26 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=155
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2149117052947049282 (index 144) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 144->143
------------------------------------------------------
flag 30941 term 26 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 144  matchIndex[2]: 0
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 2 InstallSnapshot success
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 26 rf.commitIndex 149 rf.lastApplied 149
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
term 26 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
flag 51487 term 26 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
flag 33105 term 26 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 26 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
flag 20988 term 26 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
flag 13963 term 26 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5881 term 26 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
flag 81095 term 26 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 156->155
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75338 term 26 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 0  matchIndex[2]: 155
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 2 InstallSnapshot fail
rf.commitIndex 155 args.LastIncludedIndex 149
------------------------------------------------------
term 26 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62772 term 26 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
flag 41858 term 26 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 26 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97340 term 26 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
flag 80540 term 26 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
flag 96746 term 26 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
flag 72202 term 26 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
flag 92134 term 26 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
flag 6772 term 26 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
flag 51928 term 26 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
flag 58907 term 26 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
flag 14247 term 26 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
flag 97843 term 26 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
flag 96786 term 26 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
flag 15672 term 26 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
flag 37221 term 26 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
flag 68220 term 26 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99560 term 26 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
flag 46103 term 26 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
flag 6882 term 26 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
flag 39521 term 26 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
flag 70370 term 26 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
flag 39329 term 26 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
flag 91896 term 26 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
flag 1415 term 26 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
flag 77459 term 26 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
flag 38793 term 26 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
flag 59804 term 26 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
flag 96787 term 26 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
term 26 server 2 not vote for server 0, 日志不够新
term 26 server 0 get outdate rpc reply from server 2
term 26 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
flag 85741 term 26 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
flag 99386 term 26 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 26 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155}]
------------------------------------------------------
client write log 2149117052947049282 (index 156) to leader 0
flag 13562 term 26 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
flag 34375 term 26 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 26 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155} {2149117052947049282 26 156}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155} {2149117052947049282 26 156}]
------------------------------------------------------
flag 87188 term 26 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 26 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 60298 term 26 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 26 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155} {2149117052947049282 26 156}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155} {2149117052947049282 26 156}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66720 term 26 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 26 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 32835 term 26 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 26 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155} {2149117052947049282 26 156}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155} {2149117052947049282 26 156}]
------------------------------------------------------
flag 97067 term 26 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 26 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 43601 term 26 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 26 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155} {2149117052947049282 26 156}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155} {2149117052947049282 26 156}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 157->156
------------------------------------------------------
flag 27702 term 26 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 26 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 0  matchIndex[2]: 156
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 2 InstallSnapshot fail
rf.commitIndex 156 args.LastIncludedIndex 149
------------------------------------------------------
term 26 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155} {2149117052947049282 26 156}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74975 term 26 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 26 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 57885 term 26 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 26 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155} {2149117052947049282 26 156}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155} {2149117052947049282 26 156}]
------------------------------------------------------
flag 74091 term 26 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 26 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 14336 term 26 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 26 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155} {2149117052947049282 26 156}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155} {2149117052947049282 26 156}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5036015653985360998 (index 157) to leader 0
flag 6854 term 26 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 26 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 32369 term 26 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 26 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155} {2149117052947049282 26 156} {5036015653985360998 26 157}]
------------------------------------------------------
flag 44229 term 26 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 26 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 81938 term 26 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 26 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155} {2149117052947049282 26 156} {5036015653985360998 26 157}]
------------------------------------------------------
client write log 838294940586333019 (index 158) to leader 0
client write log 6071033926839744095 (index 159) to leader 0
client write log 7424332717030438548 (index 160) to leader 0
client write log 7013243998835301112 (index 161) to leader 0
client write log 5320660196086198941 (index 162) to leader 0
client write log 7881813825315023460 (index 163) to leader 0
client write log 5416426430974467431 (index 164) to leader 0
flag 33416 term 26 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 26 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 66000 term 26 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 26 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 26 149} {3816914575307823398 26 150} {2463735162540958721 26 151} {3246438620421452059 26 152} {6469863087086160636 26 153} {7337044868954081017 26 154} {8511418969804209047 26 155} {2149117052947049282 26 156} {5036015653985360998 26 157} {838294940586333019 26 158} {6071033926839744095 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164}]
------------------------------------------------------
term 26 Server0 start snapshot! index=159
term 26 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=164
-------------------------------------------------------------
term 26 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
flag 22932 term 26 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 165->164
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164}]
------------------------------------------------------
term 26 Server2 start snapshot! index=159
term 26 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=164
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2204070254940515951 (index 165) to leader 0
term 26 server 2 not vote for server 1, 日志不够新
term 26 server 0 not vote for server 1, 日志不够新
term 28 server 2 vote for server 0
term 28 server 0 get vote from server 2
term 28 server 0 become leader
------------------------------------------------------
term 28 server 1 vote for server 0
term 28 server 0 get outdate rpc reply from server 1
flag 55218 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 48626 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 28 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 166->165
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 166->165
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 157  matchIndex[1]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
flag 10596 term 28 leader 0 nextIndex[2]: 165  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
term 28 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
rf.lastIncludedIndex 159 rf.lastIncludedTerm 26 rf.commitIndex 159 rf.lastApplied 159
flag 26188 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 35675 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
flag 80236 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 7213 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49239 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 56954 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57538 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 23011 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
flag 78934 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 54296 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
flag 84372 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 59377 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81892 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 69930 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
flag 16342 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 65481 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
flag 46095 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 27040 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
flag 25047 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 10390 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
flag 72891 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 65519 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
flag 7041 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 73625 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95371 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 36437 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
flag 71462 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 83853 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
flag 48663 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 24750 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
flag 93255 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 95775 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
flag 52818 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 24051 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 2204070254940515951 (index 166) to leader 0
flag 70859 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 47382 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165} {2204070254940515951 28 166}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165} {2204070254940515951 28 166}]
------------------------------------------------------
flag 40049 term 28 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 87232 term 28 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165} {2204070254940515951 28 166}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165} {2204070254940515951 28 166}]
------------------------------------------------------
flag 65535 term 28 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 24372 term 28 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165} {2204070254940515951 28 166}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165} {2204070254940515951 28 166}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82932 term 28 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 15020 term 28 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165} {2204070254940515951 28 166}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165} {2204070254940515951 28 166}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11105 term 28 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 19279 term 28 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165} {2204070254940515951 28 166}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165} {2204070254940515951 28 166}]
------------------------------------------------------
flag 21353 term 28 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 47666 term 28 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165} {2204070254940515951 28 166}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165} {2204070254940515951 28 166}]
------------------------------------------------------
flag 91739 term 28 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 73748 term 28 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165} {2204070254940515951 28 166}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165} {2204070254940515951 28 166}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6997487249887957764 (index 167) to leader 0
flag 15909 term 28 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 19413 term 28 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165} {2204070254940515951 28 166} {6997487249887957764 28 167}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18349 term 28 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 44012 term 28 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165} {2204070254940515951 28 166} {6997487249887957764 28 167}]
------------------------------------------------------
client write log 8461258165956459035 (index 168) to leader 0
client write log 72573052347374923 (index 169) to leader 0
client write log 3983185652416958246 (index 170) to leader 0
client write log 1510428770850533627 (index 171) to leader 0
client write log 3960646433125384607 (index 172) to leader 0
client write log 6336244558249564330 (index 173) to leader 0
client write log 3384124741837357228 (index 174) to leader 0
client write log 3427218716998548391 (index 175) to leader 0
client write log 4342215727726080940 (index 176) to leader 0
client write log 3966768063381965119 (index 177) to leader 0
client write log 8929191291091997863 (index 178) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99383 term 28 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 96668 term 28 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 26 159} {7424332717030438548 26 160} {7013243998835301112 26 161} {5320660196086198941 26 162} {7881813825315023460 26 163} {5416426430974467431 26 164} {2204070254940515951 26 165} {2204070254940515951 28 166} {6997487249887957764 28 167} {8461258165956459035 28 168} {72573052347374923 28 169} {3983185652416958246 28 170} {1510428770850533627 28 171} {3960646433125384607 28 172} {6336244558249564330 28 173} {3384124741837357228 28 174} {3427218716998548391 28 175} {4342215727726080940 28 176} {3966768063381965119 28 177} {8929191291091997863 28 178}]
------------------------------------------------------
term 28 Server0 start snapshot! index=169
term 28 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=178
-------------------------------------------------------------
term 28 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 75189 term 28 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 28 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {3983185652416958246 28 170} {1510428770850533627 28 171} {3960646433125384607 28 172} {6336244558249564330 28 173} {3384124741837357228 28 174} {3427218716998548391 28 175} {4342215727726080940 28 176} {3966768063381965119 28 177} {8929191291091997863 28 178}]
------------------------------------------------------
term 28 Server2 start snapshot! index=169
term 28 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=178
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 167->166
------------------------------------------------------
!!!!!!connect server 1
client write log 5690648235935005058 (index 179) to leader 0
term 28 leader 0 nextIndex[1]: 0  matchIndex[1]: 166
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 66831 term 28 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 28 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 28 169} {3983185652416958246 28 170} {1510428770850533627 28 171} {3960646433125384607 28 172} {6336244558249564330 28 173} {3384124741837357228 28 174} {3427218716998548391 28 175} {4342215727726080940 28 176} {3966768063381965119 28 177} {8929191291091997863 28 178} {5690648235935005058 28 179}]
------------------------------------------------------
term 29 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 Server0 start snapshot! index=179
term 29 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
term 30 server 2 vote for server 0
term 30 server 0 get vote from server 2
term 30 server 1 vote for server 0
term 30 server 0 become leader
------------------------------------------------------
term 30 server 0 get outdate rpc reply from server 1
flag 37811 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
flag 23747 term 30 leader 0 nextIndex[2]: 180  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
term 30 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 28 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 180->179
------------------------------------------------------
term 30 Server2 start snapshot! index=179
term 30 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
term 30 leader 0 nextIndex[1]: 167  matchIndex[1]: 0
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 28
------------------------------------------------------
flag 36407 term 30 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 28 179}]
------------------------------------------------------
term 30 server 1 InstallSnapshot success
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 28 rf.commitIndex 179 rf.lastApplied 179
flag 97660 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
flag 79152 term 30 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 28 179}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 28 179}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71380 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
flag 6730 term 30 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
term 30 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
[{snapshot 28 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 28 179}]
------------------------------------------------------
flag 3746 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
flag 38328 term 30 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 28 179}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 28 179}]
------------------------------------------------------
flag 26200 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
flag 84533 term 30 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 28 179}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 28 179}]
------------------------------------------------------
flag 23072 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
flag 37339 term 30 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 28 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 28 179}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 64844 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
flag 37373 term 30 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
flag 89491 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
flag 43252 term 30 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
flag 36772 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
flag 6054 term 30 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
flag 31388 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
flag 90106 term 30 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 vote for server 1
term 31 server 1 get vote from server 2
term 31 server 1 become leader
------------------------------------------------------
flag 7066 term 31 leader 1 nextIndex[0]: 180  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
flag 70383 term 31 leader 1 nextIndex[2]: 180  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 28 179}]
------------------------------------------------------
client write log 1937293471687048170 (index 180) to leader 1
flag 12940 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
flag 86301 term 30 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
flag 2074 term 31 leader 1 nextIndex[0]: 180  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
flag 76594 term 31 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 31 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {1937293471687048170 31 180}]
------------------------------------------------------
flag 62274 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
flag 60754 term 30 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
flag 49837 term 31 leader 1 nextIndex[0]: 180  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 19656 term 31 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {1937293471687048170 31 180}]
------------------------------------------------------
client write log 5708139137823601337 (index 181) to leader 1
client write log 361036697470921555 (index 182) to leader 1
client write log 3781390540078085403 (index 183) to leader 1
client write log 5593123953226997516 (index 184) to leader 1
client write log 33451427750421115 (index 185) to leader 1
client write log 6010618310741319854 (index 186) to leader 1
client write log 2786979238874014829 (index 187) to leader 1
client write log 7758469559534238740 (index 188) to leader 1
client write log 4314392372723215035 (index 189) to leader 1
client write log 7690670232055044124 (index 190) to leader 1
client write log 9141969762443828005 (index 191) to leader 1
client write log 7653157277828092775 (index 192) to leader 1
client write log 8454081778067203512 (index 193) to leader 1
client write log 6603563605816685604 (index 194) to leader 1
flag 55387 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
flag 75868 term 30 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 not vote for server 1, 任期不够新
term 31 server 1 get outdate rpc reply from server 2
flag 57382 term 31 leader 1 nextIndex[0]: 180  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 78287 term 31 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 28 179} {1937293471687048170 31 180} {5708139137823601337 31 181} {361036697470921555 31 182} {3781390540078085403 31 183} {5593123953226997516 31 184} {33451427750421115 31 185} {6010618310741319854 31 186} {2786979238874014829 31 187} {7758469559534238740 31 188} {4314392372723215035 31 189} {7690670232055044124 31 190} {9141969762443828005 31 191} {7653157277828092775 31 192} {8454081778067203512 31 193} {6603563605816685604 31 194}]
------------------------------------------------------
term 31 Server1 start snapshot! index=189
term 31 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=194
-------------------------------------------------------------
flag 9028 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
flag 89366 term 30 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
term 31 leader 1 nextIndex[0]: 180  matchIndex[0]: 0
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 31
------------------------------------------------------
flag 67631 term 31 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 31 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {7690670232055044124 31 190} {9141969762443828005 31 191} {7653157277828092775 31 192} {8454081778067203512 31 193} {6603563605816685604 31 194}]
------------------------------------------------------
term 31 Server2 start snapshot! index=189
term 31 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=194
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1368266128655351919 (index 195) to leader 1
flag 94881 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
flag 70626 term 30 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
term 31 server 1 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 1 nextIndex[0]: 180  matchIndex[0]: 0
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 31
------------------------------------------------------
flag 78506 term 31 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 31 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 31 server 0 InstallSnapshot success
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
term 31 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 31 rf.commitIndex 189 rf.lastApplied 189
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {7690670232055044124 31 190} {9141969762443828005 31 191} {7653157277828092775 31 192} {8454081778067203512 31 193} {6603563605816685604 31 194} {1368266128655351919 31 195}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35431 term 31 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 31 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 16601 term 31 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 31 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {7690670232055044124 31 190} {9141969762443828005 31 191} {7653157277828092775 31 192} {8454081778067203512 31 193} {6603563605816685604 31 194} {1368266128655351919 31 195}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {7690670232055044124 31 190} {9141969762443828005 31 191} {7653157277828092775 31 192} {8454081778067203512 31 193} {6603563605816685604 31 194} {1368266128655351919 31 195}]
------------------------------------------------------
flag 10117 term 31 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 31 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 87656 term 31 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 31 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
term 31 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {7690670232055044124 31 190} {9141969762443828005 31 191} {7653157277828092775 31 192} {8454081778067203512 31 193} {6603563605816685604 31 194} {1368266128655351919 31 195}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {7690670232055044124 31 190} {9141969762443828005 31 191} {7653157277828092775 31 192} {8454081778067203512 31 193} {6603563605816685604 31 194} {1368266128655351919 31 195}]
------------------------------------------------------
flag 29816 term 31 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 31 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 47822 term 31 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 31 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {7690670232055044124 31 190} {9141969762443828005 31 191} {7653157277828092775 31 192} {8454081778067203512 31 193} {6603563605816685604 31 194} {1368266128655351919 31 195}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {7690670232055044124 31 190} {9141969762443828005 31 191} {7653157277828092775 31 192} {8454081778067203512 31 193} {6603563605816685604 31 194} {1368266128655351919 31 195}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21656 term 31 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 31 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 99908 term 31 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 31 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {7690670232055044124 31 190} {9141969762443828005 31 191} {7653157277828092775 31 192} {8454081778067203512 31 193} {6603563605816685604 31 194} {1368266128655351919 31 195}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {7690670232055044124 31 190} {9141969762443828005 31 191} {7653157277828092775 31 192} {8454081778067203512 31 193} {6603563605816685604 31 194} {1368266128655351919 31 195}]
------------------------------------------------------
flag 90784 term 31 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 31 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 70346 term 31 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 31 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {7690670232055044124 31 190} {9141969762443828005 31 191} {7653157277828092775 31 192} {8454081778067203512 31 193} {6603563605816685604 31 194} {1368266128655351919 31 195}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {7690670232055044124 31 190} {9141969762443828005 31 191} {7653157277828092775 31 192} {8454081778067203512 31 193} {6603563605816685604 31 194} {1368266128655351919 31 195}]
------------------------------------------------------
flag 11904 term 31 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 31 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 26831 term 31 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 31 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {7690670232055044124 31 190} {9141969762443828005 31 191} {7653157277828092775 31 192} {8454081778067203512 31 193} {6603563605816685604 31 194} {1368266128655351919 31 195}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {7690670232055044124 31 190} {9141969762443828005 31 191} {7653157277828092775 31 192} {8454081778067203512 31 193} {6603563605816685604 31 194} {1368266128655351919 31 195}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94486 term 31 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 31 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 3451 term 31 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 31 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {7690670232055044124 31 190} {9141969762443828005 31 191} {7653157277828092775 31 192} {8454081778067203512 31 193} {6603563605816685604 31 194} {1368266128655351919 31 195}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {7690670232055044124 31 190} {9141969762443828005 31 191} {7653157277828092775 31 192} {8454081778067203512 31 193} {6603563605816685604 31 194} {1368266128655351919 31 195}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4578198638992281165 (index 196) to leader 1
flag 5873 term 31 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 31 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 70060 term 31 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 31 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 31 189} {7690670232055044124 31 190} {9141969762443828005 31 191} {7653157277828092775 31 192} {8454081778067203512 31 193} {6603563605816685604 31 194} {1368266128655351919 31 195} {4578198638992281165 31 196}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30698 term 31 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 31 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 196 
------------------------------------------------------
flag 70584 term 31 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 31 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 31 leaderCommit: 196 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 31 189} {7690670232055044124 31 190} {9141969762443828005 31 191} {7653157277828092775 31 192} {8454081778067203512 31 193} {6603563605816685604 31 194} {1368266128655351919 31 195} {4578198638992281165 31 196}]
------------------------------------------------------
client write log 4753044809603987734 (index 197) to leader 1
client write log 8503143854093853701 (index 198) to leader 1
client write log 2945392253973849923 (index 199) to leader 1
client write log 1074524415216406514 (index 200) to leader 1
client write log 2354005982156191875 (index 201) to leader 1
client write log 3070586238883625015 (index 202) to leader 1
client write log 5572851990399126276 (index 203) to leader 1
client write log 3556886204839009367 (index 204) to leader 1
client write log 3434539685186827001 (index 205) to leader 1
client write log 7258373467290719655 (index 206) to leader 1
client write log 9129594050017932496 (index 207) to leader 1
flag 76200 term 31 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 31 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 196 
------------------------------------------------------
flag 85523 term 31 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 31 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 31 leaderCommit: 196 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 189} {7690670232055044124 31 190} {9141969762443828005 31 191} {7653157277828092775 31 192} {8454081778067203512 31 193} {6603563605816685604 31 194} {1368266128655351919 31 195} {4578198638992281165 31 196} {4753044809603987734 31 197} {8503143854093853701 31 198} {2945392253973849923 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207}]
------------------------------------------------------
term 31 Server1 start snapshot! index=199
term 31 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=207
-------------------------------------------------------------
flag 52447 term 31 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 31 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207}]
------------------------------------------------------
term 31 Server0 start snapshot! index=199
term 31 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=207
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3245205870559081697 (index 208) to leader 1
flag 43099 term 31 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 31 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
term 32 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 0 vote for server 1
term 33 server 1 get vote from server 0
term 33 server 1 become leader
------------------------------------------------------
term 33 server 2 vote for server 1
term 33 server 1 get outdate rpc reply from server 2
flag 45319 term 33 leader 1 nextIndex[0]: 209  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 79119 term 33 leader 1 nextIndex[2]: 209  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 209->208
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99507 term 33 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 196  matchIndex[2]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
term 33 server 2 InstallSnapshot success
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 31 rf.commitIndex 199 rf.lastApplied 199
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27868 term 33 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 47433 term 33 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 33 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
flag 77606 term 33 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 66169 term 33 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
term 33 server 0 not vote for server 1, 任期不够新
term 33 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83457 term 33 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 82047 term 33 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
flag 3517 term 33 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 46281 term 33 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
term 33 server 0 not vote for server 2, 任期不够新
term 33 server 2 get outdate rpc reply from server 0
flag 33762 term 33 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 24259 term 33 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10722 term 33 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 18335 term 33 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32127 term 33 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 69113 term 33 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56718 term 33 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 15131 term 33 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
flag 99707 term 33 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 67036 term 33 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
flag 74297 term 33 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 97968 term 33 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
flag 34438 term 33 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 96691 term 33 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68938 term 33 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 60904 term 33 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
flag 92931 term 33 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 92523 term 33 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
flag 38098 term 33 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 93639 term 33 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
flag 18394 term 33 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 85374 term 33 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
flag 4517 term 33 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 12452 term 33 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
flag 88261 term 33 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 76140 term 33 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208}]
------------------------------------------------------
client write log 3245205870559081697 (index 209) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9821 term 33 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 86000 term 33 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208} {3245205870559081697 33 209}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 31 199} {1074524415216406514 31 200} {2354005982156191875 31 201} {3070586238883625015 31 202} {5572851990399126276 31 203} {3556886204839009367 31 204} {3434539685186827001 31 205} {7258373467290719655 31 206} {9129594050017932496 31 207} {3245205870559081697 31 208} {3245205870559081697 33 209}]
------------------------------------------------------
term 33 Server1 start snapshot! index=209
term 33 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
term 33 server 1 not vote for server 2, 任期不够新
term 33 server 2 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43249 term 33 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 33 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
flag 3086 term 33 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 33 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 33 209}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 33 209}]
------------------------------------------------------
term 33 Server0 start snapshot! index=209
term 33 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
term 33 Server2 start snapshot! index=209
term 33 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
flag 19492 term 33 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 33 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
flag 52659 term 33 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 33 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 33 209}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 33 209}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53700 term 33 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 33 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
flag 19276 term 33 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 33 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 33 209}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 33 209}]
------------------------------------------------------
flag 42806 term 33 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 33 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
flag 28601 term 33 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 33 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:209 
term 33 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 33 209}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 33 209}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20041 term 33 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 33 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
flag 16100 term 33 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 33 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 33 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
update nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 33 209}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 33 209}]
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 2
client write log 7097176961631296078 (index 210) to leader 1
flag 56520 term 33 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 33 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
flag 20598 term 33 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 33 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 33 209} {7097176961631296078 33 210}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80780 term 33 leader 1 nextIndex[0]: 211  matchIndex[0]: 210
term 33 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 33 leaderCommit: 210 
------------------------------------------------------
flag 22087 term 33 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 33 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 210 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 33 209} {7097176961631296078 33 210}]
------------------------------------------------------
client write log 8422653346700404441 (index 211) to leader 1
client write log 651890941916638499 (index 212) to leader 1
client write log 3616841181240271360 (index 213) to leader 1
client write log 5352964816392873864 (index 214) to leader 1
client write log 5251645187044462099 (index 215) to leader 1
client write log 5488433624695618867 (index 216) to leader 1
client write log 2875881442023930502 (index 217) to leader 1
client write log 6007313149326432306 (index 218) to leader 1
client write log 5158276162996593451 (index 219) to leader 1
client write log 6869339016066356781 (index 220) to leader 1
client write log 5306408194939626627 (index 221) to leader 1
client write log 6906907083043621337 (index 222) to leader 1
term 33 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99181 term 33 leader 1 nextIndex[0]: 211  matchIndex[0]: 210
term 33 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 33 leaderCommit: 210 
------------------------------------------------------
flag 16078 term 33 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 33 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 210 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 33 209} {7097176961631296078 33 210} {8422653346700404441 33 211} {651890941916638499 33 212} {3616841181240271360 33 213} {5352964816392873864 33 214} {5251645187044462099 33 215} {5488433624695618867 33 216} {2875881442023930502 33 217} {6007313149326432306 33 218} {5158276162996593451 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222}]
------------------------------------------------------
term 33 Server1 start snapshot! index=219
term 33 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=222
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2376 term 33 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222}]
------------------------------------------------------
term 33 Server0 start snapshot! index=219
term 33 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=222
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3369947021327678421 (index 223) to leader 1
term 33 server 1 not vote for server 2, 日志不够新
term 33 server 0 not vote for server 2, 日志不够新
term 35 server 2 vote for server 1
term 35 server 0 vote for server 1
term 35 server 1 get vote from server 2
term 35 server 1 become leader
------------------------------------------------------
term 35 server 1 get outdate rpc reply from server 0
flag 90047 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 44312 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 35 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 35 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 224->223
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 224->223
------------------------------------------------------
flag 12202 term 35 leader 1 nextIndex[0]: 223  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 210  matchIndex[2]: 0
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 33
------------------------------------------------------
term 35 server 2 InstallSnapshot success
------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 33 rf.commitIndex 219 rf.lastApplied 219
term 35 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
flag 59057 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 36779 term 35 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 35 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46409 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 26065 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58713 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 78043 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26051 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 62110 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=222
leader log:
term 35 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
flag 70143 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 60194 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
flag 75585 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 60430 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
flag 70185 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 57412 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
term 35 server 0 not vote for server 1, 任期不够新
term 35 server 1 get outdate rpc reply from server 0
flag 31917 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 87496 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90403 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 67049 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
flag 36827 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 94398 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73793 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 14443 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
flag 47745 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 47606 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
flag 72761 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 38045 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
flag 66842 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 59096 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12491 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 69563 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
term 35 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84354 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 34102 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
flag 84821 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 24535 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
flag 51103 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 36416 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223}]
------------------------------------------------------
client write log 3369947021327678421 (index 224) to leader 1
flag 78338 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 46954 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224}]
------------------------------------------------------
flag 10064 term 35 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 35 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 29834 term 35 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224}]
------------------------------------------------------
flag 5777 term 35 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 35 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 95721 term 35 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224}]
------------------------------------------------------
flag 92857 term 35 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 35 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 62574 term 35 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224}]
------------------------------------------------------
flag 30529 term 35 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 35 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 71440 term 35 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224}]
------------------------------------------------------
flag 14519 term 35 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 35 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 12486 term 35 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 74465 term 35 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 35 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 72154 term 35 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 31900 term 35 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 35 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 84147 term 35 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 97363 term 35 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 35 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 58023 term 35 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 vote for server 0
term 36 server 0 get vote from server 2
term 36 server 0 become leader
------------------------------------------------------
flag 79903 term 36 leader 0 nextIndex[1]: 225  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 88927 term 36 leader 0 nextIndex[2]: 225  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224}]
------------------------------------------------------
client write log 2382169123322820110 (index 225) to leader 0
flag 9212 term 35 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 35 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 78124 term 35 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 29631 term 36 leader 0 nextIndex[1]: 225  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 27423 term 36 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 36 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225}]
------------------------------------------------------
flag 31651 term 35 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 35 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 77780 term 35 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 5487 term 36 leader 0 nextIndex[1]: 225  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 79590 term 36 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 36 leaderCommit: 225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 225->224
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225}]
------------------------------------------------------
client write log 1670405683830288664 (index 226) to leader 0
term 35 leader 1 nextIndex[0]: 0  matchIndex[0]: 224
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 33
------------------------------------------------------
flag 8618 term 35 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 78372 term 36 leader 0 nextIndex[1]: 225  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 90344 term 36 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 36 leaderCommit: 225 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
term 35 leader 1 nextIndex[0]: 0  matchIndex[0]: 224
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 33
------------------------------------------------------
flag 79396 term 35 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
flag 67380 term 36 leader 0 nextIndex[1]: 225  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
flag 49035 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
!!!!!!connect server 1
client write log 1144423644702290376 (index 225) to leader 1
term 35 leader 1 nextIndex[0]: 0  matchIndex[0]: 224
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 33
------------------------------------------------------
flag 87994 term 35 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries false 领导者任期过期 args.Term 35
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 36 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26739 term 36 leader 0 nextIndex[1]: 225  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
flag 11590 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 227->226
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 226
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 33
------------------------------------------------------
flag 51803 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 36 server 1 InstallSnapshot fail
rf.commitIndex 225 args.LastIncludedIndex 219
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
flag 88751 term 36 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 226 
------------------------------------------------------
flag 36650 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
flag 94285 term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 33836 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
flag 29866 term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 8992 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
flag 32581 term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 8555 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73028 term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 76617 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
term 36 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77572 term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 22943 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 227->226
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 226
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 33
------------------------------------------------------
flag 66133 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 1 InstallSnapshot fail
rf.commitIndex 226 args.LastIncludedIndex 219
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
flag 90768 term 36 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 226 
------------------------------------------------------
flag 66348 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
flag 9982 term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 22515 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
flag 47822 term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 17025 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
flag 53851 term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 48103 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
flag 65384 term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 10378 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
flag 9394 term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 51958 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
flag 98457 term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 80987 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
flag 90954 term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 36512 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
flag 18716 term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 44027 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
flag 52414 term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 24377 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89212 term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 56503 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226}]
------------------------------------------------------
client write log 1144423644702290376 (index 227) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27491 term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 3902 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226} {1144423644702290376 36 227}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226} {1144423644702290376 36 227}]
------------------------------------------------------
flag 49097 term 36 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 36 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 84365 term 36 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 36 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226} {1144423644702290376 36 227}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226} {1144423644702290376 36 227}]
------------------------------------------------------
flag 29810 term 36 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 36 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 92524 term 36 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 36 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226} {1144423644702290376 36 227}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226} {1144423644702290376 36 227}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 228->227
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 227
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 33
------------------------------------------------------
flag 17176 term 36 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 36 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 36 server 1 InstallSnapshot fail
rf.commitIndex 227 args.LastIncludedIndex 219
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226} {1144423644702290376 36 227}]
------------------------------------------------------
flag 35051 term 36 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
flag 86353 term 36 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 36 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226} {1144423644702290376 36 227}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226} {1144423644702290376 36 227}]
------------------------------------------------------
flag 6427 term 36 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 36 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 7047 term 36 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 36 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226} {1144423644702290376 36 227}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226} {1144423644702290376 36 227}]
------------------------------------------------------
flag 11103 term 36 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 36 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 99369 term 36 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 36 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226} {1144423644702290376 36 227}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226} {1144423644702290376 36 227}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8429451578164266467 (index 228) to leader 0
flag 34803 term 36 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 36 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 72746 term 36 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 36 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226} {1144423644702290376 36 227} {8429451578164266467 36 228}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 228->227
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 227
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 33
------------------------------------------------------
flag 33702 term 36 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 36 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226} {1144423644702290376 36 227} {8429451578164266467 36 228}]
------------------------------------------------------
client write log 6003491356185724980 (index 229) to leader 0
client write log 3821779289391681159 (index 230) to leader 0
client write log 7918023174350100793 (index 231) to leader 0
client write log 2758682128400859895 (index 232) to leader 0
client write log 373474411933630614 (index 233) to leader 0
client write log 7592834135202303166 (index 234) to leader 0
client write log 6292947116600823644 (index 235) to leader 0
client write log 8974954923835495514 (index 236) to leader 0
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 227
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 33
------------------------------------------------------
flag 18307 term 36 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 36 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 33 219} {6869339016066356781 33 220} {5306408194939626627 33 221} {6906907083043621337 33 222} {3369947021327678421 33 223} {3369947021327678421 35 224} {2382169123322820110 36 225} {1670405683830288664 36 226} {1144423644702290376 36 227} {8429451578164266467 36 228} {6003491356185724980 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236}]
------------------------------------------------------
term 36 Server0 start snapshot! index=229
term 36 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=236
-------------------------------------------------------------
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 227
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 26832 term 36 leader 0 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236}]
------------------------------------------------------
term 36 Server2 start snapshot! index=229
term 36 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=236
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2617172409484214570 (index 237) to leader 0
term 36 server 2 not vote for server 1, 日志不够新
term 36 server 0 not vote for server 1, 日志不够新
term 38 server 2 vote for server 0
term 38 server 1 vote for server 0
term 38 server 0 get vote from server 2
term 38 server 0 become leader
------------------------------------------------------
term 38 server 0 get outdate rpc reply from server 1
flag 46151 term 38 leader 0 nextIndex[1]: 238  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 22170 term 38 leader 0 nextIndex[2]: 238  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 38 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 238->237
------------------------------------------------------
term 38 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 238->237
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 228  matchIndex[1]: 0
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 49632 term 38 leader 0 nextIndex[2]: 237  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 38 server 1 InstallSnapshot success
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 36 rf.commitIndex 229 rf.lastApplied 229
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27262 term 38 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 63724 term 38 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
flag 23443 term 38 leader 0 nextIndex[1]: 238  matchIndex[1]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 18281 term 38 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
flag 9796 term 38 leader 0 nextIndex[1]: 238  matchIndex[1]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 32570 term 38 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64710 term 38 leader 0 nextIndex[1]: 238  matchIndex[1]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 53523 term 38 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
flag 65779 term 38 leader 0 nextIndex[1]: 238  matchIndex[1]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 60307 term 38 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
flag 18190 term 38 leader 0 nextIndex[1]: 238  matchIndex[1]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 59953 term 38 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
flag 73806 term 38 leader 0 nextIndex[1]: 238  matchIndex[1]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 48767 term 38 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61118 term 38 leader 0 nextIndex[1]: 238  matchIndex[1]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 68892 term 38 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
flag 20382 term 38 leader 0 nextIndex[1]: 238  matchIndex[1]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 98688 term 38 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
flag 92197 term 38 leader 0 nextIndex[1]: 238  matchIndex[1]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 76183 term 38 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
term 38 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
flag 10024 term 38 leader 0 nextIndex[1]: 238  matchIndex[1]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 2889 term 38 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
flag 15902 term 38 leader 0 nextIndex[1]: 238  matchIndex[1]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 67649 term 38 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
flag 12743 term 38 leader 0 nextIndex[1]: 238  matchIndex[1]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 57009 term 38 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
flag 54021 term 38 leader 0 nextIndex[1]: 238  matchIndex[1]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 88632 term 38 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
term 38 server 1 not vote for server 0, 任期不够新
term 38 server 0 get outdate rpc reply from server 1
flag 59127 term 38 leader 0 nextIndex[1]: 238  matchIndex[1]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 98197 term 38 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
flag 7852 term 38 leader 0 nextIndex[1]: 238  matchIndex[1]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 72315 term 38 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71484 term 38 leader 0 nextIndex[1]: 238  matchIndex[1]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 39680 term 38 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80367 term 38 leader 0 nextIndex[1]: 238  matchIndex[1]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 7449 term 38 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237}]
------------------------------------------------------
client write log 2617172409484214570 (index 238) to leader 0
flag 92614 term 38 leader 0 nextIndex[1]: 238  matchIndex[1]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 42195 term 38 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237} {2617172409484214570 38 238}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237} {2617172409484214570 38 238}]
------------------------------------------------------
flag 92620 term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 62983 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237} {2617172409484214570 38 238}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237} {2617172409484214570 38 238}]
------------------------------------------------------
flag 71005 term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 24199 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237} {2617172409484214570 38 238}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237} {2617172409484214570 38 238}]
------------------------------------------------------
flag 83017 term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 69987 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237} {2617172409484214570 38 238}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237} {2617172409484214570 38 238}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17616 term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 64423 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237} {2617172409484214570 38 238}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237} {2617172409484214570 38 238}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21440 term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 12600 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237} {2617172409484214570 38 238}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237} {2617172409484214570 38 238}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7187177194237103922 (index 239) to leader 0
flag 58684 term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 34180 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 229} {3821779289391681159 36 230} {7918023174350100793 36 231} {2758682128400859895 36 232} {373474411933630614 36 233} {7592834135202303166 36 234} {6292947116600823644 36 235} {8974954923835495514 36 236} {2617172409484214570 36 237} {2617172409484214570 38 238} {7187177194237103922 38 239}]
------------------------------------------------------
term 38 Server0 start snapshot! index=239
term 38 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
flag 43875 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 38 239}]
------------------------------------------------------
term 38 Server2 start snapshot! index=239
term 38 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
client write log 5231179579845250216 (index 240) to leader 0
client write log 1041860309463526048 (index 241) to leader 0
client write log 5812125488143490012 (index 242) to leader 0
client write log 1971014366733358133 (index 243) to leader 0
client write log 1794907761817479348 (index 244) to leader 0
client write log 3527509529025492714 (index 245) to leader 0
client write log 6759649815784843160 (index 246) to leader 0
client write log 4150567876531017290 (index 247) to leader 0
client write log 1439234814670867848 (index 248) to leader 0
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
flag 50504 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248}]
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
flag 85805 term 38 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248}]
------------------------------------------------------
!!!!!!connect server 1
client write log 3328284975582027064 (index 249) to leader 0
term 38 server 2 not vote for server 1, 日志不够新
term 38 server 0 not vote for server 1, 日志不够新
term 40 server 2 vote for server 0
term 40 server 0 get vote from server 2
term 40 server 0 become leader
------------------------------------------------------
term 40 server 1 vote for server 0
term 40 server 0 get outdate rpc reply from server 1
flag 49743 term 40 leader 0 nextIndex[1]: 250  matchIndex[1]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 6965 term 40 leader 0 nextIndex[2]: 250  matchIndex[2]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 250->249
------------------------------------------------------
term 40 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 250->249
------------------------------------------------------
term 40 leader 0 nextIndex[1]: 239  matchIndex[1]: 0
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
flag 75866 term 40 leader 0 nextIndex[2]: 249  matchIndex[2]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
term 40 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 38 rf.commitIndex 239 rf.lastApplied 239
term 40 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25452 term 40 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 40 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 51380 term 40 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
flag 466 term 40 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 56525 term 40 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
flag 22208 term 40 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 93333 term 40 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
flag 15288 term 40 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 31834 term 40 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
flag 20527 term 40 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 83480 term 40 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
flag 59198 term 40 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 45132 term 40 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
flag 59977 term 40 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 11526 term 40 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
flag 14472 term 40 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 65800 term 40 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
flag 67197 term 40 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 18140 term 40 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
flag 74139 term 40 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 9448 term 40 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
flag 29948 term 40 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 99731 term 40 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
flag 38137 term 40 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 10127 term 40 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
flag 98072 term 40 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 95537 term 40 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
flag 42990 term 40 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 92900 term 40 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
flag 9203 term 40 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 34006 term 40 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
flag 18327 term 40 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 27268 term 40 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
flag 41069 term 40 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 60771 term 40 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
flag 29439 term 40 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 78715 term 40 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249}]
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 3328284975582027064 (index 250) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84541 term 40 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 9842 term 40 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249} {3328284975582027064 40 250}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 239} {5231179579845250216 38 240} {1041860309463526048 38 241} {5812125488143490012 38 242} {1971014366733358133 38 243} {1794907761817479348 38 244} {3527509529025492714 38 245} {6759649815784843160 38 246} {4150567876531017290 38 247} {1439234814670867848 38 248} {3328284975582027064 38 249} {3328284975582027064 40 250}]
------------------------------------------------------
term 40 Server0 start snapshot! index=249
term 40 server0 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=250
-------------------------------------------------------------
flag 62282 term 40 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 87986 term 40 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {3328284975582027064 40 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {3328284975582027064 40 250}]
------------------------------------------------------
term 40 Server2 start snapshot! index=249
term 40 Server1 start snapshot! index=249
term 40 server2 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=250
-------------------------------------------------------------
term 40 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=250
-------------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70939 term 40 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 88944 term 40 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {3328284975582027064 40 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {3328284975582027064 40 250}]
------------------------------------------------------
flag 98685 term 40 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 28082 term 40 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {3328284975582027064 40 250}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {3328284975582027064 40 250}]
------------------------------------------------------
flag 26501 term 40 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 46288 term 40 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {3328284975582027064 40 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {3328284975582027064 40 250}]
------------------------------------------------------
flag 78081 term 40 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 26108 term 40 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {3328284975582027064 40 250}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {3328284975582027064 40 250}]
------------------------------------------------------
flag 6568 term 40 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 20456 term 40 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {3328284975582027064 40 250}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {3328284975582027064 40 250}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 3881 term 40 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 50649 term 40 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 66109 term 40 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 34240 term 40 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 67584 term 40 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 76149 term 40 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 41 server 2 vote for server 1
term 41 server 1 get vote from server 2
term 41 server 1 become leader
------------------------------------------------------
flag 29684 term 40 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 36766 term 40 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 63896 term 41 leader 1 nextIndex[0]: 251  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 35477 term 41 leader 1 nextIndex[2]: 251  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {3328284975582027064 40 250}]
------------------------------------------------------
client write log 7273402421284545133 (index 251) to leader 1
flag 89851 term 40 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 53701 term 40 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 53803 term 41 leader 1 nextIndex[0]: 251  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 77213 term 41 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 41 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 38 249} {3328284975582027064 40 250} {7273402421284545133 41 251}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 251->250
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
flag 47292 term 40 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 63523 term 40 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 41 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 71777 term 41 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 41 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 38 249} {3328284975582027064 40 250} {7273402421284545133 41 251}]
------------------------------------------------------
client write log 4313795979468576484 (index 252) to leader 1
client write log 1624443579253113184 (index 253) to leader 1
client write log 8040206189083519918 (index 254) to leader 1
client write log 4689308380078474655 (index 255) to leader 1
client write log 1603450842408373909 (index 256) to leader 1
client write log 4460819235432609636 (index 257) to leader 1
flag 29478 term 40 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 49462 term 40 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 41 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 35760 term 41 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 41 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {3328284975582027064 40 250} {7273402421284545133 41 251} {4313795979468576484 41 252} {1624443579253113184 41 253} {8040206189083519918 41 254} {4689308380078474655 41 255} {1603450842408373909 41 256} {4460819235432609636 41 257}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 251->250
------------------------------------------------------
flag 4118 term 40 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 40 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 40 leader 0 nextIndex[2]: 0  matchIndex[2]: 250
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
term 41 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 75458 term 41 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {3328284975582027064 40 250} {7273402421284545133 41 251} {4313795979468576484 41 252} {1624443579253113184 41 253} {8040206189083519918 41 254} {4689308380078474655 41 255} {1603450842408373909 41 256} {4460819235432609636 41 257}]
------------------------------------------------------
!!!!!!connect server 0
client write log 1347048894778264132 (index 258) to leader 1
term 41 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 251->250
------------------------------------------------------
term 40 leader 0 nextIndex[1]: 0  matchIndex[1]: 250
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
term 40 leader 0 nextIndex[2]: 0  matchIndex[2]: 250
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
term 41 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 40 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28977 term 41 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
flag 15927 term 41 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {3328284975582027064 40 250} {7273402421284545133 41 251} {4313795979468576484 41 252} {1624443579253113184 41 253} {8040206189083519918 41 254} {4689308380078474655 41 255} {1603450842408373909 41 256} {4460819235432609636 41 257} {1347048894778264132 41 258}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {3328284975582027064 40 250} {7273402421284545133 41 251} {4313795979468576484 41 252} {1624443579253113184 41 253} {8040206189083519918 41 254} {4689308380078474655 41 255} {1603450842408373909 41 256} {4460819235432609636 41 257} {1347048894778264132 41 258}]
------------------------------------------------------
flag 2203 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 89645 term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {3328284975582027064 40 250} {7273402421284545133 41 251} {4313795979468576484 41 252} {1624443579253113184 41 253} {8040206189083519918 41 254} {4689308380078474655 41 255} {1603450842408373909 41 256} {4460819235432609636 41 257} {1347048894778264132 41 258}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {3328284975582027064 40 250} {7273402421284545133 41 251} {4313795979468576484 41 252} {1624443579253113184 41 253} {8040206189083519918 41 254} {4689308380078474655 41 255} {1603450842408373909 41 256} {4460819235432609636 41 257} {1347048894778264132 41 258}]
------------------------------------------------------
flag 12178 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 74839 term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {3328284975582027064 40 250} {7273402421284545133 41 251} {4313795979468576484 41 252} {1624443579253113184 41 253} {8040206189083519918 41 254} {4689308380078474655 41 255} {1603450842408373909 41 256} {4460819235432609636 41 257} {1347048894778264132 41 258}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {3328284975582027064 40 250} {7273402421284545133 41 251} {4313795979468576484 41 252} {1624443579253113184 41 253} {8040206189083519918 41 254} {4689308380078474655 41 255} {1603450842408373909 41 256} {4460819235432609636 41 257} {1347048894778264132 41 258}]
------------------------------------------------------
flag 64967 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 44936 term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {3328284975582027064 40 250} {7273402421284545133 41 251} {4313795979468576484 41 252} {1624443579253113184 41 253} {8040206189083519918 41 254} {4689308380078474655 41 255} {1603450842408373909 41 256} {4460819235432609636 41 257} {1347048894778264132 41 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {3328284975582027064 40 250} {7273402421284545133 41 251} {4313795979468576484 41 252} {1624443579253113184 41 253} {8040206189083519918 41 254} {4689308380078474655 41 255} {1603450842408373909 41 256} {4460819235432609636 41 257} {1347048894778264132 41 258}]
------------------------------------------------------
flag 50043 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 7718 term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {3328284975582027064 40 250} {7273402421284545133 41 251} {4313795979468576484 41 252} {1624443579253113184 41 253} {8040206189083519918 41 254} {4689308380078474655 41 255} {1603450842408373909 41 256} {4460819235432609636 41 257} {1347048894778264132 41 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {3328284975582027064 40 250} {7273402421284545133 41 251} {4313795979468576484 41 252} {1624443579253113184 41 253} {8040206189083519918 41 254} {4689308380078474655 41 255} {1603450842408373909 41 256} {4460819235432609636 41 257} {1347048894778264132 41 258}]
------------------------------------------------------
flag 56021 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 48359 term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {3328284975582027064 40 250} {7273402421284545133 41 251} {4313795979468576484 41 252} {1624443579253113184 41 253} {8040206189083519918 41 254} {4689308380078474655 41 255} {1603450842408373909 41 256} {4460819235432609636 41 257} {1347048894778264132 41 258}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {3328284975582027064 40 250} {7273402421284545133 41 251} {4313795979468576484 41 252} {1624443579253113184 41 253} {8040206189083519918 41 254} {4689308380078474655 41 255} {1603450842408373909 41 256} {4460819235432609636 41 257} {1347048894778264132 41 258}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7779447267885602121 (index 259) to leader 1
flag 78021 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 32608 term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 38 249} {3328284975582027064 40 250} {7273402421284545133 41 251} {4313795979468576484 41 252} {1624443579253113184 41 253} {8040206189083519918 41 254} {4689308380078474655 41 255} {1603450842408373909 41 256} {4460819235432609636 41 257} {1347048894778264132 41 258} {7779447267885602121 41 259}]
------------------------------------------------------
term 41 Server1 start snapshot! index=259
term 41 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
flag 78797 term 41 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 Server0 start snapshot! index=259
term 41 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
client write log 4689030453960328850 (index 260) to leader 1
client write log 6865985003128848973 (index 261) to leader 1
client write log 2906959580821851309 (index 262) to leader 1
client write log 1338632834803419814 (index 263) to leader 1
client write log 5953887081754581546 (index 264) to leader 1
client write log 4007874189830690794 (index 265) to leader 1
client write log 1038522188688999452 (index 266) to leader 1
client write log 5987325054774581688 (index 267) to leader 1
client write log 54029325409070922 (index 268) to leader 1
client write log 2479680434760858491 (index 269) to leader 1
client write log 1771852980470840732 (index 270) to leader 1
client write log 5019086300397502261 (index 271) to leader 1
flag 63049 term 41 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 259} {4689030453960328850 41 260} {6865985003128848973 41 261} {2906959580821851309 41 262} {1338632834803419814 41 263} {5953887081754581546 41 264} {4007874189830690794 41 265} {1038522188688999452 41 266} {5987325054774581688 41 267} {54029325409070922 41 268} {2479680434760858491 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271}]
------------------------------------------------------
term 41 Server1 start snapshot! index=269
term 41 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=271
-------------------------------------------------------------
flag 83018 term 41 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 41 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271}]
------------------------------------------------------
term 41 Server0 start snapshot! index=269
term 41 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=271
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2333618789548001802 (index 272) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 server 0 not vote for server 2, 日志不够新
term 42 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45799 term 41 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 41 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
term 42 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 42 server 0 AppendEntries false 领导者任期过期 args.Term 41
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 2 vote for server 1
term 43 server 1 get vote from server 2
term 43 server 1 become leader
------------------------------------------------------
term 43 server 0 vote for server 1
term 43 server 1 get outdate rpc reply from server 0
flag 17281 term 43 leader 1 nextIndex[0]: 273  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 85449 term 43 leader 1 nextIndex[2]: 273  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 43 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 273->272
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 273->272
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60553 term 43 leader 1 nextIndex[0]: 272  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 0
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
term 43 server 2 InstallSnapshot success
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 41 rf.commitIndex 269 rf.lastApplied 269
term 43 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
flag 34221 term 43 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 9927 term 43 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
flag 95976 term 43 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 21153 term 43 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30091 term 43 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 11729 term 43 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61729 term 43 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 70093 term 43 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
flag 9993 term 43 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 54027 term 43 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
flag 15169 term 43 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 25419 term 43 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
flag 77375 term 43 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 25866 term 43 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
flag 16216 term 43 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 28315 term 43 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
term 43 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97702 term 43 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 66468 term 43 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90355 term 43 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 88268 term 43 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
flag 28670 term 43 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 56370 term 43 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
flag 63659 term 43 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 18609 term 43 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20283 term 43 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 88113 term 43 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
flag 48261 term 43 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 34268 term 43 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
term 43 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84054 term 43 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 91383 term 43 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
flag 53811 term 43 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 62694 term 43 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79714 term 43 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 86990 term 43 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272}]
------------------------------------------------------
client write log 2333618789548001802 (index 273) to leader 1
flag 89965 term 43 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 66961 term 43 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272} {2333618789548001802 43 273}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272} {2333618789548001802 43 273}]
------------------------------------------------------
flag 43705 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 273 
------------------------------------------------------
flag 54788 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272} {2333618789548001802 43 273}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272} {2333618789548001802 43 273}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4242 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 273 
------------------------------------------------------
flag 863 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272} {2333618789548001802 43 273}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272} {2333618789548001802 43 273}]
------------------------------------------------------
flag 25261 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 273 
------------------------------------------------------
flag 99519 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272} {2333618789548001802 43 273}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272} {2333618789548001802 43 273}]
------------------------------------------------------
flag 37049 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 273 
------------------------------------------------------
flag 82284 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272} {2333618789548001802 43 273}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272} {2333618789548001802 43 273}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13795 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 273 
------------------------------------------------------
flag 26742 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272} {2333618789548001802 43 273}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272} {2333618789548001802 43 273}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8020347458933064106 (index 274) to leader 1
flag 23043 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 273 
------------------------------------------------------
flag 65708 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 273 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272} {2333618789548001802 43 273} {8020347458933064106 43 274}]
------------------------------------------------------
term 43 server 0 not vote for server 1, 任期不够新
term 43 server 1 get outdate rpc reply from server 0
flag 49686 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 19560 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272} {2333618789548001802 43 273} {8020347458933064106 43 274}]
------------------------------------------------------
client write log 4363628632391547672 (index 275) to leader 1
client write log 6926781190879875506 (index 276) to leader 1
client write log 2602379496313132600 (index 277) to leader 1
client write log 5171579617804044604 (index 278) to leader 1
client write log 3443074714679062467 (index 279) to leader 1
client write log 1967015514920195687 (index 280) to leader 1
client write log 3264439406528907751 (index 281) to leader 1
client write log 2621857336225777966 (index 282) to leader 1
client write log 8296604917163548649 (index 283) to leader 1
client write log 463709451110634006 (index 284) to leader 1
flag 77658 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 5140 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 41 269} {1771852980470840732 41 270} {5019086300397502261 41 271} {2333618789548001802 41 272} {2333618789548001802 43 273} {8020347458933064106 43 274} {4363628632391547672 43 275} {6926781190879875506 43 276} {2602379496313132600 43 277} {5171579617804044604 43 278} {3443074714679062467 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284}]
------------------------------------------------------
term 43 Server1 start snapshot! index=279
term 43 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=284
-------------------------------------------------------------
flag 91574 term 43 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 43 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284}]
------------------------------------------------------
term 43 Server0 start snapshot! index=279
term 43 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=284
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2979917279386061560 (index 285) to leader 1
flag 96489 term 43 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 43 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
term 44 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 2 vote for server 1
term 45 server 0 vote for server 1
term 45 server 1 get vote from server 2
term 45 server 1 become leader
------------------------------------------------------
term 45 server 1 get outdate rpc reply from server 0
flag 73097 term 45 leader 1 nextIndex[0]: 286  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 48302 term 45 leader 1 nextIndex[2]: 286  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 286->285
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
flag 64414 term 45 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 274  matchIndex[2]: 0
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
term 45 server 2 InstallSnapshot success
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 280 matchIndex[2] 279 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 43 rf.commitIndex 279 rf.lastApplied 279
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
flag 34831 term 45 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 87052 term 45 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
flag 23358 term 45 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 52644 term 45 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
flag 13688 term 45 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 3157 term 45 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
term 45 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97301 term 45 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 42749 term 45 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
term 45 server 1 not vote for server 2, 任期不够新
term 45 server 2 get outdate rpc reply from server 1
flag 14870 term 45 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 99486 term 45 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55403 term 45 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 15688 term 45 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
flag 87078 term 45 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 79986 term 45 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
flag 39079 term 45 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 88725 term 45 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
flag 78706 term 45 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 16464 term 45 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
flag 80806 term 45 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 90214 term 45 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
leader 1 sendAppendEntries -> server 2 true------------------------------------------------------
update nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88871 term 45 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 37593 term 45 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
flag 99706 term 45 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 4252 term 45 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
term 45 server 1 not vote for server 2, 任期不够新
term 45 server 2 get outdate rpc reply from server 1
flag 60990 term 45 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 31203 term 45 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11386 term 45 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 24146 term 45 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
flag 81589 term 45 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 99779 term 45 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
flag 77246 term 45 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 26654 term 45 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
flag 16147 term 45 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 37647 term 45 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285}]
------------------------------------------------------
client write log 2979917279386061560 (index 286) to leader 1
flag 61811 term 45 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 77291 term 45 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285} {2979917279386061560 45 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285} {2979917279386061560 45 286}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36025 term 45 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 45 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 93254 term 45 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285} {2979917279386061560 45 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285} {2979917279386061560 45 286}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54966 term 45 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 45 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 6501 term 45 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285} {2979917279386061560 45 286}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285} {2979917279386061560 45 286}]
------------------------------------------------------
flag 84925 term 45 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 45 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 21063 term 45 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285} {2979917279386061560 45 286}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285} {2979917279386061560 45 286}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77816 term 45 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 45 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 69685 term 45 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285} {2979917279386061560 45 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285} {2979917279386061560 45 286}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93727 term 45 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 45 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 82503 term 45 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
term 45 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285} {2979917279386061560 45 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285} {2979917279386061560 45 286}]
------------------------------------------------------
flag 480 term 45 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 45 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 55639 term 45 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285} {2979917279386061560 45 286}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285} {2979917279386061560 45 286}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 79064 term 45 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 45 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 59440 term 45 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 45 server 0 not vote for server 2, 任期不够新
term 45 server 2 get outdate rpc reply from server 0
flag 36734 term 45 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 45 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 56717 term 45 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 84900 term 45 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 45 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 74210 term 45 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 46 server 0 vote for server 2
term 46 server 2 get vote from server 0
term 46 server 2 become leader
------------------------------------------------------
client write log 9154138993094516812 (index 287) to leader 2
flag 76360 term 46 leader 2 nextIndex[0]: 287  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 43406 term 46 leader 2 nextIndex[1]: 287  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285} {2979917279386061560 45 286} {9154138993094516812 46 287}]
------------------------------------------------------
flag 20537 term 45 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 45 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 81330 term 45 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 4742 term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
flag 89706 term 46 leader 2 nextIndex[1]: 287  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285} {2979917279386061560 45 286} {9154138993094516812 46 287}]
------------------------------------------------------
client write log 4844255528606905078 (index 288) to leader 2
client write log 46936094420890865 (index 289) to leader 2
client write log 6566394135265655550 (index 290) to leader 2
client write log 3780670152993923737 (index 291) to leader 2
client write log 3487764791057265124 (index 292) to leader 2
client write log 6693347678699485359 (index 293) to leader 2
client write log 3583544268160948248 (index 294) to leader 2
client write log 1012409657705437777 (index 295) to leader 2
client write log 7652368048395347022 (index 296) to leader 2
client write log 6522533947748912715 (index 297) to leader 2
client write log 7695178651376761456 (index 298) to leader 2
client write log 2906064133467586337 (index 299) to leader 2
client write log 9158085701361340651 (index 300) to leader 2
client write log 2054875251888184966 (index 301) to leader 2
flag 34884 term 45 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 45 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 33132 term 45 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 287->286
------------------------------------------------------
flag 66799 term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
flag 33623 term 46 leader 2 nextIndex[1]: 287  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 43 279} {1967015514920195687 43 280} {3264439406528907751 43 281} {2621857336225777966 43 282} {8296604917163548649 43 283} {463709451110634006 43 284} {2979917279386061560 43 285} {2979917279386061560 45 286} {9154138993094516812 46 287} {4844255528606905078 46 288} {46936094420890865 46 289} {6566394135265655550 46 290} {3780670152993923737 46 291} {3487764791057265124 46 292} {6693347678699485359 46 293} {3583544268160948248 46 294} {1012409657705437777 46 295} {7652368048395347022 46 296} {6522533947748912715 46 297} {7695178651376761456 46 298} {2906064133467586337 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
term 46 Server2 start snapshot! index=289
term 46 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=301
-------------------------------------------------------------
term 46 Server2 start snapshot! index=299
term 46 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=301
-------------------------------------------------------------
term 45 leader 1 nextIndex[0]: 0  matchIndex[0]: 286
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 66958 term 45 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
flag 65610 term 46 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 287  matchIndex[1]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
term 46 Server0 start snapshot! index=289
term 46 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=301
-------------------------------------------------------------
term 46 Server0 start snapshot! index=299
term 46 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=301
-------------------------------------------------------------
!!!!!!connect server 1
client write log 933421955869355891 (index 287) to leader 1
term 45 leader 1 nextIndex[0]: 0  matchIndex[0]: 286
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 85562 term 45 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 46 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36264 term 46 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 287  matchIndex[1]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 1 InstallSnapshot success
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 46 rf.commitIndex 299 rf.lastApplied 299
term 46 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96642 term 46 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 15032 term 46 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 46 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
term 46 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46110 term 46 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 91220 term 46 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
flag 57116 term 46 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 80173 term 46 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
flag 30733 term 46 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 11577 term 46 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
flag 44144 term 46 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 826 term 46 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
flag 38950 term 46 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 96888 term 46 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
flag 79583 term 46 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 4816 term 46 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
flag 35001 term 46 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 81441 term 46 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
flag 78904 term 46 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 5016 term 46 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31934 term 46 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 38363 term 46 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
flag 49034 term 46 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 46834 term 46 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:301 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
flag 51414 term 46 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 19513 term 46 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
flag 79561 term 46 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 55728 term 46 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
flag 29825 term 46 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 31555 term 46 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64470 term 46 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 45762 term 46 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
flag 20522 term 46 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 76526 term 46 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
flag 62931 term 46 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 10950 term 46 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
flag 11763 term 46 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 77247 term 46 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
flag 68466 term 46 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 73497 term 46 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301}]
------------------------------------------------------
client write log 933421955869355891 (index 302) to leader 2
flag 69418 term 46 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 61984 term 46 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 46 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301} {933421955869355891 46 302}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301} {933421955869355891 46 302}]
------------------------------------------------------
flag 69528 term 46 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 46 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 302 
------------------------------------------------------
flag 81979 term 46 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 46 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 302 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301} {933421955869355891 46 302}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301} {933421955869355891 46 302}]
------------------------------------------------------
flag 22904 term 46 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 46 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 302 
------------------------------------------------------
flag 78754 term 46 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 46 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 302 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301} {933421955869355891 46 302}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301} {933421955869355891 46 302}]
------------------------------------------------------
term 46 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66716 term 46 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 46 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 302 
------------------------------------------------------
flag 20681 term 46 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 46 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 302 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301} {933421955869355891 46 302}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301} {933421955869355891 46 302}]
------------------------------------------------------
flag 67253 term 46 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 46 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 302 
------------------------------------------------------
flag 52727 term 46 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 46 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 302 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301} {933421955869355891 46 302}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301} {933421955869355891 46 302}]
------------------------------------------------------
flag 44780 term 46 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 46 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 302 
------------------------------------------------------
flag 36785 term 46 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 46 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 302 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301} {933421955869355891 46 302}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301} {933421955869355891 46 302}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4728403121702747789 (index 303) to leader 2
flag 52938 term 46 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 46 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 302 
------------------------------------------------------
flag 96322 term 46 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 46 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 302 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301} {933421955869355891 46 302} {4728403121702747789 46 303}]
------------------------------------------------------
flag 62766 term 46 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 46 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 303 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48493 term 46 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 46 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 46 leaderCommit: 303 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301} {933421955869355891 46 302} {4728403121702747789 46 303}]
------------------------------------------------------
client write log 990497750629103170 (index 304) to leader 2
client write log 171498024445590120 (index 305) to leader 2
client write log 2476185822839549755 (index 306) to leader 2
client write log 3183282253730777673 (index 307) to leader 2
client write log 9172988658896875456 (index 308) to leader 2
client write log 4745775465636918239 (index 309) to leader 2
flag 82861 term 46 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 46 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 303 
------------------------------------------------------
flag 90555 term 46 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 46 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 46 leaderCommit: 303 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 46 299} {9158085701361340651 46 300} {2054875251888184966 46 301} {933421955869355891 46 302} {4728403121702747789 46 303} {990497750629103170 46 304} {171498024445590120 46 305} {2476185822839549755 46 306} {3183282253730777673 46 307} {9172988658896875456 46 308} {4745775465636918239 46 309}]
------------------------------------------------------
term 46 Server2 start snapshot! index=309
term 46 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
term 46 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 46
------------------------------------------------------
flag 91994 term 46 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 46 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 46 309}]
------------------------------------------------------
term 46 Server1 start snapshot! index=309
term 46 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2265149421955299800 (index 310) to leader 2
term 46 server 2 not vote for server 0, 日志不够新
term 46 server 1 not vote for server 0, 日志不够新
term 48 server 1 vote for server 2
term 48 server 2 get vote from server 1
term 48 server 2 become leader
------------------------------------------------------
term 48 server 0 vote for server 2
term 48 server 2 get outdate rpc reply from server 0
flag 86834 term 48 leader 2 nextIndex[0]: 311  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
flag 53007 term 48 leader 2 nextIndex[1]: 311  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 311->310
------------------------------------------------------
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 311->310
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 303  matchIndex[0]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 46
------------------------------------------------------
flag 58311 term 48 leader 2 nextIndex[1]: 310  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
term 48 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 46 rf.commitIndex 309 rf.lastApplied 309
term 48 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
flag 11226 term 48 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 48 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
flag 54164 term 48 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
flag 89238 term 48 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
flag 47391 term 48 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
flag 39083 term 48 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
flag 29897 term 48 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
flag 60085 term 48 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
flag 71202 term 48 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
flag 67338 term 48 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
flag 75206 term 48 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16308 term 48 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
flag 86712 term 48 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14095 term 48 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
flag 7253 term 48 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
term 48 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
flag 19190 term 48 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
flag 43487 term 48 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
flag 11438 term 48 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
flag 59512 term 48 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
flag 14816 term 48 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
flag 79091 term 48 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69508 term 48 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
flag 90925 term 48 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15728 term 48 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
flag 51888 term 48 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
flag 83860 term 48 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
flag 14533 term 48 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
flag 80574 term 48 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
flag 33497 term 48 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
flag 5663 term 48 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
flag 88962 term 48 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:309 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
flag 86476 term 48 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
flag 88647 term 48 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
term 48 server 1 not vote for server 2, 任期不够新
term 48 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99511 term 48 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
flag 39293 term 48 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 46 309} {2265149421955299800 46 310}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 2265149421955299800 (index 311) to leader 2
flag 23412 term 48 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
flag 19269 term 48 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {2265149421955299800 46 310} {2265149421955299800 48 311}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {2265149421955299800 46 310} {2265149421955299800 48 311}]
------------------------------------------------------
flag 80729 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 91117 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {2265149421955299800 46 310} {2265149421955299800 48 311}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {2265149421955299800 46 310} {2265149421955299800 48 311}]
------------------------------------------------------
flag 32766 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 26764 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {2265149421955299800 46 310} {2265149421955299800 48 311}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {2265149421955299800 46 310} {2265149421955299800 48 311}]
------------------------------------------------------
flag 13947 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 76222 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {2265149421955299800 46 310} {2265149421955299800 48 311}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {2265149421955299800 46 310} {2265149421955299800 48 311}]
------------------------------------------------------
term 48 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64776 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 24093 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {2265149421955299800 46 310} {2265149421955299800 48 311}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {2265149421955299800 46 310} {2265149421955299800 48 311}]
------------------------------------------------------
flag 64307 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 82924 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {2265149421955299800 46 310} {2265149421955299800 48 311}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {2265149421955299800 46 310} {2265149421955299800 48 311}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2723282644093411465 (index 312) to leader 2
flag 54109 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 46036 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {2265149421955299800 46 310} {2265149421955299800 48 311} {2723282644093411465 48 312}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7110 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 40874 term 48 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 48 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {2265149421955299800 46 310} {2265149421955299800 48 311} {2723282644093411465 48 312}]
------------------------------------------------------
client write log 2347938369567811519 (index 313) to leader 2
client write log 5151739532219035943 (index 314) to leader 2
client write log 117302443870800301 (index 315) to leader 2
client write log 3011898586338242027 (index 316) to leader 2
client write log 2238372164167091917 (index 317) to leader 2
client write log 5845585024541003710 (index 318) to leader 2
client write log 1624879619993261403 (index 319) to leader 2
client write log 3641504269066971647 (index 320) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93179 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 48970 term 48 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 48 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 46 309} {2265149421955299800 46 310} {2265149421955299800 48 311} {2723282644093411465 48 312} {2347938369567811519 48 313} {5151739532219035943 48 314} {117302443870800301 48 315} {3011898586338242027 48 316} {2238372164167091917 48 317} {5845585024541003710 48 318} {1624879619993261403 48 319} {3641504269066971647 48 320}]
------------------------------------------------------
term 48 Server2 start snapshot! index=319
term 48 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=320
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 48
------------------------------------------------------
flag 35025 term 48 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {3641504269066971647 48 320}]
------------------------------------------------------
term 48 Server1 start snapshot! index=319
term 48 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=320
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8224404530338174286 (index 321) to leader 2
term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 48
------------------------------------------------------
flag 73222 term 48 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {3641504269066971647 48 320} {8224404530338174286 48 321}]
------------------------------------------------------
term 49 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 server 1 vote for server 2
term 50 server 0 vote for server 2
term 50 server 2 get vote from server 1
term 50 server 2 become leader
------------------------------------------------------
term 50 server 2 get outdate rpc reply from server 0
flag 67158 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 80841 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 322->321
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {3641504269066971647 48 320} {8224404530338174286 48 321}]
------------------------------------------------------
term 50 leader 2 nextIndex[0]: 312  matchIndex[0]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 48
------------------------------------------------------
flag 69531 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 0 InstallSnapshot success
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {3641504269066971647 48 320} {8224404530338174286 48 321}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 48 rf.commitIndex 319 rf.lastApplied 319
flag 85256 term 50 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 33922 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {3641504269066971647 48 320} {8224404530338174286 48 321}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {3641504269066971647 48 320} {8224404530338174286 48 321}]
------------------------------------------------------
flag 92885 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 74664 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {3641504269066971647 48 320} {8224404530338174286 48 321}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {3641504269066971647 48 320} {8224404530338174286 48 321}]
------------------------------------------------------
flag 24907 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 92700 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {3641504269066971647 48 320} {8224404530338174286 48 321}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {3641504269066971647 48 320} {8224404530338174286 48 321}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23447 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 8233 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {3641504269066971647 48 320} {8224404530338174286 48 321}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {3641504269066971647 48 320} {8224404530338174286 48 321}]
------------------------------------------------------
flag 78095 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 67504 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {3641504269066971647 48 320} {8224404530338174286 48 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {3641504269066971647 48 320} {8224404530338174286 48 321}]
------------------------------------------------------
flag 23827 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 62770 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {3641504269066971647 48 320} {8224404530338174286 48 321}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {3641504269066971647 48 320} {8224404530338174286 48 321}]
------------------------------------------------------
flag 1999 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 67128 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {3641504269066971647 48 320} {8224404530338174286 48 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {3641504269066971647 48 320} {8224404530338174286 48 321}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 63488 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 74236 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 19406 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 69620 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 21593 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 20834 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 33258 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 12117 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 51 server 1 vote for server 0
term 51 server 0 get vote from server 1
term 51 server 0 become leader
------------------------------------------------------
flag 63743 term 51 leader 0 nextIndex[1]: 322  matchIndex[1]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 40667 term 51 leader 0 nextIndex[2]: 322  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {3641504269066971647 48 320} {8224404530338174286 48 321}]
------------------------------------------------------
client write log 1472972227817826317 (index 322) to leader 0
flag 26005 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 83809 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 91554 term 51 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 51 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 18000 term 51 leader 0 nextIndex[2]: 322  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {3641504269066971647 48 320} {8224404530338174286 48 321} {1472972227817826317 51 322}]
------------------------------------------------------
flag 74463 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 99790 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 35692 term 51 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 18297 term 51 leader 0 nextIndex[2]: 322  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {3641504269066971647 48 320} {8224404530338174286 48 321} {1472972227817826317 51 322}]
------------------------------------------------------
client write log 3329616775794496686 (index 323) to leader 0
client write log 5038331046802532848 (index 324) to leader 0
client write log 8040525455281180577 (index 325) to leader 0
client write log 2376525576928490401 (index 326) to leader 0
client write log 337678551588015297 (index 327) to leader 0
client write log 8077150956275816354 (index 328) to leader 0
client write log 2898949331517322844 (index 329) to leader 0
client write log 4396253450726141149 (index 330) to leader 0
client write log 7368188050665134529 (index 331) to leader 0
client write log 4067384893085627710 (index 332) to leader 0
client write log 3088724800923498522 (index 333) to leader 0
flag 76126 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 66604 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 14550 term 51 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 54701 term 51 leader 0 nextIndex[2]: 322  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 48 319} {3641504269066971647 48 320} {8224404530338174286 48 321} {1472972227817826317 51 322} {3329616775794496686 51 323} {5038331046802532848 51 324} {8040525455281180577 51 325} {2376525576928490401 51 326} {337678551588015297 51 327} {8077150956275816354 51 328} {2898949331517322844 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
term 51 Server0 start snapshot! index=329
term 51 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=333
-------------------------------------------------------------
flag 69571 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 41513 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 22313 term 51 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 322  matchIndex[2]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
term 51 Server1 start snapshot! index=329
term 51 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=333
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2613717363474267478 (index 322) to leader 2
flag 32419 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 1521 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 51 server 1 AppendEntries false 领导者任期过期 args.Term 50
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 51 server 0 AppendEntries false 领导者任期过期 args.Term 50
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24272 term 51 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 322  matchIndex[2]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 2 InstallSnapshot success
------------------------------------------------------
term 51 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 51 rf.commitIndex 329 rf.lastApplied 329
term 51 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36163 term 51 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 90083 term 51 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 51 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
term 51 server 1 not vote for server 0, 任期不够新
term 51 server 0 get outdate rpc reply from server 1
flag 96188 term 51 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 58925 term 51 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
flag 65959 term 51 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 31607 term 51 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
flag 22609 term 51 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 92036 term 51 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86727 term 51 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 63030 term 51 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87104 term 51 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 7771 term 51 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
flag 33608 term 51 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 3700 term 51 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9392 term 51 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 42239 term 51 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
flag 629 term 51 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 79750 term 51 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
flag 57324 term 51 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 9222 term 51 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
flag 9316 term 51 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 12459 term 51 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
flag 77510 term 51 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 23296 term 51 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
flag 91 term 51 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 15597 term 51 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
flag 59129 term 51 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 86958 term 51 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27837 term 51 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 39802 term 51 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
flag 24699 term 51 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 38144 term 51 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75669 term 51 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 52095 term 51 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
flag 58931 term 51 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 23833 term 51 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
flag 40809 term 51 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 85989 term 51 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333}]
------------------------------------------------------
client write log 2613717363474267478 (index 334) to leader 0
flag 21461 term 51 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 23873 term 51 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333} {2613717363474267478 51 334}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333} {2613717363474267478 51 334}]
------------------------------------------------------
flag 41061 term 51 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 51 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 51 leaderCommit: 334 
------------------------------------------------------
flag 89626 term 51 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 51 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 51 leaderCommit: 334 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333} {2613717363474267478 51 334}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333} {2613717363474267478 51 334}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24582 term 51 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 51 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 51 leaderCommit: 334 
------------------------------------------------------
flag 13901 term 51 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 51 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 51 leaderCommit: 334 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333} {2613717363474267478 51 334}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333} {2613717363474267478 51 334}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17402 term 51 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 51 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 51 leaderCommit: 334 
------------------------------------------------------
flag 77875 term 51 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 51 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 51 leaderCommit: 334 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333} {2613717363474267478 51 334}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333} {2613717363474267478 51 334}]
------------------------------------------------------
flag 64780 term 51 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 51 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 51 leaderCommit: 334 
------------------------------------------------------
flag 20533 term 51 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 51 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 51 leaderCommit: 334 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333} {2613717363474267478 51 334}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333} {2613717363474267478 51 334}]
------------------------------------------------------
flag 66051 term 51 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 51 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 51 leaderCommit: 334 
------------------------------------------------------
flag 58231 term 51 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 51 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 51 leaderCommit: 334 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333} {2613717363474267478 51 334}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333} {2613717363474267478 51 334}]
------------------------------------------------------
flag 14504 term 51 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 51 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 51 leaderCommit: 334 
------------------------------------------------------
flag 86589 term 51 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 51 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 51 leaderCommit: 334 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333} {2613717363474267478 51 334}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333} {2613717363474267478 51 334}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4891370808192289068 (index 335) to leader 0
flag 62491 term 51 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 51 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 51 leaderCommit: 334 
------------------------------------------------------
flag 24346 term 51 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 51 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 51 leaderCommit: 334 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333} {2613717363474267478 51 334} {4891370808192289068 51 335}]
------------------------------------------------------
flag 59436 term 51 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 51 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 23933 term 51 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 51 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333} {2613717363474267478 51 334} {4891370808192289068 51 335}]
------------------------------------------------------
term 51 server 2 not vote for server 0, 任期不够新
term 51 server 0 get outdate rpc reply from server 2
client write log 6632457430201358418 (index 336) to leader 0
client write log 2723714253281776549 (index 337) to leader 0
client write log 5776376345997761794 (index 338) to leader 0
client write log 4623577541139529412 (index 339) to leader 0
client write log 3245568889321113605 (index 340) to leader 0
client write log 1808149975493089644 (index 341) to leader 0
client write log 6730349940867667031 (index 342) to leader 0
client write log 4293399337193104067 (index 343) to leader 0
client write log 5817400185235610071 (index 344) to leader 0
client write log 8225337278224670698 (index 345) to leader 0
client write log 5004936157188750950 (index 346) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 335->334
------------------------------------------------------
term 51 leader 0 nextIndex[1]: 0  matchIndex[1]: 334
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
flag 75601 term 51 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 51 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 51 329} {4396253450726141149 51 330} {7368188050665134529 51 331} {4067384893085627710 51 332} {3088724800923498522 51 333} {2613717363474267478 51 334} {4891370808192289068 51 335} {6632457430201358418 51 336} {2723714253281776549 51 337} {5776376345997761794 51 338} {4623577541139529412 51 339} {3245568889321113605 51 340} {1808149975493089644 51 341} {6730349940867667031 51 342} {4293399337193104067 51 343} {5817400185235610071 51 344} {8225337278224670698 51 345} {5004936157188750950 51 346}]
------------------------------------------------------
term 51 Server0 start snapshot! index=339
term 51 server0 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=346
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 0 nextIndex[1]: 0  matchIndex[1]: 334
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 51
------------------------------------------------------
flag 39911 term 51 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 51 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 51 339} {3245568889321113605 51 340} {1808149975493089644 51 341} {6730349940867667031 51 342} {4293399337193104067 51 343} {5817400185235610071 51 344} {8225337278224670698 51 345} {5004936157188750950 51 346}]
------------------------------------------------------
term 51 Server2 start snapshot! index=339
term 51 server2 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=346
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1630924613093722059 (index 347) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 0 nextIndex[1]: 0  matchIndex[1]: 334
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 51
------------------------------------------------------
flag 41767 term 51 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 51 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {3245568889321113605 51 340} {1808149975493089644 51 341} {6730349940867667031 51 342} {4293399337193104067 51 343} {5817400185235610071 51 344} {8225337278224670698 51 345} {5004936157188750950 51 346} {1630924613093722059 51 347}]
------------------------------------------------------
term 52 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 server 2 vote for server 0
term 53 server 0 get vote from server 2
term 53 server 0 become leader
------------------------------------------------------
term 53 server 1 vote for server 0
term 53 server 0 get outdate rpc reply from server 1
flag 26762 term 53 leader 0 nextIndex[1]: 348  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 15331 term 53 leader 0 nextIndex[2]: 348  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {3245568889321113605 51 340} {1808149975493089644 51 341} {6730349940867667031 51 342} {4293399337193104067 51 343} {5817400185235610071 51 344} {8225337278224670698 51 345} {5004936157188750950 51 346} {1630924613093722059 51 347}]
------------------------------------------------------
term 53 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 348->347
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 335  matchIndex[1]: 0
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 51
------------------------------------------------------
flag 542 term 53 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 53 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 InstallSnapshot success
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:347 
Server1 get CondInstallSnapshot!
------------------------------------------------------
rf.lastIncludedIndex 339 rf.lastIncludedTerm 51 rf.commitIndex 339 rf.lastApplied 339
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 340 matchIndex[1] 339 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {3245568889321113605 51 340} {1808149975493089644 51 341} {6730349940867667031 51 342} {4293399337193104067 51 343} {5817400185235610071 51 344} {8225337278224670698 51 345} {5004936157188750950 51 346} {1630924613093722059 51 347}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99059 term 53 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 53 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 31507 term 53 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 53 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {3245568889321113605 51 340} {1808149975493089644 51 341} {6730349940867667031 51 342} {4293399337193104067 51 343} {5817400185235610071 51 344} {8225337278224670698 51 345} {5004936157188750950 51 346} {1630924613093722059 51 347}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {3245568889321113605 51 340} {1808149975493089644 51 341} {6730349940867667031 51 342} {4293399337193104067 51 343} {5817400185235610071 51 344} {8225337278224670698 51 345} {5004936157188750950 51 346} {1630924613093722059 51 347}]
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31312 term 53 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 41807 term 53 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 53 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {3245568889321113605 51 340} {1808149975493089644 51 341} {6730349940867667031 51 342} {4293399337193104067 51 343} {5817400185235610071 51 344} {8225337278224670698 51 345} {5004936157188750950 51 346} {1630924613093722059 51 347}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {3245568889321113605 51 340} {1808149975493089644 51 341} {6730349940867667031 51 342} {4293399337193104067 51 343} {5817400185235610071 51 344} {8225337278224670698 51 345} {5004936157188750950 51 346} {1630924613093722059 51 347}]
------------------------------------------------------
flag 91157 term 53 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 52473 term 53 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 53 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {3245568889321113605 51 340} {1808149975493089644 51 341} {6730349940867667031 51 342} {4293399337193104067 51 343} {5817400185235610071 51 344} {8225337278224670698 51 345} {5004936157188750950 51 346} {1630924613093722059 51 347}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {3245568889321113605 51 340} {1808149975493089644 51 341} {6730349940867667031 51 342} {4293399337193104067 51 343} {5817400185235610071 51 344} {8225337278224670698 51 345} {5004936157188750950 51 346} {1630924613093722059 51 347}]
------------------------------------------------------
flag 94285 term 53 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 65922 term 53 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 53 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {3245568889321113605 51 340} {1808149975493089644 51 341} {6730349940867667031 51 342} {4293399337193104067 51 343} {5817400185235610071 51 344} {8225337278224670698 51 345} {5004936157188750950 51 346} {1630924613093722059 51 347}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {3245568889321113605 51 340} {1808149975493089644 51 341} {6730349940867667031 51 342} {4293399337193104067 51 343} {5817400185235610071 51 344} {8225337278224670698 51 345} {5004936157188750950 51 346} {1630924613093722059 51 347}]
------------------------------------------------------
flag 13944 term 53 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 55682 term 53 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 53 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {3245568889321113605 51 340} {1808149975493089644 51 341} {6730349940867667031 51 342} {4293399337193104067 51 343} {5817400185235610071 51 344} {8225337278224670698 51 345} {5004936157188750950 51 346} {1630924613093722059 51 347}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {3245568889321113605 51 340} {1808149975493089644 51 341} {6730349940867667031 51 342} {4293399337193104067 51 343} {5817400185235610071 51 344} {8225337278224670698 51 345} {5004936157188750950 51 346} {1630924613093722059 51 347}]
------------------------------------------------------
flag 72183 term 53 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 64916 term 53 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 53 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {3245568889321113605 51 340} {1808149975493089644 51 341} {6730349940867667031 51 342} {4293399337193104067 51 343} {5817400185235610071 51 344} {8225337278224670698 51 345} {5004936157188750950 51 346} {1630924613093722059 51 347}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {3245568889321113605 51 340} {1808149975493089644 51 341} {6730349940867667031 51 342} {4293399337193104067 51 343} {5817400185235610071 51 344} {8225337278224670698 51 345} {5004936157188750950 51 346} {1630924613093722059 51 347}]
------------------------------------------------------
  ... Passed --  81.9  3 1854  818963  347
--- PASS: TestSnapshotInstall2D (81.87s)
PASS
