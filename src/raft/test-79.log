=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 0 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 1 get outdate rpc reply from server 0
flag 70809 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 52303 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 1790011404061175514 (index 1) to leader 1
flag 82274 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 25080 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1790011404061175514 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1790011404061175514 1 1}]
------------------------------------------------------
flag 75305 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 62765 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1790011404061175514 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1790011404061175514 1 1}]
------------------------------------------------------
flag 73782 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 56929 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
[{<nil> 0 0} {1790011404061175514 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1790011404061175514 1 1}]
------------------------------------------------------
flag 21014 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 51230 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1790011404061175514 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1790011404061175514 1 1}]
------------------------------------------------------
flag 43725 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 40270 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1790011404061175514 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1790011404061175514 1 1}]
------------------------------------------------------
flag 88655 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 95510 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1790011404061175514 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1790011404061175514 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4234263925244232795 (index 2) to leader 1
flag 78926 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 92952 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1790011404061175514 1 1} {4234263925244232795 1 2}]
------------------------------------------------------
flag 5039 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 2830 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1790011404061175514 1 1} {4234263925244232795 1 2}]
------------------------------------------------------
client write log 8666564939991464619 (index 3) to leader 1
client write log 9115433164211577396 (index 4) to leader 1
client write log 3191090326876835129 (index 5) to leader 1
client write log 1156846389046299294 (index 6) to leader 1
client write log 6603959869222888649 (index 7) to leader 1
client write log 3654508444857535557 (index 8) to leader 1
client write log 1629652235772381134 (index 9) to leader 1
client write log 7264168943554279402 (index 10) to leader 1
client write log 621644991413385324 (index 11) to leader 1
client write log 287620848672513869 (index 12) to leader 1
client write log 8228116676756869337 (index 13) to leader 1
client write log 5935508108325114999 (index 14) to leader 1
client write log 842783941568808195 (index 15) to leader 1
client write log 9206179825665441382 (index 16) to leader 1
client write log 4673078016850977881 (index 17) to leader 1
flag 51293 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 44435 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{<nil> 0 0} {1790011404061175514 1 1} {4234263925244232795 1 2} {8666564939991464619 1 3} {9115433164211577396 1 4} {3191090326876835129 1 5} {1156846389046299294 1 6} {6603959869222888649 1 7} {3654508444857535557 1 8} {1629652235772381134 1 9} {7264168943554279402 1 10} {621644991413385324 1 11} {287620848672513869 1 12} {8228116676756869337 1 13} {5935508108325114999 1 14} {842783941568808195 1 15} {9206179825665441382 1 16} {4673078016850977881 1 17}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=17
-------------------------------------------------------------
flag 58937 term 1 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 1 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7264168943554279402 1 10} {621644991413385324 1 11} {287620848672513869 1 12} {8228116676756869337 1 13} {5935508108325114999 1 14} {842783941568808195 1 15} {9206179825665441382 1 16} {4673078016850977881 1 17}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=17
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4597603645663201201 (index 18) to leader 1
flag 5921 term 1 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 1 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
term 2 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7264168943554279402 1 10} {621644991413385324 1 11} {287620848672513869 1 12} {8228116676756869337 1 13} {5935508108325114999 1 14} {842783941568808195 1 15} {9206179825665441382 1 16} {4673078016850977881 1 17} {4597603645663201201 1 18}]
------------------------------------------------------
term 1 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 3 server 2 vote for server 1
term 3 server 0 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 1 get outdate rpc reply from server 0
flag 66048 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 28412 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 19->18
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7264168943554279402 1 10} {621644991413385324 1 11} {287620848672513869 1 12} {8228116676756869337 1 13} {5935508108325114999 1 14} {842783941568808195 1 15} {9206179825665441382 1 16} {4673078016850977881 1 17} {4597603645663201201 1 18}]
------------------------------------------------------
flag 92389 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
term 3 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7264168943554279402 1 10} {621644991413385324 1 11} {287620848672513869 1 12} {8228116676756869337 1 13} {5935508108325114999 1 14} {842783941568808195 1 15} {9206179825665441382 1 16} {4673078016850977881 1 17} {4597603645663201201 1 18}]
------------------------------------------------------
flag 95217 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 26528 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7264168943554279402 1 10} {621644991413385324 1 11} {287620848672513869 1 12} {8228116676756869337 1 13} {5935508108325114999 1 14} {842783941568808195 1 15} {9206179825665441382 1 16} {4673078016850977881 1 17} {4597603645663201201 1 18}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7264168943554279402 1 10} {621644991413385324 1 11} {287620848672513869 1 12} {8228116676756869337 1 13} {5935508108325114999 1 14} {842783941568808195 1 15} {9206179825665441382 1 16} {4673078016850977881 1 17} {4597603645663201201 1 18}]
------------------------------------------------------
flag 65765 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 24213 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7264168943554279402 1 10} {621644991413385324 1 11} {287620848672513869 1 12} {8228116676756869337 1 13} {5935508108325114999 1 14} {842783941568808195 1 15} {9206179825665441382 1 16} {4673078016850977881 1 17} {4597603645663201201 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7264168943554279402 1 10} {621644991413385324 1 11} {287620848672513869 1 12} {8228116676756869337 1 13} {5935508108325114999 1 14} {842783941568808195 1 15} {9206179825665441382 1 16} {4673078016850977881 1 17} {4597603645663201201 1 18}]
------------------------------------------------------
flag 93680 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 63358 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7264168943554279402 1 10} {621644991413385324 1 11} {287620848672513869 1 12} {8228116676756869337 1 13} {5935508108325114999 1 14} {842783941568808195 1 15} {9206179825665441382 1 16} {4673078016850977881 1 17} {4597603645663201201 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7264168943554279402 1 10} {621644991413385324 1 11} {287620848672513869 1 12} {8228116676756869337 1 13} {5935508108325114999 1 14} {842783941568808195 1 15} {9206179825665441382 1 16} {4673078016850977881 1 17} {4597603645663201201 1 18}]
------------------------------------------------------
flag 9264 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 71188 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7264168943554279402 1 10} {621644991413385324 1 11} {287620848672513869 1 12} {8228116676756869337 1 13} {5935508108325114999 1 14} {842783941568808195 1 15} {9206179825665441382 1 16} {4673078016850977881 1 17} {4597603645663201201 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7264168943554279402 1 10} {621644991413385324 1 11} {287620848672513869 1 12} {8228116676756869337 1 13} {5935508108325114999 1 14} {842783941568808195 1 15} {9206179825665441382 1 16} {4673078016850977881 1 17} {4597603645663201201 1 18}]
------------------------------------------------------
flag 89000 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 84533 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7264168943554279402 1 10} {621644991413385324 1 11} {287620848672513869 1 12} {8228116676756869337 1 13} {5935508108325114999 1 14} {842783941568808195 1 15} {9206179825665441382 1 16} {4673078016850977881 1 17} {4597603645663201201 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7264168943554279402 1 10} {621644991413385324 1 11} {287620848672513869 1 12} {8228116676756869337 1 13} {5935508108325114999 1 14} {842783941568808195 1 15} {9206179825665441382 1 16} {4673078016850977881 1 17} {4597603645663201201 1 18}]
------------------------------------------------------
flag 72767 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 78652 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7264168943554279402 1 10} {621644991413385324 1 11} {287620848672513869 1 12} {8228116676756869337 1 13} {5935508108325114999 1 14} {842783941568808195 1 15} {9206179825665441382 1 16} {4673078016850977881 1 17} {4597603645663201201 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7264168943554279402 1 10} {621644991413385324 1 11} {287620848672513869 1 12} {8228116676756869337 1 13} {5935508108325114999 1 14} {842783941568808195 1 15} {9206179825665441382 1 16} {4673078016850977881 1 17} {4597603645663201201 1 18}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 95085 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 31830 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36887 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 86258 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 24739 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 31424 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 2204 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 17070 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 vote for server 0
term 4 server 0 get vote from server 2
term 4 server 0 become leader
------------------------------------------------------
flag 67047 term 4 leader 0 nextIndex[1]: 19  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 4365 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7264168943554279402 1 10} {621644991413385324 1 11} {287620848672513869 1 12} {8228116676756869337 1 13} {5935508108325114999 1 14} {842783941568808195 1 15} {9206179825665441382 1 16} {4673078016850977881 1 17} {4597603645663201201 1 18}]
------------------------------------------------------
client write log 7004743331758687387 (index 19) to leader 0
flag 77442 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 92244 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 11902 term 4 leader 0 nextIndex[1]: 19  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 37549 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {7264168943554279402 1 10} {621644991413385324 1 11} {287620848672513869 1 12} {8228116676756869337 1 13} {5935508108325114999 1 14} {842783941568808195 1 15} {9206179825665441382 1 16} {4673078016850977881 1 17} {4597603645663201201 1 18} {7004743331758687387 4 19}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 32746 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 93408 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 19  matchIndex[1]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 88238 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
client write log 5867934071121032296 (index 20) to leader 0
flag 11272 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 21002 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 19  matchIndex[1]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 65631 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
flag 24615 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 49955 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 19  matchIndex[1]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 23995 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
!!!!!!connect server 1
client write log 1414418613320148194 (index 19) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 19->18
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 18
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 42391 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 4 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 server 0 not vote for server 2, 任期不够新
term 4 server 2 get outdate rpc reply from server 0
term 4 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 leader 0 nextIndex[1]: 19  matchIndex[1]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 72816 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 InstallSnapshot success
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
flag 97035 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 58914 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
flag 31533 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 43217 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
flag 25455 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 12712 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
flag 66571 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 8747 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
flag 40872 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 85630 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
flag 83663 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 55992 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
flag 79742 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 51557 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
flag 80345 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 27287 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
flag 32777 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 57162 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
flag 65024 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 51769 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 21->20
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 20
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 38141 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 20 args.LastIncludedIndex 19
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
flag 10923 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 54733 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
term 4 server 1 not vote for server 2, 任期不够新
term 4 server 2 get outdate rpc reply from server 1
flag 87818 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 86732 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
flag 95133 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 96610 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
flag 77337 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 84815 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
flag 70069 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 86402 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
flag 3842 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 44840 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 server 1 not vote for server 0, 日志不够新
term 4 server 0 get outdate rpc reply from server 1
flag 16814 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 433 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
flag 73314 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 94057 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5867934071121032296 4 20}]
------------------------------------------------------
client write log 1414418613320148194 (index 21) to leader 0
flag 46597 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 12853 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5867934071121032296 4 20} {1414418613320148194 4 21}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5867934071121032296 4 20} {1414418613320148194 4 21}]
------------------------------------------------------
flag 33661 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 30705 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5867934071121032296 4 20} {1414418613320148194 4 21}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5867934071121032296 4 20} {1414418613320148194 4 21}]
------------------------------------------------------
flag 88576 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 70 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5867934071121032296 4 20} {1414418613320148194 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5867934071121032296 4 20} {1414418613320148194 4 21}]
------------------------------------------------------
flag 92073 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 96863 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5867934071121032296 4 20} {1414418613320148194 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5867934071121032296 4 20} {1414418613320148194 4 21}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10436 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 96310 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5867934071121032296 4 20} {1414418613320148194 4 21}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5867934071121032296 4 20} {1414418613320148194 4 21}]
------------------------------------------------------
flag 59346 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 85619 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5867934071121032296 4 20} {1414418613320148194 4 21}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5867934071121032296 4 20} {1414418613320148194 4 21}]
------------------------------------------------------
flag 45155 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 35913 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
[{snapshot 4 19} {5867934071121032296 4 20} {1414418613320148194 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5867934071121032296 4 20} {1414418613320148194 4 21}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7241110493586232053 (index 22) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83841 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 6776 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {5867934071121032296 4 20} {1414418613320148194 4 21} {7241110493586232053 4 22}]
------------------------------------------------------
flag 76907 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 66175 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {5867934071121032296 4 20} {1414418613320148194 4 21} {7241110493586232053 4 22}]
------------------------------------------------------
client write log 131355922178388210 (index 23) to leader 0
client write log 3429403024366279281 (index 24) to leader 0
client write log 7734221955487359824 (index 25) to leader 0
client write log 5522273773899513111 (index 26) to leader 0
client write log 6937290452083976434 (index 27) to leader 0
client write log 782547673922310619 (index 28) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67592 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 34714 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {5867934071121032296 4 20} {1414418613320148194 4 21} {7241110493586232053 4 22} {131355922178388210 4 23} {3429403024366279281 4 24} {7734221955487359824 4 25} {5522273773899513111 4 26} {6937290452083976434 4 27} {782547673922310619 4 28}]
------------------------------------------------------
flag 66101 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 807 term 4 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {5867934071121032296 4 20} {1414418613320148194 4 21} {7241110493586232053 4 22} {131355922178388210 4 23} {3429403024366279281 4 24} {7734221955487359824 4 25} {5522273773899513111 4 26} {6937290452083976434 4 27} {782547673922310619 4 28}]
------------------------------------------------------
!!!!!!connect server 1
client write log 1361822086174876614 (index 29) to leader 0
flag 96790 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 60369 term 4 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 19} {5867934071121032296 4 20} {1414418613320148194 4 21} {7241110493586232053 4 22} {131355922178388210 4 23} {3429403024366279281 4 24} {7734221955487359824 4 25} {5522273773899513111 4 26} {6937290452083976434 4 27} {782547673922310619 4 28} {1361822086174876614 4 29}]
------------------------------------------------------
term 5 server 1 AppendEntries false 领导者任期过期 args.Term 4
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 5 Server0 start snapshot! index=29
term 5 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
term 4 server 2 not vote for server 1, 日志不够新
term 5 server 0 not vote for server 1, 日志不够新
term 7 server 2 vote for server 0
term 7 server 1 vote for server 0
term 7 server 0 get vote from server 2
term 7 server 0 become leader
------------------------------------------------------
term 7 server 0 get outdate rpc reply from server 1
flag 18228 term 7 leader 0 nextIndex[1]: 30  matchIndex[1]: 0
term 7 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 77218 term 7 leader 0 nextIndex[2]: 30  matchIndex[2]: 0
term 7 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 7 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 30->29
------------------------------------------------------
term 7 Server2 start snapshot! index=29
term 7 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 7 leader 0 nextIndex[1]: 22  matchIndex[1]: 0
term 7 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 28196 term 7 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
term 7 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 7 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 7 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
flag 76189 term 7 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 7 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 30818 term 7 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
term 7 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 7 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99590 term 7 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 7 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 28485 term 7 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
term 7 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:29 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
flag 67688 term 7 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 7 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 24762 term 7 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
term 7 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
flag 79732 term 7 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 7 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 17530 term 7 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
term 7 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
flag 49339 term 7 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 7 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 16032 term 7 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
term 7 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 7 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 1
client write log 5593821924119745662 (index 30) to leader 0
flag 72421 term 7 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 7 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 72309 term 7 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
term 7 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {5593821924119745662 7 30}]
------------------------------------------------------
flag 73927 term 7 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 7 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 53023 term 7 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 7 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 7 leaderCommit: 30 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {5593821924119745662 7 30}]
------------------------------------------------------
client write log 1677293917369818891 (index 31) to leader 0
client write log 8422057685618536356 (index 32) to leader 0
client write log 4198263089255196414 (index 33) to leader 0
client write log 7913990426132354389 (index 34) to leader 0
client write log 3057634173314540171 (index 35) to leader 0
client write log 8636975215446764231 (index 36) to leader 0
client write log 8741877883409623227 (index 37) to leader 0
flag 90243 term 7 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 7 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 66826 term 7 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 7 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 7 leaderCommit: 30 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37}]
------------------------------------------------------
flag 96450 term 7 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 7 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 14468 term 7 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 7 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37}]
------------------------------------------------------
!!!!!!connect server 1
client write log 1875678360798715156 (index 38) to leader 0
flag 3729 term 7 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 7 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 39358 term 7 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 7 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 8 server 1 AppendEntries false 领导者任期过期 args.Term 7
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 7 server 2 not vote for server 1, 日志不够新
term 8 server 0 not vote for server 1, 日志不够新
term 10 server 1 vote for server 2
term 10 server 2 not vote for server 0, 投给了其他人
term 10 server 0 not vote for server 2, 投给了其他人
term 10 server 2 get vote from server 1
term 10 server 2 become leader
------------------------------------------------------
term 10 server 2 get outdate rpc reply from server 0
term 10 server 1 not vote for server 0, 投给了其他人
flag 47513 term 10 leader 2 nextIndex[0]: 39  matchIndex[0]: 0
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 34505 term 10 leader 2 nextIndex[1]: 39  matchIndex[1]: 0
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 10 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 39->38
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6851 term 10 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 92792 term 10 leader 2 nextIndex[1]: 30  matchIndex[1]: 0
term 10 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
flag 25843 term 10 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 50247 term 10 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
flag 93553 term 10 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 13572 term 10 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
flag 6041 term 10 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 7943 term 10 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75211 term 10 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 40649 term 10 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 10 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
update nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
term 10 server 2 not vote for server 1, 任期不够新
term 10 server 1 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36894 term 10 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 21248 term 10 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
flag 43200 term 10 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 91159 term 10 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
flag 68432 term 10 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 53086 term 10 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
flag 47623 term 10 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 8863 term 10 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
flag 13329 term 10 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 53637 term 10 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
flag 3817 term 10 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 30967 term 10 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
term 10 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75653 term 10 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 98593 term 10 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
flag 85408 term 10 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 10473 term 10 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75550 term 10 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 92044 term 10 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1875678360798715156 (index 39) to leader 2
flag 54339 term 10 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
flag 92930 term 10 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 10 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38} {1875678360798715156 10 39}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 29} {5593821924119745662 7 30} {1677293917369818891 7 31} {8422057685618536356 7 32} {4198263089255196414 7 33} {7913990426132354389 7 34} {3057634173314540171 7 35} {8636975215446764231 7 36} {8741877883409623227 7 37} {1875678360798715156 7 38} {1875678360798715156 10 39}]
------------------------------------------------------
term 10 Server2 start snapshot! index=39
term 10 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 69549 term 10 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
flag 92559 term 10 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 10 39}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 10 39}]
------------------------------------------------------
term 10 Server0 start snapshot! index=39
term 10 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 10 Server1 start snapshot! index=39
term 10 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 5417 term 10 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
flag 72414 term 10 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 10 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 10 39}]
------------------------------------------------------
flag 64625 term 10 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
flag 78028 term 10 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 10 39}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 10 39}]
------------------------------------------------------
flag 93968 term 10 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
flag 18939 term 10 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 10 39}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 10 39}]
------------------------------------------------------
flag 76906 term 10 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
flag 72770 term 10 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 10 39}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 10 39}]
------------------------------------------------------
flag 59856 term 10 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
flag 35611 term 10 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 10 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 10 39}]
------------------------------------------------------
!!!!!!diconnect server 2
term 10 server 0 not vote for server 1, 任期不够新
term 10 server 1 get outdate rpc reply from server 0
flag 990 term 10 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
flag 42712 term 10 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
flag 75639 term 10 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
flag 83232 term 10 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
flag 17090 term 10 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
flag 46869 term 10 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
term 11 server 1 vote for server 0
term 11 server 0 get vote from server 1
term 11 server 0 become leader
------------------------------------------------------
flag 78249 term 11 leader 0 nextIndex[1]: 40  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
flag 62056 term 11 leader 0 nextIndex[2]: 40  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 10 39}]
------------------------------------------------------
client write log 6905968598603654719 (index 40) to leader 0
flag 23313 term 10 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
flag 2624 term 10 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
flag 78272 term 11 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 11 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
flag 80287 term 11 leader 0 nextIndex[2]: 40  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 10 39} {6905968598603654719 11 40}]
------------------------------------------------------
flag 54604 term 10 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
flag 26041 term 10 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
flag 40498 term 11 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 11 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 11 leaderCommit: 40 
------------------------------------------------------
flag 80467 term 11 leader 0 nextIndex[2]: 40  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 40 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 10 39} {6905968598603654719 11 40}]
------------------------------------------------------
client write log 6965955284885247799 (index 41) to leader 0
client write log 386608020606850371 (index 42) to leader 0
client write log 7544502323043682089 (index 43) to leader 0
client write log 8369734940054478988 (index 44) to leader 0
client write log 2203475689130486741 (index 45) to leader 0
client write log 8521639124778360798 (index 46) to leader 0
client write log 815873397613762387 (index 47) to leader 0
client write log 126840057701914711 (index 48) to leader 0
client write log 8433741708704514045 (index 49) to leader 0
client write log 8278477699385926839 (index 50) to leader 0
client write log 1285576671881953094 (index 51) to leader 0
client write log 9186719357614141842 (index 52) to leader 0
flag 1494 term 10 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
flag 59948 term 10 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
flag 88286 term 11 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 11 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 11 leaderCommit: 40 
------------------------------------------------------
flag 7282 term 11 leader 0 nextIndex[2]: 40  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 40 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 10 39} {6905968598603654719 11 40} {6965955284885247799 11 41} {386608020606850371 11 42} {7544502323043682089 11 43} {8369734940054478988 11 44} {2203475689130486741 11 45} {8521639124778360798 11 46} {815873397613762387 11 47} {126840057701914711 11 48} {8433741708704514045 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
term 11 Server0 start snapshot! index=49
term 11 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=52
-------------------------------------------------------------
flag 6373 term 10 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
flag 20497 term 10 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
flag 87001 term 11 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 leader 0 nextIndex[2]: 40  matchIndex[2]: 0
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
term 11 Server1 start snapshot! index=49
term 11 server1 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=52
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1418949453763515729 (index 40) to leader 2
flag 29294 term 10 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
flag 11537 term 10 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 39 
------------------------------------------------------
term 11 server 1 AppendEntries false 领导者任期过期 args.Term 10
------------------------------------------------------
term 11 server 0 AppendEntries false 领导者任期过期 args.Term 10
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74818 term 11 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 leader 0 nextIndex[2]: 40  matchIndex[2]: 0
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
term 11 server 2 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 11 rf.commitIndex 49 rf.lastApplied 49
term 11 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
flag 59303 term 11 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 48689 term 11 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73329 term 11 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 35726 term 11 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
flag 14549 term 11 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 4989 term 11 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
flag 16926 term 11 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 76041 term 11 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
flag 16702 term 11 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 73300 term 11 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
flag 39173 term 11 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 935 term 11 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
term 11 server 2 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 2
flag 70731 term 11 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 4504 term 11 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 2 not vote for server 0, 日志不够新
term 11 server 0 get outdate rpc reply from server 2
flag 18815 term 11 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 9462 term 11 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
term 11 server 0 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 53->52
------------------------------------------------------
flag 34716 term 11 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 leader 0 nextIndex[2]: 0  matchIndex[2]: 52
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 2 InstallSnapshot fail
rf.commitIndex 52 args.LastIncludedIndex 49
------------------------------------------------------
term 11 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8310 term 11 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 23417 term 11 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
flag 81443 term 11 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 12534 term 11 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
flag 1766 term 11 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 37563 term 11 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueterm 11 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
update nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27692 term 11 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 45596 term 11 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
flag 27116 term 11 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 90152 term 11 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
flag 59975 term 11 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 50659 term 11 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7080 term 11 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 80746 term 11 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
flag 58393 term 11 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 28597 term 11 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5312 term 11 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 44979 term 11 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
flag 7284 term 11 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 990 term 11 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52}]
------------------------------------------------------
client write log 1418949453763515729 (index 53) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93250 term 11 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 4732 term 11 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52} {1418949453763515729 11 53}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52} {1418949453763515729 11 53}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51243 term 11 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
flag 86597 term 11 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52} {1418949453763515729 11 53}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52} {1418949453763515729 11 53}]
------------------------------------------------------
flag 44113 term 11 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
flag 21226 term 11 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52} {1418949453763515729 11 53}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52} {1418949453763515729 11 53}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 54->53
------------------------------------------------------
flag 73402 term 11 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 leader 0 nextIndex[2]: 0  matchIndex[2]: 53
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 2 InstallSnapshot fail
rf.commitIndex 53 args.LastIncludedIndex 49
------------------------------------------------------
term 11 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52} {1418949453763515729 11 53}]
------------------------------------------------------
flag 9619 term 11 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
flag 67862 term 11 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52} {1418949453763515729 11 53}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52} {1418949453763515729 11 53}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27610 term 11 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
flag 34409 term 11 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52} {1418949453763515729 11 53}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52} {1418949453763515729 11 53}]
------------------------------------------------------
flag 40176 term 11 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
flag 71091 term 11 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52} {1418949453763515729 11 53}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52} {1418949453763515729 11 53}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5860845244532453949 (index 54) to leader 0
flag 17470 term 11 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
flag 63541 term 11 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52} {1418949453763515729 11 53} {5860845244532453949 11 54}]
------------------------------------------------------
flag 34636 term 11 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 90862 term 11 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52} {1418949453763515729 11 53} {5860845244532453949 11 54}]
------------------------------------------------------
client write log 3399661203402146225 (index 55) to leader 0
client write log 6896299417740003149 (index 56) to leader 0
client write log 8506096992754031541 (index 57) to leader 0
client write log 8951301843971223045 (index 58) to leader 0
client write log 4281237055542218115 (index 59) to leader 0
client write log 1039220959594900179 (index 60) to leader 0
client write log 2713160126221589421 (index 61) to leader 0
client write log 8911808380893479848 (index 62) to leader 0
client write log 5862121448342790791 (index 63) to leader 0
client write log 713407223613824875 (index 64) to leader 0
flag 58822 term 11 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 71378 term 11 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 49} {8278477699385926839 11 50} {1285576671881953094 11 51} {9186719357614141842 11 52} {1418949453763515729 11 53} {5860845244532453949 11 54} {3399661203402146225 11 55} {6896299417740003149 11 56} {8506096992754031541 11 57} {8951301843971223045 11 58} {4281237055542218115 11 59} {1039220959594900179 11 60} {2713160126221589421 11 61} {8911808380893479848 11 62} {5862121448342790791 11 63} {713407223613824875 11 64}]
------------------------------------------------------
term 11 Server0 start snapshot! index=59
term 11 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=64
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 70721 term 11 leader 0 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {1039220959594900179 11 60} {2713160126221589421 11 61} {8911808380893479848 11 62} {5862121448342790791 11 63} {713407223613824875 11 64}]
------------------------------------------------------
term 11 Server2 start snapshot! index=59
term 11 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=64
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 3162691785995728332 (index 65) to leader 0
term 11 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 25183 term 11 leader 0 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {1039220959594900179 11 60} {2713160126221589421 11 61} {8911808380893479848 11 62} {5862121448342790791 11 63} {713407223613824875 11 64} {3162691785995728332 11 65}]
------------------------------------------------------
term 12 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 2 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 2 vote for server 0
term 13 server 1 vote for server 0
term 13 server 0 get vote from server 2
term 13 server 0 become leader
------------------------------------------------------
term 13 server 0 get outdate rpc reply from server 1
flag 95832 term 13 leader 0 nextIndex[1]: 66  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 79881 term 13 leader 0 nextIndex[2]: 66  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {1039220959594900179 11 60} {2713160126221589421 11 61} {8911808380893479848 11 62} {5862121448342790791 11 63} {713407223613824875 11 64} {3162691785995728332 11 65}]
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 66->65
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 54  matchIndex[1]: 0
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 49121 term 13 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 13 server 1 InstallSnapshot success
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 11 rf.commitIndex 59 rf.lastApplied 59
term 13 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {1039220959594900179 11 60} {2713160126221589421 11 61} {8911808380893479848 11 62} {5862121448342790791 11 63} {713407223613824875 11 64} {3162691785995728332 11 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65627 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 58459 term 13 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {1039220959594900179 11 60} {2713160126221589421 11 61} {8911808380893479848 11 62} {5862121448342790791 11 63} {713407223613824875 11 64} {3162691785995728332 11 65}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {1039220959594900179 11 60} {2713160126221589421 11 61} {8911808380893479848 11 62} {5862121448342790791 11 63} {713407223613824875 11 64} {3162691785995728332 11 65}]
------------------------------------------------------
flag 15322 term 13 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 54506 term 13 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {1039220959594900179 11 60} {2713160126221589421 11 61} {8911808380893479848 11 62} {5862121448342790791 11 63} {713407223613824875 11 64} {3162691785995728332 11 65}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {1039220959594900179 11 60} {2713160126221589421 11 61} {8911808380893479848 11 62} {5862121448342790791 11 63} {713407223613824875 11 64} {3162691785995728332 11 65}]
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78514 term 13 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 39857 term 13 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
term 13 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
[{snapshot 11 59} {1039220959594900179 11 60} {2713160126221589421 11 61} {8911808380893479848 11 62} {5862121448342790791 11 63} {713407223613824875 11 64} {3162691785995728332 11 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {1039220959594900179 11 60} {2713160126221589421 11 61} {8911808380893479848 11 62} {5862121448342790791 11 63} {713407223613824875 11 64} {3162691785995728332 11 65}]
------------------------------------------------------
flag 87635 term 13 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 44383 term 13 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {1039220959594900179 11 60} {2713160126221589421 11 61} {8911808380893479848 11 62} {5862121448342790791 11 63} {713407223613824875 11 64} {3162691785995728332 11 65}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {1039220959594900179 11 60} {2713160126221589421 11 61} {8911808380893479848 11 62} {5862121448342790791 11 63} {713407223613824875 11 64} {3162691785995728332 11 65}]
------------------------------------------------------
flag 16796 term 13 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 69334 term 13 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {1039220959594900179 11 60} {2713160126221589421 11 61} {8911808380893479848 11 62} {5862121448342790791 11 63} {713407223613824875 11 64} {3162691785995728332 11 65}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {1039220959594900179 11 60} {2713160126221589421 11 61} {8911808380893479848 11 62} {5862121448342790791 11 63} {713407223613824875 11 64} {3162691785995728332 11 65}]
------------------------------------------------------
flag 66076 term 13 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 94672 term 13 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {1039220959594900179 11 60} {2713160126221589421 11 61} {8911808380893479848 11 62} {5862121448342790791 11 63} {713407223613824875 11 64} {3162691785995728332 11 65}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {1039220959594900179 11 60} {2713160126221589421 11 61} {8911808380893479848 11 62} {5862121448342790791 11 63} {713407223613824875 11 64} {3162691785995728332 11 65}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4006315350441667408 (index 66) to leader 0
flag 64551 term 13 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 76577 term 13 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {1039220959594900179 11 60} {2713160126221589421 11 61} {8911808380893479848 11 62} {5862121448342790791 11 63} {713407223613824875 11 64} {3162691785995728332 11 65} {4006315350441667408 13 66}]
------------------------------------------------------
flag 27106 term 13 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 71583 term 13 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {1039220959594900179 11 60} {2713160126221589421 11 61} {8911808380893479848 11 62} {5862121448342790791 11 63} {713407223613824875 11 64} {3162691785995728332 11 65} {4006315350441667408 13 66}]
------------------------------------------------------
term 13 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 8621234787716369104 (index 67) to leader 0
client write log 2451287232117469849 (index 68) to leader 0
client write log 6303875641139917638 (index 69) to leader 0
client write log 1372160007981758773 (index 70) to leader 0
client write log 892746131906322922 (index 71) to leader 0
client write log 7778008275563110687 (index 72) to leader 0
client write log 3416511962686443669 (index 73) to leader 0
client write log 6028620828901968901 (index 74) to leader 0
client write log 4712892167855672044 (index 75) to leader 0
client write log 2238218290847844685 (index 76) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61107 term 13 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 7039 term 13 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 59} {1039220959594900179 11 60} {2713160126221589421 11 61} {8911808380893479848 11 62} {5862121448342790791 11 63} {713407223613824875 11 64} {3162691785995728332 11 65} {4006315350441667408 13 66} {8621234787716369104 13 67} {2451287232117469849 13 68} {6303875641139917638 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76}]
------------------------------------------------------
term 13 Server0 start snapshot! index=69
term 13 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=76
-------------------------------------------------------------
term 13 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 34436 term 13 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76}]
------------------------------------------------------
term 13 Server2 start snapshot! index=69
term 13 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=76
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7329659695660752737 (index 77) to leader 0
term 13 server 0 not vote for server 1, 日志不够新
term 13 server 2 not vote for server 1, 日志不够新
term 15 server 2 vote for server 0
term 15 server 0 get vote from server 2
term 15 server 0 become leader
------------------------------------------------------
term 15 server 1 vote for server 0
term 15 server 0 get outdate rpc reply from server 1
flag 89808 term 15 leader 0 nextIndex[1]: 78  matchIndex[1]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 16545 term 15 leader 0 nextIndex[2]: 78  matchIndex[2]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 15 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 78->77
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 78->77
------------------------------------------------------
term 15 leader 0 nextIndex[1]: 66  matchIndex[1]: 0
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 96097 term 15 leader 0 nextIndex[2]: 77  matchIndex[2]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
term 15 server 1 InstallSnapshot success
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 13 rf.commitIndex 69 rf.lastApplied 69
flag 95739 term 15 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 9954 term 15 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
flag 96962 term 15 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 16818 term 15 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74733 term 15 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 36852 term 15 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
flag 71860 term 15 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 14403 term 15 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
flag 12891 term 15 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 58345 term 15 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
flag 15627 term 15 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 95252 term 15 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
flag 43976 term 15 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 57522 term 15 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
flag 85806 term 15 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 38736 term 15 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
flag 25882 term 15 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 7848 term 15 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
flag 19941 term 15 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 83043 term 15 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27108 term 15 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 22169 term 15 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77968 term 15 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 64173 term 15 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
flag 47406 term 15 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 90449 term 15 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
flag 80963 term 15 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 85520 term 15 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
flag 69123 term 15 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 92520 term 15 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
flag 48261 term 15 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 35124 term 15 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78044 term 15 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 45321 term 15 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
flag 14795 term 15 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 62368 term 15 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77}]
------------------------------------------------------
client write log 7329659695660752737 (index 78) to leader 0
flag 39964 term 15 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 9332 term 15 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 15 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77} {7329659695660752737 15 78}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77} {7329659695660752737 15 78}]
------------------------------------------------------
flag 71626 term 15 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
flag 19842 term 15 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77} {7329659695660752737 15 78}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77} {7329659695660752737 15 78}]
------------------------------------------------------
flag 64804 term 15 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
flag 86890 term 15 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77} {7329659695660752737 15 78}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77} {7329659695660752737 15 78}]
------------------------------------------------------
flag 93161 term 15 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
flag 95197 term 15 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77} {7329659695660752737 15 78}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77} {7329659695660752737 15 78}]
------------------------------------------------------
flag 79023 term 15 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
flag 8456 term 15 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77} {7329659695660752737 15 78}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77} {7329659695660752737 15 78}]
------------------------------------------------------
flag 41450 term 15 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
flag 91787 term 15 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77} {7329659695660752737 15 78}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77} {7329659695660752737 15 78}]
------------------------------------------------------
flag 50641 term 15 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
flag 7043 term 15 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77} {7329659695660752737 15 78}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77} {7329659695660752737 15 78}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 89233 term 15 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
flag 29952 term 15 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
flag 47510 term 15 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
flag 96350 term 15 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 79->78
------------------------------------------------------
flag 34409 term 15 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
term 15 leader 0 nextIndex[2]: 0  matchIndex[2]: 78
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
term 16 server 1 vote for server 2
term 16 server 2 get vote from server 1
term 16 server 2 become leader
------------------------------------------------------
flag 74174 term 16 leader 2 nextIndex[0]: 79  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
flag 39313 term 16 leader 2 nextIndex[1]: 79  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77} {7329659695660752737 15 78}]
------------------------------------------------------
client write log 5539447603205924129 (index 79) to leader 2
flag 64903 term 15 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
term 15 leader 0 nextIndex[2]: 0  matchIndex[2]: 78
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65480 term 16 leader 2 nextIndex[0]: 79  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
flag 15505 term 16 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 16 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 69} {1372160007981758773 13 70} {892746131906322922 13 71} {7778008275563110687 13 72} {3416511962686443669 13 73} {6028620828901968901 13 74} {4712892167855672044 13 75} {2238218290847844685 13 76} {7329659695660752737 13 77} {7329659695660752737 15 78} {5539447603205924129 16 79}]
------------------------------------------------------
term 16 Server2 start snapshot! index=79
term 16 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
flag 24954 term 15 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
term 15 leader 0 nextIndex[2]: 0  matchIndex[2]: 78
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
term 16 leader 2 nextIndex[0]: 79  matchIndex[0]: 0
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 16
------------------------------------------------------
flag 57439 term 16 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 16 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 16 Server1 start snapshot! index=79
term 16 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
client write log 1181137163202371707 (index 80) to leader 2
flag 23448 term 15 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
term 15 leader 0 nextIndex[2]: 0  matchIndex[2]: 78
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
term 15 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
term 16 leader 2 nextIndex[0]: 79  matchIndex[0]: 0
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 16
------------------------------------------------------
flag 79856 term 16 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 16 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 16 79} {1181137163202371707 16 80}]
------------------------------------------------------
flag 42553 term 15 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
flag 43795 term 15 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 16 leader 2 nextIndex[0]: 79  matchIndex[0]: 0
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 16
------------------------------------------------------
flag 42755 term 16 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 16 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 16 leaderCommit: 80 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 16 79} {1181137163202371707 16 80}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2643598317654173707 (index 81) to leader 2
flag 51807 term 15 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
flag 8568 term 15 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 16 server 2 AppendEntries false 领导者任期过期 args.Term 15
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 16 server 1 AppendEntries false 领导者任期过期 args.Term 15
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 2 nextIndex[0]: 79  matchIndex[0]: 0
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 16
------------------------------------------------------
flag 95158 term 16 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 16 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 16 leaderCommit: 80 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 16 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 16 79} {1181137163202371707 16 80} {2643598317654173707 16 81}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 16 rf.commitIndex 79 rf.lastApplied 79
term 16 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
flag 1243 term 16 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 16 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 81 
------------------------------------------------------
flag 14273 term 16 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 16 leaderCommit: 81 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 16 79} {1181137163202371707 16 80} {2643598317654173707 16 81}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 16 79} {1181137163202371707 16 80} {2643598317654173707 16 81}]
------------------------------------------------------
flag 90908 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 16 leaderCommit: 81 
------------------------------------------------------
flag 29698 term 16 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 16 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 16 79} {1181137163202371707 16 80} {2643598317654173707 16 81}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 16 79} {1181137163202371707 16 80} {2643598317654173707 16 81}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11802 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 16 leaderCommit: 81 
------------------------------------------------------
flag 57332 term 16 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 16 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 16 79} {1181137163202371707 16 80} {2643598317654173707 16 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 16 79} {1181137163202371707 16 80} {2643598317654173707 16 81}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75500 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 16 leaderCommit: 81 
------------------------------------------------------
flag 19977 term 16 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 16 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 16 79} {1181137163202371707 16 80} {2643598317654173707 16 81}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 16 79} {1181137163202371707 16 80} {2643598317654173707 16 81}]
------------------------------------------------------
flag 16822 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 16 leaderCommit: 81 
------------------------------------------------------
flag 77188 term 16 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 16 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 16 79} {1181137163202371707 16 80} {2643598317654173707 16 81}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 16 79} {1181137163202371707 16 80} {2643598317654173707 16 81}]
------------------------------------------------------
flag 19672 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 16 leaderCommit: 81 
------------------------------------------------------
flag 83008 term 16 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 16 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 16 79} {1181137163202371707 16 80} {2643598317654173707 16 81}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 16 79} {1181137163202371707 16 80} {2643598317654173707 16 81}]
------------------------------------------------------
term 16 server 0 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 0
flag 99451 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 16 leaderCommit: 81 
------------------------------------------------------
flag 74765 term 16 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 16 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 16 79} {1181137163202371707 16 80} {2643598317654173707 16 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 16 79} {1181137163202371707 16 80} {2643598317654173707 16 81}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7795737266808158697 (index 82) to leader 2
flag 35296 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 16 leaderCommit: 81 
------------------------------------------------------
flag 39211 term 16 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 16 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 16 79} {1181137163202371707 16 80} {2643598317654173707 16 81} {7795737266808158697 16 82}]
------------------------------------------------------
flag 93119 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 26357 term 16 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 16 79} {1181137163202371707 16 80} {2643598317654173707 16 81} {7795737266808158697 16 82}]
------------------------------------------------------
client write log 4775240451294188502 (index 83) to leader 2
client write log 2708109455881442321 (index 84) to leader 2
client write log 5493372019307600954 (index 85) to leader 2
client write log 989425841866146108 (index 86) to leader 2
client write log 616025996831022076 (index 87) to leader 2
client write log 2173314649091985470 (index 88) to leader 2
client write log 6542690040077096919 (index 89) to leader 2
flag 8269 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 18650 term 16 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 16 79} {1181137163202371707 16 80} {2643598317654173707 16 81} {7795737266808158697 16 82} {4775240451294188502 16 83} {2708109455881442321 16 84} {5493372019307600954 16 85} {989425841866146108 16 86} {616025996831022076 16 87} {2173314649091985470 16 88} {6542690040077096919 16 89}]
------------------------------------------------------
term 16 Server2 start snapshot! index=89
term 16 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 55111 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 16 89}]
------------------------------------------------------
term 16 Server1 start snapshot! index=89
term 16 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
!!!!!!connect server 0
client write log 411661299099268042 (index 90) to leader 2
term 16 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
flag 33264 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
flag 9858 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
term 17 server 0 AppendEntries false 领导者任期过期 args.Term 16
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 1 not vote for server 0, 日志不够新
term 17 server 2 not vote for server 0, 日志不够新
term 19 server 2 vote for server 1
term 19 server 0 vote for server 1
term 19 server 1 get vote from server 0
term 19 server 1 become leader
------------------------------------------------------
term 19 server 1 get outdate rpc reply from server 2
flag 81495 term 19 leader 1 nextIndex[0]: 91  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
flag 57666 term 19 leader 1 nextIndex[2]: 91  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
term 19 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 91->90
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 1 nextIndex[0]: 82  matchIndex[0]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 10072 term 19 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 19 server 0 InstallSnapshot success
term 19 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
------------------------------------------------------
term 19 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 16 rf.commitIndex 89 rf.lastApplied 89
flag 71264 term 19 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 19 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
flag 74539 term 19 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
flag 90281 term 19 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
flag 39784 term 19 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
flag 28470 term 19 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
flag 32495 term 19 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
flag 43928 term 19 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
flag 12706 term 19 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8920 term 19 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
flag 60653 term 19 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39377 term 19 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
flag 41520 term 19 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 19 server 0 not vote for server 2, 任期不够新
term 19 server 2 get outdate rpc reply from server 0
term 19 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
flag 76657 term 19 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
flag 61565 term 19 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10034 term 19 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
flag 83648 term 19 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
flag 23872 term 19 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
flag 11262 term 19 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32241 term 19 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
flag 43265 term 19 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
flag 79392 term 19 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
flag 30433 term 19 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
flag 42034 term 19 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
flag 22121 term 19 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
flag 6842 term 19 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
flag 78838 term 19 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 16 89} {411661299099268042 16 90}]
------------------------------------------------------
client write log 411661299099268042 (index 91) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61722 term 19 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
flag 2817 term 19 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 19 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {411661299099268042 16 90} {411661299099268042 19 91}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {411661299099268042 16 90} {411661299099268042 19 91}]
------------------------------------------------------
flag 56939 term 19 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 19 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 19 leaderCommit: 91 
------------------------------------------------------
flag 69845 term 19 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 19 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 19 leaderCommit: 91 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {411661299099268042 16 90} {411661299099268042 19 91}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {411661299099268042 16 90} {411661299099268042 19 91}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67821 term 19 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 19 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 19 leaderCommit: 91 
------------------------------------------------------
flag 38132 term 19 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 19 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 19 leaderCommit: 91 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {411661299099268042 16 90} {411661299099268042 19 91}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {411661299099268042 16 90} {411661299099268042 19 91}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56285 term 19 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 19 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 19 leaderCommit: 91 
------------------------------------------------------
flag 78268 term 19 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 19 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 19 leaderCommit: 91 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {411661299099268042 16 90} {411661299099268042 19 91}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {411661299099268042 16 90} {411661299099268042 19 91}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11044 term 19 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 19 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 19 leaderCommit: 91 
------------------------------------------------------
flag 10563 term 19 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 19 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 19 leaderCommit: 91 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {411661299099268042 16 90} {411661299099268042 19 91}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {411661299099268042 16 90} {411661299099268042 19 91}]
------------------------------------------------------
flag 75890 term 19 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 19 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 19 leaderCommit: 91 
------------------------------------------------------
flag 36280 term 19 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 19 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 19 leaderCommit: 91 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {411661299099268042 16 90} {411661299099268042 19 91}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {411661299099268042 16 90} {411661299099268042 19 91}]
------------------------------------------------------
flag 84524 term 19 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 19 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 19 leaderCommit: 91 
------------------------------------------------------
flag 59432 term 19 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 19 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 19 leaderCommit: 91 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 19 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
update nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {411661299099268042 16 90} {411661299099268042 19 91}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {411661299099268042 16 90} {411661299099268042 19 91}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3238874375218934062 (index 92) to leader 1
flag 45321 term 19 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 19 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 19 leaderCommit: 91 
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64700 term 19 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 19 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 19 leaderCommit: 91 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {411661299099268042 16 90} {411661299099268042 19 91} {3238874375218934062 19 92}]
------------------------------------------------------
flag 53504 term 19 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 19 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 19 leaderCommit: 92 
------------------------------------------------------
flag 13267 term 19 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 19 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 19 leaderCommit: 92 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {411661299099268042 16 90} {411661299099268042 19 91} {3238874375218934062 19 92}]
------------------------------------------------------
client write log 5801019332006909540 (index 93) to leader 1
client write log 1510805121646983137 (index 94) to leader 1
client write log 9033601320061414753 (index 95) to leader 1
client write log 952786960548230877 (index 96) to leader 1
client write log 8704575315592412269 (index 97) to leader 1
client write log 7313958368376211429 (index 98) to leader 1
client write log 2209709166305152786 (index 99) to leader 1
client write log 6348180040911264797 (index 100) to leader 1
flag 42247 term 19 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 19 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 19 leaderCommit: 92 
------------------------------------------------------
flag 93313 term 19 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 19 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 19 leaderCommit: 92 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 16 89} {411661299099268042 16 90} {411661299099268042 19 91} {3238874375218934062 19 92} {5801019332006909540 19 93} {1510805121646983137 19 94} {9033601320061414753 19 95} {952786960548230877 19 96} {8704575315592412269 19 97} {7313958368376211429 19 98} {2209709166305152786 19 99} {6348180040911264797 19 100}]
------------------------------------------------------
term 19 Server1 start snapshot! index=99
term 19 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
flag 49812 term 19 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 19 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100}]
------------------------------------------------------
term 19 Server0 start snapshot! index=99
term 19 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8810194090224457601 (index 101) to leader 1
flag 47838 term 19 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 19 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 19
------------------------------------------------------
term 20 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 1 not vote for server 2, 日志不够新
term 21 server 2 vote for server 1
term 21 server 1 get vote from server 2
term 21 server 1 become leader
------------------------------------------------------
term 21 server 0 vote for server 1
term 21 server 1 get outdate rpc reply from server 0
flag 18988 term 21 leader 1 nextIndex[0]: 102  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 43156 term 21 leader 1 nextIndex[2]: 102  matchIndex[2]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 21 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 102->101
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
flag 44457 term 21 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 92  matchIndex[2]: 0
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 19
------------------------------------------------------
term 21 server 2 InstallSnapshot success
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 19 rf.commitIndex 99 rf.lastApplied 99
term 21 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
flag 67178 term 21 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 17067 term 21 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 21 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
flag 21239 term 21 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 32735 term 21 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
flag 5276 term 21 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 77492 term 21 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
term 21 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95991 term 21 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 17504 term 21 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
flag 43706 term 21 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 31735 term 21 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
flag 56292 term 21 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 72524 term 21 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
flag 72068 term 21 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 23811 term 21 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80542 term 21 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 39047 term 21 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
flag 56973 term 21 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 9897 term 21 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
term 21 server 2 not vote for server 0, 任期不够新
term 21 server 0 get outdate rpc reply from server 2
flag 38567 term 21 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 83538 term 21 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25643 term 21 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 83292 term 21 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85132 term 21 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 69712 term 21 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20913 term 21 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 37983 term 21 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
flag 32619 term 21 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 18058 term 21 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
term 21 server 0 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 0
flag 63883 term 21 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 74875 term 21 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
flag 14996 term 21 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 85198 term 21 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101}]
------------------------------------------------------
flag 86285 term 21 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 52227 term 21 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
client write log 8810194090224457601 (index 102) to leader 1
term 21 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42560 term 21 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 2687 term 21 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 21 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 946 term 21 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
flag 82599 term 21 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
term 21 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102}]
------------------------------------------------------
flag 40123 term 21 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
flag 29874 term 21 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102}]
------------------------------------------------------
term 21 server 1 not vote for server 0, 任期不够新
term 21 server 0 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54042 term 21 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
flag 82769 term 21 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102}]
------------------------------------------------------
flag 58585 term 21 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
flag 47550 term 21 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102}]
------------------------------------------------------
flag 65718 term 21 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
flag 41297 term 21 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102}]
------------------------------------------------------
flag 21097 term 21 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
flag 53362 term 21 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 34512 term 21 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
flag 4284 term 21 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
flag 28972 term 21 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
flag 19511 term 21 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
flag 2852 term 21 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
flag 16634 term 21 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
term 22 server 2 vote for server 0
term 22 server 0 get vote from server 2
term 22 server 0 become leader
------------------------------------------------------
client write log 7218151995800029150 (index 103) to leader 0
flag 43281 term 22 leader 0 nextIndex[1]: 103  matchIndex[1]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
flag 55092 term 22 leader 0 nextIndex[2]: 103  matchIndex[2]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103}]
------------------------------------------------------
flag 59245 term 21 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
flag 97542 term 21 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
flag 35600 term 22 leader 0 nextIndex[1]: 103  matchIndex[1]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 103 
------------------------------------------------------
flag 42015 term 22 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 22 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 22 leaderCommit: 103 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103}]
------------------------------------------------------
client write log 6322352787713390081 (index 104) to leader 0
flag 46193 term 21 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
flag 5191 term 21 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
flag 41653 term 22 leader 0 nextIndex[1]: 103  matchIndex[1]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 103 
------------------------------------------------------
flag 59864 term 22 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 22 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 22 leaderCommit: 103 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
flag 50619 term 21 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
flag 50332 term 21 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
flag 22253 term 22 leader 0 nextIndex[1]: 103  matchIndex[1]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 104 
------------------------------------------------------
flag 81753 term 22 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5449271425237142207 (index 103) to leader 1
flag 85090 term 21 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
flag 15375 term 21 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 21 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 102 
------------------------------------------------------
term 22 server 2 AppendEntries false 领导者任期过期 args.Term 21
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 22 server 0 AppendEntries false 领导者任期过期 args.Term 21
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82192 term 22 leader 0 nextIndex[1]: 103  matchIndex[1]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 21 leaderCommit: 104 
------------------------------------------------------
flag 52026 term 22 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
flag 2361 term 22 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
flag 10568 term 22 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
flag 96650 term 22 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
flag 6983 term 22 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
flag 53826 term 22 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
flag 64213 term 22 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
term 22 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
flag 52247 term 22 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
flag 33129 term 22 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
flag 66097 term 22 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
flag 84319 term 22 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
flag 3754 term 22 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
flag 52330 term 22 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
flag 50230 term 22 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
flag 25244 term 22 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
flag 14879 term 22 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
flag 45756 term 22 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
flag 43286 term 22 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
flag 27204 term 22 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 105->104
------------------------------------------------------
term 22 leader 0 nextIndex[1]: 0  matchIndex[1]: 104
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 19
------------------------------------------------------
flag 10104 term 22 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
term 22 server 1 InstallSnapshot fail
rf.commitIndex 104 args.LastIncludedIndex 99
------------------------------------------------------
term 22 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41162 term 22 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 22 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 36412 term 22 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
flag 98125 term 22 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
flag 74231 term 22 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
flag 80490 term 22 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
flag 12060 term 22 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
flag 47465 term 22 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
flag 429 term 22 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
flag 91928 term 22 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
flag 83603 term 22 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
term 22 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
flag 98124 term 22 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
flag 232 term 22 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
flag 71703 term 22 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
flag 92596 term 22 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
flag 28111 term 22 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
flag 99905 term 22 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
flag 6428 term 22 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
flag 71739 term 22 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104}]
------------------------------------------------------
client write log 5449271425237142207 (index 105) to leader 0
flag 4292 term 22 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
flag 36553 term 22 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104} {5449271425237142207 22 105}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104} {5449271425237142207 22 105}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5076 term 22 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 22 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 22 leaderCommit: 105 
------------------------------------------------------
flag 12566 term 22 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 22 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 22 leaderCommit: 105 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104} {5449271425237142207 22 105}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104} {5449271425237142207 22 105}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24770 term 22 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 22 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 22 leaderCommit: 105 
------------------------------------------------------
flag 59696 term 22 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 22 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 22 leaderCommit: 105 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104} {5449271425237142207 22 105}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104} {5449271425237142207 22 105}]
------------------------------------------------------
flag 64486 term 22 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 22 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 22 leaderCommit: 105 
------------------------------------------------------
flag 89052 term 22 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 22 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 22 leaderCommit: 105 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104} {5449271425237142207 22 105}]
term 22 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104} {5449271425237142207 22 105}]
------------------------------------------------------
term 22 server 1 not vote for server 0, 日志不够新
term 22 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 106->105
------------------------------------------------------
term 22 leader 0 nextIndex[1]: 0  matchIndex[1]: 105
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 19
------------------------------------------------------
flag 52041 term 22 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 22 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 22 leaderCommit: 105 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104} {5449271425237142207 22 105}]
------------------------------------------------------
term 22 server 1 InstallSnapshot fail
rf.commitIndex 105 args.LastIncludedIndex 99
------------------------------------------------------
term 22 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
flag 92485 term 22 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 22 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
flag 58256 term 22 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 22 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 22 leaderCommit: 105 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104} {5449271425237142207 22 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104} {5449271425237142207 22 105}]
------------------------------------------------------
flag 36365 term 22 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 22 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 22 leaderCommit: 105 
------------------------------------------------------
flag 991 term 22 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 22 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 22 leaderCommit: 105 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104} {5449271425237142207 22 105}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104} {5449271425237142207 22 105}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2131467196937778195 (index 106) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 106->105
------------------------------------------------------
term 22 leader 0 nextIndex[1]: 0  matchIndex[1]: 105
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 19
------------------------------------------------------
flag 4193 term 22 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 22 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 22 leaderCommit: 105 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104} {5449271425237142207 22 105} {2131467196937778195 22 106}]
------------------------------------------------------
term 22 leader 0 nextIndex[1]: 0  matchIndex[1]: 105
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 19
------------------------------------------------------
flag 46682 term 22 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 22 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 22 leaderCommit: 106 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104} {5449271425237142207 22 105} {2131467196937778195 22 106}]
------------------------------------------------------
client write log 8610389079251350736 (index 107) to leader 0
client write log 7508739841095786949 (index 108) to leader 0
client write log 1709278761845354827 (index 109) to leader 0
client write log 2589970273571775119 (index 110) to leader 0
client write log 4645415641521592622 (index 111) to leader 0
client write log 1912604452783507073 (index 112) to leader 0
client write log 8379657172851551797 (index 113) to leader 0
client write log 2232187621982438786 (index 114) to leader 0
client write log 5610275318463322936 (index 115) to leader 0
term 22 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
flag 82851 term 22 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 22 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
flag 39032 term 22 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 22 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 22 leaderCommit: 106 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 99} {6348180040911264797 19 100} {8810194090224457601 19 101} {8810194090224457601 21 102} {7218151995800029150 22 103} {6322352787713390081 22 104} {5449271425237142207 22 105} {2131467196937778195 22 106} {8610389079251350736 22 107} {7508739841095786949 22 108} {1709278761845354827 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115}]
------------------------------------------------------
term 22 Server0 start snapshot! index=109
term 22 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=115
-------------------------------------------------------------
term 22 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 22
------------------------------------------------------
flag 90442 term 22 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 22 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115}]
------------------------------------------------------
term 22 Server2 start snapshot! index=109
term 22 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=115
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3922778753819158209 (index 116) to leader 0
term 22 server 2 not vote for server 1, 日志不够新
term 22 server 0 not vote for server 1, 日志不够新
term 24 server 2 vote for server 0
term 24 server 0 get vote from server 2
term 24 server 0 become leader
------------------------------------------------------
term 24 server 1 vote for server 0
term 24 server 0 get outdate rpc reply from server 1
flag 20053 term 24 leader 0 nextIndex[1]: 117  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
flag 32809 term 24 leader 0 nextIndex[2]: 117  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 117->116
------------------------------------------------------
term 24 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 117->116
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 106  matchIndex[1]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 22
------------------------------------------------------
flag 9214 term 24 leader 0 nextIndex[2]: 116  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
term 24 server 1 InstallSnapshot success
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 22 rf.commitIndex 109 rf.lastApplied 109
flag 59311 term 24 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 24 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
flag 70992 term 24 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
flag 77722 term 24 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
flag 42494 term 24 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
flag 84590 term 24 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
flag 31087 term 24 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
flag 92922 term 24 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
flag 77120 term 24 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95995 term 24 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
flag 46805 term 24 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48667 term 24 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
flag 99634 term 24 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
flag 56702 term 24 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
flag 41951 term 24 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
flag 61759 term 24 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
flag 78 term 24 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57730 term 24 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
flag 79800 term 24 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25012 term 24 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
flag 95799 term 24 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
flag 88614 term 24 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
flag 21584 term 24 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
flag 61805 term 24 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
flag 58748 term 24 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73505 term 24 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
flag 23449 term 24 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99822 term 24 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
flag 79057 term 24 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
flag 47692 term 24 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
flag 86932 term 24 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
flag 33647 term 24 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
flag 37853 term 24 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1727 term 24 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
flag 72082 term 24 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80822 term 24 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
flag 40167 term 24 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116}]
------------------------------------------------------
client write log 3922778753819158209 (index 117) to leader 0
flag 72050 term 24 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
flag 61210 term 24 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116} {3922778753819158209 24 117}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116} {3922778753819158209 24 117}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1343 term 24 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 24 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 24 leaderCommit: 117 
------------------------------------------------------
flag 21252 term 24 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 24 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 24 leaderCommit: 117 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
term 24 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116} {3922778753819158209 24 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116} {3922778753819158209 24 117}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95915 term 24 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 24 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 24 leaderCommit: 117 
------------------------------------------------------
flag 56384 term 24 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 24 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 24 leaderCommit: 117 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116} {3922778753819158209 24 117}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116} {3922778753819158209 24 117}]
------------------------------------------------------
flag 99951 term 24 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 24 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 24 leaderCommit: 117 
------------------------------------------------------
flag 90232 term 24 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 24 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 24 leaderCommit: 117 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
term 24 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116} {3922778753819158209 24 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116} {3922778753819158209 24 117}]
------------------------------------------------------
flag 2434 term 24 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 24 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 24 leaderCommit: 117 
------------------------------------------------------
flag 12501 term 24 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 24 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 24 leaderCommit: 117 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116} {3922778753819158209 24 117}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116} {3922778753819158209 24 117}]
------------------------------------------------------
flag 93929 term 24 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 24 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 24 leaderCommit: 117 
------------------------------------------------------
flag 56878 term 24 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 24 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 24 leaderCommit: 117 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116} {3922778753819158209 24 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116} {3922778753819158209 24 117}]
------------------------------------------------------
flag 71566 term 24 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 24 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 24 leaderCommit: 117 
------------------------------------------------------
flag 80702 term 24 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 24 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 24 leaderCommit: 117 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116} {3922778753819158209 24 117}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116} {3922778753819158209 24 117}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7074041992858186187 (index 118) to leader 0
flag 84138 term 24 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 24 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 24 leaderCommit: 117 
------------------------------------------------------
flag 47506 term 24 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 24 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 24 leaderCommit: 117 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116} {3922778753819158209 24 117} {7074041992858186187 24 118}]
------------------------------------------------------
flag 34388 term 24 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 24 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 24 leaderCommit: 118 
------------------------------------------------------
flag 31654 term 24 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 24 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 24 leaderCommit: 118 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116} {3922778753819158209 24 117} {7074041992858186187 24 118}]
------------------------------------------------------
client write log 4379795646553948777 (index 119) to leader 0
client write log 223548663145628448 (index 120) to leader 0
client write log 5015638743719559987 (index 121) to leader 0
client write log 1226740532168923550 (index 122) to leader 0
client write log 131889228983164269 (index 123) to leader 0
client write log 7510113687396341311 (index 124) to leader 0
client write log 1886548305882250873 (index 125) to leader 0
client write log 5615028812888579399 (index 126) to leader 0
client write log 3861417247578575039 (index 127) to leader 0
client write log 8790581171825640260 (index 128) to leader 0
flag 81232 term 24 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 24 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 24 leaderCommit: 118 
------------------------------------------------------
flag 90596 term 24 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 24 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 24 leaderCommit: 118 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 109} {2589970273571775119 22 110} {4645415641521592622 22 111} {1912604452783507073 22 112} {8379657172851551797 22 113} {2232187621982438786 22 114} {5610275318463322936 22 115} {3922778753819158209 22 116} {3922778753819158209 24 117} {7074041992858186187 24 118} {4379795646553948777 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128}]
------------------------------------------------------
term 24 Server0 start snapshot! index=119
term 24 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=128
-------------------------------------------------------------
term 24 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 24
------------------------------------------------------
flag 41973 term 24 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128}]
------------------------------------------------------
term 24 Server2 start snapshot! index=119
term 24 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=128
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6522135962088571978 (index 129) to leader 0
term 24 server 2 not vote for server 1, 日志不够新
term 24 server 0 not vote for server 1, 日志不够新
term 26 server 2 vote for server 0
term 26 server 0 get vote from server 2
term 26 server 0 become leader
------------------------------------------------------
term 26 server 1 vote for server 0
term 26 server 0 get outdate rpc reply from server 1
flag 64111 term 26 leader 0 nextIndex[1]: 130  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 88358 term 26 leader 0 nextIndex[2]: 130  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 26 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 26 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 130->129
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 130->129
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 0 nextIndex[1]: 118  matchIndex[1]: 0
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 24
------------------------------------------------------
flag 91613 term 26 leader 0 nextIndex[2]: 129  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 26 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 24 rf.commitIndex 119 rf.lastApplied 119
term 26 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
flag 4922 term 26 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 26 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 18089 term 26 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61805 term 26 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 18525 term 26 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
flag 66008 term 26 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 14611 term 26 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
flag 73076 term 26 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 24106 term 26 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
flag 38129 term 26 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 71347 term 26 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86767 term 26 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 93469 term 26 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
flag 31333 term 26 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 44640 term 26 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
flag 7661 term 26 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 32794 term 26 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36197 term 26 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 77536 term 26 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
flag 41708 term 26 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 54204 term 26 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
flag 47295 term 26 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 72078 term 26 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
flag 83633 term 26 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 38485 term 26 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
flag 22005 term 26 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 13840 term 26 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
flag 31713 term 26 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 12794 term 26 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
flag 46971 term 26 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 98995 term 26 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 761 term 26 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 95004 term 26 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
flag 5117 term 26 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 36081 term 26 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
flag 47949 term 26 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 68726 term 26 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129}]
------------------------------------------------------
client write log 6522135962088571978 (index 130) to leader 0
flag 65858 term 26 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 26191 term 26 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 26 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129} {6522135962088571978 26 130}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 24 119} {223548663145628448 24 120} {5015638743719559987 24 121} {1226740532168923550 24 122} {131889228983164269 24 123} {7510113687396341311 24 124} {1886548305882250873 24 125} {5615028812888579399 24 126} {3861417247578575039 24 127} {8790581171825640260 24 128} {6522135962088571978 24 129} {6522135962088571978 26 130}]
------------------------------------------------------
term 26 Server0 start snapshot! index=129
term 26 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88724 term 26 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 77626 term 26 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 24 129} {6522135962088571978 26 130}]
term 26 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 24 129} {6522135962088571978 26 130}]
------------------------------------------------------
term 26 Server2 start snapshot! index=129
term 26 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
term 26 Server1 start snapshot! index=129
term 26 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
flag 37794 term 26 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 48959 term 26 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 24 129} {6522135962088571978 26 130}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 24 129} {6522135962088571978 26 130}]
------------------------------------------------------
flag 41131 term 26 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 69576 term 26 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 24 129} {6522135962088571978 26 130}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 24 129} {6522135962088571978 26 130}]
------------------------------------------------------
flag 4874 term 26 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 39480 term 26 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 24 129} {6522135962088571978 26 130}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 24 129} {6522135962088571978 26 130}]
------------------------------------------------------
flag 7268 term 26 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 29279 term 26 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 24 129} {6522135962088571978 26 130}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 24 129} {6522135962088571978 26 130}]
------------------------------------------------------
flag 92754 term 26 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 67822 term 26 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 24 129} {6522135962088571978 26 130}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 24 129} {6522135962088571978 26 130}]
------------------------------------------------------
!!!!!!diconnect server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77296 term 26 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 19973 term 26 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 8795 term 26 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 84509 term 26 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 60324 term 26 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 61032 term 26 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 61826 term 26 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 92033 term 26 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
term 27 server 1 vote for server 2
term 27 server 2 get vote from server 1
term 27 server 2 become leader
------------------------------------------------------
flag 31326 term 27 leader 2 nextIndex[0]: 131  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 45759 term 27 leader 2 nextIndex[1]: 131  matchIndex[1]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 24 129} {6522135962088571978 26 130}]
------------------------------------------------------
client write log 3893843770814075944 (index 131) to leader 2
flag 83086 term 26 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 64749 term 26 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 78131 term 27 leader 2 nextIndex[0]: 131  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 23382 term 27 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 27 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 24 129} {6522135962088571978 26 130} {3893843770814075944 27 131}]
------------------------------------------------------
flag 69076 term 26 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 88931 term 26 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 62094 term 27 leader 2 nextIndex[0]: 131  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 131 
------------------------------------------------------
flag 49139 term 27 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 27 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 27 leaderCommit: 131 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 24 129} {6522135962088571978 26 130} {3893843770814075944 27 131}]
------------------------------------------------------
client write log 1844310638102929271 (index 132) to leader 2
flag 87603 term 26 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 53365 term 26 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 67169 term 27 leader 2 nextIndex[0]: 131  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 131 
------------------------------------------------------
flag 34351 term 27 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 27 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 27 leaderCommit: 131 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 24 129} {6522135962088571978 26 130} {3893843770814075944 27 131} {1844310638102929271 27 132}]
------------------------------------------------------
flag 36249 term 26 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 54497 term 26 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 65275 term 27 leader 2 nextIndex[0]: 131  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 132 
------------------------------------------------------
flag 45642 term 27 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 27 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 27 leaderCommit: 132 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 24 129} {6522135962088571978 26 130} {3893843770814075944 27 131} {1844310638102929271 27 132}]
------------------------------------------------------
!!!!!!connect server 0
client write log 3087031881190836207 (index 133) to leader 2
flag 28754 term 26 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 17169 term 26 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 26 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
term 27 server 1 AppendEntries false 领导者任期过期 args.Term 26
------------------------------------------------------
term 27 server 2 AppendEntries false 领导者任期过期 args.Term 26
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1368 term 27 leader 2 nextIndex[0]: 131  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 26 leaderCommit: 132 
------------------------------------------------------
flag 43530 term 27 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 27 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 27 leaderCommit: 132 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 24 129} {6522135962088571978 26 130} {3893843770814075944 27 131} {1844310638102929271 27 132} {3087031881190836207 27 133}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 24 129} {6522135962088571978 26 130} {3893843770814075944 27 131} {1844310638102929271 27 132} {3087031881190836207 27 133}]
------------------------------------------------------
flag 32773 term 27 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 27 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
flag 45913 term 27 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 27 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 24 129} {6522135962088571978 26 130} {3893843770814075944 27 131} {1844310638102929271 27 132} {3087031881190836207 27 133}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 24 129} {6522135962088571978 26 130} {3893843770814075944 27 131} {1844310638102929271 27 132} {3087031881190836207 27 133}]
------------------------------------------------------
flag 83033 term 27 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 27 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
flag 60721 term 27 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 27 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 24 129} {6522135962088571978 26 130} {3893843770814075944 27 131} {1844310638102929271 27 132} {3087031881190836207 27 133}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 24 129} {6522135962088571978 26 130} {3893843770814075944 27 131} {1844310638102929271 27 132} {3087031881190836207 27 133}]
------------------------------------------------------
flag 78271 term 27 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 27 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
flag 4233 term 27 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 27 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
term 27 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 24 129} {6522135962088571978 26 130} {3893843770814075944 27 131} {1844310638102929271 27 132} {3087031881190836207 27 133}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 24 129} {6522135962088571978 26 130} {3893843770814075944 27 131} {1844310638102929271 27 132} {3087031881190836207 27 133}]
------------------------------------------------------
flag 60878 term 27 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 27 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
flag 15641 term 27 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 27 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 24 129} {6522135962088571978 26 130} {3893843770814075944 27 131} {1844310638102929271 27 132} {3087031881190836207 27 133}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 24 129} {6522135962088571978 26 130} {3893843770814075944 27 131} {1844310638102929271 27 132} {3087031881190836207 27 133}]
------------------------------------------------------
flag 35224 term 27 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 27 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
flag 75076 term 27 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 27 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 24 129} {6522135962088571978 26 130} {3893843770814075944 27 131} {1844310638102929271 27 132} {3087031881190836207 27 133}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 24 129} {6522135962088571978 26 130} {3893843770814075944 27 131} {1844310638102929271 27 132} {3087031881190836207 27 133}]
------------------------------------------------------
flag 47458 term 27 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 27 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
flag 47840 term 27 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 27 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
term 27 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
[{snapshot 24 129} {6522135962088571978 26 130} {3893843770814075944 27 131} {1844310638102929271 27 132} {3087031881190836207 27 133}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 24 129} {6522135962088571978 26 130} {3893843770814075944 27 131} {1844310638102929271 27 132} {3087031881190836207 27 133}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8451493982988341995 (index 134) to leader 2
flag 24077 term 27 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 27 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
flag 71986 term 27 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 27 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {6522135962088571978 26 130} {3893843770814075944 27 131} {1844310638102929271 27 132} {3087031881190836207 27 133} {8451493982988341995 27 134}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8308 term 27 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 27 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 134 
------------------------------------------------------
flag 22222 term 27 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 27 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 27 leaderCommit: 134 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {6522135962088571978 26 130} {3893843770814075944 27 131} {1844310638102929271 27 132} {3087031881190836207 27 133} {8451493982988341995 27 134}]
------------------------------------------------------
client write log 8726253431814814416 (index 135) to leader 2
client write log 1290603295612490508 (index 136) to leader 2
client write log 7039796706333382286 (index 137) to leader 2
client write log 6356732845347343192 (index 138) to leader 2
client write log 6608364617180119454 (index 139) to leader 2
client write log 6714224869723272905 (index 140) to leader 2
client write log 4000124768832807775 (index 141) to leader 2
client write log 7663397033276146857 (index 142) to leader 2
client write log 5306503772396895855 (index 143) to leader 2
flag 22851 term 27 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 27 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 134 
------------------------------------------------------
flag 10870 term 27 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 27 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 27 leaderCommit: 134 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 129} {6522135962088571978 26 130} {3893843770814075944 27 131} {1844310638102929271 27 132} {3087031881190836207 27 133} {8451493982988341995 27 134} {8726253431814814416 27 135} {1290603295612490508 27 136} {7039796706333382286 27 137} {6356732845347343192 27 138} {6608364617180119454 27 139} {6714224869723272905 27 140} {4000124768832807775 27 141} {7663397033276146857 27 142} {5306503772396895855 27 143}]
------------------------------------------------------
term 27 Server2 start snapshot! index=139
term 27 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=143
-------------------------------------------------------------
term 27 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 27
------------------------------------------------------
flag 64694 term 27 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 27 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 27 139} {6714224869723272905 27 140} {4000124768832807775 27 141} {7663397033276146857 27 142} {5306503772396895855 27 143}]
------------------------------------------------------
term 27 Server1 start snapshot! index=139
term 27 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=143
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5959513940702432536 (index 144) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 27
------------------------------------------------------
flag 35460 term 27 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 27 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {6714224869723272905 27 140} {4000124768832807775 27 141} {7663397033276146857 27 142} {5306503772396895855 27 143} {5959513940702432536 27 144}]
------------------------------------------------------
term 28 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 0 not vote for server 2, 任期不够新
term 28 server 2 get outdate rpc reply from server 0
term 29 server 1 vote for server 2
term 29 server 2 get vote from server 1
term 29 server 2 become leader
------------------------------------------------------
term 29 server 0 vote for server 2
term 29 server 2 get outdate rpc reply from server 0
flag 26699 term 29 leader 2 nextIndex[0]: 145  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 66546 term 29 leader 2 nextIndex[1]: 145  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {6714224869723272905 27 140} {4000124768832807775 27 141} {7663397033276146857 27 142} {5306503772396895855 27 143} {5959513940702432536 27 144}]
------------------------------------------------------
term 29 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 145->144
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 leader 2 nextIndex[0]: 134  matchIndex[0]: 0
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 27
------------------------------------------------------
flag 51686 term 29 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 29 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
term 29 server 0 InstallSnapshot success
------------------------------------------------------
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {6714224869723272905 27 140} {4000124768832807775 27 141} {7663397033276146857 27 142} {5306503772396895855 27 143} {5959513940702432536 27 144}]
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 27 rf.commitIndex 139 rf.lastApplied 139
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3272 term 29 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 29 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 46010 term 29 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 29 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {6714224869723272905 27 140} {4000124768832807775 27 141} {7663397033276146857 27 142} {5306503772396895855 27 143} {5959513940702432536 27 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {6714224869723272905 27 140} {4000124768832807775 27 141} {7663397033276146857 27 142} {5306503772396895855 27 143} {5959513940702432536 27 144}]
------------------------------------------------------
flag 78853 term 29 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 29 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 66488 term 29 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 29 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {6714224869723272905 27 140} {4000124768832807775 27 141} {7663397033276146857 27 142} {5306503772396895855 27 143} {5959513940702432536 27 144}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {6714224869723272905 27 140} {4000124768832807775 27 141} {7663397033276146857 27 142} {5306503772396895855 27 143} {5959513940702432536 27 144}]
------------------------------------------------------
flag 63996 term 29 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 29 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 39476 term 29 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 29 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {6714224869723272905 27 140} {4000124768832807775 27 141} {7663397033276146857 27 142} {5306503772396895855 27 143} {5959513940702432536 27 144}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {6714224869723272905 27 140} {4000124768832807775 27 141} {7663397033276146857 27 142} {5306503772396895855 27 143} {5959513940702432536 27 144}]
------------------------------------------------------
flag 18529 term 29 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 29 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 16273 term 29 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 29 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {6714224869723272905 27 140} {4000124768832807775 27 141} {7663397033276146857 27 142} {5306503772396895855 27 143} {5959513940702432536 27 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {6714224869723272905 27 140} {4000124768832807775 27 141} {7663397033276146857 27 142} {5306503772396895855 27 143} {5959513940702432536 27 144}]
------------------------------------------------------
flag 37574 term 29 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 29 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 783 term 29 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 29 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {6714224869723272905 27 140} {4000124768832807775 27 141} {7663397033276146857 27 142} {5306503772396895855 27 143} {5959513940702432536 27 144}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {6714224869723272905 27 140} {4000124768832807775 27 141} {7663397033276146857 27 142} {5306503772396895855 27 143} {5959513940702432536 27 144}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17111 term 29 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 29 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 22664 term 29 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 29 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:144 
term 29 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {6714224869723272905 27 140} {4000124768832807775 27 141} {7663397033276146857 27 142} {5306503772396895855 27 143} {5959513940702432536 27 144}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {6714224869723272905 27 140} {4000124768832807775 27 141} {7663397033276146857 27 142} {5306503772396895855 27 143} {5959513940702432536 27 144}]
------------------------------------------------------
flag 84747 term 29 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 29 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 1017 term 29 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 29 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {6714224869723272905 27 140} {4000124768832807775 27 141} {7663397033276146857 27 142} {5306503772396895855 27 143} {5959513940702432536 27 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {6714224869723272905 27 140} {4000124768832807775 27 141} {7663397033276146857 27 142} {5306503772396895855 27 143} {5959513940702432536 27 144}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3281473024290639191 (index 145) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14980 term 29 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 29 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 17823 term 29 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 29 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 27 139} {6714224869723272905 27 140} {4000124768832807775 27 141} {7663397033276146857 27 142} {5306503772396895855 27 143} {5959513940702432536 27 144} {3281473024290639191 29 145}]
------------------------------------------------------
flag 2759 term 29 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 29 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 93280 term 29 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 29 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 29 leaderCommit: 145 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 27 139} {6714224869723272905 27 140} {4000124768832807775 27 141} {7663397033276146857 27 142} {5306503772396895855 27 143} {5959513940702432536 27 144} {3281473024290639191 29 145}]
------------------------------------------------------
client write log 7363761328176007534 (index 146) to leader 2
client write log 715481663793371270 (index 147) to leader 2
client write log 1567475230413141326 (index 148) to leader 2
client write log 2580457071039976688 (index 149) to leader 2
client write log 3095162488690038462 (index 150) to leader 2
client write log 2629971686079053126 (index 151) to leader 2
client write log 6967343632726910882 (index 152) to leader 2
client write log 7299462439215685882 (index 153) to leader 2
client write log 3903653174611732977 (index 154) to leader 2
client write log 8579684065622512892 (index 155) to leader 2
client write log 6071289076299062061 (index 156) to leader 2
client write log 4635469660442820399 (index 157) to leader 2
client write log 2604055702288051332 (index 158) to leader 2
client write log 3181370068547395290 (index 159) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82130 term 29 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 29 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 71443 term 29 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 29 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 29 leaderCommit: 145 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 139} {6714224869723272905 27 140} {4000124768832807775 27 141} {7663397033276146857 27 142} {5306503772396895855 27 143} {5959513940702432536 27 144} {3281473024290639191 29 145} {7363761328176007534 29 146} {715481663793371270 29 147} {1567475230413141326 29 148} {2580457071039976688 29 149} {3095162488690038462 29 150} {2629971686079053126 29 151} {6967343632726910882 29 152} {7299462439215685882 29 153} {3903653174611732977 29 154} {8579684065622512892 29 155} {6071289076299062061 29 156} {4635469660442820399 29 157} {2604055702288051332 29 158} {3181370068547395290 29 159}]
------------------------------------------------------
term 29 Server2 start snapshot! index=149
term 29 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=159
-------------------------------------------------------------
term 29 Server2 start snapshot! index=159
term 29 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 29 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 29
------------------------------------------------------
flag 40198 term 29 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 29 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 29 159}]
------------------------------------------------------
term 29 Server1 start snapshot! index=149
term 29 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=159
-------------------------------------------------------------
term 29 Server1 start snapshot! index=159
term 29 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7738052563692866703 (index 160) to leader 2
term 29 server 1 not vote for server 0, 任期不够新
term 29 server 0 get outdate rpc reply from server 1
term 29 server 2 not vote for server 0, 日志不够新
term 29 server 1 not vote for server 0, 日志不够新
term 31 server 1 vote for server 2
term 31 server 2 get vote from server 1
term 31 server 2 become leader
------------------------------------------------------
term 31 server 0 vote for server 2
term 31 server 2 get outdate rpc reply from server 0
flag 73783 term 31 leader 2 nextIndex[0]: 161  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 65421 term 31 leader 2 nextIndex[1]: 161  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 161->160
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 161->160
------------------------------------------------------
term 31 leader 2 nextIndex[0]: 145  matchIndex[0]: 0
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 29
------------------------------------------------------
flag 19897 term 31 leader 2 nextIndex[1]: 160  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 0 InstallSnapshot success
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 29 rf.commitIndex 159 rf.lastApplied 159
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23511 term 31 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 31 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 98643 term 31 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
flag 50318 term 31 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 12674 term 31 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20111 term 31 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 43203 term 31 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
flag 33155 term 31 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 28170 term 31 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
flag 15350 term 31 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 60242 term 31 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
flag 11329 term 31 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 474 term 31 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
flag 28453 term 31 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 95009 term 31 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
flag 28515 term 31 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 52785 term 31 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
flag 98988 term 31 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 57363 term 31 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueterm 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
update nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
flag 73044 term 31 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 84887 term 31 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
flag 24107 term 31 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 10312 term 31 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
flag 48156 term 31 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 92586 term 31 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31449 term 31 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 28565 term 31 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
flag 23934 term 31 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 12452 term 31 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
flag 19977 term 31 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 50268 term 31 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65922 term 31 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 4276 term 31 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66568 term 31 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 24478 term 31 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 29 159} {7738052563692866703 29 160}]
------------------------------------------------------
client write log 7738052563692866703 (index 161) to leader 2
flag 48629 term 31 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 58072 term 31 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 29 159} {7738052563692866703 29 160} {7738052563692866703 31 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 29 159} {7738052563692866703 29 160} {7738052563692866703 31 161}]
------------------------------------------------------
flag 70077 term 31 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 31 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
flag 27522 term 31 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 31 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
term 31 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader log:
[{snapshot 29 159} {7738052563692866703 29 160} {7738052563692866703 31 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 29 159} {7738052563692866703 29 160} {7738052563692866703 31 161}]
------------------------------------------------------
flag 64072 term 31 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 31 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
flag 75494 term 31 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 31 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 29 159} {7738052563692866703 29 160} {7738052563692866703 31 161}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 29 159} {7738052563692866703 29 160} {7738052563692866703 31 161}]
------------------------------------------------------
flag 19381 term 31 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 31 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
flag 54708 term 31 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 31 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 29 159} {7738052563692866703 29 160} {7738052563692866703 31 161}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 29 159} {7738052563692866703 29 160} {7738052563692866703 31 161}]
------------------------------------------------------
flag 27550 term 31 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 31 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
flag 81006 term 31 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 31 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
term 31 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
[{snapshot 29 159} {7738052563692866703 29 160} {7738052563692866703 31 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 29 159} {7738052563692866703 29 160} {7738052563692866703 31 161}]
------------------------------------------------------
flag 84559 term 31 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 31 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
flag 11474 term 31 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 31 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 29 159} {7738052563692866703 29 160} {7738052563692866703 31 161}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 29 159} {7738052563692866703 29 160} {7738052563692866703 31 161}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73369 term 31 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 31 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
flag 25484 term 31 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 31 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
term 31 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
[{snapshot 29 159} {7738052563692866703 29 160} {7738052563692866703 31 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 29 159} {7738052563692866703 29 160} {7738052563692866703 31 161}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 61705 term 31 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 31 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
flag 46526 term 31 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 31 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17586 term 31 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 31 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
flag 37123 term 31 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 31 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 162->161
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 2 nextIndex[0]: 0  matchIndex[0]: 161
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 29
------------------------------------------------------
flag 16007 term 31 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 31 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
term 32 server 1 vote for server 0
term 32 server 0 get vote from server 1
term 32 server 0 become leader
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96440 term 32 leader 0 nextIndex[1]: 162  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
flag 11621 term 32 leader 0 nextIndex[2]: 162  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 29 159} {7738052563692866703 29 160} {7738052563692866703 31 161}]
------------------------------------------------------
client write log 1460577375846050241 (index 162) to leader 0
term 31 leader 2 nextIndex[0]: 0  matchIndex[0]: 161
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 29
------------------------------------------------------
flag 19886 term 31 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 31 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5326 term 32 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 32 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
flag 7128 term 32 leader 0 nextIndex[2]: 162  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 29 159} {7738052563692866703 29 160} {7738052563692866703 31 161} {1460577375846050241 32 162}]
------------------------------------------------------
term 31 leader 2 nextIndex[0]: 0  matchIndex[0]: 161
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 29
------------------------------------------------------
flag 31986 term 31 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 31 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
flag 48114 term 32 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 32 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 32 leaderCommit: 162 
------------------------------------------------------
flag 46989 term 32 leader 0 nextIndex[2]: 162  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 162 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 29 159} {7738052563692866703 29 160} {7738052563692866703 31 161} {1460577375846050241 32 162}]
------------------------------------------------------
client write log 9036544029968970806 (index 163) to leader 0
client write log 5779722379939491793 (index 164) to leader 0
client write log 1453300143348467276 (index 165) to leader 0
client write log 8768774812101426942 (index 166) to leader 0
client write log 1373511177711706340 (index 167) to leader 0
client write log 2381959393871542127 (index 168) to leader 0
client write log 4231954823208169471 (index 169) to leader 0
term 31 leader 2 nextIndex[0]: 0  matchIndex[0]: 161
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 29
------------------------------------------------------
flag 61258 term 31 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 31 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89827 term 32 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 32 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 32 leaderCommit: 162 
------------------------------------------------------
flag 55767 term 32 leader 0 nextIndex[2]: 162  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 162 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 159} {7738052563692866703 29 160} {7738052563692866703 31 161} {1460577375846050241 32 162} {9036544029968970806 32 163} {5779722379939491793 32 164} {1453300143348467276 32 165} {8768774812101426942 32 166} {1373511177711706340 32 167} {2381959393871542127 32 168} {4231954823208169471 32 169}]
------------------------------------------------------
term 32 Server0 start snapshot! index=169
term 32 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 2 nextIndex[0]: 0  matchIndex[0]: 161
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 29
------------------------------------------------------
flag 38470 term 31 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 31 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44284 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 leader 0 nextIndex[2]: 162  matchIndex[2]: 0
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
term 32 Server1 start snapshot! index=169
term 32 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
!!!!!!connect server 2
client write log 9043096490504194869 (index 162) to leader 2
term 31 leader 2 nextIndex[0]: 0  matchIndex[0]: 161
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 29
------------------------------------------------------
flag 53821 term 31 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 31 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 31 leaderCommit: 161 
------------------------------------------------------
term 32 server 1 AppendEntries false 领导者任期过期 args.Term 31
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 32 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 90649 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 leader 0 nextIndex[2]: 162  matchIndex[2]: 0
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 32 server 2 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 32 rf.commitIndex 169 rf.lastApplied 169
term 32 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66788 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
flag 74067 term 32 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
term 32 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65127 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
flag 56631 term 32 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
flag 48648 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
flag 1495 term 32 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
flag 56528 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
flag 91296 term 32 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38801 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
flag 8686 term 32 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
flag 76932 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
flag 35633 term 32 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
flag 64803 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
flag 6995 term 32 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
flag 92815 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
flag 9365 term 32 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68026 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
flag 39104 term 32 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79140 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
flag 13741 term 32 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
flag 64635 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
flag 94043 term 32 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26786 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
flag 21344 term 32 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58748 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
flag 54280 term 32 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 170->169
------------------------------------------------------
flag 27751 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 leader 0 nextIndex[2]: 0  matchIndex[2]: 169
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 2 InstallSnapshot fail
rf.commitIndex 169 args.LastIncludedIndex 169
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 32 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
term 32 server 2 not vote for server 0, 任期不够新
term 32 server 0 get outdate rpc reply from server 2
flag 55727 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
flag 11689 term 32 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 170->169
------------------------------------------------------
flag 8339 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 leader 0 nextIndex[2]: 0  matchIndex[2]: 169
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 2 InstallSnapshot fail
rf.commitIndex 169 args.LastIncludedIndex 169
------------------------------------------------------
term 32 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70479 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
flag 66965 term 32 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
flag 89218 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
flag 24324 term 32 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 170->169
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62831 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 leader 0 nextIndex[2]: 0  matchIndex[2]: 169
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 2 InstallSnapshot fail
rf.commitIndex 169 args.LastIncludedIndex 169
------------------------------------------------------
term 32 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
client write log 9043096490504194869 (index 170) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90942 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
flag 56798 term 32 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {9043096490504194869 32 170}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {9043096490504194869 32 170}]
------------------------------------------------------
flag 61673 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 28820 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {9043096490504194869 32 170}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {9043096490504194869 32 170}]
------------------------------------------------------
flag 20146 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 15026 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {9043096490504194869 32 170}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {9043096490504194869 32 170}]
------------------------------------------------------
flag 43742 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 29438 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {9043096490504194869 32 170}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {9043096490504194869 32 170}]
------------------------------------------------------
flag 45592 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 28267 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {9043096490504194869 32 170}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {9043096490504194869 32 170}]
------------------------------------------------------
flag 15100 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 48820 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {9043096490504194869 32 170}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {9043096490504194869 32 170}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7013498593840705227 (index 171) to leader 0
flag 50950 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 1020 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171}]
------------------------------------------------------
flag 25193 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 171 
------------------------------------------------------
flag 55815 term 32 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 32 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 32 leaderCommit: 171 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171}]
------------------------------------------------------
client write log 2490789517041167591 (index 172) to leader 0
client write log 8494961758260112926 (index 173) to leader 0
client write log 4368055593582840504 (index 174) to leader 0
client write log 7373361668179517504 (index 175) to leader 0
client write log 3708290035310331808 (index 176) to leader 0
client write log 3397324936913899038 (index 177) to leader 0
flag 22762 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 171 
------------------------------------------------------
flag 76170 term 32 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 32 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 32 leaderCommit: 171 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177}]
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20853 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 33736 term 32 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 32 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177}]
------------------------------------------------------
!!!!!!connect server 1
client write log 3465612005723612483 (index 178) to leader 0
term 32 server 0 not vote for server 1, 日志不够新
term 32 server 2 not vote for server 1, 日志不够新
term 34 server 1 vote for server 0
term 34 server 0 get vote from server 1
term 34 server 0 become leader
------------------------------------------------------
term 34 server 2 vote for server 0
term 34 server 0 get outdate rpc reply from server 2
flag 67920 term 34 leader 0 nextIndex[1]: 179  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 89357 term 34 leader 0 nextIndex[2]: 179  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 34 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 179->178
------------------------------------------------------
term 34 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 179->178
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23918 term 34 leader 0 nextIndex[1]: 171  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 89826 term 34 leader 0 nextIndex[2]: 178  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
term 34 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96135 term 34 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 3708 term 34 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
flag 64929 term 34 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 20563 term 34 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
flag 27042 term 34 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 4128 term 34 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
flag 37605 term 34 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 22709 term 34 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
flag 63680 term 34 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 74827 term 34 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
flag 93096 term 34 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 96024 term 34 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
flag 18223 term 34 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 22520 term 34 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
flag 70062 term 34 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 8402 term 34 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
flag 7951 term 34 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 34303 term 34 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:177 
term 34 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
flag 90886 term 34 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 99858 term 34 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
term 34 server 2 not vote for server 0, 任期不够新
term 34 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22330 term 34 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 39204 term 34 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93947 term 34 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 95396 term 34 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80828 term 34 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 80753 term 34 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
term 34 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
flag 26438 term 34 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 52324 term 34 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
flag 28930 term 34 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 77576 term 34 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
flag 66688 term 34 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 48737 term 34 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
flag 22019 term 34 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 47961 term 34 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59354 term 34 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 89094 term 34 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178}]
------------------------------------------------------
client write log 3465612005723612483 (index 179) to leader 0
flag 80368 term 34 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 71361 term 34 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 34 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178} {3465612005723612483 34 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 32 169} {9043096490504194869 32 170} {7013498593840705227 32 171} {2490789517041167591 32 172} {8494961758260112926 32 173} {4368055593582840504 32 174} {7373361668179517504 32 175} {3708290035310331808 32 176} {3397324936913899038 32 177} {3465612005723612483 32 178} {3465612005723612483 34 179}]
------------------------------------------------------
term 34 Server0 start snapshot! index=179
term 34 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68746 term 34 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 34 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 34 leaderCommit: 179 
------------------------------------------------------
flag 36329 term 34 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 34 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 34 leaderCommit: 179 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 34 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 34 179}]
------------------------------------------------------
term 34 Server2 start snapshot! index=179
term 34 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
term 34 Server1 start snapshot! index=179
term 34 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
flag 72761 term 34 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 34 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 34 leaderCommit: 179 
------------------------------------------------------
flag 72247 term 34 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 34 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 34 leaderCommit: 179 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:179 
term 34 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 34 179}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 34 179}]
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32950 term 34 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 34 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 34 leaderCommit: 179 
------------------------------------------------------
flag 86971 term 34 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 34 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 34 leaderCommit: 179 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
term 34 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
[{snapshot 34 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 34 179}]
------------------------------------------------------
flag 48982 term 34 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 34 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 34 leaderCommit: 179 
------------------------------------------------------
flag 81440 term 34 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 34 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 34 leaderCommit: 179 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 34 179}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 34 179}]
------------------------------------------------------
flag 11070 term 34 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 34 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 34 leaderCommit: 179 
------------------------------------------------------
flag 43745 term 34 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 34 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 34 leaderCommit: 179 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 34 179}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 34 179}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30960 term 34 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 34 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 34 leaderCommit: 179 
------------------------------------------------------
flag 91999 term 34 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 34 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 34 leaderCommit: 179 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 34 179}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 34 179}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3930306524996551235 (index 180) to leader 0
flag 47876 term 34 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 34 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 34 leaderCommit: 179 
------------------------------------------------------
flag 12605 term 34 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 34 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 34 leaderCommit: 179 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 34 179} {3930306524996551235 34 180}]
------------------------------------------------------
flag 82054 term 34 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 34 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 34 leaderCommit: 180 
------------------------------------------------------
flag 44426 term 34 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 34 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 34 leaderCommit: 180 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 34 179} {3930306524996551235 34 180}]
------------------------------------------------------
client write log 7303557968625694528 (index 181) to leader 0
client write log 7518579846479941097 (index 182) to leader 0
client write log 7070885889832058513 (index 183) to leader 0
client write log 7552522780853950078 (index 184) to leader 0
client write log 4385232914168323943 (index 185) to leader 0
client write log 4783567238588692564 (index 186) to leader 0
client write log 8847879654019326411 (index 187) to leader 0
flag 42019 term 34 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 34 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 34 leaderCommit: 180 
------------------------------------------------------
flag 91429 term 34 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 34 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 34 leaderCommit: 180 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 34 179} {3930306524996551235 34 180} {7303557968625694528 34 181} {7518579846479941097 34 182} {7070885889832058513 34 183} {7552522780853950078 34 184} {4385232914168323943 34 185} {4783567238588692564 34 186} {8847879654019326411 34 187}]
------------------------------------------------------
flag 76579 term 34 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 34 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 34 leaderCommit: 187 
------------------------------------------------------
flag 56160 term 34 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 34 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 34 leaderCommit: 187 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 34 179} {3930306524996551235 34 180} {7303557968625694528 34 181} {7518579846479941097 34 182} {7070885889832058513 34 183} {7552522780853950078 34 184} {4385232914168323943 34 185} {4783567238588692564 34 186} {8847879654019326411 34 187}]
------------------------------------------------------
!!!!!!connect server 1
client write log 3831603005194202118 (index 188) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66840 term 34 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 34 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 34 leaderCommit: 187 
------------------------------------------------------
flag 10974 term 34 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 34 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 34 leaderCommit: 187 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 34 179} {3930306524996551235 34 180} {7303557968625694528 34 181} {7518579846479941097 34 182} {7070885889832058513 34 183} {7552522780853950078 34 184} {4385232914168323943 34 185} {4783567238588692564 34 186} {8847879654019326411 34 187} {3831603005194202118 34 188}]
------------------------------------------------------
term 35 server 1 AppendEntries false 领导者任期过期 args.Term 34
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 server 2 not vote for server 1, 日志不够新
term 35 server 0 not vote for server 1, 日志不够新
term 37 server 2 vote for server 0
term 37 server 0 get vote from server 2
term 37 server 0 become leader
------------------------------------------------------
term 37 server 1 vote for server 0
term 37 server 0 get outdate rpc reply from server 1
flag 74348 term 37 leader 0 nextIndex[1]: 189  matchIndex[1]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
flag 59726 term 37 leader 0 nextIndex[2]: 189  matchIndex[2]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
term 37 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 189->188
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 34 179} {3930306524996551235 34 180} {7303557968625694528 34 181} {7518579846479941097 34 182} {7070885889832058513 34 183} {7552522780853950078 34 184} {4385232914168323943 34 185} {4783567238588692564 34 186} {8847879654019326411 34 187} {3831603005194202118 34 188}]
------------------------------------------------------
flag 44657 term 37 leader 0 nextIndex[1]: 180  matchIndex[1]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
flag 72078 term 37 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 37 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 34 179} {3930306524996551235 34 180} {7303557968625694528 34 181} {7518579846479941097 34 182} {7070885889832058513 34 183} {7552522780853950078 34 184} {4385232914168323943 34 185} {4783567238588692564 34 186} {8847879654019326411 34 187} {3831603005194202118 34 188}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 34 179} {3930306524996551235 34 180} {7303557968625694528 34 181} {7518579846479941097 34 182} {7070885889832058513 34 183} {7552522780853950078 34 184} {4385232914168323943 34 185} {4783567238588692564 34 186} {8847879654019326411 34 187} {3831603005194202118 34 188}]
------------------------------------------------------
flag 62041 term 37 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 37 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
flag 9900 term 37 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 37 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 34 179} {3930306524996551235 34 180} {7303557968625694528 34 181} {7518579846479941097 34 182} {7070885889832058513 34 183} {7552522780853950078 34 184} {4385232914168323943 34 185} {4783567238588692564 34 186} {8847879654019326411 34 187} {3831603005194202118 34 188}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 34 179} {3930306524996551235 34 180} {7303557968625694528 34 181} {7518579846479941097 34 182} {7070885889832058513 34 183} {7552522780853950078 34 184} {4385232914168323943 34 185} {4783567238588692564 34 186} {8847879654019326411 34 187} {3831603005194202118 34 188}]
------------------------------------------------------
flag 47932 term 37 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 37 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
flag 83018 term 37 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 37 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 34 179} {3930306524996551235 34 180} {7303557968625694528 34 181} {7518579846479941097 34 182} {7070885889832058513 34 183} {7552522780853950078 34 184} {4385232914168323943 34 185} {4783567238588692564 34 186} {8847879654019326411 34 187} {3831603005194202118 34 188}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 34 179} {3930306524996551235 34 180} {7303557968625694528 34 181} {7518579846479941097 34 182} {7070885889832058513 34 183} {7552522780853950078 34 184} {4385232914168323943 34 185} {4783567238588692564 34 186} {8847879654019326411 34 187} {3831603005194202118 34 188}]
------------------------------------------------------
flag 19381 term 37 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 37 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
flag 62567 term 37 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 37 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 34 179} {3930306524996551235 34 180} {7303557968625694528 34 181} {7518579846479941097 34 182} {7070885889832058513 34 183} {7552522780853950078 34 184} {4385232914168323943 34 185} {4783567238588692564 34 186} {8847879654019326411 34 187} {3831603005194202118 34 188}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 34 179} {3930306524996551235 34 180} {7303557968625694528 34 181} {7518579846479941097 34 182} {7070885889832058513 34 183} {7552522780853950078 34 184} {4385232914168323943 34 185} {4783567238588692564 34 186} {8847879654019326411 34 187} {3831603005194202118 34 188}]
------------------------------------------------------
flag 15470 term 37 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 37 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
flag 13404 term 37 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 37 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 34 179} {3930306524996551235 34 180} {7303557968625694528 34 181} {7518579846479941097 34 182} {7070885889832058513 34 183} {7552522780853950078 34 184} {4385232914168323943 34 185} {4783567238588692564 34 186} {8847879654019326411 34 187} {3831603005194202118 34 188}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 34 179} {3930306524996551235 34 180} {7303557968625694528 34 181} {7518579846479941097 34 182} {7070885889832058513 34 183} {7552522780853950078 34 184} {4385232914168323943 34 185} {4783567238588692564 34 186} {8847879654019326411 34 187} {3831603005194202118 34 188}]
------------------------------------------------------
flag 94528 term 37 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 37 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
flag 54015 term 37 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 37 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:188 
term 37 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 34 179} {3930306524996551235 34 180} {7303557968625694528 34 181} {7518579846479941097 34 182} {7070885889832058513 34 183} {7552522780853950078 34 184} {4385232914168323943 34 185} {4783567238588692564 34 186} {8847879654019326411 34 187} {3831603005194202118 34 188}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 34 179} {3930306524996551235 34 180} {7303557968625694528 34 181} {7518579846479941097 34 182} {7070885889832058513 34 183} {7552522780853950078 34 184} {4385232914168323943 34 185} {4783567238588692564 34 186} {8847879654019326411 34 187} {3831603005194202118 34 188}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
flag 67779 term 37 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 37 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
flag 52402 term 37 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 37 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
flag 57316 term 37 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 37 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
flag 23607 term 37 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 37 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93993 term 37 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 37 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
flag 55409 term 37 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 37 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 189->188
------------------------------------------------------
term 38 server 1 vote for server 2
term 38 server 2 get vote from server 1
term 38 server 2 become leader
------------------------------------------------------
client write log 2886193130748670975 (index 189) to leader 2
flag 76635 term 38 leader 2 nextIndex[0]: 189  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
flag 26373 term 38 leader 2 nextIndex[1]: 189  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 179} {3930306524996551235 34 180} {7303557968625694528 34 181} {7518579846479941097 34 182} {7070885889832058513 34 183} {7552522780853950078 34 184} {4385232914168323943 34 185} {4783567238588692564 34 186} {8847879654019326411 34 187} {3831603005194202118 34 188} {2886193130748670975 38 189}]
------------------------------------------------------
flag 51834 term 37 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 37 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
term 37 leader 0 nextIndex[2]: 0  matchIndex[2]: 188
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 34
------------------------------------------------------
term 38 Server2 start snapshot! index=189
term 38 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
term 38 leader 2 nextIndex[0]: 189  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 38
------------------------------------------------------
flag 77857 term 38 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 38 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 38 leaderCommit: 189 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 38 189}]
------------------------------------------------------
flag 8564 term 37 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 37 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
term 37 leader 0 nextIndex[2]: 0  matchIndex[2]: 188
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 34
------------------------------------------------------
term 38 Server1 start snapshot! index=189
term 38 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
client write log 3526691634042700450 (index 190) to leader 2
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 189->188
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 189  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 38
------------------------------------------------------
flag 65106 term 38 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 38 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 38 leaderCommit: 189 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 38 189} {3526691634042700450 38 190}]
------------------------------------------------------
term 37 leader 0 nextIndex[1]: 0  matchIndex[1]: 188
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 34
------------------------------------------------------
term 37 leader 0 nextIndex[2]: 0  matchIndex[2]: 188
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 34
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 189  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 38
------------------------------------------------------
flag 91788 term 38 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 38 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 38 leaderCommit: 190 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 38 189} {3526691634042700450 38 190}]
------------------------------------------------------
term 37 leader 0 nextIndex[1]: 0  matchIndex[1]: 188
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 34
------------------------------------------------------
term 37 leader 0 nextIndex[2]: 0  matchIndex[2]: 188
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 34
------------------------------------------------------
!!!!!!connect server 0
client write log 2254184873306563193 (index 191) to leader 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 189  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 38
------------------------------------------------------
flag 23641 term 38 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 38 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 38 leaderCommit: 190 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 38 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 38 189} {3526691634042700450 38 190} {2254184873306563193 38 191}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
term 38 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
rf.lastIncludedIndex 189 rf.lastIncludedTerm 38 rf.commitIndex 189 rf.lastApplied 189
flag 22374 term 38 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 38 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 38 leaderCommit: 191 
------------------------------------------------------
flag 89738 term 38 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 38 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 38 leaderCommit: 191 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 38 189} {3526691634042700450 38 190} {2254184873306563193 38 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 38 189} {3526691634042700450 38 190} {2254184873306563193 38 191}]
------------------------------------------------------
flag 70265 term 38 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 38 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 38 leaderCommit: 191 
------------------------------------------------------
flag 11625 term 38 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 38 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 38 leaderCommit: 191 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 38 189} {3526691634042700450 38 190} {2254184873306563193 38 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 38 189} {3526691634042700450 38 190} {2254184873306563193 38 191}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45843 term 38 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 38 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 38 leaderCommit: 191 
------------------------------------------------------
flag 31210 term 38 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 38 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 38 leaderCommit: 191 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 38 189} {3526691634042700450 38 190} {2254184873306563193 38 191}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 38 189} {3526691634042700450 38 190} {2254184873306563193 38 191}]
------------------------------------------------------
term 38 server 0 not vote for server 1, 任期不够新
term 38 server 1 get outdate rpc reply from server 0
flag 51790 term 38 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 38 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 38 leaderCommit: 191 
------------------------------------------------------
flag 51939 term 38 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 38 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 38 leaderCommit: 191 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 38 189} {3526691634042700450 38 190} {2254184873306563193 38 191}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 38 189} {3526691634042700450 38 190} {2254184873306563193 38 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 192->191
------------------------------------------------------
term 38 server 0 not vote for server 2, 日志不够新
term 38 server 2 get outdate rpc reply from server 0
term 38 leader 2 nextIndex[0]: 0  matchIndex[0]: 191
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 38
------------------------------------------------------
flag 17642 term 38 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 38 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 38 leaderCommit: 191 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 38 189} {3526691634042700450 38 190} {2254184873306563193 38 191}]
------------------------------------------------------
term 38 server 0 InstallSnapshot fail
rf.commitIndex 191 args.LastIncludedIndex 189
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
flag 27199 term 38 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 38 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 38 leaderCommit: 191 
------------------------------------------------------
flag 83812 term 38 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 38 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 38 leaderCommit: 191 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 38 189} {3526691634042700450 38 190} {2254184873306563193 38 191}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 38 189} {3526691634042700450 38 190} {2254184873306563193 38 191}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8821392757364929230 (index 192) to leader 2
flag 22502 term 38 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 38 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 38 leaderCommit: 191 
------------------------------------------------------
flag 92114 term 38 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 38 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 38 leaderCommit: 191 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 38 189} {3526691634042700450 38 190} {2254184873306563193 38 191} {8821392757364929230 38 192}]
------------------------------------------------------
flag 34734 term 38 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 38 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 38 leaderCommit: 192 
------------------------------------------------------
flag 17535 term 38 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 38 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 38 leaderCommit: 192 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 38 189} {3526691634042700450 38 190} {2254184873306563193 38 191} {8821392757364929230 38 192}]
------------------------------------------------------
client write log 6718128172899128068 (index 193) to leader 2
client write log 2256136013870918267 (index 194) to leader 2
client write log 6226332140195199491 (index 195) to leader 2
client write log 4731651826320306238 (index 196) to leader 2
client write log 6533361354369707323 (index 197) to leader 2
client write log 8818171619098101062 (index 198) to leader 2
client write log 1931111129876279948 (index 199) to leader 2
client write log 7450937154610742379 (index 200) to leader 2
client write log 3565351503784062098 (index 201) to leader 2
client write log 4448086452040340949 (index 202) to leader 2
flag 57382 term 38 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 38 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 38 leaderCommit: 192 
------------------------------------------------------
flag 12490 term 38 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 38 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 38 leaderCommit: 192 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 38 189} {3526691634042700450 38 190} {2254184873306563193 38 191} {8821392757364929230 38 192} {6718128172899128068 38 193} {2256136013870918267 38 194} {6226332140195199491 38 195} {4731651826320306238 38 196} {6533361354369707323 38 197} {8818171619098101062 38 198} {1931111129876279948 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202}]
------------------------------------------------------
term 38 Server2 start snapshot! index=199
term 38 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=202
-------------------------------------------------------------
term 38 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 38
------------------------------------------------------
flag 77706 term 38 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 38 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202}]
------------------------------------------------------
term 38 Server1 start snapshot! index=199
term 38 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=202
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7573056299193818276 (index 203) to leader 2
term 38 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 38
------------------------------------------------------
flag 79380 term 38 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 38 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
term 39 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 server 1 vote for server 2
term 40 server 2 get vote from server 1
term 40 server 2 become leader
------------------------------------------------------
term 40 server 0 vote for server 2
term 40 server 2 get outdate rpc reply from server 0
flag 47353 term 40 leader 2 nextIndex[0]: 204  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
flag 52196 term 40 leader 2 nextIndex[1]: 204  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
term 40 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 204->203
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 192  matchIndex[0]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 38
------------------------------------------------------
flag 19947 term 40 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
term 40 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 38 rf.commitIndex 199 rf.lastApplied 199
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 200 matchIndex[0] 199 
------------------------------------------------------------------------
flag 95467 term 40 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 40 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
flag 61967 term 40 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
term 40 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29450 term 40 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
flag 39542 term 40 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
flag 17397 term 40 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
flag 17605 term 40 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
flag 95597 term 40 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
flag 57427 term 40 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
flag 50317 term 40 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
flag 65455 term 40 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
flag 22418 term 40 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
flag 18152 term 40 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
term 40 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
flag 55229 term 40 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
flag 22576 term 40 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
flag 91435 term 40 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
flag 54953 term 40 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
flag 74782 term 40 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
flag 88367 term 40 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
term 40 server 2 not vote for server 1, 任期不够新
term 40 server 1 get outdate rpc reply from server 2
flag 16541 term 40 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
flag 66853 term 40 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
term 40 server 1 not vote for server 0, 任期不够新
term 40 server 0 get outdate rpc reply from server 1
flag 25095 term 40 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
flag 19099 term 40 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
term 40 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26394 term 40 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
flag 51083 term 40 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47824 term 40 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
flag 66539 term 40 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
flag 77474 term 40 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
flag 28449 term 40 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93727 term 40 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
flag 49337 term 40 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
flag 54568 term 40 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
flag 41743 term 40 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
flag 61644 term 40 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
flag 40572 term 40 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203}]
------------------------------------------------------
client write log 7573056299193818276 (index 204) to leader 2
flag 27431 term 40 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
flag 82045 term 40 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 40 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 202 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203} {7573056299193818276 40 204}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203} {7573056299193818276 40 204}]
------------------------------------------------------
flag 45948 term 40 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 40 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 40 leaderCommit: 204 
------------------------------------------------------
flag 66077 term 40 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 40 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 40 leaderCommit: 204 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203} {7573056299193818276 40 204}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203} {7573056299193818276 40 204}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29203 term 40 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 40 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 40 leaderCommit: 204 
------------------------------------------------------
flag 90606 term 40 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 40 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 40 leaderCommit: 204 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
term 40 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203} {7573056299193818276 40 204}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203} {7573056299193818276 40 204}]
------------------------------------------------------
flag 51620 term 40 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 40 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 40 leaderCommit: 204 
------------------------------------------------------
flag 93814 term 40 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 40 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 40 leaderCommit: 204 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203} {7573056299193818276 40 204}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203} {7573056299193818276 40 204}]
------------------------------------------------------
flag 62873 term 40 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 40 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 40 leaderCommit: 204 
------------------------------------------------------
flag 93737 term 40 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 40 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 40 leaderCommit: 204 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203} {7573056299193818276 40 204}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203} {7573056299193818276 40 204}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65055 term 40 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 40 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 40 leaderCommit: 204 
------------------------------------------------------
flag 93514 term 40 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 40 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 40 leaderCommit: 204 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203} {7573056299193818276 40 204}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203} {7573056299193818276 40 204}]
------------------------------------------------------
term 40 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32933 term 40 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 40 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 40 leaderCommit: 204 
------------------------------------------------------
flag 92993 term 40 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 40 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 40 leaderCommit: 204 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203} {7573056299193818276 40 204}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203} {7573056299193818276 40 204}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2402136667671560988 (index 205) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38144 term 40 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 40 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 40 leaderCommit: 204 
------------------------------------------------------
flag 77396 term 40 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 40 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 40 leaderCommit: 204 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203} {7573056299193818276 40 204} {2402136667671560988 40 205}]
------------------------------------------------------
flag 19100 term 40 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 40 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
flag 96808 term 40 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 40 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203} {7573056299193818276 40 204} {2402136667671560988 40 205}]
------------------------------------------------------
client write log 4872928129656255315 (index 206) to leader 2
client write log 7484622694473745634 (index 207) to leader 2
client write log 796814472884881164 (index 208) to leader 2
client write log 8002622487637318176 (index 209) to leader 2
client write log 4840110221645364303 (index 210) to leader 2
client write log 8140986441199534494 (index 211) to leader 2
client write log 8612863384317120213 (index 212) to leader 2
client write log 1320151763377571913 (index 213) to leader 2
client write log 3968182478847899949 (index 214) to leader 2
client write log 6818650617958382741 (index 215) to leader 2
client write log 2202647545947792833 (index 216) to leader 2
client write log 3620560952234577687 (index 217) to leader 2
client write log 6077997498243760515 (index 218) to leader 2
client write log 3334085684631575343 (index 219) to leader 2
client write log 1773174878493699977 (index 220) to leader 2
flag 56191 term 40 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 40 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
flag 95712 term 40 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 40 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 38 199} {7450937154610742379 38 200} {3565351503784062098 38 201} {4448086452040340949 38 202} {7573056299193818276 38 203} {7573056299193818276 40 204} {2402136667671560988 40 205} {4872928129656255315 40 206} {7484622694473745634 40 207} {796814472884881164 40 208} {8002622487637318176 40 209} {4840110221645364303 40 210} {8140986441199534494 40 211} {8612863384317120213 40 212} {1320151763377571913 40 213} {3968182478847899949 40 214} {6818650617958382741 40 215} {2202647545947792833 40 216} {3620560952234577687 40 217} {6077997498243760515 40 218} {3334085684631575343 40 219} {1773174878493699977 40 220}]
------------------------------------------------------
term 40 Server2 start snapshot! index=209
term 40 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=220
-------------------------------------------------------------
term 40 Server2 start snapshot! index=219
term 40 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=220
-------------------------------------------------------------
term 40 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
flag 90115 term 40 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 40 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220}]
------------------------------------------------------
term 40 Server1 start snapshot! index=209
term 40 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=220
-------------------------------------------------------------
term 40 Server1 start snapshot! index=219
term 40 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=220
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7572232259249266041 (index 221) to leader 2
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
flag 6461 term 40 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 40 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
term 41 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 1 vote for server 2
term 42 server 2 get vote from server 1
term 42 server 2 become leader
------------------------------------------------------
term 42 server 0 vote for server 2
term 42 server 2 get outdate rpc reply from server 0
flag 41979 term 42 leader 2 nextIndex[0]: 222  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
flag 41409 term 42 leader 2 nextIndex[1]: 222  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
term 42 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 222->221
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 42 leader 2 nextIndex[0]: 205  matchIndex[0]: 0
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
flag 28952 term 42 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
term 42 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 40 rf.commitIndex 219 rf.lastApplied 219
term 42 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
flag 55393 term 42 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 42 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
flag 62575 term 42 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
term 42 server 2 not vote for server 0, 任期不够新
term 42 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66726 term 42 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
flag 52895 term 42 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19301 term 42 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
flag 23341 term 42 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueterm 42 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
update nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
flag 29127 term 42 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
flag 40448 term 42 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
flag 11591 term 42 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
flag 11556 term 42 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
term 42 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36307 term 42 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
flag 5400 term 42 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
flag 64052 term 42 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
flag 41661 term 42 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44536 term 42 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
flag 74835 term 42 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
flag 32477 term 42 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
flag 13889 term 42 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
flag 31760 term 42 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
flag 20706 term 42 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
flag 45902 term 42 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
flag 65843 term 42 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
flag 28437 term 42 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
flag 19482 term 42 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
flag 84374 term 42 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
flag 23378 term 42 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
flag 90008 term 42 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
flag 51936 term 42 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
flag 55485 term 42 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
flag 69769 term 42 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
flag 20247 term 42 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
flag 75627 term 42 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
flag 3529 term 42 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
flag 13086 term 42 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221}]
------------------------------------------------------
client write log 7572232259249266041 (index 222) to leader 2
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79432 term 42 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
flag 37342 term 42 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 42 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 220 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221} {7572232259249266041 42 222}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221} {7572232259249266041 42 222}]
------------------------------------------------------
flag 86860 term 42 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
flag 84948 term 42 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221} {7572232259249266041 42 222}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221} {7572232259249266041 42 222}]
------------------------------------------------------
flag 65532 term 42 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
flag 30806 term 42 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221} {7572232259249266041 42 222}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221} {7572232259249266041 42 222}]
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28037 term 42 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
flag 39580 term 42 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221} {7572232259249266041 42 222}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221} {7572232259249266041 42 222}]
------------------------------------------------------
flag 55716 term 42 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
flag 5620 term 42 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221} {7572232259249266041 42 222}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221} {7572232259249266041 42 222}]
------------------------------------------------------
flag 62747 term 42 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
flag 43357 term 42 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
term 42 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221} {7572232259249266041 42 222}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221} {7572232259249266041 42 222}]
------------------------------------------------------
term 42 server 1 not vote for server 0, 任期不够新
term 42 server 0 get outdate rpc reply from server 1
!!!!!!diconnect server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60305 term 42 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
flag 9422 term 42 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
flag 5939 term 42 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
flag 49449 term 42 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
flag 84891 term 42 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
flag 77501 term 42 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
flag 30546 term 42 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
flag 71668 term 42 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
term 43 server 1 vote for server 0
term 43 server 0 get vote from server 1
term 43 server 0 become leader
------------------------------------------------------
flag 11893 term 43 leader 0 nextIndex[1]: 223  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
flag 39379 term 43 leader 0 nextIndex[2]: 223  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
client write log 980423393470847628 (index 223) to leader 0
term 43 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221} {7572232259249266041 42 222} {980423393470847628 43 223}]
------------------------------------------------------
flag 80611 term 42 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
flag 43712 term 42 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
flag 16112 term 43 leader 0 nextIndex[1]: 223  matchIndex[1]: 222
term 43 leader 0 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
flag 89338 term 43 leader 0 nextIndex[2]: 223  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221} {7572232259249266041 42 222} {980423393470847628 43 223}]
------------------------------------------------------
flag 60310 term 42 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
flag 94547 term 42 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
flag 72995 term 43 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 43 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 43 leaderCommit: 223 
------------------------------------------------------
flag 57519 term 43 leader 0 nextIndex[2]: 223  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 223 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221} {7572232259249266041 42 222} {980423393470847628 43 223}]
------------------------------------------------------
client write log 6159132233629049904 (index 224) to leader 0
client write log 808701382056877684 (index 225) to leader 0
client write log 1772400750733455342 (index 226) to leader 0
client write log 7874901640572587393 (index 227) to leader 0
client write log 753920448298840482 (index 228) to leader 0
client write log 6006377602278354845 (index 229) to leader 0
flag 21392 term 42 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
flag 51413 term 42 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
flag 57989 term 43 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 43 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 43 leaderCommit: 223 
------------------------------------------------------
flag 82443 term 43 leader 0 nextIndex[2]: 223  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 223 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 219} {1773174878493699977 40 220} {7572232259249266041 40 221} {7572232259249266041 42 222} {980423393470847628 43 223} {6159132233629049904 43 224} {808701382056877684 43 225} {1772400750733455342 43 226} {7874901640572587393 43 227} {753920448298840482 43 228} {6006377602278354845 43 229}]
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 Server0 start snapshot! index=229
term 43 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
flag 36907 term 42 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
flag 25974 term 42 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
flag 97148 term 43 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 leader 0 nextIndex[2]: 223  matchIndex[2]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
term 43 Server1 start snapshot! index=229
term 43 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1986571407055029999 (index 223) to leader 2
flag 16613 term 42 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
flag 82072 term 42 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 42 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 42 leaderCommit: 222 
------------------------------------------------------
term 43 server 1 AppendEntries false 领导者任期过期 args.Term 42
------------------------------------------------------
term 43 server 0 AppendEntries false 领导者任期过期 args.Term 42
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
flag 65504 term 43 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 24299 term 43 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 230->229
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
flag 90218 term 43 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 leader 0 nextIndex[2]: 224  matchIndex[2]: 229
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 2 InstallSnapshot success
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
term 43 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 43 rf.commitIndex 229 rf.lastApplied 229
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
flag 22251 term 43 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 31273 term 43 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
flag 14921 term 43 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 95819 term 43 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
flag 46455 term 43 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 24950 term 43 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
flag 84739 term 43 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 88287 term 43 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 230->229
------------------------------------------------------
flag 81602 term 43 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 leader 0 nextIndex[2]: 0  matchIndex[2]: 229
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 2 InstallSnapshot fail
rf.commitIndex 229 args.LastIncludedIndex 229
------------------------------------------------------
term 43 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
flag 63381 term 43 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 86238 term 43 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
flag 29732 term 43 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 1972 term 43 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
flag 46840 term 43 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 20762 term 43 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
flag 87307 term 43 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 96988 term 43 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86942 term 43 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 30606 term 43 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41154 term 43 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 56981 term 43 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
flag 303 term 43 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 32357 term 43 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77606 term 43 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 4144 term 43 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68528 term 43 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 2406 term 43 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
flag 49824 term 43 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 33383 term 43 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
flag 68686 term 43 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 66305 term 43 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:229 
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
flag 61794 term 43 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 22679 term 43 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93677 term 43 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 79849 term 43 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
client write log 1986571407055029999 (index 230) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17769 term 43 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 5363 term 43 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 43 229} {1986571407055029999 43 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 43 229} {1986571407055029999 43 230}]
------------------------------------------------------
term 43 server 2 not vote for server 0, 任期不够新
term 43 server 0 get outdate rpc reply from server 2
flag 21809 term 43 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 43 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 43 leaderCommit: 230 
------------------------------------------------------
flag 85332 term 43 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 43 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 43 leaderCommit: 230 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 43 229} {1986571407055029999 43 230}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 43 229} {1986571407055029999 43 230}]
------------------------------------------------------
flag 11200 term 43 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 43 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 43 leaderCommit: 230 
------------------------------------------------------
flag 78526 term 43 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 43 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 43 leaderCommit: 230 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 43 229} {1986571407055029999 43 230}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 43 229} {1986571407055029999 43 230}]
------------------------------------------------------
flag 29167 term 43 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 43 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 43 leaderCommit: 230 
------------------------------------------------------
flag 13645 term 43 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 43 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 43 leaderCommit: 230 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 43 229} {1986571407055029999 43 230}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 43 229} {1986571407055029999 43 230}]
------------------------------------------------------
flag 2372 term 43 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 43 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 43 leaderCommit: 230 
------------------------------------------------------
flag 50429 term 43 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 43 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 43 leaderCommit: 230 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 43 229} {1986571407055029999 43 230}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 43 229} {1986571407055029999 43 230}]
------------------------------------------------------
flag 3934 term 43 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 43 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 43 leaderCommit: 230 
------------------------------------------------------
flag 18587 term 43 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 43 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 43 leaderCommit: 230 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 43 229} {1986571407055029999 43 230}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 43 229} {1986571407055029999 43 230}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8786855750831991959 (index 231) to leader 0
flag 13045 term 43 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 43 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 43 leaderCommit: 230 
------------------------------------------------------
flag 4254 term 43 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 43 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 43 leaderCommit: 230 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 43 229} {1986571407055029999 43 230} {8786855750831991959 43 231}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32771 term 43 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 43 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 43 leaderCommit: 231 
------------------------------------------------------
flag 37532 term 43 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 43 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 43 leaderCommit: 231 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 43 229} {1986571407055029999 43 230} {8786855750831991959 43 231}]
------------------------------------------------------
client write log 5872661014380872437 (index 232) to leader 0
client write log 43741978115543110 (index 233) to leader 0
client write log 8070765776391457276 (index 234) to leader 0
client write log 5682891095406330614 (index 235) to leader 0
client write log 5962318488132624799 (index 236) to leader 0
client write log 4318531510588179022 (index 237) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5517 term 43 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 43 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 43 leaderCommit: 231 
------------------------------------------------------
flag 39161 term 43 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 43 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 43 leaderCommit: 231 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=237
leader log:
[{snapshot 43 229} {1986571407055029999 43 230} {8786855750831991959 43 231} {5872661014380872437 43 232} {43741978115543110 43 233} {8070765776391457276 43 234} {5682891095406330614 43 235} {5962318488132624799 43 236} {4318531510588179022 43 237}]
------------------------------------------------------
flag 13886 term 43 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 43 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 43 leaderCommit: 237 
------------------------------------------------------
flag 59085 term 43 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 43 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 43 leaderCommit: 237 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=237
leader log:
[{snapshot 43 229} {1986571407055029999 43 230} {8786855750831991959 43 231} {5872661014380872437 43 232} {43741978115543110 43 233} {8070765776391457276 43 234} {5682891095406330614 43 235} {5962318488132624799 43 236} {4318531510588179022 43 237}]
------------------------------------------------------
!!!!!!connect server 1
client write log 932151851411225593 (index 238) to leader 0
flag 85458 term 43 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 43 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 43 leaderCommit: 237 
------------------------------------------------------
flag 53575 term 43 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 43 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 43 leaderCommit: 237 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 43 229} {1986571407055029999 43 230} {8786855750831991959 43 231} {5872661014380872437 43 232} {43741978115543110 43 233} {8070765776391457276 43 234} {5682891095406330614 43 235} {5962318488132624799 43 236} {4318531510588179022 43 237} {932151851411225593 43 238}]
------------------------------------------------------
term 44 server 1 AppendEntries false 领导者任期过期 args.Term 43
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 231->230
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 2 not vote for server 1, 日志不够新
term 44 server 0 not vote for server 1, 日志不够新
term 46 server 2 vote for server 0
term 46 server 0 get vote from server 2
term 46 server 0 become leader
------------------------------------------------------
term 46 server 1 vote for server 0
term 46 server 0 get outdate rpc reply from server 1
flag 56983 term 46 leader 0 nextIndex[1]: 239  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
flag 14173 term 46 leader 0 nextIndex[2]: 239  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
term 46 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 239->238
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 43 229} {1986571407055029999 43 230} {8786855750831991959 43 231} {5872661014380872437 43 232} {43741978115543110 43 233} {8070765776391457276 43 234} {5682891095406330614 43 235} {5962318488132624799 43 236} {4318531510588179022 43 237} {932151851411225593 43 238}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59130 term 46 leader 0 nextIndex[1]: 231  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
flag 58028 term 46 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 46 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 43 229} {1986571407055029999 43 230} {8786855750831991959 43 231} {5872661014380872437 43 232} {43741978115543110 43 233} {8070765776391457276 43 234} {5682891095406330614 43 235} {5962318488132624799 43 236} {4318531510588179022 43 237} {932151851411225593 43 238}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 43 229} {1986571407055029999 43 230} {8786855750831991959 43 231} {5872661014380872437 43 232} {43741978115543110 43 233} {8070765776391457276 43 234} {5682891095406330614 43 235} {5962318488132624799 43 236} {4318531510588179022 43 237} {932151851411225593 43 238}]
------------------------------------------------------
flag 7428 term 46 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 46 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
flag 40432 term 46 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 46 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 43 229} {1986571407055029999 43 230} {8786855750831991959 43 231} {5872661014380872437 43 232} {43741978115543110 43 233} {8070765776391457276 43 234} {5682891095406330614 43 235} {5962318488132624799 43 236} {4318531510588179022 43 237} {932151851411225593 43 238}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 43 229} {1986571407055029999 43 230} {8786855750831991959 43 231} {5872661014380872437 43 232} {43741978115543110 43 233} {8070765776391457276 43 234} {5682891095406330614 43 235} {5962318488132624799 43 236} {4318531510588179022 43 237} {932151851411225593 43 238}]
------------------------------------------------------
flag 11407 term 46 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 46 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
flag 26686 term 46 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 46 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 43 229} {1986571407055029999 43 230} {8786855750831991959 43 231} {5872661014380872437 43 232} {43741978115543110 43 233} {8070765776391457276 43 234} {5682891095406330614 43 235} {5962318488132624799 43 236} {4318531510588179022 43 237} {932151851411225593 43 238}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 43 229} {1986571407055029999 43 230} {8786855750831991959 43 231} {5872661014380872437 43 232} {43741978115543110 43 233} {8070765776391457276 43 234} {5682891095406330614 43 235} {5962318488132624799 43 236} {4318531510588179022 43 237} {932151851411225593 43 238}]
------------------------------------------------------
flag 10500 term 46 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 46 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
flag 85558 term 46 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 46 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 43 229} {1986571407055029999 43 230} {8786855750831991959 43 231} {5872661014380872437 43 232} {43741978115543110 43 233} {8070765776391457276 43 234} {5682891095406330614 43 235} {5962318488132624799 43 236} {4318531510588179022 43 237} {932151851411225593 43 238}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 43 229} {1986571407055029999 43 230} {8786855750831991959 43 231} {5872661014380872437 43 232} {43741978115543110 43 233} {8070765776391457276 43 234} {5682891095406330614 43 235} {5962318488132624799 43 236} {4318531510588179022 43 237} {932151851411225593 43 238}]
------------------------------------------------------
flag 97875 term 46 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 46 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
flag 70781 term 46 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 46 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 43 229} {1986571407055029999 43 230} {8786855750831991959 43 231} {5872661014380872437 43 232} {43741978115543110 43 233} {8070765776391457276 43 234} {5682891095406330614 43 235} {5962318488132624799 43 236} {4318531510588179022 43 237} {932151851411225593 43 238}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 43 229} {1986571407055029999 43 230} {8786855750831991959 43 231} {5872661014380872437 43 232} {43741978115543110 43 233} {8070765776391457276 43 234} {5682891095406330614 43 235} {5962318488132624799 43 236} {4318531510588179022 43 237} {932151851411225593 43 238}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83437 term 46 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 46 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
flag 65736 term 46 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 46 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 43 229} {1986571407055029999 43 230} {8786855750831991959 43 231} {5872661014380872437 43 232} {43741978115543110 43 233} {8070765776391457276 43 234} {5682891095406330614 43 235} {5962318488132624799 43 236} {4318531510588179022 43 237} {932151851411225593 43 238}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 43 229} {1986571407055029999 43 230} {8786855750831991959 43 231} {5872661014380872437 43 232} {43741978115543110 43 233} {8070765776391457276 43 234} {5682891095406330614 43 235} {5962318488132624799 43 236} {4318531510588179022 43 237} {932151851411225593 43 238}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69296 term 46 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 46 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
flag 26800 term 46 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 46 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 43 229} {1986571407055029999 43 230} {8786855750831991959 43 231} {5872661014380872437 43 232} {43741978115543110 43 233} {8070765776391457276 43 234} {5682891095406330614 43 235} {5962318488132624799 43 236} {4318531510588179022 43 237} {932151851411225593 43 238}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 43 229} {1986571407055029999 43 230} {8786855750831991959 43 231} {5872661014380872437 43 232} {43741978115543110 43 233} {8070765776391457276 43 234} {5682891095406330614 43 235} {5962318488132624799 43 236} {4318531510588179022 43 237} {932151851411225593 43 238}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2122997020935003533 (index 239) to leader 0
flag 39921 term 46 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 46 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
flag 69377 term 46 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 46 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 229} {1986571407055029999 43 230} {8786855750831991959 43 231} {5872661014380872437 43 232} {43741978115543110 43 233} {8070765776391457276 43 234} {5682891095406330614 43 235} {5962318488132624799 43 236} {4318531510588179022 43 237} {932151851411225593 43 238} {2122997020935003533 46 239}]
------------------------------------------------------
term 46 Server0 start snapshot! index=239
term 46 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
term 46 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 46
------------------------------------------------------
flag 4815 term 46 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 46 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 46 leaderCommit: 239 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 46 239}]
------------------------------------------------------
term 46 Server2 start snapshot! index=239
term 46 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
client write log 3439885954982965410 (index 240) to leader 0
client write log 7182728477769963328 (index 241) to leader 0
client write log 4942355597631399352 (index 242) to leader 0
client write log 439926349214716228 (index 243) to leader 0
client write log 1703860346484498082 (index 244) to leader 0
client write log 3067936408097016916 (index 245) to leader 0
client write log 5103395333367983158 (index 246) to leader 0
client write log 4545346817187700064 (index 247) to leader 0
client write log 469213701048110174 (index 248) to leader 0
client write log 2533487743328220166 (index 249) to leader 0
client write log 3730400782349087560 (index 250) to leader 0
term 46 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 46
------------------------------------------------------
flag 96994 term 46 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 46 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 46 leaderCommit: 239 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 239} {3439885954982965410 46 240} {7182728477769963328 46 241} {4942355597631399352 46 242} {439926349214716228 46 243} {1703860346484498082 46 244} {3067936408097016916 46 245} {5103395333367983158 46 246} {4545346817187700064 46 247} {469213701048110174 46 248} {2533487743328220166 46 249} {3730400782349087560 46 250}]
------------------------------------------------------
term 46 Server0 start snapshot! index=249
term 46 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=250
-------------------------------------------------------------
term 46 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 46
------------------------------------------------------
flag 74071 term 46 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250}]
------------------------------------------------------
term 46 Server2 start snapshot! index=249
term 46 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=250
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4336086480873367991 (index 251) to leader 0
term 46 server 0 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 2 vote for server 0
term 48 server 0 get vote from server 2
term 48 server 1 vote for server 0
term 48 server 0 become leader
------------------------------------------------------
term 48 server 0 get outdate rpc reply from server 1
flag 79723 term 48 leader 0 nextIndex[1]: 252  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 12217 term 48 leader 0 nextIndex[2]: 252  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 48 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 252->251
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 252->251
------------------------------------------------------
term 48 leader 0 nextIndex[1]: 239  matchIndex[1]: 0
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 46
------------------------------------------------------
flag 93263 term 48 leader 0 nextIndex[2]: 251  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
term 48 server 1 InstallSnapshot success
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 46 rf.commitIndex 249 rf.lastApplied 249
flag 66927 term 48 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 40757 term 48 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
flag 80611 term 48 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 12808 term 48 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
flag 2827 term 48 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 10720 term 48 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42843 term 48 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 2489 term 48 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
flag 16813 term 48 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 45373 term 48 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
flag 79918 term 48 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 97294 term 48 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
flag 99433 term 48 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 59427 term 48 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
flag 44115 term 48 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 99036 term 48 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
flag 49762 term 48 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 59612 term 48 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
flag 29601 term 48 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 11595 term 48 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55618 term 48 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 19130 term 48 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
flag 92881 term 48 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 50280 term 48 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
flag 85188 term 48 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 82608 term 48 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
term 48 server 2 not vote for server 0, 任期不够新
term 48 server 0 get outdate rpc reply from server 2
flag 43812 term 48 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 64828 term 48 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
flag 56158 term 48 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 76003 term 48 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
flag 14346 term 48 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 12184 term 48 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
flag 5219 term 48 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 21941 term 48 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4336086480873367991 (index 252) to leader 0
flag 68039 term 48 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 45096 term 48 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 48 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251} {4336086480873367991 48 252}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251} {4336086480873367991 48 252}]
------------------------------------------------------
term 48 server 2 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 2
flag 40102 term 48 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 48 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
flag 27412 term 48 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 48 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
term 48 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251} {4336086480873367991 48 252}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251} {4336086480873367991 48 252}]
------------------------------------------------------
flag 67533 term 48 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 48 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
flag 99123 term 48 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 48 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251} {4336086480873367991 48 252}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251} {4336086480873367991 48 252}]
------------------------------------------------------
flag 36636 term 48 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 48 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
flag 44212 term 48 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 48 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251} {4336086480873367991 48 252}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251} {4336086480873367991 48 252}]
------------------------------------------------------
flag 21194 term 48 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 48 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
flag 68064 term 48 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 48 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251} {4336086480873367991 48 252}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251} {4336086480873367991 48 252}]
------------------------------------------------------
flag 84985 term 48 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 48 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
flag 45272 term 48 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 48 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251} {4336086480873367991 48 252}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251} {4336086480873367991 48 252}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 355 term 48 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 48 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
flag 25160 term 48 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 48 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
flag 25742 term 48 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 48 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
flag 43201 term 48 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 48 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
flag 29227 term 48 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 48 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
flag 4547 term 48 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 48 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 253->252
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 0 nextIndex[1]: 0  matchIndex[1]: 252
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 46
------------------------------------------------------
flag 1947 term 48 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 48 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
term 49 server 2 vote for server 1
term 49 server 1 get vote from server 2
term 49 server 1 become leader
------------------------------------------------------
flag 66680 term 49 leader 1 nextIndex[0]: 253  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
flag 24508 term 49 leader 1 nextIndex[2]: 253  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251} {4336086480873367991 48 252}]
------------------------------------------------------
client write log 1990846432168734061 (index 253) to leader 1
term 48 leader 0 nextIndex[1]: 0  matchIndex[1]: 252
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 46
------------------------------------------------------
flag 16609 term 48 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 48 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
flag 91104 term 49 leader 1 nextIndex[0]: 253  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
flag 16252 term 49 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 49 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251} {4336086480873367991 48 252} {1990846432168734061 49 253}]
------------------------------------------------------
term 48 leader 0 nextIndex[1]: 0  matchIndex[1]: 252
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 46
------------------------------------------------------
flag 4778 term 48 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 48 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
flag 64883 term 49 leader 1 nextIndex[0]: 253  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 253 
------------------------------------------------------
flag 57054 term 49 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 49 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 49 leaderCommit: 253 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251} {4336086480873367991 48 252} {1990846432168734061 49 253}]
------------------------------------------------------
client write log 3138455648369217916 (index 254) to leader 1
client write log 3842032289928903011 (index 255) to leader 1
client write log 287252471605350062 (index 256) to leader 1
client write log 5372369885295082281 (index 257) to leader 1
client write log 7807016930076695987 (index 258) to leader 1
client write log 6163491880249381014 (index 259) to leader 1
term 48 leader 0 nextIndex[1]: 0  matchIndex[1]: 252
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 46
------------------------------------------------------
flag 45069 term 48 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 48 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
flag 35110 term 49 leader 1 nextIndex[0]: 253  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 253 
------------------------------------------------------
flag 7145 term 49 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 49 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 49 leaderCommit: 253 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 46 249} {3730400782349087560 46 250} {4336086480873367991 46 251} {4336086480873367991 48 252} {1990846432168734061 49 253} {3138455648369217916 49 254} {3842032289928903011 49 255} {287252471605350062 49 256} {5372369885295082281 49 257} {7807016930076695987 49 258} {6163491880249381014 49 259}]
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 Server1 start snapshot! index=259
term 49 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
term 48 leader 0 nextIndex[1]: 0  matchIndex[1]: 252
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 46
------------------------------------------------------
flag 63478 term 48 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 48 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
term 49 leader 1 nextIndex[0]: 253  matchIndex[0]: 0
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 49
------------------------------------------------------
flag 15636 term 49 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 49 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 49 leaderCommit: 259 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 49 259}]
------------------------------------------------------
term 49 Server2 start snapshot! index=259
term 49 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6906048764788977044 (index 260) to leader 1
term 48 leader 0 nextIndex[1]: 0  matchIndex[1]: 252
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 46
------------------------------------------------------
flag 12925 term 48 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 48 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
term 49 server 2 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 49 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 leader 1 nextIndex[0]: 253  matchIndex[0]: 0
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 49
------------------------------------------------------
flag 59597 term 49 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 49 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 49 leaderCommit: 259 
------------------------------------------------------
term 49 server 0 InstallSnapshot success
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 49 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 260 matchIndex[0] 259 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 49 rf.commitIndex 259 rf.lastApplied 259
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {6906048764788977044 49 260}]
------------------------------------------------------
flag 41597 term 49 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 49 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 78095 term 49 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 49 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {6906048764788977044 49 260}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {6906048764788977044 49 260}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81415 term 49 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 49 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 97351 term 49 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 49 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {6906048764788977044 49 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {6906048764788977044 49 260}]
------------------------------------------------------
flag 73590 term 49 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 49 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 66554 term 49 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 49 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {6906048764788977044 49 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {6906048764788977044 49 260}]
------------------------------------------------------
flag 81801 term 49 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 49 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 29079 term 49 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 49 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {6906048764788977044 49 260}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {6906048764788977044 49 260}]
------------------------------------------------------
term 49 server 2 not vote for server 1, 任期不够新
term 49 server 1 get outdate rpc reply from server 2
flag 97864 term 49 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 49 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 67730 term 49 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 49 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {6906048764788977044 49 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {6906048764788977044 49 260}]
------------------------------------------------------
flag 49357 term 49 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 49 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 94656 term 49 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 49 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {6906048764788977044 49 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {6906048764788977044 49 260}]
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 server 0 not vote for server 1, 任期不够新
term 49 server 1 get outdate rpc reply from server 0
!!!!!!diconnect server 2
client write log 3385068251932609937 (index 261) to leader 1
flag 99278 term 49 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 49 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 15537 term 49 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 49 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18225 term 49 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 49 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 261 
------------------------------------------------------
flag 63171 term 49 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 49 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 261 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261}]
------------------------------------------------------
client write log 8930987713820807646 (index 262) to leader 1
client write log 551851810977925014 (index 263) to leader 1
client write log 3097441107817249629 (index 264) to leader 1
client write log 8731161811283015562 (index 265) to leader 1
client write log 4733122634700403838 (index 266) to leader 1
client write log 6372987182713145522 (index 267) to leader 1
client write log 1236240362619462595 (index 268) to leader 1
flag 15036 term 49 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 49 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 261 
------------------------------------------------------
flag 22467 term 49 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 49 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 261 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268}]
------------------------------------------------------
flag 80045 term 49 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 49 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
flag 78628 term 49 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 49 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268}]
------------------------------------------------------
!!!!!!connect server 2
client write log 580874971389548308 (index 269) to leader 1
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 server 0 not vote for server 2, 日志不够新
term 49 server 1 not vote for server 2, 日志不够新
term 51 server 2 vote for server 1
term 51 server 1 get vote from server 2
term 51 server 1 become leader
------------------------------------------------------
term 51 server 0 vote for server 1
term 51 server 1 get outdate rpc reply from server 0
flag 11617 term 51 leader 1 nextIndex[0]: 270  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
flag 63983 term 51 leader 1 nextIndex[2]: 270  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
term 51 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 51 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 270->269
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 270->269
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76134 term 51 leader 1 nextIndex[0]: 269  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
flag 16208 term 51 leader 1 nextIndex[2]: 261  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41159 term 51 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
flag 88557 term 51 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28580 term 51 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
flag 56821 term 51 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
flag 88550 term 51 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
flag 47048 term 51 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
flag 36939 term 51 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
flag 64238 term 51 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83366 term 51 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
flag 14682 term 51 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
flag 67390 term 51 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
flag 80104 term 51 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
flag 80108 term 51 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
flag 65349 term 51 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34242 term 51 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
flag 31391 term 51 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
flag 87776 term 51 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
flag 73571 term 51 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
flag 81111 term 51 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
flag 80022 term 51 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37968 term 51 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
flag 78055 term 51 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31819 term 51 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
flag 75367 term 51 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
flag 70910 term 51 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
flag 27001 term 51 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
flag 23505 term 51 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
flag 77942 term 51 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
flag 19265 term 51 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
flag 76367 term 51 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
flag 58862 term 51 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
flag 27180 term 51 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:268 
term 51 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
flag 12878 term 51 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
flag 3616 term 51 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 580874971389548308 (index 270) to leader 1
flag 24720 term 51 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
flag 53295 term 51 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 51 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269} {580874971389548308 51 270}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 49 259} {6906048764788977044 49 260} {3385068251932609937 49 261} {8930987713820807646 49 262} {551851810977925014 49 263} {3097441107817249629 49 264} {8731161811283015562 49 265} {4733122634700403838 49 266} {6372987182713145522 49 267} {1236240362619462595 49 268} {580874971389548308 49 269} {580874971389548308 51 270}]
------------------------------------------------------
term 51 Server1 start snapshot! index=269
term 51 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68308 term 51 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 51 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 51 leaderCommit: 270 
------------------------------------------------------
flag 84884 term 51 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 51 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 51 leaderCommit: 270 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 49 269} {580874971389548308 51 270}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 49 269} {580874971389548308 51 270}]
------------------------------------------------------
term 51 Server2 start snapshot! index=269
term 51 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
term 51 Server0 start snapshot! index=269
term 51 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
term 51 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45248 term 51 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 51 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 51 leaderCommit: 270 
------------------------------------------------------
flag 71758 term 51 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 51 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 51 leaderCommit: 270 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 49 269} {580874971389548308 51 270}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 49 269} {580874971389548308 51 270}]
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35142 term 51 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 51 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 51 leaderCommit: 270 
------------------------------------------------------
flag 96338 term 51 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 51 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 51 leaderCommit: 270 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 49 269} {580874971389548308 51 270}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 49 269} {580874971389548308 51 270}]
------------------------------------------------------
flag 59146 term 51 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 51 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 51 leaderCommit: 270 
------------------------------------------------------
flag 41276 term 51 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 51 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 51 leaderCommit: 270 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 49 269} {580874971389548308 51 270}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 49 269} {580874971389548308 51 270}]
------------------------------------------------------
flag 18949 term 51 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 51 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 51 leaderCommit: 270 
------------------------------------------------------
flag 81893 term 51 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 51 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 51 leaderCommit: 270 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 49 269} {580874971389548308 51 270}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 49 269} {580874971389548308 51 270}]
------------------------------------------------------
term 51 server 0 not vote for server 1, 任期不够新
term 51 server 1 get outdate rpc reply from server 0
!!!!!!diconnect server 2
client write log 7709631179412895138 (index 271) to leader 1
flag 35206 term 51 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 51 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 51 leaderCommit: 270 
------------------------------------------------------
flag 15336 term 51 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 51 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 51 leaderCommit: 270 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 49 269} {580874971389548308 51 270} {7709631179412895138 51 271}]
------------------------------------------------------
flag 82930 term 51 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 51 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
flag 30134 term 51 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 51 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 49 269} {580874971389548308 51 270} {7709631179412895138 51 271}]
------------------------------------------------------
client write log 3992142932181034604 (index 272) to leader 1
client write log 7509575554707853491 (index 273) to leader 1
client write log 746579831555093187 (index 274) to leader 1
client write log 7871258720854775548 (index 275) to leader 1
client write log 1419325338760680618 (index 276) to leader 1
client write log 405045781658134523 (index 277) to leader 1
client write log 6988755986880153928 (index 278) to leader 1
client write log 9209189336079574621 (index 279) to leader 1
client write log 8138698841721741674 (index 280) to leader 1
client write log 6654915932673090775 (index 281) to leader 1
client write log 2454642253667234701 (index 282) to leader 1
client write log 7029315794481476225 (index 283) to leader 1
client write log 1152775276637194322 (index 284) to leader 1
client write log 78561345112368016 (index 285) to leader 1
client write log 7225790255678866118 (index 286) to leader 1
flag 71020 term 51 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 51 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
flag 65961 term 51 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 51 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 49 269} {580874971389548308 51 270} {7709631179412895138 51 271} {3992142932181034604 51 272} {7509575554707853491 51 273} {746579831555093187 51 274} {7871258720854775548 51 275} {1419325338760680618 51 276} {405045781658134523 51 277} {6988755986880153928 51 278} {9209189336079574621 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286}]
------------------------------------------------------
term 51 Server1 start snapshot! index=279
term 51 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=286
-------------------------------------------------------------
flag 61893 term 51 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 51 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286}]
------------------------------------------------------
term 51 Server0 start snapshot! index=279
term 51 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=286
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8244237741484214210 (index 287) to leader 1
flag 50178 term 51 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 51 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 51
------------------------------------------------------
term 52 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 2 vote for server 1
term 53 server 1 get vote from server 2
term 53 server 1 become leader
------------------------------------------------------
term 53 server 0 vote for server 1
term 53 server 1 get outdate rpc reply from server 0
flag 16190 term 53 leader 1 nextIndex[0]: 288  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 24766 term 53 leader 1 nextIndex[2]: 288  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 288->287
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
flag 61659 term 53 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 271  matchIndex[2]: 0
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 51
------------------------------------------------------
term 53 server 2 InstallSnapshot success
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 280 matchIndex[2] 279 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 51 rf.commitIndex 279 rf.lastApplied 279
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
flag 84176 term 53 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 70042 term 53 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 53 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5583 term 53 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 72663 term 53 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73350 term 53 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 99032 term 53 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
flag 18504 term 53 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 77923 term 53 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
flag 63996 term 53 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 40330 term 53 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69713 term 53 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 39808 term 53 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30894 term 53 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 51333 term 53 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
flag 81367 term 53 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 31615 term 53 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
flag 51348 term 53 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 69319 term 53 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22839 term 53 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 30989 term 53 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
flag 96932 term 53 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 60440 term 53 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
term 53 server 0 not vote for server 2, 任期不够新
term 53 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58953 term 53 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 76274 term 53 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
flag 83612 term 53 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 24948 term 53 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
flag 91525 term 53 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 26507 term 53 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
flag 91884 term 53 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 92987 term 53 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
flag 62974 term 53 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 35291 term 53 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287}]
------------------------------------------------------
flag 35575 term 53 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 40615 term 53 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
client write log 8244237741484214210 (index 288) to leader 1
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287} {8244237741484214210 53 288}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287} {8244237741484214210 53 288}]
------------------------------------------------------
flag 88993 term 53 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 70851 term 53 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287} {8244237741484214210 53 288}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287} {8244237741484214210 53 288}]
------------------------------------------------------
flag 47161 term 53 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 99016 term 53 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287} {8244237741484214210 53 288}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287} {8244237741484214210 53 288}]
------------------------------------------------------
flag 48938 term 53 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 42352 term 53 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287} {8244237741484214210 53 288}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287} {8244237741484214210 53 288}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77649 term 53 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 25741 term 53 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287} {8244237741484214210 53 288}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287} {8244237741484214210 53 288}]
------------------------------------------------------
flag 53601 term 53 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 78728 term 53 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287} {8244237741484214210 53 288}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287} {8244237741484214210 53 288}]
------------------------------------------------------
flag 52716 term 53 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 9363 term 53 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287} {8244237741484214210 53 288}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287} {8244237741484214210 53 288}]
------------------------------------------------------
flag 20546 term 53 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 84135 term 53 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287} {8244237741484214210 53 288}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287} {8244237741484214210 53 288}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
flag 53362 term 53 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 86226 term 53 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 20765 term 53 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 86916 term 53 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 49807 term 53 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 1885 term 53 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 14488 term 53 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 50748 term 53 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
term 54 server 2 vote for server 0
term 54 server 0 get vote from server 2
term 54 server 0 become leader
------------------------------------------------------
flag 37949 term 54 leader 0 nextIndex[1]: 289  matchIndex[1]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 79240 term 54 leader 0 nextIndex[2]: 289  matchIndex[2]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287} {8244237741484214210 53 288}]
------------------------------------------------------
client write log 8339746377631957794 (index 289) to leader 0
flag 84534 term 53 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 86028 term 53 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 20676 term 54 leader 0 nextIndex[1]: 289  matchIndex[1]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 54424 term 54 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 54 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 279} {8138698841721741674 51 280} {6654915932673090775 51 281} {2454642253667234701 51 282} {7029315794481476225 51 283} {1152775276637194322 51 284} {78561345112368016 51 285} {7225790255678866118 51 286} {8244237741484214210 51 287} {8244237741484214210 53 288} {8339746377631957794 54 289}]
------------------------------------------------------
term 54 Server0 start snapshot! index=289
term 54 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
flag 81163 term 53 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 56780 term 53 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
term 54 leader 0 nextIndex[1]: 289  matchIndex[1]: 0
term 54 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 54
------------------------------------------------------
flag 52655 term 54 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 54 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 54 leaderCommit: 289 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=289
leader log:
[{snapshot 54 289}]
------------------------------------------------------
term 54 Server2 start snapshot! index=289
term 54 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
client write log 5240635736026637967 (index 290) to leader 0
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35162 term 53 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 99155 term 53 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
term 54 leader 0 nextIndex[1]: 289  matchIndex[1]: 0
term 54 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 54
------------------------------------------------------
flag 94194 term 54 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 54 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 54 leaderCommit: 289 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
flag 78571 term 53 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 31409 term 53 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
term 54 leader 0 nextIndex[1]: 289  matchIndex[1]: 0
term 54 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 54
------------------------------------------------------
flag 47925 term 54 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
!!!!!!connect server 1
client write log 1917227046205998603 (index 289) to leader 1
flag 5897 term 53 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 3318 term 53 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
term 54 server 2 AppendEntries false 领导者任期过期 args.Term 53
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 54 server 0 AppendEntries false 领导者任期过期 args.Term 53
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 leader 0 nextIndex[1]: 289  matchIndex[1]: 0
term 54 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 54
------------------------------------------------------
flag 57607 term 54 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
term 54 server 1 InstallSnapshot success
------------------------------------------------------
term 54 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 54 rf.commitIndex 289 rf.lastApplied 289
flag 51039 term 54 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 54 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
flag 60708 term 54 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98734 term 54 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
flag 9244 term 54 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
flag 62345 term 54 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
flag 47520 term 54 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
flag 28939 term 54 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
flag 69112 term 54 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
flag 63937 term 54 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
flag 45714 term 54 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
flag 47024 term 54 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
flag 3053 term 54 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
flag 69362 term 54 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
flag 12738 term 54 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
term 54 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27106 term 54 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
flag 90750 term 54 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
flag 24510 term 54 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
flag 35384 term 54 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
flag 53956 term 54 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
flag 28036 term 54 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6030 term 54 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
flag 1522 term 54 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
flag 99741 term 54 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
flag 56310 term 54 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 291->290
------------------------------------------------------
term 54 leader 0 nextIndex[1]: 0  matchIndex[1]: 290
term 54 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 54
------------------------------------------------------
flag 86408 term 54 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
term 54 server 1 InstallSnapshot fail
rf.commitIndex 290 args.LastIncludedIndex 289
------------------------------------------------------
term 54 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16923 term 54 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 54 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
flag 87232 term 54 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
term 54 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91501 term 54 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
flag 57980 term 54 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8788 term 54 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
flag 66951 term 54 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90048 term 54 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
flag 48435 term 54 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
flag 6958 term 54 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
flag 59642 term 54 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93245 term 54 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
flag 56352 term 54 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 54 289} {5240635736026637967 54 290}]
------------------------------------------------------
client write log 1917227046205998603 (index 291) to leader 0
flag 10050 term 54 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
flag 42243 term 54 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 54 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 54 leaderCommit: 290 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 54 289} {5240635736026637967 54 290} {1917227046205998603 54 291}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 54 289} {5240635736026637967 54 290} {1917227046205998603 54 291}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9577 term 54 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 54 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 54 leaderCommit: 291 
------------------------------------------------------
flag 84689 term 54 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 54 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 54 leaderCommit: 291 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 54 289} {5240635736026637967 54 290} {1917227046205998603 54 291}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 54 289} {5240635736026637967 54 290} {1917227046205998603 54 291}]
------------------------------------------------------
flag 46572 term 54 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 54 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 54 leaderCommit: 291 
------------------------------------------------------
flag 49322 term 54 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 54 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 54 leaderCommit: 291 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 54 289} {5240635736026637967 54 290} {1917227046205998603 54 291}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 54 289} {5240635736026637967 54 290} {1917227046205998603 54 291}]
------------------------------------------------------
flag 76340 term 54 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 54 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 54 leaderCommit: 291 
------------------------------------------------------
flag 45193 term 54 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 54 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 54 leaderCommit: 291 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 54 289} {5240635736026637967 54 290} {1917227046205998603 54 291}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 54 289} {5240635736026637967 54 290} {1917227046205998603 54 291}]
------------------------------------------------------
flag 78282 term 54 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 54 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 54 leaderCommit: 291 
------------------------------------------------------
flag 30021 term 54 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 54 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 54 leaderCommit: 291 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 54 289} {5240635736026637967 54 290} {1917227046205998603 54 291}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 54 289} {5240635736026637967 54 290} {1917227046205998603 54 291}]
------------------------------------------------------
flag 357 term 54 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 54 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 54 leaderCommit: 291 
------------------------------------------------------
flag 56391 term 54 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 54 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 54 leaderCommit: 291 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 54 289} {5240635736026637967 54 290} {1917227046205998603 54 291}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 54 289} {5240635736026637967 54 290} {1917227046205998603 54 291}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1487437528189554655 (index 292) to leader 0
flag 38470 term 54 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 54 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 54 leaderCommit: 291 
------------------------------------------------------
flag 69677 term 54 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 54 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 54 leaderCommit: 291 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {5240635736026637967 54 290} {1917227046205998603 54 291} {1487437528189554655 54 292}]
------------------------------------------------------
flag 99374 term 54 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 54 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
flag 82248 term 54 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 54 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {5240635736026637967 54 290} {1917227046205998603 54 291} {1487437528189554655 54 292}]
------------------------------------------------------
client write log 4810632467393769809 (index 293) to leader 0
client write log 9915986462113671 (index 294) to leader 0
client write log 1832444855994311290 (index 295) to leader 0
client write log 2280201922176087806 (index 296) to leader 0
client write log 7622261627543612303 (index 297) to leader 0
client write log 1126443746125953895 (index 298) to leader 0
client write log 6702066476130736878 (index 299) to leader 0
client write log 3340587738981097822 (index 300) to leader 0
client write log 7453237983262135241 (index 301) to leader 0
client write log 7616235589320984194 (index 302) to leader 0
flag 99479 term 54 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 54 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
flag 44256 term 54 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 54 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 54 289} {5240635736026637967 54 290} {1917227046205998603 54 291} {1487437528189554655 54 292} {4810632467393769809 54 293} {9915986462113671 54 294} {1832444855994311290 54 295} {2280201922176087806 54 296} {7622261627543612303 54 297} {1126443746125953895 54 298} {6702066476130736878 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302}]
------------------------------------------------------
term 54 Server0 start snapshot! index=299
term 54 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=302
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 54 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 54
------------------------------------------------------
flag 36345 term 54 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 54 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302}]
------------------------------------------------------
term 54 Server2 start snapshot! index=299
term 54 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=302
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2256327398003807316 (index 303) to leader 0
term 54 server 1 not vote for server 2, 任期不够新
term 54 server 2 get outdate rpc reply from server 1
term 54 server 2 not vote for server 1, 日志不够新
term 54 server 0 not vote for server 1, 日志不够新
term 56 server 2 vote for server 0
term 56 server 1 vote for server 0
term 56 server 0 get vote from server 2
term 56 server 0 become leader
------------------------------------------------------
term 56 server 0 get outdate rpc reply from server 1
flag 46196 term 56 leader 0 nextIndex[1]: 304  matchIndex[1]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
flag 75938 term 56 leader 0 nextIndex[2]: 304  matchIndex[2]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
term 56 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 56 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 304->303
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 304->303
------------------------------------------------------
term 56 leader 0 nextIndex[1]: 292  matchIndex[1]: 0
term 56 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 54
------------------------------------------------------
flag 27352 term 56 leader 0 nextIndex[2]: 303  matchIndex[2]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
term 56 server 1 InstallSnapshot success
------------------------------------------------------
term 56 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 54 rf.commitIndex 299 rf.lastApplied 299
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
term 56 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6581 term 56 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 56 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
flag 89914 term 56 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59527 term 56 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
flag 69260 term 56 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
flag 5571 term 56 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
flag 1254 term 56 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
flag 22737 term 56 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
flag 20351 term 56 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
flag 35409 term 56 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
flag 67504 term 56 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
term 56 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7527 term 56 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
flag 16283 term 56 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
flag 66236 term 56 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
flag 13353 term 56 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
flag 59722 term 56 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
flag 30636 term 56 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
flag 20773 term 56 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
flag 24886 term 56 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
flag 29951 term 56 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
flag 72875 term 56 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28275 term 56 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
flag 40752 term 56 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46899 term 56 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
flag 36052 term 56 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
flag 57026 term 56 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
flag 76619 term 56 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
flag 60839 term 56 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
flag 13254 term 56 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:302 
term 56 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
flag 21474 term 56 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
flag 86463 term 56 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
flag 75239 term 56 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
flag 82630 term 56 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
flag 74493 term 56 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
flag 792 term 56 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303}]
------------------------------------------------------
client write log 2256327398003807316 (index 304) to leader 0
flag 77819 term 56 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
flag 38773 term 56 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 56 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 302 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303} {2256327398003807316 56 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303} {2256327398003807316 56 304}]
------------------------------------------------------
flag 78455 term 56 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 56 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 56 leaderCommit: 304 
------------------------------------------------------
flag 61088 term 56 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 56 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 56 leaderCommit: 304 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303} {2256327398003807316 56 304}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303} {2256327398003807316 56 304}]
------------------------------------------------------
flag 80622 term 56 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 56 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 56 leaderCommit: 304 
------------------------------------------------------
flag 83574 term 56 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 56 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 56 leaderCommit: 304 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303} {2256327398003807316 56 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303} {2256327398003807316 56 304}]
------------------------------------------------------
flag 87756 term 56 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 56 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 56 leaderCommit: 304 
------------------------------------------------------
flag 45341 term 56 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 56 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 56 leaderCommit: 304 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303} {2256327398003807316 56 304}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303} {2256327398003807316 56 304}]
------------------------------------------------------
flag 71829 term 56 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 56 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 56 leaderCommit: 304 
------------------------------------------------------
flag 85531 term 56 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 56 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 56 leaderCommit: 304 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303} {2256327398003807316 56 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303} {2256327398003807316 56 304}]
------------------------------------------------------
flag 65098 term 56 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 56 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 56 leaderCommit: 304 
------------------------------------------------------
flag 36929 term 56 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 56 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 56 leaderCommit: 304 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303} {2256327398003807316 56 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303} {2256327398003807316 56 304}]
------------------------------------------------------
flag 64239 term 56 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 56 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 56 leaderCommit: 304 
------------------------------------------------------
flag 3362 term 56 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 56 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 56 leaderCommit: 304 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303} {2256327398003807316 56 304}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 54 299} {3340587738981097822 54 300} {7453237983262135241 54 301} {7616235589320984194 54 302} {2256327398003807316 54 303} {2256327398003807316 56 304}]
------------------------------------------------------
  ... Passed --  79.2  3 1799  760595  304
--- PASS: TestSnapshotInstall2D (79.22s)
PASS
