=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 0 vote for server 1
term 1 server 1 get vote from server 0
term 1 server 1 become leader
------------------------------------------------------
term 1 server 1 get outdate rpc reply from server 2
flag 89024 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 44790 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 6328466003440114326 (index 1) to leader 1
flag 79856 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 88111 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6328466003440114326 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6328466003440114326 1 1}]
------------------------------------------------------
flag 46052 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 3826 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6328466003440114326 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6328466003440114326 1 1}]
------------------------------------------------------
flag 91903 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 2960 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6328466003440114326 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6328466003440114326 1 1}]
------------------------------------------------------
flag 17359 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 84245 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6328466003440114326 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6328466003440114326 1 1}]
------------------------------------------------------
flag 65360 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 94587 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6328466003440114326 1 1}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6328466003440114326 1 1}]
------------------------------------------------------
flag 54453 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 70157 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6328466003440114326 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6328466003440114326 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3884446030519927621 (index 2) to leader 1
flag 12636 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 83173 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2}]
------------------------------------------------------
flag 11186 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 56969 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2}]
------------------------------------------------------
client write log 4516459427133588073 (index 3) to leader 1
client write log 6240429595845622703 (index 4) to leader 1
client write log 6457789842556764755 (index 5) to leader 1
client write log 8585377107245761278 (index 6) to leader 1
client write log 3066817809789527718 (index 7) to leader 1
client write log 4021408670954339457 (index 8) to leader 1
flag 66973 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 76747 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8}]
------------------------------------------------------
flag 83644 term 1 leader 1 nextIndex[0]: 9  matchIndex[0]: 8
term 1 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 76536 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8}]
------------------------------------------------------
!!!!!!connect server 2
client write log 7921472130079681286 (index 9) to leader 1
term 1 server 1 not vote for server 2, 日志不够新
term 1 server 0 not vote for server 2, 日志不够新
term 3 server 0 vote for server 1
term 3 server 1 get vote from server 0
term 3 server 1 become leader
------------------------------------------------------
term 3 server 2 vote for server 1
term 3 server 1 get outdate rpc reply from server 2
flag 33400 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 2203 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 10->9
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 10->9
------------------------------------------------------
flag 9554 term 3 leader 1 nextIndex[0]: 9  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 46541 term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
flag 54452 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 14627 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
flag 89300 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 6849 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
flag 69867 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 69202 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
flag 10238 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 79135 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
flag 64545 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 91849 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24423 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 5633 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
flag 29029 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 51200 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
flag 85801 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 22985 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
flag 73678 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 40248 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
flag 97933 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 43150 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
flag 81194 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 56036 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
flag 87997 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 66073 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
flag 60878 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 38961 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
flag 66054 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 58688 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
flag 48840 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 59162 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
flag 40405 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 93070 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
flag 62089 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 59580 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
flag 35790 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 30353 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9}]
------------------------------------------------------
client write log 7921472130079681286 (index 10) to leader 1
flag 51628 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 4950 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9} {7921472130079681286 3 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {6328466003440114326 1 1} {3884446030519927621 1 2} {4516459427133588073 1 3} {6240429595845622703 1 4} {6457789842556764755 1 5} {8585377107245761278 1 6} {3066817809789527718 1 7} {4021408670954339457 1 8} {7921472130079681286 1 9} {7921472130079681286 3 10}]
------------------------------------------------------
term 3 Server1 start snapshot! index=9
term 3 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9291 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 99574 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7921472130079681286 3 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7921472130079681286 3 10}]
------------------------------------------------------
term 3 Server2 start snapshot! index=9
term 3 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
term 3 Server0 start snapshot! index=9
term 3 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 14288 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 88795 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7921472130079681286 3 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7921472130079681286 3 10}]
------------------------------------------------------
flag 28891 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 53409 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7921472130079681286 3 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7921472130079681286 3 10}]
------------------------------------------------------
flag 54287 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 2754 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7921472130079681286 3 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7921472130079681286 3 10}]
------------------------------------------------------
flag 15050 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 45287 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7921472130079681286 3 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7921472130079681286 3 10}]
------------------------------------------------------
flag 72226 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 82726 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7921472130079681286 3 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7921472130079681286 3 10}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 42931 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 81002 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 56680 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 82521 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 86407 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 88738 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 0 vote for server 2
term 4 server 2 get vote from server 0
term 4 server 2 become leader
------------------------------------------------------
flag 49818 term 4 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 60821 term 4 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7921472130079681286 3 10}]
------------------------------------------------------
flag 7464 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 13615 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
client write log 6464357317344311143 (index 11) to leader 2
flag 64864 term 4 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 54978 term 4 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7921472130079681286 3 10} {6464357317344311143 4 11}]
------------------------------------------------------
flag 97911 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 23764 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 37657 term 4 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
flag 68535 term 4 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7921472130079681286 3 10} {6464357317344311143 4 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 11->10
------------------------------------------------------
client write log 355661173575649864 (index 12) to leader 2
client write log 1957982426108539391 (index 13) to leader 2
client write log 8403945757469922716 (index 14) to leader 2
client write log 1001184993810293817 (index 15) to leader 2
client write log 3468027902060575135 (index 16) to leader 2
client write log 3028166097566342182 (index 17) to leader 2
client write log 1920652795411819494 (index 18) to leader 2
client write log 7888835697554227685 (index 19) to leader 2
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 10
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 60669 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 67013 term 4 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
flag 62389 term 4 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {7921472130079681286 3 10} {6464357317344311143 4 11} {355661173575649864 4 12} {1957982426108539391 4 13} {8403945757469922716 4 14} {1001184993810293817 4 15} {3468027902060575135 4 16} {3028166097566342182 4 17} {1920652795411819494 4 18} {7888835697554227685 4 19}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 10
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 86461 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 55414 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6756419837556401631 (index 11) to leader 1
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 10
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 7411 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 4 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69184 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot success
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 51287 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 13138 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16362 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 84709 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98089 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 62374 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 83376 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 83575 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 20->19
------------------------------------------------------
flag 56234 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 19
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 19 args.LastIncludedIndex 19
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 60253 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 7409 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 97736 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 14550 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92893 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 24376 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22213 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 27417 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 86859 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 82057 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 14797 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 48876 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 13892 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 72148 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 37664 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 8545 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 20->19
------------------------------------------------------
flag 82442 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 19
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 19 args.LastIncludedIndex 19
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 34710 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 35219 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 6214 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 75135 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 59069 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 49007 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 20->19
------------------------------------------------------
flag 17699 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 19
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 19 args.LastIncludedIndex 19
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
flag 42266 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 49682 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
client write log 6756419837556401631 (index 20) to leader 2
flag 15285 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 22477 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {6756419837556401631 4 20}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {6756419837556401631 4 20}]
------------------------------------------------------
flag 37669 term 4 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 15090 term 4 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {6756419837556401631 4 20}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {6756419837556401631 4 20}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35862 term 4 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 60460 term 4 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {6756419837556401631 4 20}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {6756419837556401631 4 20}]
------------------------------------------------------
flag 93783 term 4 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 55544 term 4 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {6756419837556401631 4 20}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {6756419837556401631 4 20}]
------------------------------------------------------
flag 85809 term 4 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 76975 term 4 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {6756419837556401631 4 20}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {6756419837556401631 4 20}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10032 term 4 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 88424 term 4 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {6756419837556401631 4 20}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {6756419837556401631 4 20}]
------------------------------------------------------
flag 71778 term 4 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 5324 term 4 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {6756419837556401631 4 20}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {6756419837556401631 4 20}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 247571967965688191 (index 21) to leader 2
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 2 get outdate rpc reply from server 1
flag 52582 term 4 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 27163 term 4 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {6756419837556401631 4 20} {247571967965688191 4 21}]
------------------------------------------------------
flag 20133 term 4 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 67436 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {6756419837556401631 4 20} {247571967965688191 4 21}]
------------------------------------------------------
client write log 2513731748675653664 (index 22) to leader 2
client write log 5941276459017357881 (index 23) to leader 2
client write log 2951650909829927286 (index 24) to leader 2
client write log 7946084718635523503 (index 25) to leader 2
client write log 7567191059080146625 (index 26) to leader 2
client write log 8481660666079267588 (index 27) to leader 2
client write log 1018365332439001146 (index 28) to leader 2
client write log 3628357787784600090 (index 29) to leader 2
client write log 8533034232337543863 (index 30) to leader 2
client write log 7124748229353441520 (index 31) to leader 2
flag 55267 term 4 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 64199 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 19} {6756419837556401631 4 20} {247571967965688191 4 21} {2513731748675653664 4 22} {5941276459017357881 4 23} {2951650909829927286 4 24} {7946084718635523503 4 25} {7567191059080146625 4 26} {8481660666079267588 4 27} {1018365332439001146 4 28} {3628357787784600090 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=31
-------------------------------------------------------------
term 4 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 55617 term 4 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
term 4 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31}]
------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=31
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8060387045704853361 (index 32) to leader 2
term 4 server 1 not vote for server 0, 日志不够新
term 4 server 2 not vote for server 0, 日志不够新
term 6 server 1 vote for server 2
term 6 server 0 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 2 get outdate rpc reply from server 0
flag 31896 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 2858 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 33->32
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 33->32
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 21  matchIndex[0]: 0
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 14448 term 6 leader 2 nextIndex[1]: 32  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
term 6 server 0 InstallSnapshot success
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61852 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 78205 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
flag 98670 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 35408 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90168 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 34552 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
flag 67003 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 76231 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
flag 34163 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 77632 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
flag 90409 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 50420 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
flag 18161 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 65648 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
flag 97006 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 12898 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
term 6 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 90494 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 51740 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80459 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 36338 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91990 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 77789 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
flag 56111 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 67074 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97417 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 7197 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20736 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 80666 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
term 6 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15457 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 58237 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
flag 99409 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 59209 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
flag 49574 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 33095 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
flag 50980 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 61318 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32}]
------------------------------------------------------
client write log 8060387045704853361 (index 33) to leader 2
flag 14641 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 47830 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32} {8060387045704853361 6 33}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32} {8060387045704853361 6 33}]
------------------------------------------------------
flag 40873 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 11252 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32} {8060387045704853361 6 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32} {8060387045704853361 6 33}]
------------------------------------------------------
flag 78945 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 80886 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32} {8060387045704853361 6 33}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32} {8060387045704853361 6 33}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35252 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 31849 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32} {8060387045704853361 6 33}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32} {8060387045704853361 6 33}]
------------------------------------------------------
flag 91256 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 29150 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32} {8060387045704853361 6 33}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32} {8060387045704853361 6 33}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91332 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 81222 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32} {8060387045704853361 6 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32} {8060387045704853361 6 33}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5851448345746934077 (index 34) to leader 2
flag 47089 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 93388 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32} {8060387045704853361 6 33} {5851448345746934077 6 34}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15913 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 29191 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32} {8060387045704853361 6 33} {5851448345746934077 6 34}]
------------------------------------------------------
client write log 3998398964771316915 (index 35) to leader 2
client write log 1839068596256634104 (index 36) to leader 2
client write log 1635342030387747390 (index 37) to leader 2
client write log 340468741823270593 (index 38) to leader 2
client write log 162264110412099813 (index 39) to leader 2
client write log 9195142001755548451 (index 40) to leader 2
client write log 5979008055161968627 (index 41) to leader 2
client write log 5957968189210515353 (index 42) to leader 2
client write log 4572424182381728367 (index 43) to leader 2
client write log 8900016305941637168 (index 44) to leader 2
flag 90985 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 2017 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 29} {8533034232337543863 4 30} {7124748229353441520 4 31} {8060387045704853361 4 32} {8060387045704853361 6 33} {5851448345746934077 6 34} {3998398964771316915 6 35} {1839068596256634104 6 36} {1635342030387747390 6 37} {340468741823270593 6 38} {162264110412099813 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=44
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 46980 term 6 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=44
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2979996887842735649 (index 45) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 not vote for server 0, 日志不够新
term 6 server 1 not vote for server 0, 日志不够新
term 8 server 1 vote for server 2
term 8 server 0 vote for server 2
term 8 server 2 get vote from server 0
term 8 server 2 become leader
------------------------------------------------------
term 8 server 2 get outdate rpc reply from server 1
flag 56992 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 27789 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 46->45
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 46->45
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 34  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 18755 term 8 leader 2 nextIndex[1]: 45  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
term 8 server 0 InstallSnapshot success
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
flag 45976 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 93079 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
flag 36959 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 38044 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
flag 29662 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 89377 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
flag 26195 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 24627 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86393 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 92167 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
flag 46172 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 69696 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
flag 16669 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 24704 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42549 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 93388 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
flag 38004 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 49629 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
flag 47568 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 48759 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
flag 75501 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 92288 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
flag 41751 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 63286 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
flag 2585 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 57667 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
flag 70492 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 22076 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36128 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 31675 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
flag 68754 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 97997 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
update nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
flag 69569 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 59496 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
flag 81137 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 17179 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45}]
------------------------------------------------------
client write log 2979996887842735649 (index 46) to leader 2
flag 2509 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 27880 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45} {2979996887842735649 8 46}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45} {2979996887842735649 8 46}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16564 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 93510 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45} {2979996887842735649 8 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45} {2979996887842735649 8 46}]
------------------------------------------------------
flag 84168 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 78845 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45} {2979996887842735649 8 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45} {2979996887842735649 8 46}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82643 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 47132 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45} {2979996887842735649 8 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45} {2979996887842735649 8 46}]
------------------------------------------------------
flag 60291 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 69411 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45} {2979996887842735649 8 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45} {2979996887842735649 8 46}]
------------------------------------------------------
flag 19987 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 59355 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45} {2979996887842735649 8 46}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45} {2979996887842735649 8 46}]
------------------------------------------------------
flag 846 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 13102 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45} {2979996887842735649 8 46}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45} {2979996887842735649 8 46}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 21049 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 56866 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 12227 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 37302 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 61892 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 70510 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 94143 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 15712 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 9 server 1 vote for server 0
term 9 server 0 get vote from server 1
term 9 server 0 become leader
------------------------------------------------------
flag 36981 term 9 leader 0 nextIndex[1]: 47  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 13174 term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45} {2979996887842735649 8 46}]
------------------------------------------------------
client write log 1904702122134312404 (index 47) to leader 0
flag 26397 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 18603 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 72869 term 9 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 80807 term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45} {2979996887842735649 8 46} {1904702122134312404 9 47}]
------------------------------------------------------
flag 43767 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 59214 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 11617 term 9 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 43770 term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 47 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45} {2979996887842735649 8 46} {1904702122134312404 9 47}]
------------------------------------------------------
client write log 8137703947102627416 (index 48) to leader 0
client write log 2481611889367766708 (index 49) to leader 0
client write log 2631302398009701894 (index 50) to leader 0
client write log 3256195441202109572 (index 51) to leader 0
client write log 4708048171638752256 (index 52) to leader 0
client write log 3542015644258199349 (index 53) to leader 0
client write log 2514887199519741285 (index 54) to leader 0
client write log 3786850635573938413 (index 55) to leader 0
client write log 2684570723867170522 (index 56) to leader 0
client write log 7453354523984931019 (index 57) to leader 0
flag 43669 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 33730 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 77777 term 9 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 39168 term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 47 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 39} {9195142001755548451 6 40} {5979008055161968627 6 41} {5957968189210515353 6 42} {4572424182381728367 6 43} {8900016305941637168 6 44} {2979996887842735649 6 45} {2979996887842735649 8 46} {1904702122134312404 9 47} {8137703947102627416 9 48} {2481611889367766708 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=57
-------------------------------------------------------------
flag 75518 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 24364 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 69417 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=57
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1407986711953792555 (index 47) to leader 2
flag 64938 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 41398 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 9 server 1 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22544 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 2 InstallSnapshot success
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 50->49
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79124 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 0  matchIndex[2]: 49
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 2 InstallSnapshot fail
rf.commitIndex 49 args.LastIncludedIndex 49
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
flag 41991 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 16363 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
flag 64009 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 83842 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
flag 77312 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 96355 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
flag 71743 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 68790 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 58->57
------------------------------------------------------
flag 21442 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 0  matchIndex[2]: 57
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 2 InstallSnapshot fail
rf.commitIndex 57 args.LastIncludedIndex 49
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
flag 6229 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 87434 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
flag 55736 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 98484 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
flag 15780 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 30045 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
flag 80248 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 93869 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
flag 12764 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 45077 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
flag 52499 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 99165 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
flag 59406 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 19506 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
term 9 server 2 not vote for server 0, 日志不够新
term 9 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88436 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 76556 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
flag 86856 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 79884 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60223 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 57507 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
flag 99281 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 29187 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46316 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 27818 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 58->57
------------------------------------------------------
flag 20367 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 0  matchIndex[2]: 57
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 2 InstallSnapshot fail
rf.commitIndex 57 args.LastIncludedIndex 49
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57}]
------------------------------------------------------
client write log 1407986711953792555 (index 58) to leader 0
flag 66021 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 99884 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57} {1407986711953792555 9 58}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57} {1407986711953792555 9 58}]
------------------------------------------------------
flag 83381 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 71130 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57} {1407986711953792555 9 58}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57} {1407986711953792555 9 58}]
------------------------------------------------------
flag 11856 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 5613 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57} {1407986711953792555 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57} {1407986711953792555 9 58}]
------------------------------------------------------
flag 47260 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 30068 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57} {1407986711953792555 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57} {1407986711953792555 9 58}]
------------------------------------------------------
flag 37765 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 6912 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57} {1407986711953792555 9 58}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57} {1407986711953792555 9 58}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98897 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 2647 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57} {1407986711953792555 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57} {1407986711953792555 9 58}]
------------------------------------------------------
flag 15 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 53693 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57} {1407986711953792555 9 58}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57} {1407986711953792555 9 58}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7442401706593778734 (index 59) to leader 0
flag 88907 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 74081 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 49} {2631302398009701894 9 50} {3256195441202109572 9 51} {4708048171638752256 9 52} {3542015644258199349 9 53} {2514887199519741285 9 54} {3786850635573938413 9 55} {2684570723867170522 9 56} {7453354523984931019 9 57} {1407986711953792555 9 58} {7442401706593778734 9 59}]
------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 9991 term 9 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 9 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
client write log 8531162560546128136 (index 60) to leader 0
client write log 923753473547188756 (index 61) to leader 0
client write log 7091310089631082941 (index 62) to leader 0
client write log 663504525495959934 (index 63) to leader 0
client write log 4014294973122826434 (index 64) to leader 0
client write log 2576378406516177713 (index 65) to leader 0
client write log 7167336254544001727 (index 66) to leader 0
client write log 488698219905388921 (index 67) to leader 0
client write log 6096479365546754336 (index 68) to leader 0
term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 77156 term 9 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 9 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8531162560546128136 9 60} {923753473547188756 9 61} {7091310089631082941 9 62} {663504525495959934 9 63} {4014294973122826434 9 64} {2576378406516177713 9 65} {7167336254544001727 9 66} {488698219905388921 9 67} {6096479365546754336 9 68}]
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 15002 term 9 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 9 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8531162560546128136 9 60} {923753473547188756 9 61} {7091310089631082941 9 62} {663504525495959934 9 63} {4014294973122826434 9 64} {2576378406516177713 9 65} {7167336254544001727 9 66} {488698219905388921 9 67} {6096479365546754336 9 68}]
------------------------------------------------------
!!!!!!connect server 1
client write log 1729491953763272397 (index 69) to leader 0
term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 69058 term 9 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 9 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 59} {8531162560546128136 9 60} {923753473547188756 9 61} {7091310089631082941 9 62} {663504525495959934 9 63} {4014294973122826434 9 64} {2576378406516177713 9 65} {7167336254544001727 9 66} {488698219905388921 9 67} {6096479365546754336 9 68} {1729491953763272397 9 69}]
------------------------------------------------------
term 10 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 10 Server0 start snapshot! index=69
term 10 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 2 vote for server 0
term 11 server 0 get vote from server 2
term 11 server 0 become leader
------------------------------------------------------
term 11 server 1 vote for server 0
term 11 server 0 get outdate rpc reply from server 1
flag 22891 term 11 leader 0 nextIndex[1]: 70  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
flag 81231 term 11 leader 0 nextIndex[2]: 70  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 69}]
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 70->69
------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
term 11 server 0 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 0
term 11 leader 0 nextIndex[1]: 59  matchIndex[1]: 0
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 56388 term 11 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
term 11 server 1 InstallSnapshot success
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 9 rf.commitIndex 69 rf.lastApplied 69
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 69}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44336 term 11 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
flag 38669 term 11 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 69}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 69}]
------------------------------------------------------
flag 14473 term 11 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
flag 18773 term 11 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 69}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18198 term 11 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
flag 64975 term 11 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 69}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 69}]
------------------------------------------------------
flag 72637 term 11 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
flag 61717 term 11 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 69}]
------------------------------------------------------
flag 23260 term 11 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
flag 68627 term 11 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 69}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 69}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3501785839484262266 (index 70) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37938 term 11 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
flag 60569 term 11 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {3501785839484262266 11 70}]
------------------------------------------------------
flag 97883 term 11 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 59745 term 11 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {3501785839484262266 11 70}]
------------------------------------------------------
client write log 569866393860787384 (index 71) to leader 0
client write log 7370621657654669456 (index 72) to leader 0
client write log 4190881674309983706 (index 73) to leader 0
client write log 4425207497831615912 (index 74) to leader 0
client write log 4330887155102947088 (index 75) to leader 0
client write log 1991082877392392618 (index 76) to leader 0
client write log 6317533774379588882 (index 77) to leader 0
client write log 6400964611284774543 (index 78) to leader 0
flag 5941 term 11 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 33770 term 11 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78}]
------------------------------------------------------
flag 7930 term 11 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 78 
------------------------------------------------------
flag 6202 term 11 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 11 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78}]
------------------------------------------------------
!!!!!!connect server 1
client write log 9015124300664917610 (index 79) to leader 0
term 11 server 2 not vote for server 1, 日志不够新
term 11 server 0 not vote for server 1, 日志不够新
term 13 server 2 vote for server 0
term 13 server 1 vote for server 0
term 13 server 0 get vote from server 2
term 13 server 0 become leader
------------------------------------------------------
term 13 server 0 get outdate rpc reply from server 1
flag 85280 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 31676 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 80->79
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 80->79
------------------------------------------------------
flag 16016 term 13 leader 0 nextIndex[1]: 70  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 78 
------------------------------------------------------
flag 30510 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85496 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 13409 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
flag 74346 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 90806 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19897 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 77365 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
flag 12106 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 77994 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
flag 28853 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 50932 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
flag 66323 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 54164 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
flag 88595 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 60258 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
flag 52655 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 81845 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
flag 25344 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 33397 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
flag 95801 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 22635 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80473 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 84573 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83660 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 52852 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
flag 33430 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 77366 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
flag 43657 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 99152 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22583 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 83959 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73541 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 97721 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
flag 59163 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 42564 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79}]
------------------------------------------------------
client write log 9015124300664917610 (index 80) to leader 0
flag 40219 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 89889 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79} {9015124300664917610 13 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 69} {3501785839484262266 11 70} {569866393860787384 11 71} {7370621657654669456 11 72} {4190881674309983706 11 73} {4425207497831615912 11 74} {4330887155102947088 11 75} {1991082877392392618 11 76} {6317533774379588882 11 77} {6400964611284774543 11 78} {9015124300664917610 11 79} {9015124300664917610 13 80}]
------------------------------------------------------
term 13 Server0 start snapshot! index=79
term 13 server0 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=80
-------------------------------------------------------------
flag 95320 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 96325 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {9015124300664917610 13 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {9015124300664917610 13 80}]
------------------------------------------------------
term 13 Server1 start snapshot! index=79
term 13 Server2 start snapshot! index=79
term 13 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=80
-------------------------------------------------------------
term 13 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=80
-------------------------------------------------------------
flag 32308 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 23227 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {9015124300664917610 13 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {9015124300664917610 13 80}]
------------------------------------------------------
flag 32213 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 59910 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {9015124300664917610 13 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {9015124300664917610 13 80}]
------------------------------------------------------
flag 73128 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 7008 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {9015124300664917610 13 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {9015124300664917610 13 80}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24986 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 90246 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {9015124300664917610 13 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {9015124300664917610 13 80}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 67626 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 54477 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 88219 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 70184 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 61764 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 1600 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 vote for server 1
term 14 server 1 get vote from server 2
term 14 server 1 become leader
------------------------------------------------------
flag 65772 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 63611 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {9015124300664917610 13 80}]
------------------------------------------------------
client write log 7160345263544878525 (index 81) to leader 1
flag 12380 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 42421 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 49766 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 18819 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9015124300664917610 13 80} {7160345263544878525 14 81}]
------------------------------------------------------
flag 30233 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 70268 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 35819 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 88890 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9015124300664917610 13 80} {7160345263544878525 14 81}]
------------------------------------------------------
client write log 2458514714803177099 (index 82) to leader 1
client write log 718096938586190670 (index 83) to leader 1
client write log 3449546588844127638 (index 84) to leader 1
client write log 6953288278014173705 (index 85) to leader 1
client write log 1991328880214403520 (index 86) to leader 1
client write log 7644670151036664811 (index 87) to leader 1
flag 29052 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 55385 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 not vote for server 1, 任期不够新
term 14 server 1 get outdate rpc reply from server 2
flag 20457 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 6795 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {9015124300664917610 13 80} {7160345263544878525 14 81} {2458514714803177099 14 82} {718096938586190670 14 83} {3449546588844127638 14 84} {6953288278014173705 14 85} {1991328880214403520 14 86} {7644670151036664811 14 87}]
------------------------------------------------------
flag 9149 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 38485 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 59836 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
flag 80798 term 14 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {9015124300664917610 13 80} {7160345263544878525 14 81} {2458514714803177099 14 82} {718096938586190670 14 83} {3449546588844127638 14 84} {6953288278014173705 14 85} {1991328880214403520 14 86} {7644670151036664811 14 87}]
------------------------------------------------------
!!!!!!connect server 0
client write log 1235789081838984837 (index 88) to leader 1
flag 88546 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 8875 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 14 server 1 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32898 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
flag 25568 term 14 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {9015124300664917610 13 80} {7160345263544878525 14 81} {2458514714803177099 14 82} {718096938586190670 14 83} {3449546588844127638 14 84} {6953288278014173705 14 85} {1991328880214403520 14 86} {7644670151036664811 14 87} {1235789081838984837 14 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {9015124300664917610 13 80} {7160345263544878525 14 81} {2458514714803177099 14 82} {718096938586190670 14 83} {3449546588844127638 14 84} {6953288278014173705 14 85} {1991328880214403520 14 86} {7644670151036664811 14 87} {1235789081838984837 14 88}]
------------------------------------------------------
flag 61676 term 14 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 14 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 64306 term 14 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 14 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {9015124300664917610 13 80} {7160345263544878525 14 81} {2458514714803177099 14 82} {718096938586190670 14 83} {3449546588844127638 14 84} {6953288278014173705 14 85} {1991328880214403520 14 86} {7644670151036664811 14 87} {1235789081838984837 14 88}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {9015124300664917610 13 80} {7160345263544878525 14 81} {2458514714803177099 14 82} {718096938586190670 14 83} {3449546588844127638 14 84} {6953288278014173705 14 85} {1991328880214403520 14 86} {7644670151036664811 14 87} {1235789081838984837 14 88}]
------------------------------------------------------
flag 16424 term 14 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 14 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 31992 term 14 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 14 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {9015124300664917610 13 80} {7160345263544878525 14 81} {2458514714803177099 14 82} {718096938586190670 14 83} {3449546588844127638 14 84} {6953288278014173705 14 85} {1991328880214403520 14 86} {7644670151036664811 14 87} {1235789081838984837 14 88}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {9015124300664917610 13 80} {7160345263544878525 14 81} {2458514714803177099 14 82} {718096938586190670 14 83} {3449546588844127638 14 84} {6953288278014173705 14 85} {1991328880214403520 14 86} {7644670151036664811 14 87} {1235789081838984837 14 88}]
------------------------------------------------------
flag 60368 term 14 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 14 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 61334 term 14 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 14 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {9015124300664917610 13 80} {7160345263544878525 14 81} {2458514714803177099 14 82} {718096938586190670 14 83} {3449546588844127638 14 84} {6953288278014173705 14 85} {1991328880214403520 14 86} {7644670151036664811 14 87} {1235789081838984837 14 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {9015124300664917610 13 80} {7160345263544878525 14 81} {2458514714803177099 14 82} {718096938586190670 14 83} {3449546588844127638 14 84} {6953288278014173705 14 85} {1991328880214403520 14 86} {7644670151036664811 14 87} {1235789081838984837 14 88}]
------------------------------------------------------
term 14 server 0 not vote for server 1, 日志不够新
term 14 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23714 term 14 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 14 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 83362 term 14 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 14 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {9015124300664917610 13 80} {7160345263544878525 14 81} {2458514714803177099 14 82} {718096938586190670 14 83} {3449546588844127638 14 84} {6953288278014173705 14 85} {1991328880214403520 14 86} {7644670151036664811 14 87} {1235789081838984837 14 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {9015124300664917610 13 80} {7160345263544878525 14 81} {2458514714803177099 14 82} {718096938586190670 14 83} {3449546588844127638 14 84} {6953288278014173705 14 85} {1991328880214403520 14 86} {7644670151036664811 14 87} {1235789081838984837 14 88}]
------------------------------------------------------
flag 70483 term 14 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 14 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 15836 term 14 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 14 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {9015124300664917610 13 80} {7160345263544878525 14 81} {2458514714803177099 14 82} {718096938586190670 14 83} {3449546588844127638 14 84} {6953288278014173705 14 85} {1991328880214403520 14 86} {7644670151036664811 14 87} {1235789081838984837 14 88}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {9015124300664917610 13 80} {7160345263544878525 14 81} {2458514714803177099 14 82} {718096938586190670 14 83} {3449546588844127638 14 84} {6953288278014173705 14 85} {1991328880214403520 14 86} {7644670151036664811 14 87} {1235789081838984837 14 88}]
------------------------------------------------------
flag 92689 term 14 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 14 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 24662 term 14 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 14 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {9015124300664917610 13 80} {7160345263544878525 14 81} {2458514714803177099 14 82} {718096938586190670 14 83} {3449546588844127638 14 84} {6953288278014173705 14 85} {1991328880214403520 14 86} {7644670151036664811 14 87} {1235789081838984837 14 88}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {9015124300664917610 13 80} {7160345263544878525 14 81} {2458514714803177099 14 82} {718096938586190670 14 83} {3449546588844127638 14 84} {6953288278014173705 14 85} {1991328880214403520 14 86} {7644670151036664811 14 87} {1235789081838984837 14 88}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1288990157715401074 (index 89) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19437 term 14 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 14 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 99083 term 14 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 14 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 79} {9015124300664917610 13 80} {7160345263544878525 14 81} {2458514714803177099 14 82} {718096938586190670 14 83} {3449546588844127638 14 84} {6953288278014173705 14 85} {1991328880214403520 14 86} {7644670151036664811 14 87} {1235789081838984837 14 88} {1288990157715401074 14 89}]
------------------------------------------------------
term 14 Server1 start snapshot! index=89
term 14 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75177 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 14 89}]
------------------------------------------------------
term 14 Server0 start snapshot! index=89
term 14 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
client write log 8958964427691755493 (index 90) to leader 1
client write log 7487592623425319684 (index 91) to leader 1
client write log 4273158963496099547 (index 92) to leader 1
client write log 2689346699155674850 (index 93) to leader 1
client write log 8592131413265037276 (index 94) to leader 1
client write log 659428186573103495 (index 95) to leader 1
client write log 521500186807779423 (index 96) to leader 1
client write log 3924447220178512206 (index 97) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 90->89
------------------------------------------------------
term 14 leader 1 nextIndex[0]: 0  matchIndex[0]: 89
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 InstallSnapshot fail
rf.commitIndex 89 args.LastIncludedIndex 89
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
flag 13213 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97}]
------------------------------------------------------
flag 12782 term 14 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 14 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1486589015414796631 (index 98) to leader 1
flag 20186 term 14 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 14 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 15 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 0 vote for server 1
term 16 server 1 get vote from server 0
term 16 server 1 become leader
------------------------------------------------------
term 16 server 2 vote for server 1
term 16 server 1 get outdate rpc reply from server 2
flag 5459 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
flag 37142 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 99->98
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
flag 65179 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 0
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 16 server 2 InstallSnapshot success
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 14 rf.commitIndex 89 rf.lastApplied 89
------------------------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24188 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
flag 71793 term 16 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
flag 30312 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
flag 73617 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20574 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
flag 48752 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6546 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
flag 61122 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
term 16 server 0 not vote for server 2, 任期不够新
term 16 server 2 get outdate rpc reply from server 0
flag 13056 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
flag 5403 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
flag 12021 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
flag 95962 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
term 16 server 1 not vote for server 2, 任期不够新
term 16 server 2 get outdate rpc reply from server 1
flag 89439 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
flag 9735 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
flag 92334 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
flag 42290 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54102 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
flag 75898 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
flag 30215 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
flag 98054 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43568 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
flag 78669 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1761 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
flag 81998 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
flag 30472 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
flag 50608 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
flag 97399 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
flag 82987 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
flag 39410 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
flag 83184 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
flag 4875 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
flag 69773 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
flag 74896 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
flag 67281 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98}]
------------------------------------------------------
client write log 1486589015414796631 (index 99) to leader 1
flag 44677 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
flag 14350 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 97 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98} {1486589015414796631 16 99}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 89} {8958964427691755493 14 90} {7487592623425319684 14 91} {4273158963496099547 14 92} {2689346699155674850 14 93} {8592131413265037276 14 94} {659428186573103495 14 95} {521500186807779423 14 96} {3924447220178512206 14 97} {1486589015414796631 14 98} {1486589015414796631 16 99}]
------------------------------------------------------
term 16 Server1 start snapshot! index=99
term 16 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
flag 29092 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
flag 86593 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
term 16 Server2 start snapshot! index=99
term 16 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
term 16 Server0 start snapshot! index=99
term 16 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
flag 12152 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
flag 16490 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58876 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
flag 41892 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
flag 23682 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
flag 24366 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
flag 73984 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
flag 62109 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 2
client write log 1571460591619655982 (index 100) to leader 1
flag 31698 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
flag 63487 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {1571460591619655982 16 100}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24499 term 16 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 84704 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {1571460591619655982 16 100}]
------------------------------------------------------
client write log 2967501261257936018 (index 101) to leader 1
client write log 6123684690216320327 (index 102) to leader 1
client write log 327100085465726201 (index 103) to leader 1
client write log 3869592305660275761 (index 104) to leader 1
client write log 797489051925971784 (index 105) to leader 1
client write log 4548961076972235385 (index 106) to leader 1
client write log 765323401046568182 (index 107) to leader 1
client write log 6777504882004113782 (index 108) to leader 1
client write log 2367783057409957343 (index 109) to leader 1
client write log 5370836855593892741 (index 110) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48536 term 16 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 63613 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 99} {1571460591619655982 16 100} {2967501261257936018 16 101} {6123684690216320327 16 102} {327100085465726201 16 103} {3869592305660275761 16 104} {797489051925971784 16 105} {4548961076972235385 16 106} {765323401046568182 16 107} {6777504882004113782 16 108} {2367783057409957343 16 109} {5370836855593892741 16 110}]
------------------------------------------------------
term 16 Server1 start snapshot! index=109
term 16 server1 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=110
-------------------------------------------------------------
flag 65729 term 16 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 16 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110}]
------------------------------------------------------
term 16 Server0 start snapshot! index=109
term 16 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=110
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7336013253842199085 (index 111) to leader 1
term 16 server 1 not vote for server 2, 日志不够新
term 16 server 0 not vote for server 2, 日志不够新
term 18 server 2 vote for server 1
term 18 server 1 get vote from server 2
term 18 server 1 become leader
------------------------------------------------------
term 18 server 0 vote for server 1
term 18 server 1 get outdate rpc reply from server 0
flag 63709 term 18 leader 1 nextIndex[0]: 112  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 26451 term 18 leader 1 nextIndex[2]: 112  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 112->111
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 112->111
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32081 term 18 leader 1 nextIndex[0]: 111  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 0
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
term 18 server 2 InstallSnapshot success
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 16 rf.commitIndex 109 rf.lastApplied 109
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38940 term 18 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 1234 term 18 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18259 term 18 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 22945 term 18 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6290 term 18 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 31297 term 18 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
flag 9011 term 18 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 70716 term 18 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
flag 18747 term 18 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 510 term 18 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
flag 83861 term 18 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 60741 term 18 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
flag 88503 term 18 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 5755 term 18 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53394 term 18 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 65562 term 18 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
flag 28104 term 18 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 64305 term 18 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
flag 89340 term 18 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 97657 term 18 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
flag 12883 term 18 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 17393 term 18 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4291 term 18 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 39839 term 18 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40015 term 18 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 59910 term 18 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64929 term 18 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 74993 term 18 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
flag 84999 term 18 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 88545 term 18 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
flag 20770 term 18 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 18850 term 18 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
flag 60624 term 18 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 73523 term 18 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
flag 50071 term 18 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 68864 term 18 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111}]
------------------------------------------------------
client write log 7336013253842199085 (index 112) to leader 1
flag 46669 term 18 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 25482 term 18 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112}]
------------------------------------------------------
flag 9116 term 18 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 35876 term 18 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112}]
------------------------------------------------------
flag 34693 term 18 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 94435 term 18 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112}]
------------------------------------------------------
flag 94353 term 18 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 82311 term 18 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112}]
------------------------------------------------------
flag 52310 term 18 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 72744 term 18 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112}]
------------------------------------------------------
flag 48898 term 18 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 39800 term 18 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 66784 term 18 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 28548 term 18 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 74741 term 18 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 92964 term 18 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 75053 term 18 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 8512 term 18 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24555 term 18 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 31588 term 18 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 vote for server 0
term 19 server 0 get vote from server 2
term 19 server 0 become leader
------------------------------------------------------
flag 41758 term 19 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 67540 term 19 leader 0 nextIndex[2]: 113  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112}]
------------------------------------------------------
client write log 8915176533706615949 (index 113) to leader 0
flag 61199 term 18 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 63137 term 18 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 34063 term 19 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 7335 term 19 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113}]
------------------------------------------------------
flag 99075 term 18 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 30257 term 18 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 64446 term 19 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 64581 term 19 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 113 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113}]
------------------------------------------------------
client write log 6841644360742652849 (index 114) to leader 0
flag 49312 term 18 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 38179 term 18 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 90620 term 19 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 60632 term 19 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 113 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
flag 11806 term 18 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 51556 term 18 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23048 term 19 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 114 
------------------------------------------------------
flag 42322 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
!!!!!!connect server 1
client write log 2633005835747657761 (index 113) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 113->112
------------------------------------------------------
term 18 leader 1 nextIndex[0]: 0  matchIndex[0]: 112
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 74078 term 18 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 19 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36602 term 19 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 114 
------------------------------------------------------
flag 56673 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
flag 58733 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 55901 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
flag 19228 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 30242 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22780 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 18215 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32678 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 9882 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
flag 3529 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 41005 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
flag 98648 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 86861 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
flag 41973 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 52420 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8141 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 58183 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
flag 64569 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 86203 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 115->114
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 114
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 51719 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
rf.commitIndex 114 args.LastIncludedIndex 109
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
flag 40233 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 16287 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
flag 80310 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 58017 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47163 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 45056 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
flag 71897 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 67497 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
flag 41235 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 64829 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3278 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 9474 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
flag 96278 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 12232 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
flag 92111 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 54252 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
flag 45971 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 14201 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114}]
------------------------------------------------------
client write log 2633005835747657761 (index 115) to leader 0
flag 88615 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 70196 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114} {2633005835747657761 19 115}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114} {2633005835747657761 19 115}]
------------------------------------------------------
flag 22680 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 92035 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114} {2633005835747657761 19 115}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114} {2633005835747657761 19 115}]
------------------------------------------------------
flag 12672 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 5862 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114} {2633005835747657761 19 115}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114} {2633005835747657761 19 115}]
------------------------------------------------------
flag 54312 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 20591 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114} {2633005835747657761 19 115}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114} {2633005835747657761 19 115}]
------------------------------------------------------
flag 38365 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 98339 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114} {2633005835747657761 19 115}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114} {2633005835747657761 19 115}]
------------------------------------------------------
flag 86676 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 21248 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114} {2633005835747657761 19 115}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114} {2633005835747657761 19 115}]
------------------------------------------------------
flag 71657 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 6224 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114} {2633005835747657761 19 115}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114} {2633005835747657761 19 115}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5963454705989596695 (index 116) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93104 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 81999 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114} {2633005835747657761 19 115} {5963454705989596695 19 116}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94870 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 27746 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 116->115
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114} {2633005835747657761 19 115} {5963454705989596695 19 116}]
------------------------------------------------------
client write log 750097256444344658 (index 117) to leader 0
client write log 8812777630972264936 (index 118) to leader 0
client write log 3287310643500000270 (index 119) to leader 0
client write log 7615658891083940198 (index 120) to leader 0
client write log 3201118983393382116 (index 121) to leader 0
client write log 6567576266717420117 (index 122) to leader 0
client write log 4727110293212586621 (index 123) to leader 0
client write log 3339155544152205114 (index 124) to leader 0
client write log 8869760961814163927 (index 125) to leader 0
client write log 5852145024953241236 (index 126) to leader 0
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 115
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 63811 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 109} {5370836855593892741 16 110} {7336013253842199085 16 111} {7336013253842199085 18 112} {8915176533706615949 19 113} {6841644360742652849 19 114} {2633005835747657761 19 115} {5963454705989596695 19 116} {750097256444344658 19 117} {8812777630972264936 19 118} {3287310643500000270 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126}]
------------------------------------------------------
term 19 Server0 start snapshot! index=119
term 19 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=126
-------------------------------------------------------------
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 115
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 65523 term 19 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 19 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126}]
------------------------------------------------------
term 19 Server2 start snapshot! index=119
term 19 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=126
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7467432488640646855 (index 127) to leader 0
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 115
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 63000 term 19 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 19 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 20 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 2 vote for server 0
term 21 server 0 get vote from server 2
term 21 server 0 become leader
------------------------------------------------------
term 21 server 1 vote for server 0
term 21 server 0 get outdate rpc reply from server 1
flag 79665 term 21 leader 0 nextIndex[1]: 128  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 22861 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 128->127
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 116  matchIndex[1]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 19008 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
term 21 server 1 InstallSnapshot success
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 19 rf.commitIndex 119 rf.lastApplied 119
flag 26957 term 21 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 21 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 27212 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63207 term 21 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 12758 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
flag 46257 term 21 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 43581 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
flag 77607 term 21 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 47736 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
flag 17308 term 21 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 11773 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
flag 52984 term 21 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 95113 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
flag 33752 term 21 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 96884 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91410 term 21 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 59111 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94466 term 21 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 93109 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53881 term 21 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 40448 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
flag 97904 term 21 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 12810 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
flag 76915 term 21 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 3914 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
flag 19063 term 21 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 32274 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
flag 41120 term 21 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 91319 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
flag 97556 term 21 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 61461 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
flag 11071 term 21 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 19776 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72915 term 21 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 11216 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127}]
------------------------------------------------------
client write log 7467432488640646855 (index 128) to leader 0
flag 85081 term 21 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 31297 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127} {7467432488640646855 21 128}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127} {7467432488640646855 21 128}]
------------------------------------------------------
flag 24481 term 21 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 21 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 74039 term 21 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 21 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127} {7467432488640646855 21 128}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127} {7467432488640646855 21 128}]
------------------------------------------------------
flag 1118 term 21 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 21 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 39722 term 21 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 21 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127} {7467432488640646855 21 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127} {7467432488640646855 21 128}]
------------------------------------------------------
flag 17960 term 21 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 21 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 98145 term 21 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 21 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127} {7467432488640646855 21 128}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127} {7467432488640646855 21 128}]
------------------------------------------------------
flag 17374 term 21 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 21 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 855 term 21 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 21 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127} {7467432488640646855 21 128}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127} {7467432488640646855 21 128}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93756 term 21 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 21 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 30331 term 21 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 21 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127} {7467432488640646855 21 128}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127} {7467432488640646855 21 128}]
------------------------------------------------------
flag 89674 term 21 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 21 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 77312 term 21 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 21 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127} {7467432488640646855 21 128}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127} {7467432488640646855 21 128}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4581398238340429097 (index 129) to leader 0
flag 31513 term 21 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 21 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 41791 term 21 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 21 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 19 119} {7615658891083940198 19 120} {3201118983393382116 19 121} {6567576266717420117 19 122} {4727110293212586621 19 123} {3339155544152205114 19 124} {8869760961814163927 19 125} {5852145024953241236 19 126} {7467432488640646855 19 127} {7467432488640646855 21 128} {4581398238340429097 21 129}]
------------------------------------------------------
term 21 Server0 start snapshot! index=129
term 21 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
term 21 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 98587 term 21 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 21 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 21 129}]
------------------------------------------------------
term 21 Server2 start snapshot! index=129
term 21 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
client write log 3459105948862271216 (index 130) to leader 0
client write log 3639298632000959426 (index 131) to leader 0
client write log 3494670409340059513 (index 132) to leader 0
client write log 4717980647326077467 (index 133) to leader 0
client write log 3052133568988615681 (index 134) to leader 0
client write log 3019450538288728167 (index 135) to leader 0
client write log 2790042103347723395 (index 136) to leader 0
client write log 2523687948554472084 (index 137) to leader 0
client write log 1602928470865022033 (index 138) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 12481 term 21 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 21 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 57752 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5798446539727242746 (index 139) to leader 0
term 21 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 55757 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 22 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 2 vote for server 0
term 23 server 1 vote for server 0
term 23 server 0 get vote from server 2
term 23 server 0 become leader
------------------------------------------------------
term 23 server 0 get outdate rpc reply from server 1
flag 83779 term 23 leader 0 nextIndex[1]: 140  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 83402 term 23 leader 0 nextIndex[2]: 140  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 140->139
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 0
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 35698 term 23 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 23 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 21 rf.commitIndex 129 rf.lastApplied 129
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50619 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 53304 term 23 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
flag 64398 term 23 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 8462 term 23 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16743 term 23 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 75183 term 23 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
flag 13012 term 23 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 31158 term 23 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
flag 98955 term 23 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 5011 term 23 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
flag 29952 term 23 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 95325 term 23 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
flag 46101 term 23 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 51008 term 23 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
flag 70538 term 23 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 98528 term 23 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24520 term 23 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 42425 term 23 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
term 23 server 0 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 0
flag 79330 term 23 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 56377 term 23 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
term 23 server 2 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 2
flag 57793 term 23 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 33391 term 23 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
flag 25643 term 23 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 4021 term 23 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
flag 775 term 23 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 77784 term 23 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
flag 18242 term 23 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 91498 term 23 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92774 term 23 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 38549 term 23 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
flag 88746 term 23 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 77536 term 23 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
flag 1816 term 23 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 69056 term 23 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139}]
------------------------------------------------------
client write log 5798446539727242746 (index 140) to leader 0
flag 99299 term 23 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 46055 term 23 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139} {5798446539727242746 23 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 129} {3459105948862271216 21 130} {3639298632000959426 21 131} {3494670409340059513 21 132} {4717980647326077467 21 133} {3052133568988615681 21 134} {3019450538288728167 21 135} {2790042103347723395 21 136} {2523687948554472084 21 137} {1602928470865022033 21 138} {5798446539727242746 21 139} {5798446539727242746 23 140}]
------------------------------------------------------
term 23 Server0 start snapshot! index=139
term 23 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
flag 72657 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 9357 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {5798446539727242746 23 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {5798446539727242746 23 140}]
------------------------------------------------------
term 23 Server2 start snapshot! index=139
term 23 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
term 23 Server1 start snapshot! index=139
term 23 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
flag 69236 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 84185 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {5798446539727242746 23 140}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {5798446539727242746 23 140}]
------------------------------------------------------
term 23 server 0 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 0
flag 97712 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 19150 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {5798446539727242746 23 140}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {5798446539727242746 23 140}]
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39301 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 96230 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {5798446539727242746 23 140}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {5798446539727242746 23 140}]
------------------------------------------------------
flag 12707 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 59361 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {5798446539727242746 23 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {5798446539727242746 23 140}]
------------------------------------------------------
flag 32588 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 85308 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {5798446539727242746 23 140}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {5798446539727242746 23 140}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 15080 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 77844 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 6479 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 24750 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 21081 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 61881 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 24 server 1 vote for server 2
term 24 server 2 get vote from server 1
term 24 server 2 become leader
------------------------------------------------------
flag 68380 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 18316 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {5798446539727242746 23 140}]
------------------------------------------------------
client write log 4913786701152744778 (index 141) to leader 2
flag 3056 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 46286 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 45362 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 79127 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {5798446539727242746 23 140} {4913786701152744778 24 141}]
------------------------------------------------------
flag 47705 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 37646 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 59675 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 77465 term 24 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {5798446539727242746 23 140} {4913786701152744778 24 141}]
------------------------------------------------------
client write log 5618361914597875508 (index 142) to leader 2
flag 42544 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 85285 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 80906 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 57757 term 24 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {5798446539727242746 23 140} {4913786701152744778 24 141} {5618361914597875508 24 142}]
------------------------------------------------------
flag 7342 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 79154 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 67065 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 98583 term 24 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {5798446539727242746 23 140} {4913786701152744778 24 141} {5618361914597875508 24 142}]
------------------------------------------------------
!!!!!!connect server 0
client write log 3106611205726944054 (index 143) to leader 2
flag 95515 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 36408 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 24 server 2 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 24 server 1 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71951 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 65619 term 24 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {5798446539727242746 23 140} {4913786701152744778 24 141} {5618361914597875508 24 142} {3106611205726944054 24 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {5798446539727242746 23 140} {4913786701152744778 24 141} {5618361914597875508 24 142} {3106611205726944054 24 143}]
------------------------------------------------------
flag 28153 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 31734 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {5798446539727242746 23 140} {4913786701152744778 24 141} {5618361914597875508 24 142} {3106611205726944054 24 143}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {5798446539727242746 23 140} {4913786701152744778 24 141} {5618361914597875508 24 142} {3106611205726944054 24 143}]
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86411 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 74211 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {5798446539727242746 23 140} {4913786701152744778 24 141} {5618361914597875508 24 142} {3106611205726944054 24 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {5798446539727242746 23 140} {4913786701152744778 24 141} {5618361914597875508 24 142} {3106611205726944054 24 143}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98792 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 97594 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {5798446539727242746 23 140} {4913786701152744778 24 141} {5618361914597875508 24 142} {3106611205726944054 24 143}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {5798446539727242746 23 140} {4913786701152744778 24 141} {5618361914597875508 24 142} {3106611205726944054 24 143}]
------------------------------------------------------
flag 11226 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 21911 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {5798446539727242746 23 140} {4913786701152744778 24 141} {5618361914597875508 24 142} {3106611205726944054 24 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {5798446539727242746 23 140} {4913786701152744778 24 141} {5618361914597875508 24 142} {3106611205726944054 24 143}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58092 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 79074 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {5798446539727242746 23 140} {4913786701152744778 24 141} {5618361914597875508 24 142} {3106611205726944054 24 143}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {5798446539727242746 23 140} {4913786701152744778 24 141} {5618361914597875508 24 142} {3106611205726944054 24 143}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 144->143
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 2 nextIndex[0]: 0  matchIndex[0]: 143
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 61924 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {5798446539727242746 23 140} {4913786701152744778 24 141} {5618361914597875508 24 142} {3106611205726944054 24 143}]
------------------------------------------------------
term 24 server 0 InstallSnapshot fail
rf.commitIndex 143 args.LastIncludedIndex 139
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
!!!!!!diconnect server 0
client write log 6355776031331002409 (index 144) to leader 2
flag 24741 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 75018 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {5798446539727242746 23 140} {4913786701152744778 24 141} {5618361914597875508 24 142} {3106611205726944054 24 143} {6355776031331002409 24 144}]
------------------------------------------------------
term 24 server 2 not vote for server 1, 任期不够新
term 24 server 1 get outdate rpc reply from server 2
flag 84322 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 21853 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {5798446539727242746 23 140} {4913786701152744778 24 141} {5618361914597875508 24 142} {3106611205726944054 24 143} {6355776031331002409 24 144}]
------------------------------------------------------
client write log 6250361422477180206 (index 145) to leader 2
client write log 4707420169908660575 (index 146) to leader 2
client write log 5565555458938458143 (index 147) to leader 2
client write log 928149592838527929 (index 148) to leader 2
client write log 1317172372851437159 (index 149) to leader 2
client write log 6201395789577035010 (index 150) to leader 2
client write log 3929342372516392150 (index 151) to leader 2
client write log 7615747701011297116 (index 152) to leader 2
client write log 7437636290688457624 (index 153) to leader 2
flag 61443 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 30802 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 21 139} {5798446539727242746 23 140} {4913786701152744778 24 141} {5618361914597875508 24 142} {3106611205726944054 24 143} {6355776031331002409 24 144} {6250361422477180206 24 145} {4707420169908660575 24 146} {5565555458938458143 24 147} {928149592838527929 24 148} {1317172372851437159 24 149} {6201395789577035010 24 150} {3929342372516392150 24 151} {7615747701011297116 24 152} {7437636290688457624 24 153}]
------------------------------------------------------
term 24 Server2 start snapshot! index=149
term 24 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=153
-------------------------------------------------------------
term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 77336 term 24 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 24 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {6201395789577035010 24 150} {3929342372516392150 24 151} {7615747701011297116 24 152} {7437636290688457624 24 153}]
------------------------------------------------------
term 24 Server1 start snapshot! index=149
term 24 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=153
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6027270834477897079 (index 154) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 140->139
------------------------------------------------------
term 24 leader 2 nextIndex[0]: 0  matchIndex[0]: 139
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 94366 term 24 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 24 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {6201395789577035010 24 150} {3929342372516392150 24 151} {7615747701011297116 24 152} {7437636290688457624 24 153} {6027270834477897079 24 154}]
------------------------------------------------------
term 25 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 1 vote for server 2
term 26 server 0 vote for server 2
term 26 server 2 get vote from server 1
term 26 server 2 become leader
------------------------------------------------------
term 26 server 2 get outdate rpc reply from server 0
flag 68149 term 26 leader 2 nextIndex[0]: 155  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 60180 term 26 leader 2 nextIndex[1]: 155  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {6201395789577035010 24 150} {3929342372516392150 24 151} {7615747701011297116 24 152} {7437636290688457624 24 153} {6027270834477897079 24 154}]
------------------------------------------------------
term 26 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 155->154
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 144  matchIndex[0]: 0
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 10020 term 26 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
term 26 server 0 InstallSnapshot success
------------------------------------------------------
[{snapshot 24 149} {6201395789577035010 24 150} {3929342372516392150 24 151} {7615747701011297116 24 152} {7437636290688457624 24 153} {6027270834477897079 24 154}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 24 rf.commitIndex 149 rf.lastApplied 149
term 26 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
flag 2794 term 26 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 26 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 64910 term 26 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {6201395789577035010 24 150} {3929342372516392150 24 151} {7615747701011297116 24 152} {7437636290688457624 24 153} {6027270834477897079 24 154}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {6201395789577035010 24 150} {3929342372516392150 24 151} {7615747701011297116 24 152} {7437636290688457624 24 153} {6027270834477897079 24 154}]
------------------------------------------------------
term 26 server 0 not vote for server 2, 任期不够新
term 26 server 2 get outdate rpc reply from server 0
flag 83741 term 26 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 75556 term 26 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {6201395789577035010 24 150} {3929342372516392150 24 151} {7615747701011297116 24 152} {7437636290688457624 24 153} {6027270834477897079 24 154}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {6201395789577035010 24 150} {3929342372516392150 24 151} {7615747701011297116 24 152} {7437636290688457624 24 153} {6027270834477897079 24 154}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86634 term 26 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 48563 term 26 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {6201395789577035010 24 150} {3929342372516392150 24 151} {7615747701011297116 24 152} {7437636290688457624 24 153} {6027270834477897079 24 154}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {6201395789577035010 24 150} {3929342372516392150 24 151} {7615747701011297116 24 152} {7437636290688457624 24 153} {6027270834477897079 24 154}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38906 term 26 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 36950 term 26 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {6201395789577035010 24 150} {3929342372516392150 24 151} {7615747701011297116 24 152} {7437636290688457624 24 153} {6027270834477897079 24 154}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {6201395789577035010 24 150} {3929342372516392150 24 151} {7615747701011297116 24 152} {7437636290688457624 24 153} {6027270834477897079 24 154}]
------------------------------------------------------
flag 9708 term 26 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 92442 term 26 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {6201395789577035010 24 150} {3929342372516392150 24 151} {7615747701011297116 24 152} {7437636290688457624 24 153} {6027270834477897079 24 154}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {6201395789577035010 24 150} {3929342372516392150 24 151} {7615747701011297116 24 152} {7437636290688457624 24 153} {6027270834477897079 24 154}]
------------------------------------------------------
flag 11360 term 26 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 82130 term 26 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {6201395789577035010 24 150} {3929342372516392150 24 151} {7615747701011297116 24 152} {7437636290688457624 24 153} {6027270834477897079 24 154}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {6201395789577035010 24 150} {3929342372516392150 24 151} {7615747701011297116 24 152} {7437636290688457624 24 153} {6027270834477897079 24 154}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3818296730490441800 (index 155) to leader 2
flag 4672 term 26 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 48953 term 26 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {6201395789577035010 24 150} {3929342372516392150 24 151} {7615747701011297116 24 152} {7437636290688457624 24 153} {6027270834477897079 24 154} {3818296730490441800 26 155}]
------------------------------------------------------
flag 287 term 26 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 93136 term 26 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {6201395789577035010 24 150} {3929342372516392150 24 151} {7615747701011297116 24 152} {7437636290688457624 24 153} {6027270834477897079 24 154} {3818296730490441800 26 155}]
------------------------------------------------------
client write log 3039900067546295124 (index 156) to leader 2
client write log 6995051541367123702 (index 157) to leader 2
client write log 2490257837162176646 (index 158) to leader 2
client write log 6616032011567436292 (index 159) to leader 2
client write log 2080237048244877466 (index 160) to leader 2
client write log 1022284934268956400 (index 161) to leader 2
client write log 1388449900845580704 (index 162) to leader 2
client write log 2153054306026785576 (index 163) to leader 2
client write log 2608562923745424412 (index 164) to leader 2
flag 95062 term 26 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 14654 term 26 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 149} {6201395789577035010 24 150} {3929342372516392150 24 151} {7615747701011297116 24 152} {7437636290688457624 24 153} {6027270834477897079 24 154} {3818296730490441800 26 155} {3039900067546295124 26 156} {6995051541367123702 26 157} {2490257837162176646 26 158} {6616032011567436292 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164}]
------------------------------------------------------
term 26 Server2 start snapshot! index=159
term 26 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=164
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
flag 86014 term 26 leader 2 nextIndex[1]: 165  matchIndex[1]: 164
term 26 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164}]
------------------------------------------------------
term 26 Server1 start snapshot! index=159
term 26 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=164
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5375204532296813057 (index 165) to leader 2
term 26 server 2 not vote for server 0, 任期不够新
term 26 server 0 get outdate rpc reply from server 2
term 26 server 2 not vote for server 0, 日志不够新
term 26 server 1 not vote for server 0, 日志不够新
term 28 server 1 vote for server 2
term 28 server 2 get vote from server 1
term 28 server 0 vote for server 2
term 28 server 2 become leader
------------------------------------------------------
term 28 server 2 get outdate rpc reply from server 0
flag 30233 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 64115 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 166->165
------------------------------------------------------
term 28 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 166->165
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 0
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
flag 85809 term 28 leader 2 nextIndex[1]: 165  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
term 28 server 0 InstallSnapshot success
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 26 rf.commitIndex 159 rf.lastApplied 159
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43950 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 45522 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:159 
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16756 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 92529 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26425 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 56207 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44437 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 30513 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
flag 83754 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 46562 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74086 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 99791 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
flag 31575 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 9077 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
flag 67574 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 75337 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
flag 21492 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 96668 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
flag 90321 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 2095 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
flag 59849 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 15580 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
flag 38146 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 61260 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57465 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 63593 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
term 28 server 1 not vote for server 0, 任期不够新
term 28 server 0 get outdate rpc reply from server 1
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69967 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 56172 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
flag 73660 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 35845 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
flag 95142 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 79113 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80325 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 35355 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
flag 78957 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 15277 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165}]
------------------------------------------------------
client write log 5375204532296813057 (index 166) to leader 2
flag 95524 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 86590 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165} {5375204532296813057 28 166}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165} {5375204532296813057 28 166}]
------------------------------------------------------
flag 86010 term 28 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 69858 term 28 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165} {5375204532296813057 28 166}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165} {5375204532296813057 28 166}]
------------------------------------------------------
flag 16940 term 28 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 66214 term 28 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165} {5375204532296813057 28 166}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165} {5375204532296813057 28 166}]
------------------------------------------------------
flag 4827 term 28 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 4540 term 28 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165} {5375204532296813057 28 166}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165} {5375204532296813057 28 166}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98188 term 28 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 70278 term 28 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165} {5375204532296813057 28 166}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165} {5375204532296813057 28 166}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7927 term 28 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 63 term 28 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165} {5375204532296813057 28 166}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165} {5375204532296813057 28 166}]
------------------------------------------------------
flag 59129 term 28 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 83183 term 28 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165} {5375204532296813057 28 166}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165} {5375204532296813057 28 166}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 67064 term 28 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 48886 term 28 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 85154 term 28 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 59435 term 28 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 32932 term 28 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 18811 term 28 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 29 server 0 vote for server 1
term 29 server 1 get vote from server 0
term 29 server 1 become leader
------------------------------------------------------
client write log 3203014858345164130 (index 167) to leader 1
flag 66806 term 29 leader 1 nextIndex[0]: 167  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 41880 term 29 leader 1 nextIndex[2]: 167  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165} {5375204532296813057 28 166} {3203014858345164130 29 167}]
------------------------------------------------------
flag 81133 term 28 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 79488 term 28 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 19443 term 29 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 167 
------------------------------------------------------
flag 95597 term 29 leader 1 nextIndex[2]: 167  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165} {5375204532296813057 28 166} {3203014858345164130 29 167}]
------------------------------------------------------
flag 71557 term 28 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 44943 term 28 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
client write log 2260758171278372875 (index 168) to leader 1
flag 32774 term 29 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 167 
------------------------------------------------------
flag 42427 term 29 leader 1 nextIndex[2]: 167  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165} {5375204532296813057 28 166} {3203014858345164130 29 167} {2260758171278372875 29 168}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35773 term 28 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 90343 term 28 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57485 term 29 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 77757 term 29 leader 1 nextIndex[2]: 167  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165} {5375204532296813057 28 166} {3203014858345164130 29 167} {2260758171278372875 29 168}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6421725661149764206 (index 169) to leader 1
flag 66920 term 28 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 66477 term 28 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 29 server 1 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 29 server 0 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41451 term 29 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 88867 term 29 leader 1 nextIndex[2]: 167  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165} {5375204532296813057 28 166} {3203014858345164130 29 167} {2260758171278372875 29 168} {6421725661149764206 29 169}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 159} {2080237048244877466 26 160} {1022284934268956400 26 161} {1388449900845580704 26 162} {2153054306026785576 26 163} {2608562923745424412 26 164} {5375204532296813057 26 165} {5375204532296813057 28 166} {3203014858345164130 29 167} {2260758171278372875 29 168} {6421725661149764206 29 169}]
------------------------------------------------------
term 29 Server1 start snapshot! index=169
term 29 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
flag 2958 term 29 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 26550 term 29 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 29 Server2 start snapshot! index=169
term 29 Server0 start snapshot! index=169
term 29 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
term 29 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
flag 4344 term 29 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 56807 term 29 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 29 server 1 not vote for server 0, 任期不够新
term 29 server 0 get outdate rpc reply from server 1
flag 30567 term 29 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 59618 term 29 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65935 term 29 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 95067 term 29 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
flag 21436 term 29 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 17570 term 29 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7944439214328394092 (index 170) to leader 1
flag 32928 term 29 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 90539 term 29 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {7944439214328394092 29 170}]
------------------------------------------------------
flag 36130 term 29 leader 1 nextIndex[0]: 171  matchIndex[0]: 170
term 29 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
flag 56394 term 29 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {7944439214328394092 29 170}]
------------------------------------------------------
client write log 7431704153829601211 (index 171) to leader 1
client write log 3181743638188517030 (index 172) to leader 1
client write log 2549779886272713257 (index 173) to leader 1
client write log 3488992869205066105 (index 174) to leader 1
client write log 5841961324956390605 (index 175) to leader 1
client write log 5392787512701546127 (index 176) to leader 1
client write log 5414984759809056265 (index 177) to leader 1
client write log 4756038866531012130 (index 178) to leader 1
client write log 1847586093333601905 (index 179) to leader 1
flag 63912 term 29 leader 1 nextIndex[0]: 171  matchIndex[0]: 170
term 29 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
flag 79618 term 29 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 169} {7944439214328394092 29 170} {7431704153829601211 29 171} {3181743638188517030 29 172} {2549779886272713257 29 173} {3488992869205066105 29 174} {5841961324956390605 29 175} {5392787512701546127 29 176} {5414984759809056265 29 177} {4756038866531012130 29 178} {1847586093333601905 29 179}]
------------------------------------------------------
term 29 Server1 start snapshot! index=179
term 29 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
flag 91220 term 29 leader 1 nextIndex[0]: 180  matchIndex[0]: 179
term 29 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
term 29 Server0 start snapshot! index=179
term 29 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1310568649843571774 (index 180) to leader 1
term 29 server 1 not vote for server 2, 日志不够新
term 29 server 0 not vote for server 2, 日志不够新
term 31 server 0 vote for server 1
term 31 server 1 get vote from server 0
term 31 server 1 become leader
------------------------------------------------------
term 31 server 2 vote for server 1
term 31 server 1 get outdate rpc reply from server 2
flag 99022 term 31 leader 1 nextIndex[0]: 181  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 56944 term 31 leader 1 nextIndex[2]: 181  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 181->180
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 181->180
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95494 term 31 leader 1 nextIndex[0]: 180  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 170  matchIndex[2]: 0
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
term 31 server 2 InstallSnapshot success
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 29 rf.commitIndex 179 rf.lastApplied 179
term 31 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
flag 62824 term 31 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 31159 term 31 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 31 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
flag 61749 term 31 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 51086 term 31 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
flag 59293 term 31 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 28609 term 31 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
flag 76376 term 31 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 27036 term 31 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82404 term 31 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 5652 term 31 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
flag 83322 term 31 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 93650 term 31 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
flag 67412 term 31 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 93298 term 31 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
flag 11535 term 31 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 12533 term 31 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
flag 80596 term 31 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 3974 term 31 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46403 term 31 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 42973 term 31 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
flag 38356 term 31 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 40342 term 31 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
flag 37085 term 31 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 91835 term 31 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 31 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
update nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
flag 3013 term 31 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 69629 term 31 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3264 term 31 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 85828 term 31 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
flag 41949 term 31 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 52145 term 31 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96874 term 31 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 62032 term 31 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
flag 70212 term 31 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 73146 term 31 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 29 179} {1310568649843571774 29 180}]
------------------------------------------------------
client write log 1310568649843571774 (index 181) to leader 1
flag 12273 term 31 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 61799 term 31 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 31 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {1310568649843571774 29 180} {1310568649843571774 31 181}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {1310568649843571774 29 180} {1310568649843571774 31 181}]
------------------------------------------------------
flag 85201 term 31 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 31 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 181 
------------------------------------------------------
flag 99237 term 31 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 31 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 181 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {1310568649843571774 29 180} {1310568649843571774 31 181}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {1310568649843571774 29 180} {1310568649843571774 31 181}]
------------------------------------------------------
flag 70426 term 31 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 31 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 181 
------------------------------------------------------
flag 37853 term 31 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 31 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 181 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {1310568649843571774 29 180} {1310568649843571774 31 181}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {1310568649843571774 29 180} {1310568649843571774 31 181}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 495 term 31 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 31 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 181 
------------------------------------------------------
flag 25836 term 31 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 31 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 181 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {1310568649843571774 29 180} {1310568649843571774 31 181}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {1310568649843571774 29 180} {1310568649843571774 31 181}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31163 term 31 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 31 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 181 
------------------------------------------------------
flag 64061 term 31 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 31 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 181 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {1310568649843571774 29 180} {1310568649843571774 31 181}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {1310568649843571774 29 180} {1310568649843571774 31 181}]
------------------------------------------------------
flag 67288 term 31 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 31 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 181 
------------------------------------------------------
flag 80409 term 31 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 31 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 181 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {1310568649843571774 29 180} {1310568649843571774 31 181}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {1310568649843571774 29 180} {1310568649843571774 31 181}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1199579376248681816 (index 182) to leader 1
flag 83233 term 31 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 31 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 181 
------------------------------------------------------
flag 92482 term 31 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 31 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 181 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {1310568649843571774 29 180} {1310568649843571774 31 181} {1199579376248681816 31 182}]
------------------------------------------------------
flag 56983 term 31 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 31 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
flag 96936 term 31 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 31 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {1310568649843571774 29 180} {1310568649843571774 31 181} {1199579376248681816 31 182}]
------------------------------------------------------
client write log 7887739730043452830 (index 183) to leader 1
client write log 2096768905276333700 (index 184) to leader 1
client write log 71480580531816809 (index 185) to leader 1
client write log 1340349003320598986 (index 186) to leader 1
client write log 3822642460065086363 (index 187) to leader 1
client write log 4663675347289643840 (index 188) to leader 1
client write log 7256501032109122043 (index 189) to leader 1
client write log 5253486567538246495 (index 190) to leader 1
client write log 9140442016486761030 (index 191) to leader 1
client write log 2234121717597855846 (index 192) to leader 1
client write log 3340910421565291292 (index 193) to leader 1
client write log 2015412521841869294 (index 194) to leader 1
client write log 8200061740508466112 (index 195) to leader 1
flag 60862 term 31 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 31 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
flag 51317 term 31 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 31 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 179} {1310568649843571774 29 180} {1310568649843571774 31 181} {1199579376248681816 31 182} {7887739730043452830 31 183} {2096768905276333700 31 184} {71480580531816809 31 185} {1340349003320598986 31 186} {3822642460065086363 31 187} {4663675347289643840 31 188} {7256501032109122043 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195}]
------------------------------------------------------
term 31 Server1 start snapshot! index=189
term 31 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=195
-------------------------------------------------------------
flag 3247 term 31 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 31 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195}]
------------------------------------------------------
term 31 Server0 start snapshot! index=189
term 31 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=195
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8056805427996028139 (index 196) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11421 term 31 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 31 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 31
------------------------------------------------------
term 32 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 2 vote for server 1
term 33 server 1 get vote from server 2
term 33 server 1 become leader
------------------------------------------------------
term 33 server 0 vote for server 1
term 33 server 1 get outdate rpc reply from server 0
flag 94079 term 33 leader 1 nextIndex[0]: 197  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 30184 term 33 leader 1 nextIndex[2]: 197  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 197->196
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
flag 91684 term 33 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 182  matchIndex[2]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 31
------------------------------------------------------
term 33 server 2 InstallSnapshot success
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 31 rf.commitIndex 189 rf.lastApplied 189
term 33 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
flag 37620 term 33 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 68515 term 33 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42853 term 33 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 39039 term 33 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
flag 50630 term 33 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 83868 term 33 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26423 term 33 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 80728 term 33 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44844 term 33 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 63818 term 33 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
flag 81218 term 33 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 45260 term 33 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
flag 65940 term 33 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 5900 term 33 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14657 term 33 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 53775 term 33 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
flag 19746 term 33 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 11082 term 33 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
flag 73636 term 33 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 24693 term 33 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41840 term 33 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 89475 term 33 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42754 term 33 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 1390 term 33 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
flag 92758 term 33 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 96585 term 33 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
flag 36858 term 33 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 36596 term 33 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43467 term 33 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 53855 term 33 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
flag 69041 term 33 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 70241 term 33 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196}]
------------------------------------------------------
term 33 server 2 not vote for server 1, 任期不够新
term 33 server 1 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 8056805427996028139 (index 197) to leader 1
flag 57699 term 33 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 92153 term 33 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196} {8056805427996028139 33 197}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196} {8056805427996028139 33 197}]
------------------------------------------------------
flag 18099 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
flag 37157 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196} {8056805427996028139 33 197}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196} {8056805427996028139 33 197}]
------------------------------------------------------
flag 20579 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
flag 31086 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196} {8056805427996028139 33 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196} {8056805427996028139 33 197}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56956 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
flag 53218 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196} {8056805427996028139 33 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196} {8056805427996028139 33 197}]
------------------------------------------------------
flag 48501 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
flag 2481 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196} {8056805427996028139 33 197}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196} {8056805427996028139 33 197}]
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30108 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
flag 9650 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196} {8056805427996028139 33 197}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196} {8056805427996028139 33 197}]
------------------------------------------------------
flag 44263 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
flag 48739 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196} {8056805427996028139 33 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196} {8056805427996028139 33 197}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
flag 33629 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
flag 98648 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
flag 46003 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
flag 17809 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
flag 74740 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
flag 96242 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
flag 84433 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
flag 53373 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
term 34 server 0 vote for server 2
term 34 server 2 get vote from server 0
term 34 server 2 become leader
------------------------------------------------------
flag 94490 term 34 leader 2 nextIndex[0]: 198  matchIndex[0]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
flag 56358 term 34 leader 2 nextIndex[1]: 198  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196} {8056805427996028139 33 197}]
------------------------------------------------------
client write log 3154025562985581363 (index 198) to leader 2
term 34 server 0 not vote for server 2, 任期不够新
term 34 server 2 get outdate rpc reply from server 0
flag 92065 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
flag 11352 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
flag 71895 term 34 leader 2 nextIndex[0]: 198  matchIndex[0]: 197
term 34 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
flag 9257 term 34 leader 2 nextIndex[1]: 198  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196} {8056805427996028139 33 197} {3154025562985581363 34 198}]
------------------------------------------------------
flag 16670 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
flag 55477 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 198->197
------------------------------------------------------
flag 88503 term 34 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
flag 68171 term 34 leader 2 nextIndex[1]: 198  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196} {8056805427996028139 33 197} {3154025562985581363 34 198}]
------------------------------------------------------
client write log 7345058489181054784 (index 199) to leader 2
client write log 5636465538640434816 (index 200) to leader 2
client write log 6560705050798422575 (index 201) to leader 2
client write log 8250057830412964261 (index 202) to leader 2
client write log 788147948204311485 (index 203) to leader 2
client write log 2366019884665072820 (index 204) to leader 2
client write log 5021189840503724720 (index 205) to leader 2
client write log 3595801987512004461 (index 206) to leader 2
client write log 5812144399560845140 (index 207) to leader 2
client write log 6325873194963533819 (index 208) to leader 2
client write log 1850323948216772849 (index 209) to leader 2
client write log 7310839524979787104 (index 210) to leader 2
client write log 6260087995777392155 (index 211) to leader 2
flag 18601 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 0  matchIndex[2]: 197
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 31
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 72624 term 34 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
flag 14072 term 34 leader 2 nextIndex[1]: 198  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 31 189} {5253486567538246495 31 190} {9140442016486761030 31 191} {2234121717597855846 31 192} {3340910421565291292 31 193} {2015412521841869294 31 194} {8200061740508466112 31 195} {8056805427996028139 31 196} {8056805427996028139 33 197} {3154025562985581363 34 198} {7345058489181054784 34 199} {5636465538640434816 34 200} {6560705050798422575 34 201} {8250057830412964261 34 202} {788147948204311485 34 203} {2366019884665072820 34 204} {5021189840503724720 34 205} {3595801987512004461 34 206} {5812144399560845140 34 207} {6325873194963533819 34 208} {1850323948216772849 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
term 34 Server2 start snapshot! index=199
term 34 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=211
-------------------------------------------------------------
term 34 Server2 start snapshot! index=209
term 34 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=211
-------------------------------------------------------------
flag 48188 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 0  matchIndex[2]: 197
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 31
------------------------------------------------------
flag 23654 term 34 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 34 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 198  matchIndex[1]: 0
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
term 34 Server0 start snapshot! index=199
term 34 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=211
-------------------------------------------------------------
term 34 Server0 start snapshot! index=209
term 34 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=211
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7336871956700215251 (index 198) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67944 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 0  matchIndex[2]: 197
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 31
------------------------------------------------------
term 34 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 server 0 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95379 term 34 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 34 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 198  matchIndex[1]: 0
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 1 InstallSnapshot success
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 34 rf.commitIndex 209 rf.lastApplied 209
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
term 34 server 2 not vote for server 1, 日志不够新
term 34 server 0 not vote for server 1, 日志不够新
term 36 server 1 vote for server 2
term 36 server 0 vote for server 2
term 36 server 2 get vote from server 1
term 36 server 2 become leader
------------------------------------------------------
term 36 server 2 get outdate rpc reply from server 0
flag 59057 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 62350 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 212->211
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
flag 53675 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 42242 term 36 leader 2 nextIndex[1]: 210  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
flag 522 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 9994 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
flag 28179 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 94202 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
flag 84998 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 92244 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
flag 92767 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 58721 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16421 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 2292 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
flag 5794 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 53318 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
flag 93775 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 68854 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
flag 23535 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 32357 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
flag 64542 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 79064 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
flag 79915 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 15936 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98737 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 4540 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74094 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 83320 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20672 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 91824 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26114 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 85599 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
flag 95011 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 66229 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64478 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 1426 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66617 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 60130 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211}]
------------------------------------------------------
client write log 7336871956700215251 (index 212) to leader 2
flag 97680 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 52387 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211} {7336871956700215251 36 212}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211} {7336871956700215251 36 212}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58853 term 36 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 19726 term 36 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211} {7336871956700215251 36 212}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211} {7336871956700215251 36 212}]
------------------------------------------------------
flag 86549 term 36 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 2281 term 36 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211} {7336871956700215251 36 212}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211} {7336871956700215251 36 212}]
------------------------------------------------------
flag 28952 term 36 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 11104 term 36 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211} {7336871956700215251 36 212}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211} {7336871956700215251 36 212}]
------------------------------------------------------
flag 52450 term 36 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 9641 term 36 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211} {7336871956700215251 36 212}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211} {7336871956700215251 36 212}]
------------------------------------------------------
flag 60294 term 36 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 38659 term 36 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211} {7336871956700215251 36 212}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211} {7336871956700215251 36 212}]
------------------------------------------------------
term 36 server 1 not vote for server 2, 任期不够新
term 36 server 2 get outdate rpc reply from server 1
flag 95214 term 36 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 3129 term 36 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211} {7336871956700215251 36 212}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211} {7336871956700215251 36 212}]
------------------------------------------------------
term 36 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 0
client write log 4080871799472142207 (index 213) to leader 2
flag 50611 term 36 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 81334 term 36 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211} {7336871956700215251 36 212} {4080871799472142207 36 213}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16257 term 36 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 213 
------------------------------------------------------
flag 3974 term 36 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 213 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211} {7336871956700215251 36 212} {4080871799472142207 36 213}]
------------------------------------------------------
client write log 7731655658515838723 (index 214) to leader 2
client write log 5688631541630914809 (index 215) to leader 2
client write log 7856039530311853584 (index 216) to leader 2
client write log 3703154450013517668 (index 217) to leader 2
client write log 4973009145446263893 (index 218) to leader 2
client write log 4366181876090573333 (index 219) to leader 2
client write log 3817637221791567146 (index 220) to leader 2
flag 38589 term 36 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 213 
------------------------------------------------------
flag 21405 term 36 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 213 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 209} {7310839524979787104 34 210} {6260087995777392155 34 211} {7336871956700215251 36 212} {4080871799472142207 36 213} {7731655658515838723 36 214} {5688631541630914809 36 215} {7856039530311853584 36 216} {3703154450013517668 36 217} {4973009145446263893 36 218} {4366181876090573333 36 219} {3817637221791567146 36 220}]
------------------------------------------------------
term 36 Server2 start snapshot! index=219
term 36 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=220
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 213->212
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 0  matchIndex[0]: 212
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 73945 term 36 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 36 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 220 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 36 219} {3817637221791567146 36 220}]
------------------------------------------------------
term 36 Server1 start snapshot! index=219
term 36 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=220
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5105042164965366383 (index 221) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 0  matchIndex[0]: 212
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 42219 term 36 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 36 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 220 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {3817637221791567146 36 220} {5105042164965366383 36 221}]
------------------------------------------------------
term 37 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 server 1 vote for server 2
term 38 server 0 vote for server 2
term 38 server 2 get vote from server 1
term 38 server 2 become leader
------------------------------------------------------
term 38 server 2 get outdate rpc reply from server 0
flag 88415 term 38 leader 2 nextIndex[0]: 222  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 36 leaderCommit: 221 
------------------------------------------------------
flag 54023 term 38 leader 2 nextIndex[1]: 222  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 36 leaderCommit: 221 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {3817637221791567146 36 220} {5105042164965366383 36 221}]
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 222->221
------------------------------------------------------
term 38 server 1 not vote for server 2, 任期不够新
term 38 server 2 get outdate rpc reply from server 1
term 38 leader 2 nextIndex[0]: 213  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 7127 term 38 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 36 leaderCommit: 221 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {3817637221791567146 36 220} {5105042164965366383 36 221}]
------------------------------------------------------
term 38 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 36 rf.commitIndex 219 rf.lastApplied 219
term 38 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
flag 34412 term 38 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 38 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 221 
------------------------------------------------------
flag 22619 term 38 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 36 leaderCommit: 221 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {3817637221791567146 36 220} {5105042164965366383 36 221}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {3817637221791567146 36 220} {5105042164965366383 36 221}]
------------------------------------------------------
flag 46534 term 38 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 36 leaderCommit: 221 
------------------------------------------------------
flag 19611 term 38 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 36 leaderCommit: 221 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {3817637221791567146 36 220} {5105042164965366383 36 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {3817637221791567146 36 220} {5105042164965366383 36 221}]
------------------------------------------------------
flag 10402 term 38 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 36 leaderCommit: 221 
------------------------------------------------------
flag 11401 term 38 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 36 leaderCommit: 221 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {3817637221791567146 36 220} {5105042164965366383 36 221}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {3817637221791567146 36 220} {5105042164965366383 36 221}]
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3072 term 38 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 36 leaderCommit: 221 
------------------------------------------------------
flag 31997 term 38 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 36 leaderCommit: 221 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {3817637221791567146 36 220} {5105042164965366383 36 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {3817637221791567146 36 220} {5105042164965366383 36 221}]
------------------------------------------------------
flag 48008 term 38 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 36 leaderCommit: 221 
------------------------------------------------------
flag 13927 term 38 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 36 leaderCommit: 221 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {3817637221791567146 36 220} {5105042164965366383 36 221}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {3817637221791567146 36 220} {5105042164965366383 36 221}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55671 term 38 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 36 leaderCommit: 221 
------------------------------------------------------
flag 30077 term 38 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 36 leaderCommit: 221 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {3817637221791567146 36 220} {5105042164965366383 36 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {3817637221791567146 36 220} {5105042164965366383 36 221}]
------------------------------------------------------
flag 57762 term 38 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 36 leaderCommit: 221 
------------------------------------------------------
flag 43508 term 38 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 36 leaderCommit: 221 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {3817637221791567146 36 220} {5105042164965366383 36 221}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {3817637221791567146 36 220} {5105042164965366383 36 221}]
------------------------------------------------------
term 38 server 1 not vote for server 0, 任期不够新
term 38 server 0 get outdate rpc reply from server 1
!!!!!!diconnect server 0
client write log 5505724085201645039 (index 222) to leader 2
flag 32885 term 38 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 36 leaderCommit: 221 
------------------------------------------------------
flag 17411 term 38 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 36 leaderCommit: 221 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 36 219} {3817637221791567146 36 220} {5105042164965366383 36 221} {5505724085201645039 38 222}]
------------------------------------------------------
flag 69466 term 38 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
flag 35629 term 38 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 38 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 38 leaderCommit: 222 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 36 219} {3817637221791567146 36 220} {5105042164965366383 36 221} {5505724085201645039 38 222}]
------------------------------------------------------
client write log 3599547034736081262 (index 223) to leader 2
client write log 6009835761729531744 (index 224) to leader 2
client write log 3924604316713971573 (index 225) to leader 2
client write log 5464416732586044698 (index 226) to leader 2
client write log 6541694529188837719 (index 227) to leader 2
client write log 9036526095426753930 (index 228) to leader 2
client write log 5761171885136827162 (index 229) to leader 2
client write log 2741420466708088108 (index 230) to leader 2
client write log 4198738906830645183 (index 231) to leader 2
client write log 7781967742318264290 (index 232) to leader 2
client write log 8969059186330347231 (index 233) to leader 2
client write log 4768228383052666008 (index 234) to leader 2
client write log 2605405886160993549 (index 235) to leader 2
client write log 1686787095561208684 (index 236) to leader 2
term 38 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52810 term 38 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
flag 59484 term 38 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 38 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 38 leaderCommit: 222 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 36 219} {3817637221791567146 36 220} {5105042164965366383 36 221} {5505724085201645039 38 222} {3599547034736081262 38 223} {6009835761729531744 38 224} {3924604316713971573 38 225} {5464416732586044698 38 226} {6541694529188837719 38 227} {9036526095426753930 38 228} {5761171885136827162 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236}]
------------------------------------------------------
term 38 Server2 start snapshot! index=229
term 38 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=236
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 15876 term 38 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 38 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236}]
------------------------------------------------------
term 38 Server1 start snapshot! index=229
term 38 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=236
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8089525236673121697 (index 237) to leader 2
term 38 server 2 not vote for server 0, 日志不够新
term 38 server 1 not vote for server 0, 日志不够新
term 40 server 1 vote for server 2
term 40 server 2 get vote from server 1
term 40 server 2 become leader
------------------------------------------------------
term 40 server 0 vote for server 2
term 40 server 2 get outdate rpc reply from server 0
flag 29452 term 40 leader 2 nextIndex[0]: 238  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 34557 term 40 leader 2 nextIndex[1]: 238  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 238->237
------------------------------------------------------
term 40 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 238->237
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 222  matchIndex[0]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 6025 term 40 leader 2 nextIndex[1]: 237  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
term 40 server 0 InstallSnapshot success
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 38 rf.commitIndex 229 rf.lastApplied 229
term 40 server 2 not vote for server 0, 任期不够新
term 40 server 0 get outdate rpc reply from server 2
flag 43912 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 24874 term 40 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
flag 86475 term 40 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 50542 term 40 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
flag 44126 term 40 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 61716 term 40 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
flag 45030 term 40 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 33805 term 40 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
flag 29314 term 40 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 96547 term 40 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
flag 59042 term 40 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 30023 term 40 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96147 term 40 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 30767 term 40 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7952 term 40 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 8483 term 40 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
flag 32709 term 40 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 77824 term 40 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
flag 97530 term 40 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 49169 term 40 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26715 term 40 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 96359 term 40 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33056 term 40 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 96084 term 40 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
flag 67796 term 40 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 69864 term 40 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11609 term 40 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 87781 term 40 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
flag 98808 term 40 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 4245 term 40 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
flag 9261 term 40 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 93971 term 40 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60972 term 40 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 97245 term 40 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
flag 30949 term 40 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 26725 term 40 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237}]
------------------------------------------------------
client write log 8089525236673121697 (index 238) to leader 2
flag 42214 term 40 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 96352 term 40 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 40 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237} {8089525236673121697 40 238}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237} {8089525236673121697 40 238}]
------------------------------------------------------
flag 62665 term 40 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 49828 term 40 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237} {8089525236673121697 40 238}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237} {8089525236673121697 40 238}]
------------------------------------------------------
flag 63809 term 40 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 41260 term 40 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237} {8089525236673121697 40 238}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237} {8089525236673121697 40 238}]
------------------------------------------------------
flag 46780 term 40 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 68619 term 40 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237} {8089525236673121697 40 238}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237} {8089525236673121697 40 238}]
------------------------------------------------------
flag 5725 term 40 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 55525 term 40 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237} {8089525236673121697 40 238}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237} {8089525236673121697 40 238}]
------------------------------------------------------
flag 64706 term 40 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 99180 term 40 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237} {8089525236673121697 40 238}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237} {8089525236673121697 40 238}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
flag 40919 term 40 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 6101 term 40 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78671 term 40 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 37940 term 40 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 82059 term 40 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 98191 term 40 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
term 41 server 1 vote for server 0
term 41 server 0 get vote from server 1
term 41 server 0 become leader
------------------------------------------------------
flag 68396 term 41 leader 0 nextIndex[1]: 239  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 48559 term 41 leader 0 nextIndex[2]: 239  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237} {8089525236673121697 40 238}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 965684922061046762 (index 239) to leader 0
flag 14700 term 40 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 23062 term 40 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 11524 term 41 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 41 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 57767 term 41 leader 0 nextIndex[2]: 239  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 38 229} {2741420466708088108 38 230} {4198738906830645183 38 231} {7781967742318264290 38 232} {8969059186330347231 38 233} {4768228383052666008 38 234} {2605405886160993549 38 235} {1686787095561208684 38 236} {8089525236673121697 38 237} {8089525236673121697 40 238} {965684922061046762 41 239}]
------------------------------------------------------
term 41 Server0 start snapshot! index=239
term 41 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
flag 25279 term 40 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 19187 term 40 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 97168 term 41 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 41 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 41 leaderCommit: 239 
------------------------------------------------------
term 41 leader 0 nextIndex[2]: 239  matchIndex[2]: 0
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 41 239}]
------------------------------------------------------
term 41 Server1 start snapshot! index=239
term 41 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
client write log 3170444214985742298 (index 240) to leader 0
client write log 9035755176553481795 (index 241) to leader 0
client write log 7011698901584359018 (index 242) to leader 0
client write log 1896558096759380500 (index 243) to leader 0
client write log 8493141724669489697 (index 244) to leader 0
client write log 7867787889314771024 (index 245) to leader 0
client write log 8366190654816691357 (index 246) to leader 0
client write log 363048815906761268 (index 247) to leader 0
client write log 1749506039516532658 (index 248) to leader 0
flag 82177 term 40 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 38695 term 40 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 61469 term 41 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 41 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 41 leaderCommit: 239 
------------------------------------------------------
term 41 leader 0 nextIndex[2]: 239  matchIndex[2]: 0
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
flag 97454 term 40 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 13749 term 40 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 75557 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
term 41 leader 0 nextIndex[2]: 239  matchIndex[2]: 0
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
!!!!!!connect server 2
client write log 8879791274190517261 (index 239) to leader 2
flag 6930 term 40 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 40815 term 40 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
term 41 server 1 AppendEntries false 领导者任期过期 args.Term 40
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 41 server 0 AppendEntries false 领导者任期过期 args.Term 40
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91286 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
term 41 leader 0 nextIndex[2]: 239  matchIndex[2]: 0
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
term 41 server 2 InstallSnapshot success
------------------------------------------------------
term 41 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 41 rf.commitIndex 239 rf.lastApplied 239
flag 61754 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
flag 38786 term 41 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
flag 2343 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
flag 9933 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
term 41 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
flag 12607 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
flag 55923 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
flag 25185 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
flag 94028 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
flag 49565 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
flag 61769 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
flag 19652 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
flag 29836 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89480 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
flag 27667 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
term 41 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2306 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
flag 85088 term 41 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
flag 73813 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
flag 77758 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
flag 5515 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
flag 60183 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11626 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
flag 90289 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
flag 55733 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
flag 53693 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
flag 18189 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
flag 7377 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
flag 87367 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
flag 59785 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
flag 22478 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
flag 94544 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16816 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
flag 43076 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 249->248
------------------------------------------------------
flag 32208 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
term 41 leader 0 nextIndex[2]: 0  matchIndex[2]: 248
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 2 InstallSnapshot fail
rf.commitIndex 248 args.LastIncludedIndex 239
------------------------------------------------------
term 41 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
flag 86361 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
flag 21372 term 41 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
flag 83516 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
flag 1279 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248}]
------------------------------------------------------
client write log 8879791274190517261 (index 249) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95889 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
flag 32709 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248} {8879791274190517261 41 249}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 239} {3170444214985742298 41 240} {9035755176553481795 41 241} {7011698901584359018 41 242} {1896558096759380500 41 243} {8493141724669489697 41 244} {7867787889314771024 41 245} {8366190654816691357 41 246} {363048815906761268 41 247} {1749506039516532658 41 248} {8879791274190517261 41 249}]
------------------------------------------------------
term 41 Server0 start snapshot! index=249
term 41 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
flag 61236 term 41 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 48671 term 41 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
term 41 Server1 start snapshot! index=249
term 41 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 41 Server2 start snapshot! index=249
term 41 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
flag 68560 term 41 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 44633 term 41 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
flag 982 term 41 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 43349 term 41 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
flag 88456 term 41 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 70510 term 41 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
flag 52995 term 41 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 8142 term 41 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
flag 99160 term 41 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 50079 term 41 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7398986032531749965 (index 250) to leader 0
flag 64126 term 41 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 89396 term 41 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {7398986032531749965 41 250}]
------------------------------------------------------
flag 65090 term 41 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
flag 61376 term 41 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 41 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {7398986032531749965 41 250}]
------------------------------------------------------
client write log 6822743371381975517 (index 251) to leader 0
client write log 4092448413519607181 (index 252) to leader 0
client write log 2159678879660976585 (index 253) to leader 0
client write log 7557163507794253155 (index 254) to leader 0
client write log 148531040514667547 (index 255) to leader 0
client write log 6914078353111196738 (index 256) to leader 0
client write log 1838737067406296097 (index 257) to leader 0
client write log 6074296559459122094 (index 258) to leader 0
client write log 152831957434292059 (index 259) to leader 0
client write log 814279675639840771 (index 260) to leader 0
client write log 8276467568960960542 (index 261) to leader 0
client write log 7575449007857679424 (index 262) to leader 0
client write log 2522064119752800994 (index 263) to leader 0
flag 63687 term 41 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
flag 21468 term 41 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 41 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 41 249} {7398986032531749965 41 250} {6822743371381975517 41 251} {4092448413519607181 41 252} {2159678879660976585 41 253} {7557163507794253155 41 254} {148531040514667547 41 255} {6914078353111196738 41 256} {1838737067406296097 41 257} {6074296559459122094 41 258} {152831957434292059 41 259} {814279675639840771 41 260} {8276467568960960542 41 261} {7575449007857679424 41 262} {2522064119752800994 41 263}]
------------------------------------------------------
term 41 Server0 start snapshot! index=259
term 41 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=263
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
flag 47967 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {814279675639840771 41 260} {8276467568960960542 41 261} {7575449007857679424 41 262} {2522064119752800994 41 263}]
------------------------------------------------------
term 41 Server2 start snapshot! index=259
term 41 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=263
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4248058548453193892 (index 264) to leader 0
term 41 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
flag 68465 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {814279675639840771 41 260} {8276467568960960542 41 261} {7575449007857679424 41 262} {2522064119752800994 41 263} {4248058548453193892 41 264}]
------------------------------------------------------
term 42 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 server 2 vote for server 0
term 43 server 0 get vote from server 2
term 43 server 0 become leader
------------------------------------------------------
term 43 server 1 vote for server 0
term 43 server 0 get outdate rpc reply from server 1
flag 23648 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 97563 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
term 43 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {814279675639840771 41 260} {8276467568960960542 41 261} {7575449007857679424 41 262} {2522064119752800994 41 263} {4248058548453193892 41 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 265->264
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 250  matchIndex[1]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
flag 75215 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 41 rf.commitIndex 259 rf.lastApplied 259
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {814279675639840771 41 260} {8276467568960960542 41 261} {7575449007857679424 41 262} {2522064119752800994 41 263} {4248058548453193892 41 264}]
------------------------------------------------------
flag 75172 term 43 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 43 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 65771 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {814279675639840771 41 260} {8276467568960960542 41 261} {7575449007857679424 41 262} {2522064119752800994 41 263} {4248058548453193892 41 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {814279675639840771 41 260} {8276467568960960542 41 261} {7575449007857679424 41 262} {2522064119752800994 41 263} {4248058548453193892 41 264}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45099 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 3523 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {814279675639840771 41 260} {8276467568960960542 41 261} {7575449007857679424 41 262} {2522064119752800994 41 263} {4248058548453193892 41 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {814279675639840771 41 260} {8276467568960960542 41 261} {7575449007857679424 41 262} {2522064119752800994 41 263} {4248058548453193892 41 264}]
------------------------------------------------------
flag 13887 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 99658 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {814279675639840771 41 260} {8276467568960960542 41 261} {7575449007857679424 41 262} {2522064119752800994 41 263} {4248058548453193892 41 264}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {814279675639840771 41 260} {8276467568960960542 41 261} {7575449007857679424 41 262} {2522064119752800994 41 263} {4248058548453193892 41 264}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32062 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 72719 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {814279675639840771 41 260} {8276467568960960542 41 261} {7575449007857679424 41 262} {2522064119752800994 41 263} {4248058548453193892 41 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {814279675639840771 41 260} {8276467568960960542 41 261} {7575449007857679424 41 262} {2522064119752800994 41 263} {4248058548453193892 41 264}]
------------------------------------------------------
flag 63727 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 95204 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {814279675639840771 41 260} {8276467568960960542 41 261} {7575449007857679424 41 262} {2522064119752800994 41 263} {4248058548453193892 41 264}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {814279675639840771 41 260} {8276467568960960542 41 261} {7575449007857679424 41 262} {2522064119752800994 41 263} {4248058548453193892 41 264}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36850 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 86031 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {814279675639840771 41 260} {8276467568960960542 41 261} {7575449007857679424 41 262} {2522064119752800994 41 263} {4248058548453193892 41 264}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {814279675639840771 41 260} {8276467568960960542 41 261} {7575449007857679424 41 262} {2522064119752800994 41 263} {4248058548453193892 41 264}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2863005214632573371 (index 265) to leader 0
flag 65322 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 55463 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 41 259} {814279675639840771 41 260} {8276467568960960542 41 261} {7575449007857679424 41 262} {2522064119752800994 41 263} {4248058548453193892 41 264} {2863005214632573371 43 265}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57418 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 23015 term 43 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 41 259} {814279675639840771 41 260} {8276467568960960542 41 261} {7575449007857679424 41 262} {2522064119752800994 41 263} {4248058548453193892 41 264} {2863005214632573371 43 265}]
------------------------------------------------------
client write log 886182586095498179 (index 266) to leader 0
client write log 5725644994703944444 (index 267) to leader 0
client write log 6207076907586407664 (index 268) to leader 0
client write log 5557967838747490042 (index 269) to leader 0
client write log 13725375125726694 (index 270) to leader 0
client write log 4051035940172067780 (index 271) to leader 0
flag 32752 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 29337 term 43 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 259} {814279675639840771 41 260} {8276467568960960542 41 261} {7575449007857679424 41 262} {2522064119752800994 41 263} {4248058548453193892 41 264} {2863005214632573371 43 265} {886182586095498179 43 266} {5725644994703944444 43 267} {6207076907586407664 43 268} {5557967838747490042 43 269} {13725375125726694 43 270} {4051035940172067780 43 271}]
------------------------------------------------------
term 43 Server0 start snapshot! index=269
term 43 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=271
-------------------------------------------------------------
term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 17828 term 43 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {13725375125726694 43 270} {4051035940172067780 43 271}]
------------------------------------------------------
term 43 Server2 start snapshot! index=269
term 43 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=271
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2994529645290950351 (index 272) to leader 0
term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 10719 term 43 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {13725375125726694 43 270} {4051035940172067780 43 271} {2994529645290950351 43 272}]
------------------------------------------------------
term 44 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 server 2 vote for server 0
term 45 server 0 get vote from server 2
term 45 server 0 become leader
------------------------------------------------------
term 45 server 1 vote for server 0
term 45 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72660 term 45 leader 0 nextIndex[1]: 273  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 89434 term 45 leader 0 nextIndex[2]: 273  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {13725375125726694 43 270} {4051035940172067780 43 271} {2994529645290950351 43 272}]
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 273->272
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 265  matchIndex[1]: 0
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 59520 term 45 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 1 InstallSnapshot success
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 43 rf.commitIndex 269 rf.lastApplied 269
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {13725375125726694 43 270} {4051035940172067780 43 271} {2994529645290950351 43 272}]
------------------------------------------------------
term 45 server 2 not vote for server 0, 任期不够新
term 45 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62207 term 45 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 52524 term 45 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {13725375125726694 43 270} {4051035940172067780 43 271} {2994529645290950351 43 272}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {13725375125726694 43 270} {4051035940172067780 43 271} {2994529645290950351 43 272}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1188 term 45 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 37573 term 45 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {13725375125726694 43 270} {4051035940172067780 43 271} {2994529645290950351 43 272}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {13725375125726694 43 270} {4051035940172067780 43 271} {2994529645290950351 43 272}]
------------------------------------------------------
flag 5361 term 45 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 18828 term 45 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {13725375125726694 43 270} {4051035940172067780 43 271} {2994529645290950351 43 272}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {13725375125726694 43 270} {4051035940172067780 43 271} {2994529645290950351 43 272}]
------------------------------------------------------
term 45 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63775 term 45 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 7249 term 45 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {13725375125726694 43 270} {4051035940172067780 43 271} {2994529645290950351 43 272}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {13725375125726694 43 270} {4051035940172067780 43 271} {2994529645290950351 43 272}]
------------------------------------------------------
flag 87700 term 45 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 1973 term 45 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {13725375125726694 43 270} {4051035940172067780 43 271} {2994529645290950351 43 272}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {13725375125726694 43 270} {4051035940172067780 43 271} {2994529645290950351 43 272}]
------------------------------------------------------
flag 13366 term 45 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 84846 term 45 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {13725375125726694 43 270} {4051035940172067780 43 271} {2994529645290950351 43 272}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {13725375125726694 43 270} {4051035940172067780 43 271} {2994529645290950351 43 272}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80064 term 45 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 25693 term 45 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {13725375125726694 43 270} {4051035940172067780 43 271} {2994529645290950351 43 272}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {13725375125726694 43 270} {4051035940172067780 43 271} {2994529645290950351 43 272}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 67161 term 45 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 96498 term 45 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39719 term 45 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 85439 term 45 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 14674 term 45 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 87610 term 45 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 71468 term 45 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 43001 term 45 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 46 server 2 vote for server 1
term 46 server 1 get vote from server 2
term 46 server 1 become leader
------------------------------------------------------
flag 92756 term 46 leader 1 nextIndex[0]: 273  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 35724 term 46 leader 1 nextIndex[2]: 273  matchIndex[2]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {13725375125726694 43 270} {4051035940172067780 43 271} {2994529645290950351 43 272}]
------------------------------------------------------
client write log 5949664459507449249 (index 273) to leader 1
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 273->272
------------------------------------------------------
flag 79532 term 45 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 leader 0 nextIndex[2]: 0  matchIndex[2]: 272
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 21043 term 46 leader 1 nextIndex[0]: 273  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 63393 term 46 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 46 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 43 269} {13725375125726694 43 270} {4051035940172067780 43 271} {2994529645290950351 43 272} {5949664459507449249 46 273}]
------------------------------------------------------
flag 81114 term 45 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 leader 0 nextIndex[2]: 0  matchIndex[2]: 272
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 20753 term 46 leader 1 nextIndex[0]: 273  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 273 
------------------------------------------------------
flag 54458 term 46 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 46 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 43 269} {13725375125726694 43 270} {4051035940172067780 43 271} {2994529645290950351 43 272} {5949664459507449249 46 273}]
------------------------------------------------------
client write log 7595979787077244157 (index 274) to leader 1
client write log 7243588827111626689 (index 275) to leader 1
client write log 6072353690563116914 (index 276) to leader 1
client write log 7360459023787963823 (index 277) to leader 1
client write log 8782623346193736969 (index 278) to leader 1
client write log 2773087067227407631 (index 279) to leader 1
client write log 1770089395957027984 (index 280) to leader 1
client write log 5562756035194588179 (index 281) to leader 1
client write log 9100479277801636265 (index 282) to leader 1
client write log 3292957035896884518 (index 283) to leader 1
client write log 8669768945979984153 (index 284) to leader 1
client write log 6166316422198519410 (index 285) to leader 1
flag 37228 term 45 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 leader 0 nextIndex[2]: 0  matchIndex[2]: 272
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 82976 term 46 leader 1 nextIndex[0]: 273  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 273 
------------------------------------------------------
flag 95294 term 46 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 46 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 43 269} {13725375125726694 43 270} {4051035940172067780 43 271} {2994529645290950351 43 272} {5949664459507449249 46 273} {7595979787077244157 46 274} {7243588827111626689 46 275} {6072353690563116914 46 276} {7360459023787963823 46 277} {8782623346193736969 46 278} {2773087067227407631 46 279} {1770089395957027984 46 280} {5562756035194588179 46 281} {9100479277801636265 46 282} {3292957035896884518 46 283} {8669768945979984153 46 284} {6166316422198519410 46 285}]
------------------------------------------------------
term 46 Server1 start snapshot! index=279
term 46 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=285
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18554 term 45 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 leader 0 nextIndex[2]: 0  matchIndex[2]: 272
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
term 46 leader 1 nextIndex[0]: 273  matchIndex[0]: 0
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 46
------------------------------------------------------
flag 68058 term 46 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 46 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 46 279} {1770089395957027984 46 280} {5562756035194588179 46 281} {9100479277801636265 46 282} {3292957035896884518 46 283} {8669768945979984153 46 284} {6166316422198519410 46 285}]
------------------------------------------------------
term 46 Server2 start snapshot! index=279
term 46 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=285
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8744040806434329528 (index 286) to leader 1
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 273->272
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 0  matchIndex[1]: 272
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
term 45 leader 0 nextIndex[2]: 0  matchIndex[2]: 272
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
term 46 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 45 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 1 nextIndex[0]: 273  matchIndex[0]: 0
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 46
------------------------------------------------------
flag 91790 term 46 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 46 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 46 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 46 279} {1770089395957027984 46 280} {5562756035194588179 46 281} {9100479277801636265 46 282} {3292957035896884518 46 283} {8669768945979984153 46 284} {6166316422198519410 46 285} {8744040806434329528 46 286}]
------------------------------------------------------
term 46 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 46 rf.commitIndex 279 rf.lastApplied 279
term 46 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 server 2 not vote for server 0, 日志不够新
term 46 server 1 not vote for server 0, 日志不够新
term 48 server 2 vote for server 1
term 48 server 1 get vote from server 2
term 48 server 0 vote for server 1
term 48 server 1 become leader
------------------------------------------------------
term 48 server 1 get outdate rpc reply from server 0
flag 17827 term 48 leader 1 nextIndex[0]: 287  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 15266 term 48 leader 1 nextIndex[2]: 287  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 46 279} {1770089395957027984 46 280} {5562756035194588179 46 281} {9100479277801636265 46 282} {3292957035896884518 46 283} {8669768945979984153 46 284} {6166316422198519410 46 285} {8744040806434329528 46 286}]
------------------------------------------------------
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 287->286
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 0 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 0
flag 99992 term 48 leader 1 nextIndex[0]: 280  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 9370 term 48 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 48 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 46 279} {1770089395957027984 46 280} {5562756035194588179 46 281} {9100479277801636265 46 282} {3292957035896884518 46 283} {8669768945979984153 46 284} {6166316422198519410 46 285} {8744040806434329528 46 286}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 46 279} {1770089395957027984 46 280} {5562756035194588179 46 281} {9100479277801636265 46 282} {3292957035896884518 46 283} {8669768945979984153 46 284} {6166316422198519410 46 285} {8744040806434329528 46 286}]
------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75423 term 48 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 48 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 11277 term 48 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 48 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
term 48 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
[{snapshot 46 279} {1770089395957027984 46 280} {5562756035194588179 46 281} {9100479277801636265 46 282} {3292957035896884518 46 283} {8669768945979984153 46 284} {6166316422198519410 46 285} {8744040806434329528 46 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 46 279} {1770089395957027984 46 280} {5562756035194588179 46 281} {9100479277801636265 46 282} {3292957035896884518 46 283} {8669768945979984153 46 284} {6166316422198519410 46 285} {8744040806434329528 46 286}]
------------------------------------------------------
flag 17277 term 48 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 48 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 16289 term 48 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 48 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 46 279} {1770089395957027984 46 280} {5562756035194588179 46 281} {9100479277801636265 46 282} {3292957035896884518 46 283} {8669768945979984153 46 284} {6166316422198519410 46 285} {8744040806434329528 46 286}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 46 279} {1770089395957027984 46 280} {5562756035194588179 46 281} {9100479277801636265 46 282} {3292957035896884518 46 283} {8669768945979984153 46 284} {6166316422198519410 46 285} {8744040806434329528 46 286}]
------------------------------------------------------
flag 64485 term 48 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 48 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 33806 term 48 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 48 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 46 279} {1770089395957027984 46 280} {5562756035194588179 46 281} {9100479277801636265 46 282} {3292957035896884518 46 283} {8669768945979984153 46 284} {6166316422198519410 46 285} {8744040806434329528 46 286}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 46 279} {1770089395957027984 46 280} {5562756035194588179 46 281} {9100479277801636265 46 282} {3292957035896884518 46 283} {8669768945979984153 46 284} {6166316422198519410 46 285} {8744040806434329528 46 286}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92426 term 48 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 48 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 22171 term 48 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 48 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 46 279} {1770089395957027984 46 280} {5562756035194588179 46 281} {9100479277801636265 46 282} {3292957035896884518 46 283} {8669768945979984153 46 284} {6166316422198519410 46 285} {8744040806434329528 46 286}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 46 279} {1770089395957027984 46 280} {5562756035194588179 46 281} {9100479277801636265 46 282} {3292957035896884518 46 283} {8669768945979984153 46 284} {6166316422198519410 46 285} {8744040806434329528 46 286}]
------------------------------------------------------
flag 13543 term 48 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 48 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 7393 term 48 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 48 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 46 279} {1770089395957027984 46 280} {5562756035194588179 46 281} {9100479277801636265 46 282} {3292957035896884518 46 283} {8669768945979984153 46 284} {6166316422198519410 46 285} {8744040806434329528 46 286}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 46 279} {1770089395957027984 46 280} {5562756035194588179 46 281} {9100479277801636265 46 282} {3292957035896884518 46 283} {8669768945979984153 46 284} {6166316422198519410 46 285} {8744040806434329528 46 286}]
------------------------------------------------------
flag 37816 term 48 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 48 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 4348 term 48 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 48 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 46 279} {1770089395957027984 46 280} {5562756035194588179 46 281} {9100479277801636265 46 282} {3292957035896884518 46 283} {8669768945979984153 46 284} {6166316422198519410 46 285} {8744040806434329528 46 286}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 46 279} {1770089395957027984 46 280} {5562756035194588179 46 281} {9100479277801636265 46 282} {3292957035896884518 46 283} {8669768945979984153 46 284} {6166316422198519410 46 285} {8744040806434329528 46 286}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1002178343003589034 (index 287) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49256 term 48 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 48 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 38982 term 48 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 48 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 46 279} {1770089395957027984 46 280} {5562756035194588179 46 281} {9100479277801636265 46 282} {3292957035896884518 46 283} {8669768945979984153 46 284} {6166316422198519410 46 285} {8744040806434329528 46 286} {1002178343003589034 48 287}]
------------------------------------------------------
term 48 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73888 term 48 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 48 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 48 leaderCommit: 287 
------------------------------------------------------
flag 40519 term 48 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 48 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 46 279} {1770089395957027984 46 280} {5562756035194588179 46 281} {9100479277801636265 46 282} {3292957035896884518 46 283} {8669768945979984153 46 284} {6166316422198519410 46 285} {8744040806434329528 46 286} {1002178343003589034 48 287}]
------------------------------------------------------
client write log 3402595031880531875 (index 288) to leader 1
client write log 1764853480952918008 (index 289) to leader 1
client write log 8212316970416083654 (index 290) to leader 1
client write log 1545956948216965203 (index 291) to leader 1
client write log 4258644457085463274 (index 292) to leader 1
client write log 5423886212516223718 (index 293) to leader 1
client write log 3860659350599257303 (index 294) to leader 1
client write log 5098439009801652957 (index 295) to leader 1
client write log 5038696341038586666 (index 296) to leader 1
client write log 1517891015497132180 (index 297) to leader 1
client write log 1504669385354123761 (index 298) to leader 1
client write log 5166108033940883046 (index 299) to leader 1
flag 21183 term 48 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 48 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 48 leaderCommit: 287 
------------------------------------------------------
flag 41411 term 48 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 48 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 46 279} {1770089395957027984 46 280} {5562756035194588179 46 281} {9100479277801636265 46 282} {3292957035896884518 46 283} {8669768945979984153 46 284} {6166316422198519410 46 285} {8744040806434329528 46 286} {1002178343003589034 48 287} {3402595031880531875 48 288} {1764853480952918008 48 289} {8212316970416083654 48 290} {1545956948216965203 48 291} {4258644457085463274 48 292} {5423886212516223718 48 293} {3860659350599257303 48 294} {5098439009801652957 48 295} {5038696341038586666 48 296} {1517891015497132180 48 297} {1504669385354123761 48 298} {5166108033940883046 48 299}]
------------------------------------------------------
term 48 Server1 start snapshot! index=289
term 48 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=299
-------------------------------------------------------------
term 48 Server1 start snapshot! index=299
term 48 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
flag 27359 term 48 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
term 48 Server0 start snapshot! index=289
term 48 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=299
-------------------------------------------------------------
term 48 Server0 start snapshot! index=299
term 48 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2083473057537106448 (index 300) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 1 not vote for server 2, 日志不够新
term 48 server 0 not vote for server 2, 日志不够新
term 50 server 2 vote for server 1
term 50 server 0 vote for server 1
term 50 server 1 get vote from server 2
term 50 server 1 become leader
------------------------------------------------------
term 50 server 1 get outdate rpc reply from server 0
flag 13275 term 50 leader 1 nextIndex[0]: 301  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 50967 term 50 leader 1 nextIndex[2]: 301  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 50 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 301->300
------------------------------------------------------
term 50 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 301->300
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53857 term 50 leader 1 nextIndex[0]: 300  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 287  matchIndex[2]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 50 server 2 InstallSnapshot success
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 48 rf.commitIndex 299 rf.lastApplied 299
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
flag 93593 term 50 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 91626 term 50 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
flag 40944 term 50 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 10976 term 50 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
flag 22507 term 50 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 9095 term 50 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
term 50 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35328 term 50 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 86179 term 50 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
term 50 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10786 term 50 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 5475 term 50 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
term 50 server 2 not vote for server 1, 任期不够新
term 50 server 1 get outdate rpc reply from server 2
flag 76248 term 50 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 96566 term 50 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
flag 13835 term 50 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 56784 term 50 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
flag 62906 term 50 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 15382 term 50 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
flag 3605 term 50 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 4293 term 50 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
flag 70254 term 50 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 62681 term 50 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63428 term 50 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 39248 term 50 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
flag 71626 term 50 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 48331 term 50 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
flag 6687 term 50 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 37781 term 50 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
flag 83727 term 50 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 24442 term 50 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5547 term 50 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 43232 term 50 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
flag 32995 term 50 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 20221 term 50 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
flag 40078 term 50 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 38302 term 50 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 48 299} {2083473057537106448 48 300}]
------------------------------------------------------
client write log 2083473057537106448 (index 301) to leader 1
flag 98556 term 50 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 89052 term 50 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {2083473057537106448 48 300} {2083473057537106448 50 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {2083473057537106448 48 300} {2083473057537106448 50 301}]
------------------------------------------------------
flag 66991 term 50 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 50 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 50 leaderCommit: 301 
------------------------------------------------------
flag 47869 term 50 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 50 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 50 leaderCommit: 301 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {2083473057537106448 48 300} {2083473057537106448 50 301}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {2083473057537106448 48 300} {2083473057537106448 50 301}]
------------------------------------------------------
flag 29299 term 50 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 50 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 50 leaderCommit: 301 
------------------------------------------------------
flag 18969 term 50 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 50 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 50 leaderCommit: 301 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {2083473057537106448 48 300} {2083473057537106448 50 301}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {2083473057537106448 48 300} {2083473057537106448 50 301}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67089 term 50 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 50 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 50 leaderCommit: 301 
------------------------------------------------------
flag 71411 term 50 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 50 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 50 leaderCommit: 301 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {2083473057537106448 48 300} {2083473057537106448 50 301}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {2083473057537106448 48 300} {2083473057537106448 50 301}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73989 term 50 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 50 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 50 leaderCommit: 301 
------------------------------------------------------
flag 49026 term 50 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 50 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 50 leaderCommit: 301 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:301 
term 50 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {2083473057537106448 48 300} {2083473057537106448 50 301}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {2083473057537106448 48 300} {2083473057537106448 50 301}]
------------------------------------------------------
term 50 server 2 not vote for server 1, 任期不够新
term 50 server 1 get outdate rpc reply from server 2
flag 62292 term 50 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 50 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 50 leaderCommit: 301 
------------------------------------------------------
flag 89402 term 50 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 50 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 50 leaderCommit: 301 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {2083473057537106448 48 300} {2083473057537106448 50 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {2083473057537106448 48 300} {2083473057537106448 50 301}]
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66836 term 50 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 50 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 50 leaderCommit: 301 
------------------------------------------------------
flag 74709 term 50 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 50 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 50 leaderCommit: 301 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {2083473057537106448 48 300} {2083473057537106448 50 301}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {2083473057537106448 48 300} {2083473057537106448 50 301}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2542298696662044008 (index 302) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34170 term 50 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 50 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 50 leaderCommit: 301 
------------------------------------------------------
flag 56347 term 50 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 50 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 50 leaderCommit: 301 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {2083473057537106448 48 300} {2083473057537106448 50 301} {2542298696662044008 50 302}]
------------------------------------------------------
flag 73439 term 50 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 50 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 44641 term 50 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 50 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {2083473057537106448 48 300} {2083473057537106448 50 301} {2542298696662044008 50 302}]
------------------------------------------------------
client write log 573076132883792430 (index 303) to leader 1
client write log 6686789527885900603 (index 304) to leader 1
client write log 9098410158658560294 (index 305) to leader 1
client write log 67741067705741009 (index 306) to leader 1
client write log 3998414866492063426 (index 307) to leader 1
client write log 7133475692915798134 (index 308) to leader 1
client write log 7894558045868793822 (index 309) to leader 1
client write log 6140817511004290759 (index 310) to leader 1
client write log 1002263860416675429 (index 311) to leader 1
client write log 7226654031334108254 (index 312) to leader 1
client write log 7319939474079420568 (index 313) to leader 1
client write log 7887845346682855675 (index 314) to leader 1
client write log 8084370362303759140 (index 315) to leader 1
client write log 7850079144127615508 (index 316) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95169 term 50 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 50 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 93714 term 50 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 50 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 48 299} {2083473057537106448 48 300} {2083473057537106448 50 301} {2542298696662044008 50 302} {573076132883792430 50 303} {6686789527885900603 50 304} {9098410158658560294 50 305} {67741067705741009 50 306} {3998414866492063426 50 307} {7133475692915798134 50 308} {7894558045868793822 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316}]
------------------------------------------------------
term 50 Server1 start snapshot! index=309
term 50 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=316
-------------------------------------------------------------
flag 11507 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316}]
------------------------------------------------------
term 50 Server0 start snapshot! index=309
term 50 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=316
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3758384881720005678 (index 317) to leader 1
flag 69776 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 50
------------------------------------------------------
term 51 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 server 2 vote for server 1
term 52 server 0 vote for server 1
term 52 server 1 get vote from server 2
term 52 server 1 become leader
------------------------------------------------------
term 52 server 1 get outdate rpc reply from server 0
flag 5089 term 52 leader 1 nextIndex[0]: 318  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 28638 term 52 leader 1 nextIndex[2]: 318  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 52 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 318->317
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52851 term 52 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 302  matchIndex[2]: 0
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 50
------------------------------------------------------
term 52 server 2 InstallSnapshot success
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 50 rf.commitIndex 309 rf.lastApplied 309
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45778 term 52 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 46393 term 52 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 52 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
flag 19685 term 52 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 79871 term 52 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
flag 40228 term 52 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 61370 term 52 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
flag 13546 term 52 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 38306 term 52 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
term 52 server 0 not vote for server 1, 任期不够新
term 52 server 1 get outdate rpc reply from server 0
flag 9156 term 52 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 59458 term 52 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
flag 58693 term 52 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 42971 term 52 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
term 52 server 0 not vote for server 1, 任期不够新
term 52 server 1 get outdate rpc reply from server 0
flag 61177 term 52 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 3514 term 52 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
term 52 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
flag 49735 term 52 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 90924 term 52 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
flag 84425 term 52 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 57444 term 52 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
term 52 server 0 not vote for server 2, 任期不够新
term 52 server 2 get outdate rpc reply from server 0
flag 13347 term 52 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 73220 term 52 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8531 term 52 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 94398 term 52 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
flag 76675 term 52 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 47091 term 52 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
flag 25856 term 52 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 50790 term 52 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84534 term 52 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 90555 term 52 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
flag 14907 term 52 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 46717 term 52 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3312 term 52 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 40700 term 52 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317}]
------------------------------------------------------
client write log 3758384881720005678 (index 318) to leader 1
flag 59091 term 52 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 40960 term 52 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317} {3758384881720005678 52 318}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317} {3758384881720005678 52 318}]
------------------------------------------------------
flag 93345 term 52 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 35711 term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317} {3758384881720005678 52 318}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317} {3758384881720005678 52 318}]
------------------------------------------------------
flag 42183 term 52 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 87767 term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317} {3758384881720005678 52 318}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317} {3758384881720005678 52 318}]
------------------------------------------------------
flag 23622 term 52 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 45050 term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317} {3758384881720005678 52 318}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317} {3758384881720005678 52 318}]
------------------------------------------------------
flag 46251 term 52 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 6849 term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317} {3758384881720005678 52 318}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317} {3758384881720005678 52 318}]
------------------------------------------------------
flag 96074 term 52 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 32243 term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317} {3758384881720005678 52 318}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317} {3758384881720005678 52 318}]
------------------------------------------------------
flag 35048 term 52 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 16091 term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317} {3758384881720005678 52 318}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317} {3758384881720005678 52 318}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 58546 term 52 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 39806 term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 89515 term 52 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 64916 term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26747 term 52 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 35632 term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 40123 term 52 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 91495 term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 vote for server 0
term 53 server 0 get vote from server 2
term 53 server 0 become leader
------------------------------------------------------
flag 18838 term 53 leader 0 nextIndex[1]: 319  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 23891 term 53 leader 0 nextIndex[2]: 319  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317} {3758384881720005678 52 318}]
------------------------------------------------------
client write log 2667798061979116127 (index 319) to leader 0
flag 95914 term 52 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 4126 term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 6902 term 53 leader 0 nextIndex[1]: 319  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 93478 term 53 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 50 309} {6140817511004290759 50 310} {1002263860416675429 50 311} {7226654031334108254 50 312} {7319939474079420568 50 313} {7887845346682855675 50 314} {8084370362303759140 50 315} {7850079144127615508 50 316} {3758384881720005678 50 317} {3758384881720005678 52 318} {2667798061979116127 53 319}]
------------------------------------------------------
term 53 Server0 start snapshot! index=319
term 53 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
flag 57417 term 52 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 74128 term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 319  matchIndex[1]: 0
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 53
------------------------------------------------------
flag 67197 term 53 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 53 319}]
------------------------------------------------------
term 53 Server2 start snapshot! index=319
term 53 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
client write log 1481542573605853794 (index 320) to leader 0
flag 39317 term 52 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 32872 term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 319  matchIndex[1]: 0
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 53
------------------------------------------------------
flag 51679 term 53 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
flag 62897 term 52 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 59526 term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
flag 27929 term 53 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 69603 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
!!!!!!connect server 1
client write log 8245358668261693538 (index 319) to leader 1
flag 65278 term 52 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 94417 term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 AppendEntries false 领导者任期过期 args.Term 52
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 53 server 0 AppendEntries false 领导者任期过期 args.Term 52
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87589 term 53 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 6031 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 320->319
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 318  matchIndex[1]: 319
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 53
------------------------------------------------------
flag 51885 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 53 rf.commitIndex 319 rf.lastApplied 319
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
flag 70563 term 53 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 58277 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
flag 62278 term 53 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 37633 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 1 not vote for server 2, 任期不够新
term 53 server 2 get outdate rpc reply from server 1
flag 77506 term 53 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 79631 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30405 term 53 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 51422 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69785 term 53 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 41469 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
flag 70883 term 53 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 29753 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99002 term 53 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 30878 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10871 term 53 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 23590 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
flag 61118 term 53 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 81715 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
flag 36958 term 53 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 67033 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
flag 35730 term 53 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 34135 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17492 term 53 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 36122 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
flag 30856 term 53 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 70128 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
flag 82464 term 53 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 53284 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
flag 99941 term 53 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 80431 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 321->320
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 320
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 53
------------------------------------------------------
flag 76962 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
term 53 server 1 InstallSnapshot fail
rf.commitIndex 320 args.LastIncludedIndex 319
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
flag 73841 term 53 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 98856 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66482 term 53 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 37266 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1481542573605853794 53 320}]
------------------------------------------------------
client write log 8245358668261693538 (index 321) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31435 term 53 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 73905 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {1481542573605853794 53 320} {8245358668261693538 53 321}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {1481542573605853794 53 320} {8245358668261693538 53 321}]
------------------------------------------------------
flag 26062 term 53 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 53 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 321 
------------------------------------------------------
flag 11250 term 53 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 53 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 321 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {1481542573605853794 53 320} {8245358668261693538 53 321}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {1481542573605853794 53 320} {8245358668261693538 53 321}]
------------------------------------------------------
flag 67900 term 53 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 53 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 321 
------------------------------------------------------
flag 89061 term 53 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 53 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 321 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {1481542573605853794 53 320} {8245358668261693538 53 321}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {1481542573605853794 53 320} {8245358668261693538 53 321}]
------------------------------------------------------
flag 92894 term 53 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 53 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 321 
------------------------------------------------------
flag 14867 term 53 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 53 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 321 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {1481542573605853794 53 320} {8245358668261693538 53 321}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {1481542573605853794 53 320} {8245358668261693538 53 321}]
------------------------------------------------------
flag 81020 term 53 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 53 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 321 
------------------------------------------------------
flag 31880 term 53 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 53 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 321 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {1481542573605853794 53 320} {8245358668261693538 53 321}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {1481542573605853794 53 320} {8245358668261693538 53 321}]
------------------------------------------------------
flag 25218 term 53 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 53 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 321 
------------------------------------------------------
flag 8032 term 53 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 53 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 321 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {1481542573605853794 53 320} {8245358668261693538 53 321}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {1481542573605853794 53 320} {8245358668261693538 53 321}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1295047517302221639 (index 322) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77742 term 53 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 53 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 321 
------------------------------------------------------
flag 70817 term 53 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 53 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 321 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 53 319} {1481542573605853794 53 320} {8245358668261693538 53 321} {1295047517302221639 53 322}]
------------------------------------------------------
flag 49795 term 53 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 53 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 322 
------------------------------------------------------
flag 57809 term 53 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 53 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 53 leaderCommit: 322 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 53 319} {1481542573605853794 53 320} {8245358668261693538 53 321} {1295047517302221639 53 322}]
------------------------------------------------------
client write log 5260706564314918264 (index 323) to leader 0
client write log 6672223691577533726 (index 324) to leader 0
client write log 7079004616612304171 (index 325) to leader 0
client write log 1976378212138715294 (index 326) to leader 0
client write log 5995257810769235001 (index 327) to leader 0
client write log 8670693150923909796 (index 328) to leader 0
client write log 9049440138150065816 (index 329) to leader 0
client write log 4006131494984857411 (index 330) to leader 0
client write log 2953232315696449636 (index 331) to leader 0
client write log 1033264959806432476 (index 332) to leader 0
client write log 8426664823442737892 (index 333) to leader 0
client write log 4995083434654601457 (index 334) to leader 0
client write log 8885820502431064035 (index 335) to leader 0
client write log 5869165864904906646 (index 336) to leader 0
flag 9829 term 53 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 53 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 322 
------------------------------------------------------
flag 22820 term 53 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 53 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 53 leaderCommit: 322 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 319} {1481542573605853794 53 320} {8245358668261693538 53 321} {1295047517302221639 53 322} {5260706564314918264 53 323} {6672223691577533726 53 324} {7079004616612304171 53 325} {1976378212138715294 53 326} {5995257810769235001 53 327} {8670693150923909796 53 328} {9049440138150065816 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336}]
------------------------------------------------------
term 53 Server0 start snapshot! index=329
term 53 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=336
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 322->321
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 321
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 53
------------------------------------------------------
flag 64941 term 53 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336}]
------------------------------------------------------
term 53 Server2 start snapshot! index=329
term 53 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=336
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2164105911239846997 (index 337) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 2 not vote for server 1, 日志不够新
term 53 server 0 not vote for server 1, 日志不够新
term 55 server 2 vote for server 0
term 55 server 0 get vote from server 2
term 55 server 0 become leader
------------------------------------------------------
term 55 server 1 vote for server 0
term 55 server 0 get outdate rpc reply from server 1
flag 8171 term 55 leader 0 nextIndex[1]: 338  matchIndex[1]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 86862 term 55 leader 0 nextIndex[2]: 338  matchIndex[2]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 55 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 55 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 338->337
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 338->337
------------------------------------------------------
term 55 leader 0 nextIndex[1]: 322  matchIndex[1]: 0
term 55 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 53
------------------------------------------------------
flag 20059 term 55 leader 0 nextIndex[2]: 337  matchIndex[2]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
term 55 server 1 InstallSnapshot success
------------------------------------------------------
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 53 rf.commitIndex 329 rf.lastApplied 329
term 55 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
flag 94683 term 55 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 55 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 71562 term 55 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
flag 4114 term 55 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 52097 term 55 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
flag 51670 term 55 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 72221 term 55 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
flag 38706 term 55 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 95151 term 55 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
flag 40605 term 55 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 75994 term 55 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
flag 29582 term 55 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 34327 term 55 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
flag 74780 term 55 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 83701 term 55 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
flag 88575 term 55 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 76168 term 55 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
flag 29070 term 55 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 39646 term 55 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
flag 21510 term 55 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 78411 term 55 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92090 term 55 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 10325 term 55 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9898 term 55 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 67004 term 55 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
flag 47108 term 55 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 59061 term 55 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
flag 10569 term 55 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 91812 term 55 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
flag 80416 term 55 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 25208 term 55 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
flag 6525 term 55 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 49208 term 55 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15780 term 55 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 95343 term 55 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79095 term 55 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 82600 term 55 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337}]
------------------------------------------------------
client write log 2164105911239846997 (index 338) to leader 0
flag 32411 term 55 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 82838 term 55 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 55 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337} {2164105911239846997 55 338}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337} {2164105911239846997 55 338}]
------------------------------------------------------
term 55 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7084 term 55 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 55 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 55 leaderCommit: 338 
------------------------------------------------------
flag 65004 term 55 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 55 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 55 leaderCommit: 338 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337} {2164105911239846997 55 338}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337} {2164105911239846997 55 338}]
------------------------------------------------------
flag 88914 term 55 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 55 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 55 leaderCommit: 338 
------------------------------------------------------
flag 38306 term 55 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 55 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 55 leaderCommit: 338 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337} {2164105911239846997 55 338}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337} {2164105911239846997 55 338}]
------------------------------------------------------
term 55 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71519 term 55 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 55 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 55 leaderCommit: 338 
------------------------------------------------------
flag 93470 term 55 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 55 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 55 leaderCommit: 338 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337} {2164105911239846997 55 338}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337} {2164105911239846997 55 338}]
------------------------------------------------------
flag 9172 term 55 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 55 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 55 leaderCommit: 338 
------------------------------------------------------
flag 49552 term 55 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 55 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 55 leaderCommit: 338 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337} {2164105911239846997 55 338}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337} {2164105911239846997 55 338}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18594 term 55 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 55 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 55 leaderCommit: 338 
------------------------------------------------------
flag 85211 term 55 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 55 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 55 leaderCommit: 338 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337} {2164105911239846997 55 338}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337} {2164105911239846997 55 338}]
------------------------------------------------------
term 55 server 1 not vote for server 0, 任期不够新
term 55 server 0 get outdate rpc reply from server 1
flag 53295 term 55 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 55 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 55 leaderCommit: 338 
------------------------------------------------------
flag 11617 term 55 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 55 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 55 leaderCommit: 338 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337} {2164105911239846997 55 338}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {4006131494984857411 53 330} {2953232315696449636 53 331} {1033264959806432476 53 332} {8426664823442737892 53 333} {4995083434654601457 53 334} {8885820502431064035 53 335} {5869165864904906646 53 336} {2164105911239846997 53 337} {2164105911239846997 55 338}]
------------------------------------------------------
  ... Passed --  80.8  3 1845  784040  338
--- PASS: TestSnapshotInstall2D (80.76s)
PASS
