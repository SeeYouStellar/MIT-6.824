=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 0
term 1 server 0 get vote from server 2
term 1 server 0 become leader
------------------------------------------------------
term 1 server 1 vote for server 0
term 1 server 0 get outdate rpc reply from server 1
flag 29041 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 34868 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
[{<nil> 0 0}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 4437883692286427762 (index 1) to leader 0
flag 92448 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 72467 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4437883692286427762 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4437883692286427762 1 1}]
------------------------------------------------------
flag 43676 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 63807 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4437883692286427762 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4437883692286427762 1 1}]
------------------------------------------------------
flag 24252 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 9060 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4437883692286427762 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4437883692286427762 1 1}]
------------------------------------------------------
flag 15994 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 11460 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4437883692286427762 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4437883692286427762 1 1}]
------------------------------------------------------
flag 9751 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 59083 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4437883692286427762 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4437883692286427762 1 1}]
------------------------------------------------------
flag 48615 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 49622 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4437883692286427762 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4437883692286427762 1 1}]
------------------------------------------------------
flag 46946 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 40953 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4437883692286427762 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4437883692286427762 1 1}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8489785307812080198 (index 2) to leader 0
flag 55856 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 82383 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {4437883692286427762 1 1} {8489785307812080198 1 2}]
------------------------------------------------------
flag 96766 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 19434 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {4437883692286427762 1 1} {8489785307812080198 1 2}]
------------------------------------------------------
client write log 1629231361073013175 (index 3) to leader 0
client write log 7123067613461211584 (index 4) to leader 0
client write log 6403019066183788594 (index 5) to leader 0
client write log 9135395506031528831 (index 6) to leader 0
client write log 1785176222591768272 (index 7) to leader 0
client write log 541520505120817605 (index 8) to leader 0
client write log 710490572958746306 (index 9) to leader 0
flag 52585 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 77553 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {4437883692286427762 1 1} {8489785307812080198 1 2} {1629231361073013175 1 3} {7123067613461211584 1 4} {6403019066183788594 1 5} {9135395506031528831 1 6} {1785176222591768272 1 7} {541520505120817605 1 8} {710490572958746306 1 9}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 84947 term 1 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 1 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7427836267062956528 (index 10) to leader 0
term 1 server 2 not vote for server 1, 日志不够新
term 1 server 0 not vote for server 1, 日志不够新
term 3 server 1 vote for server 0
term 3 server 2 vote for server 0
term 3 server 0 get vote from server 1
term 3 server 0 become leader
------------------------------------------------------
term 3 server 0 get outdate rpc reply from server 2
flag 47008 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 76174 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 11->10
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 11->10
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 2  matchIndex[1]: 0
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 9525 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
term 3 server 1 InstallSnapshot success
------------------------------------------------------
term 3 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 2880 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 65388 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
flag 70113 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 73954 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92261 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 45835 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
flag 4772 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 42257 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
flag 80143 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 75427 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
flag 61428 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 47757 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
flag 56146 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 25487 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
flag 39628 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 74744 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
flag 16519 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 76989 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
flag 95971 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 18283 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
flag 4533 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 93628 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
flag 30678 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 13137 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
flag 12306 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 51422 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
flag 85347 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 33337 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
flag 62243 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 25274 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
flag 87943 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 91197 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
flag 12746 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 77163 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
flag 46102 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 66646 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7427836267062956528 1 10}]
------------------------------------------------------
client write log 7427836267062956528 (index 11) to leader 0
flag 18532 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 50903 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7427836267062956528 1 10} {7427836267062956528 3 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7427836267062956528 1 10} {7427836267062956528 3 11}]
------------------------------------------------------
flag 33001 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 99238 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7427836267062956528 1 10} {7427836267062956528 3 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7427836267062956528 1 10} {7427836267062956528 3 11}]
------------------------------------------------------
flag 71462 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 28479 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7427836267062956528 1 10} {7427836267062956528 3 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7427836267062956528 1 10} {7427836267062956528 3 11}]
------------------------------------------------------
flag 51543 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 25400 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7427836267062956528 1 10} {7427836267062956528 3 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7427836267062956528 1 10} {7427836267062956528 3 11}]
------------------------------------------------------
flag 38344 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 83435 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7427836267062956528 1 10} {7427836267062956528 3 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7427836267062956528 1 10} {7427836267062956528 3 11}]
------------------------------------------------------
flag 10367 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 10714 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7427836267062956528 1 10} {7427836267062956528 3 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7427836267062956528 1 10} {7427836267062956528 3 11}]
------------------------------------------------------
flag 92002 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 47556 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7427836267062956528 1 10} {7427836267062956528 3 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7427836267062956528 1 10} {7427836267062956528 3 11}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 74491 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 18591 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 72333 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 91320 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 12->11
------------------------------------------------------
flag 62363 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 leader 0 nextIndex[2]: 0  matchIndex[2]: 11
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 2 vote for server 1
term 4 server 1 get vote from server 2
term 4 server 1 become leader
------------------------------------------------------
client write log 738800883561932524 (index 12) to leader 1
flag 83361 term 4 leader 1 nextIndex[0]: 12  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 27910 term 4 leader 1 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7427836267062956528 1 10} {7427836267062956528 3 11} {738800883561932524 4 12}]
------------------------------------------------------
flag 2237 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 leader 0 nextIndex[2]: 0  matchIndex[2]: 11
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 48286 term 4 leader 1 nextIndex[0]: 12  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 53444 term 4 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7427836267062956528 1 10} {7427836267062956528 3 11} {738800883561932524 4 12}]
------------------------------------------------------
client write log 6893820378529780395 (index 13) to leader 1
client write log 8160566360345192288 (index 14) to leader 1
client write log 2087572400382364227 (index 15) to leader 1
client write log 3859887578828319139 (index 16) to leader 1
client write log 6646477633674270644 (index 17) to leader 1
client write log 1345098575597310731 (index 18) to leader 1
client write log 7154505278345007123 (index 19) to leader 1
client write log 7254653255839795766 (index 20) to leader 1
client write log 3757863378401933495 (index 21) to leader 1
client write log 5996664371956124396 (index 22) to leader 1
client write log 45432335284024124 (index 23) to leader 1
client write log 7457773993645603828 (index 24) to leader 1
flag 7268 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 leader 0 nextIndex[2]: 0  matchIndex[2]: 11
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 14632 term 4 leader 1 nextIndex[0]: 12  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 30794 term 4 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 1 9} {7427836267062956528 1 10} {7427836267062956528 3 11} {738800883561932524 4 12} {6893820378529780395 4 13} {8160566360345192288 4 14} {2087572400382364227 4 15} {3859887578828319139 4 16} {6646477633674270644 4 17} {1345098575597310731 4 18} {7154505278345007123 4 19} {7254653255839795766 4 20} {3757863378401933495 4 21} {5996664371956124396 4 22} {45432335284024124 4 23} {7457773993645603828 4 24}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=24
-------------------------------------------------------------
flag 83190 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 leader 0 nextIndex[2]: 0  matchIndex[2]: 11
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 leader 1 nextIndex[0]: 12  matchIndex[0]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 25647 term 4 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
term 4 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7254653255839795766 4 20} {3757863378401933495 4 21} {5996664371956124396 4 22} {45432335284024124 4 23} {7457773993645603828 4 24}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=24
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5234847815055304797 (index 25) to leader 1
flag 11710 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 leader 0 nextIndex[2]: 0  matchIndex[2]: 11
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
term 3 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 1 nextIndex[0]: 12  matchIndex[0]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 47040 term 4 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
term 4 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7254653255839795766 4 20} {3757863378401933495 4 21} {5996664371956124396 4 22} {45432335284024124 4 23} {7457773993645603828 4 24} {5234847815055304797 4 25}]
------------------------------------------------------
term 4 server 0 InstallSnapshot success
------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 20 matchIndex[0] 19 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 server 2 not vote for server 0, 日志不够新
term 4 server 1 not vote for server 0, 日志不够新
term 6 server 2 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 0 vote for server 1
term 6 server 1 get outdate rpc reply from server 0
flag 71367 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 29409 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7254653255839795766 4 20} {3757863378401933495 4 21} {5996664371956124396 4 22} {45432335284024124 4 23} {7457773993645603828 4 24} {5234847815055304797 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 26->25
------------------------------------------------------
term 6 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28069 term 6 leader 1 nextIndex[0]: 20  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 22492 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7254653255839795766 4 20} {3757863378401933495 4 21} {5996664371956124396 4 22} {45432335284024124 4 23} {7457773993645603828 4 24} {5234847815055304797 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7254653255839795766 4 20} {3757863378401933495 4 21} {5996664371956124396 4 22} {45432335284024124 4 23} {7457773993645603828 4 24} {5234847815055304797 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62505 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 93453 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7254653255839795766 4 20} {3757863378401933495 4 21} {5996664371956124396 4 22} {45432335284024124 4 23} {7457773993645603828 4 24} {5234847815055304797 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7254653255839795766 4 20} {3757863378401933495 4 21} {5996664371956124396 4 22} {45432335284024124 4 23} {7457773993645603828 4 24} {5234847815055304797 4 25}]
------------------------------------------------------
flag 7385 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 37343 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7254653255839795766 4 20} {3757863378401933495 4 21} {5996664371956124396 4 22} {45432335284024124 4 23} {7457773993645603828 4 24} {5234847815055304797 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7254653255839795766 4 20} {3757863378401933495 4 21} {5996664371956124396 4 22} {45432335284024124 4 23} {7457773993645603828 4 24} {5234847815055304797 4 25}]
------------------------------------------------------
flag 39557 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 43527 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7254653255839795766 4 20} {3757863378401933495 4 21} {5996664371956124396 4 22} {45432335284024124 4 23} {7457773993645603828 4 24} {5234847815055304797 4 25}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7254653255839795766 4 20} {3757863378401933495 4 21} {5996664371956124396 4 22} {45432335284024124 4 23} {7457773993645603828 4 24} {5234847815055304797 4 25}]
------------------------------------------------------
flag 18512 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 95340 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7254653255839795766 4 20} {3757863378401933495 4 21} {5996664371956124396 4 22} {45432335284024124 4 23} {7457773993645603828 4 24} {5234847815055304797 4 25}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7254653255839795766 4 20} {3757863378401933495 4 21} {5996664371956124396 4 22} {45432335284024124 4 23} {7457773993645603828 4 24} {5234847815055304797 4 25}]
------------------------------------------------------
flag 52644 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 86103 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7254653255839795766 4 20} {3757863378401933495 4 21} {5996664371956124396 4 22} {45432335284024124 4 23} {7457773993645603828 4 24} {5234847815055304797 4 25}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7254653255839795766 4 20} {3757863378401933495 4 21} {5996664371956124396 4 22} {45432335284024124 4 23} {7457773993645603828 4 24} {5234847815055304797 4 25}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3712541755225737209 (index 26) to leader 1
flag 48741 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 80390 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {7254653255839795766 4 20} {3757863378401933495 4 21} {5996664371956124396 4 22} {45432335284024124 4 23} {7457773993645603828 4 24} {5234847815055304797 4 25} {3712541755225737209 6 26}]
------------------------------------------------------
flag 33223 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 92405 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {7254653255839795766 4 20} {3757863378401933495 4 21} {5996664371956124396 4 22} {45432335284024124 4 23} {7457773993645603828 4 24} {5234847815055304797 4 25} {3712541755225737209 6 26}]
------------------------------------------------------
client write log 7768277342412152081 (index 27) to leader 1
client write log 1113035117294012457 (index 28) to leader 1
client write log 5458415878686895876 (index 29) to leader 1
client write log 3824516058846909166 (index 30) to leader 1
client write log 6468810094600789404 (index 31) to leader 1
client write log 4495724308084064721 (index 32) to leader 1
client write log 2006905149469398905 (index 33) to leader 1
client write log 340583204025284231 (index 34) to leader 1
client write log 7468067483382911080 (index 35) to leader 1
client write log 6849526894251282968 (index 36) to leader 1
client write log 2874394205309186172 (index 37) to leader 1
client write log 8353692093460320053 (index 38) to leader 1
flag 83092 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 67353 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 19} {7254653255839795766 4 20} {3757863378401933495 4 21} {5996664371956124396 4 22} {45432335284024124 4 23} {7457773993645603828 4 24} {5234847815055304797 4 25} {3712541755225737209 6 26} {7768277342412152081 6 27} {1113035117294012457 6 28} {5458415878686895876 6 29} {3824516058846909166 6 30} {6468810094600789404 6 31} {4495724308084064721 6 32} {2006905149469398905 6 33} {340583204025284231 6 34} {7468067483382911080 6 35} {6849526894251282968 6 36} {2874394205309186172 6 37} {8353692093460320053 6 38}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=38
-------------------------------------------------------------
term 6 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91169 term 6 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {3824516058846909166 6 30} {6468810094600789404 6 31} {4495724308084064721 6 32} {2006905149469398905 6 33} {340583204025284231 6 34} {7468067483382911080 6 35} {6849526894251282968 6 36} {2874394205309186172 6 37} {8353692093460320053 6 38}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=38
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1777618929242332301 (index 39) to leader 1
flag 829 term 6 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 7 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 29} {3824516058846909166 6 30} {6468810094600789404 6 31} {4495724308084064721 6 32} {2006905149469398905 6 33} {340583204025284231 6 34} {7468067483382911080 6 35} {6849526894251282968 6 36} {2874394205309186172 6 37} {8353692093460320053 6 38} {1777618929242332301 6 39}]
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 7 Server1 start snapshot! index=39
term 7 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 8 server 2 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 0 vote for server 1
term 8 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15376 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 95674 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 40->39
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 8 Server0 start snapshot! index=39
term 8 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 52841 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 26  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41249 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 60662 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
flag 77786 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 40841 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 8 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64014 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 41072 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
flag 99734 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 89762 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
flag 11236 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 61366 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6484834827508342672 (index 40) to leader 1
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92653 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 44676 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {6484834827508342672 8 40}]
------------------------------------------------------
flag 67819 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 94257 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {6484834827508342672 8 40}]
------------------------------------------------------
client write log 3722258925001348009 (index 41) to leader 1
client write log 2603182146364209042 (index 42) to leader 1
client write log 8685746044090879832 (index 43) to leader 1
client write log 2866717982775399413 (index 44) to leader 1
client write log 3082690272657791678 (index 45) to leader 1
client write log 3807337237150112502 (index 46) to leader 1
client write log 3336510611642836552 (index 47) to leader 1
client write log 7490274608072050274 (index 48) to leader 1
client write log 6064527729145474037 (index 49) to leader 1
client write log 6513026368578677090 (index 50) to leader 1
client write log 8451866081980698077 (index 51) to leader 1
client write log 8748547533824914314 (index 52) to leader 1
client write log 6708891093137847420 (index 53) to leader 1
flag 36934 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 89099 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 39} {6484834827508342672 8 40} {3722258925001348009 8 41} {2603182146364209042 8 42} {8685746044090879832 8 43} {2866717982775399413 8 44} {3082690272657791678 8 45} {3807337237150112502 8 46} {3336510611642836552 8 47} {7490274608072050274 8 48} {6064527729145474037 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53}]
------------------------------------------------------
term 8 Server1 start snapshot! index=49
term 8 server1 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=53
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35703 term 8 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 8 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 Server0 start snapshot! index=49
term 8 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=53
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1602164518002476231 (index 54) to leader 1
term 8 server 0 not vote for server 2, 日志不够新
term 8 server 1 not vote for server 2, 日志不够新
term 10 server 2 vote for server 1
term 10 server 1 get vote from server 2
term 10 server 1 become leader
------------------------------------------------------
term 10 server 0 vote for server 1
term 10 server 1 get outdate rpc reply from server 0
flag 22486 term 10 leader 1 nextIndex[0]: 55  matchIndex[0]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 26972 term 10 leader 1 nextIndex[2]: 55  matchIndex[2]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 55->54
------------------------------------------------------
term 10 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 55->54
------------------------------------------------------
term 10 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38800 term 10 leader 1 nextIndex[0]: 54  matchIndex[0]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 leader 1 nextIndex[2]: 40  matchIndex[2]: 0
term 10 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 10 server 2 InstallSnapshot success
------------------------------------------------------
term 10 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 8 rf.commitIndex 49 rf.lastApplied 49
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50749 term 10 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 57861 term 10 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
flag 4220 term 10 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 90697 term 10 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
flag 75616 term 10 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 60299 term 10 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
flag 23199 term 10 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 2419 term 10 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
term 10 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35760 term 10 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 23291 term 10 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64830 term 10 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 94771 term 10 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
term 10 server 1 not vote for server 2, 任期不够新
term 10 server 2 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62323 term 10 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 69157 term 10 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
flag 11737 term 10 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 84587 term 10 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83720 term 10 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 31081 term 10 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14884 term 10 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 56816 term 10 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
flag 87437 term 10 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 60776 term 10 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
flag 49681 term 10 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 18373 term 10 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
flag 96310 term 10 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 19379 term 10 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
flag 2658 term 10 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 20179 term 10 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
flag 24947 term 10 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 26559 term 10 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
flag 11214 term 10 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 90667 term 10 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71402 term 10 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 90674 term 10 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54}]
------------------------------------------------------
client write log 1602164518002476231 (index 55) to leader 1
flag 12116 term 10 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 31484 term 10 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 10 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54} {1602164518002476231 10 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54} {1602164518002476231 10 55}]
------------------------------------------------------
term 10 server 0 not vote for server 1, 任期不够新
term 10 server 1 get outdate rpc reply from server 0
term 10 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32542 term 10 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 34239 term 10 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54} {1602164518002476231 10 55}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54} {1602164518002476231 10 55}]
------------------------------------------------------
flag 71791 term 10 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 55754 term 10 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54} {1602164518002476231 10 55}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54} {1602164518002476231 10 55}]
------------------------------------------------------
flag 86110 term 10 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 6246 term 10 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54} {1602164518002476231 10 55}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54} {1602164518002476231 10 55}]
------------------------------------------------------
flag 54773 term 10 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 66633 term 10 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54} {1602164518002476231 10 55}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54} {1602164518002476231 10 55}]
------------------------------------------------------
flag 12257 term 10 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 67943 term 10 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54} {1602164518002476231 10 55}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54} {1602164518002476231 10 55}]
------------------------------------------------------
!!!!!!diconnect server 1
term 10 server 0 not vote for server 2, 任期不够新
term 10 server 2 get outdate rpc reply from server 0
flag 90237 term 10 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 13414 term 10 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96287 term 10 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 73944 term 10 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 76136 term 10 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 43140 term 10 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 0 vote for server 2
term 11 server 2 get vote from server 0
term 11 server 2 become leader
------------------------------------------------------
flag 52111 term 11 leader 2 nextIndex[0]: 56  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 71548 term 11 leader 2 nextIndex[1]: 56  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54} {1602164518002476231 10 55}]
------------------------------------------------------
flag 84348 term 10 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 80965 term 10 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
client write log 199337662339226201 (index 56) to leader 2
flag 88164 term 11 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 11 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 25774 term 11 leader 2 nextIndex[1]: 56  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54} {1602164518002476231 10 55} {199337662339226201 11 56}]
------------------------------------------------------
flag 36832 term 10 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 88008 term 10 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 16596 term 11 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 11 leaderCommit: 56 
------------------------------------------------------
flag 87834 term 11 leader 2 nextIndex[1]: 56  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54} {1602164518002476231 10 55} {199337662339226201 11 56}]
------------------------------------------------------
flag 64124 term 10 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 1690 term 10 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
client write log 393067210724648742 (index 57) to leader 2
client write log 7427558874095653730 (index 58) to leader 2
client write log 7628626419273264614 (index 59) to leader 2
client write log 8651420854613061679 (index 60) to leader 2
client write log 9046067788650028281 (index 61) to leader 2
client write log 2336679459136098293 (index 62) to leader 2
client write log 2030885023684497713 (index 63) to leader 2
client write log 9021968847848248515 (index 64) to leader 2
client write log 2938390007966235552 (index 65) to leader 2
client write log 6187650472444641751 (index 66) to leader 2
client write log 1426973897162434695 (index 67) to leader 2
client write log 8945195568926147259 (index 68) to leader 2
client write log 614462498496514705 (index 69) to leader 2
client write log 8254859372114462717 (index 70) to leader 2
flag 43841 term 11 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 11 leaderCommit: 56 
------------------------------------------------------
flag 98408 term 11 leader 2 nextIndex[1]: 56  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 8 49} {6513026368578677090 8 50} {8451866081980698077 8 51} {8748547533824914314 8 52} {6708891093137847420 8 53} {1602164518002476231 8 54} {1602164518002476231 10 55} {199337662339226201 11 56} {393067210724648742 11 57} {7427558874095653730 11 58} {7628626419273264614 11 59} {8651420854613061679 11 60} {9046067788650028281 11 61} {2336679459136098293 11 62} {2030885023684497713 11 63} {9021968847848248515 11 64} {2938390007966235552 11 65} {6187650472444641751 11 66} {1426973897162434695 11 67} {8945195568926147259 11 68} {614462498496514705 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
term 11 Server2 start snapshot! index=59
term 11 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=70
-------------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
flag 52594 term 10 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 4837 term 10 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 32305 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 leader 2 nextIndex[1]: 56  matchIndex[1]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
term 11 Server0 start snapshot! index=59
term 11 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=70
-------------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
!!!!!!connect server 1
client write log 617571801133365087 (index 56) to leader 1
flag 52675 term 10 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 89947 term 10 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 10 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries false 领导者任期过期 args.Term 10
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 11 server 0 AppendEntries false 领导者任期过期 args.Term 10
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5264 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 leader 2 nextIndex[1]: 56  matchIndex[1]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 1 InstallSnapshot success
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
term 11 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
flag 95801 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 68529 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88716 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 76973 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
flag 65348 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 97380 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 71->70
------------------------------------------------------
flag 19851 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 leader 2 nextIndex[1]: 0  matchIndex[1]: 70
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 1 InstallSnapshot fail
rf.commitIndex 70 args.LastIncludedIndex 69
------------------------------------------------------
term 11 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
flag 13015 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 81510 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
flag 44757 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 52632 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50997 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 8145 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
flag 96191 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 4689 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
flag 56484 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 4264 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
flag 18412 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 42656 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
flag 18281 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 43828 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76173 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 77851 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
flag 42876 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 37461 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
flag 22886 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 22090 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
flag 76576 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 3221 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96700 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 26066 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
flag 50967 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 29859 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32011 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 23992 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8254859372114462717 11 70}]
------------------------------------------------------
client write log 617571801133365087 (index 71) to leader 2
flag 99406 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 81745 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8254859372114462717 11 70} {617571801133365087 11 71}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8254859372114462717 11 70} {617571801133365087 11 71}]
------------------------------------------------------
flag 6295 term 11 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 24611 term 11 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8254859372114462717 11 70} {617571801133365087 11 71}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8254859372114462717 11 70} {617571801133365087 11 71}]
------------------------------------------------------
flag 59062 term 11 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 62580 term 11 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8254859372114462717 11 70} {617571801133365087 11 71}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8254859372114462717 11 70} {617571801133365087 11 71}]
------------------------------------------------------
flag 14380 term 11 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 16743 term 11 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8254859372114462717 11 70} {617571801133365087 11 71}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8254859372114462717 11 70} {617571801133365087 11 71}]
------------------------------------------------------
flag 33579 term 11 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 62951 term 11 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8254859372114462717 11 70} {617571801133365087 11 71}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8254859372114462717 11 70} {617571801133365087 11 71}]
------------------------------------------------------
flag 29704 term 11 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 59171 term 11 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8254859372114462717 11 70} {617571801133365087 11 71}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8254859372114462717 11 70} {617571801133365087 11 71}]
------------------------------------------------------
flag 83411 term 11 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 12004 term 11 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8254859372114462717 11 70} {617571801133365087 11 71}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8254859372114462717 11 70} {617571801133365087 11 71}]
------------------------------------------------------
term 11 server 1 not vote for server 2, 日志不够新
term 11 server 2 get outdate rpc reply from server 1
!!!!!!diconnect server 0
client write log 7169465478512547613 (index 72) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 72->71
------------------------------------------------------
flag 35257 term 11 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 leader 2 nextIndex[1]: 0  matchIndex[1]: 71
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 1 InstallSnapshot fail
rf.commitIndex 71 args.LastIncludedIndex 69
------------------------------------------------------
term 11 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98703 term 11 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 91939 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {8254859372114462717 11 70} {617571801133365087 11 71} {7169465478512547613 11 72}]
------------------------------------------------------
flag 96702 term 11 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 52144 term 11 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {8254859372114462717 11 70} {617571801133365087 11 71} {7169465478512547613 11 72}]
------------------------------------------------------
client write log 5859084770382558373 (index 73) to leader 2
client write log 1080512536732957398 (index 74) to leader 2
client write log 2043929551991294047 (index 75) to leader 2
client write log 7074185972653205462 (index 76) to leader 2
client write log 2926939341407007865 (index 77) to leader 2
client write log 1497536481425996479 (index 78) to leader 2
client write log 6314373875892179404 (index 79) to leader 2
client write log 259091600003557214 (index 80) to leader 2
client write log 1459293623402047402 (index 81) to leader 2
client write log 5142103199167807988 (index 82) to leader 2
client write log 5894144278185215935 (index 83) to leader 2
client write log 3800998872342002711 (index 84) to leader 2
client write log 4250331739695896460 (index 85) to leader 2
client write log 7628085807855271184 (index 86) to leader 2
flag 33768 term 11 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 88676 term 11 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 69} {8254859372114462717 11 70} {617571801133365087 11 71} {7169465478512547613 11 72} {5859084770382558373 11 73} {1080512536732957398 11 74} {2043929551991294047 11 75} {7074185972653205462 11 76} {2926939341407007865 11 77} {1497536481425996479 11 78} {6314373875892179404 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86}]
------------------------------------------------------
term 11 Server2 start snapshot! index=79
term 11 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=86
-------------------------------------------------------------
term 11 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 47270 term 11 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86}]
------------------------------------------------------
term 11 Server1 start snapshot! index=79
term 11 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=86
-------------------------------------------------------------
!!!!!!connect server 0
client write log 537444514456139025 (index 87) to leader 2
term 11 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 91145 term 11 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 12 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 1 vote for server 2
term 13 server 0 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 2 become leader
------------------------------------------------------
term 13 server 2 get outdate rpc reply from server 0
flag 23608 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 55614 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 88->87
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 72  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 88169 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
term 13 server 0 InstallSnapshot success
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 11 rf.commitIndex 79 rf.lastApplied 79
flag 99315 term 13 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 74577 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
flag 76846 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 50568 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
term 13 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16610 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 76177 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
term 13 server 2 not vote for server 0, 任期不够新
term 13 server 0 get outdate rpc reply from server 2
flag 29596 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 11877 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
flag 33571 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 27648 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52292 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 64001 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
flag 14836 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 6274 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28880 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 95751 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12059 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 29731 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
flag 48425 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 76379 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
flag 1551 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 5637 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
flag 39253 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 17392 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
flag 33260 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 35527 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76573 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 24031 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
flag 55040 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 20052 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65142 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 713 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
flag 36655 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 58526 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87}]
------------------------------------------------------
client write log 537444514456139025 (index 88) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51182 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 77895 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87} {537444514456139025 13 88}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87} {537444514456139025 13 88}]
------------------------------------------------------
flag 76198 term 13 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 31250 term 13 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 13 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87} {537444514456139025 13 88}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87} {537444514456139025 13 88}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35056 term 13 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 20144 term 13 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 13 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87} {537444514456139025 13 88}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87} {537444514456139025 13 88}]
------------------------------------------------------
flag 44228 term 13 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 69295 term 13 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 13 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87} {537444514456139025 13 88}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87} {537444514456139025 13 88}]
------------------------------------------------------
flag 5273 term 13 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 10326 term 13 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 13 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87} {537444514456139025 13 88}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87} {537444514456139025 13 88}]
------------------------------------------------------
flag 56474 term 13 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 85240 term 13 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 13 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87} {537444514456139025 13 88}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87} {537444514456139025 13 88}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99521 term 13 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 4055 term 13 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 13 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87} {537444514456139025 13 88}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87} {537444514456139025 13 88}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 978573545065058355 (index 89) to leader 2
flag 21759 term 13 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 68356 term 13 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 13 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 79} {259091600003557214 11 80} {1459293623402047402 11 81} {5142103199167807988 11 82} {5894144278185215935 11 83} {3800998872342002711 11 84} {4250331739695896460 11 85} {7628085807855271184 11 86} {537444514456139025 11 87} {537444514456139025 13 88} {978573545065058355 13 89}]
------------------------------------------------------
term 13 Server2 start snapshot! index=89
term 13 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
flag 25757 term 13 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 13 89}]
------------------------------------------------------
term 13 Server1 start snapshot! index=89
term 13 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
client write log 2339568821879810169 (index 90) to leader 2
client write log 6244364427450684748 (index 91) to leader 2
client write log 1791534795152539621 (index 92) to leader 2
client write log 5632876258805922492 (index 93) to leader 2
client write log 8149738023797160833 (index 94) to leader 2
client write log 1718940021997166765 (index 95) to leader 2
client write log 4703713385894806084 (index 96) to leader 2
client write log 7180590880822209538 (index 97) to leader 2
client write log 2271747072417690568 (index 98) to leader 2
client write log 4503738651768345731 (index 99) to leader 2
term 13 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
flag 51160 term 13 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 13 89} {2339568821879810169 13 90} {6244364427450684748 13 91} {1791534795152539621 13 92} {5632876258805922492 13 93} {8149738023797160833 13 94} {1718940021997166765 13 95} {4703713385894806084 13 96} {7180590880822209538 13 97} {2271747072417690568 13 98} {4503738651768345731 13 99}]
------------------------------------------------------
term 13 Server2 start snapshot! index=99
term 13 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
term 13 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 13
------------------------------------------------------
flag 77697 term 13 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 13 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 13 99}]
------------------------------------------------------
term 13 Server1 start snapshot! index=99
term 13 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1899468983500666139 (index 100) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 2 not vote for server 0, 日志不够新
term 13 server 1 not vote for server 0, 日志不够新
term 15 server 1 vote for server 2
term 15 server 2 get vote from server 1
term 15 server 0 vote for server 2
term 15 server 2 become leader
------------------------------------------------------
term 15 server 2 get outdate rpc reply from server 0
flag 77517 term 15 leader 2 nextIndex[0]: 101  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
flag 12100 term 15 leader 2 nextIndex[1]: 101  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
term 15 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 101->100
------------------------------------------------------
term 15 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 101->100
------------------------------------------------------
term 15 leader 2 nextIndex[0]: 89  matchIndex[0]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 13
------------------------------------------------------
flag 96991 term 15 leader 2 nextIndex[1]: 100  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
term 15 server 0 InstallSnapshot success
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 100 matchIndex[0] 99 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 13 rf.commitIndex 99 rf.lastApplied 99
term 15 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
flag 75205 term 15 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 15 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
flag 87287 term 15 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
flag 45333 term 15 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
flag 34522 term 15 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49720 term 15 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
flag 69404 term 15 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
flag 11873 term 15 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
flag 67940 term 15 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
flag 50145 term 15 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
flag 5750 term 15 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32752 term 15 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
flag 70294 term 15 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
flag 77761 term 15 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
flag 55421 term 15 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
term 15 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
flag 88417 term 15 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
flag 88214 term 15 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
flag 66321 term 15 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
flag 21440 term 15 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
flag 87657 term 15 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
flag 21260 term 15 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
flag 61198 term 15 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
flag 24769 term 15 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
flag 61647 term 15 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
flag 59709 term 15 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
flag 21733 term 15 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
flag 41630 term 15 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
flag 78710 term 15 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
flag 55533 term 15 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
flag 39697 term 15 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
flag 17903 term 15 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
flag 29842 term 15 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
flag 35598 term 15 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
flag 44294 term 15 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
flag 94251 term 15 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
flag 27445 term 15 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
flag 5059 term 15 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=99
leader log:
[{snapshot 13 99} {1899468983500666139 13 100}]
------------------------------------------------------
client write log 1899468983500666139 (index 101) to leader 2
flag 28080 term 15 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
flag 60786 term 15 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 99 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 13 99} {1899468983500666139 13 100} {1899468983500666139 15 101}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 13 99} {1899468983500666139 13 100} {1899468983500666139 15 101}]
------------------------------------------------------
flag 61433 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 28602 term 15 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 13 99} {1899468983500666139 13 100} {1899468983500666139 15 101}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 13 99} {1899468983500666139 13 100} {1899468983500666139 15 101}]
------------------------------------------------------
flag 4066 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 47258 term 15 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 13 99} {1899468983500666139 13 100} {1899468983500666139 15 101}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 13 99} {1899468983500666139 13 100} {1899468983500666139 15 101}]
------------------------------------------------------
flag 50340 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 44680 term 15 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 13 99} {1899468983500666139 13 100} {1899468983500666139 15 101}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 13 99} {1899468983500666139 13 100} {1899468983500666139 15 101}]
------------------------------------------------------
term 15 server 1 not vote for server 0, 任期不够新
term 15 server 0 get outdate rpc reply from server 1
flag 29186 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 61929 term 15 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 13 99} {1899468983500666139 13 100} {1899468983500666139 15 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 13 99} {1899468983500666139 13 100} {1899468983500666139 15 101}]
------------------------------------------------------
flag 475 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 84503 term 15 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 13 99} {1899468983500666139 13 100} {1899468983500666139 15 101}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 13 99} {1899468983500666139 13 100} {1899468983500666139 15 101}]
------------------------------------------------------
flag 17823 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 26414 term 15 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 13 99} {1899468983500666139 13 100} {1899468983500666139 15 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 13 99} {1899468983500666139 13 100} {1899468983500666139 15 101}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 66500 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 63747 term 15 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 30274 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 55448 term 15 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 37157 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 2352 term 15 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 16 server 1 vote for server 0
term 16 server 0 get vote from server 1
term 16 server 0 become leader
------------------------------------------------------
client write log 1634017319470786046 (index 102) to leader 0
flag 79717 term 16 leader 0 nextIndex[1]: 102  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 44739 term 16 leader 0 nextIndex[2]: 102  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 13 99} {1899468983500666139 13 100} {1899468983500666139 15 101} {1634017319470786046 16 102}]
------------------------------------------------------
flag 18386 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 81330 term 15 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 62521 term 16 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 58416 term 16 leader 0 nextIndex[2]: 102  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 13 99} {1899468983500666139 13 100} {1899468983500666139 15 101} {1634017319470786046 16 102}]
------------------------------------------------------
client write log 8438383344272249190 (index 103) to leader 0
client write log 6283078709142592465 (index 104) to leader 0
client write log 4221663349815244474 (index 105) to leader 0
client write log 3865347193496403519 (index 106) to leader 0
client write log 3843494942866330269 (index 107) to leader 0
client write log 5887113284201268475 (index 108) to leader 0
client write log 2196627363814220306 (index 109) to leader 0
client write log 1754849226783250948 (index 110) to leader 0
client write log 141175489610690388 (index 111) to leader 0
client write log 3709142667639612654 (index 112) to leader 0
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 102->101
------------------------------------------------------
flag 31436 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 101
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 13
------------------------------------------------------
flag 86456 term 16 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 13781 term 16 leader 0 nextIndex[2]: 102  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 13 99} {1899468983500666139 13 100} {1899468983500666139 15 101} {1634017319470786046 16 102} {8438383344272249190 16 103} {6283078709142592465 16 104} {4221663349815244474 16 105} {3865347193496403519 16 106} {3843494942866330269 16 107} {5887113284201268475 16 108} {2196627363814220306 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
term 16 Server0 start snapshot! index=109
term 16 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=112
-------------------------------------------------------------
flag 88459 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 101
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 13
------------------------------------------------------
flag 13787 term 16 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 16 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 16 leader 0 nextIndex[2]: 102  matchIndex[2]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
term 16 Server1 start snapshot! index=109
term 16 server1 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=112
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7016144279285282299 (index 102) to leader 2
flag 56591 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 101
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 13
------------------------------------------------------
term 16 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 server 0 AppendEntries false 领导者任期过期 args.Term 15
------------------------------------------------------
term 15 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13600 term 16 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 16 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 16 leader 0 nextIndex[2]: 102  matchIndex[2]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 2 InstallSnapshot success
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
term 16 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 16 rf.commitIndex 109 rf.lastApplied 109
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 1 not vote for server 2, 日志不够新
term 16 server 0 not vote for server 2, 日志不够新
term 18 server 2 vote for server 0
term 18 server 1 vote for server 0
term 18 server 0 get vote from server 2
term 18 server 0 become leader
------------------------------------------------------
term 18 server 0 get outdate rpc reply from server 1
flag 52848 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 73755 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 113->112
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
flag 98575 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 46316 term 18 leader 0 nextIndex[2]: 110  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27729 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 12032 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
flag 42242 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 72100 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48451 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 77535 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
term 18 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
term 18 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14961 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 9002 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
flag 40218 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 43779 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
flag 24828 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 33161 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
flag 73043 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 86119 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
flag 16558 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 82723 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
flag 34639 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 21200 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
flag 61419 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 31718 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48670 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 97639 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
term 18 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
flag 34941 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 32844 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
flag 93200 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 45091 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
term 18 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
flag 48762 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 96862 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
term 18 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94622 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 81728 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
flag 26962 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 97356 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
flag 18238 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 52949 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112}]
------------------------------------------------------
client write log 7016144279285282299 (index 113) to leader 0
flag 72049 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 19469 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112} {7016144279285282299 18 113}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112} {7016144279285282299 18 113}]
------------------------------------------------------
flag 34682 term 18 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 18 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 67318 term 18 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 18 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112} {7016144279285282299 18 113}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112} {7016144279285282299 18 113}]
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 server 2 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 2
flag 47711 term 18 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 18 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 34162 term 18 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 18 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112} {7016144279285282299 18 113}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112} {7016144279285282299 18 113}]
------------------------------------------------------
flag 54151 term 18 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 18 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 50520 term 18 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 18 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112} {7016144279285282299 18 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112} {7016144279285282299 18 113}]
------------------------------------------------------
flag 74420 term 18 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 18 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 20285 term 18 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 18 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112} {7016144279285282299 18 113}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112} {7016144279285282299 18 113}]
------------------------------------------------------
flag 99791 term 18 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 18 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 7411 term 18 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 18 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112} {7016144279285282299 18 113}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112} {7016144279285282299 18 113}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7157349313554741451 (index 114) to leader 0
flag 2108 term 18 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 18 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 71948 term 18 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 18 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112} {7016144279285282299 18 113} {7157349313554741451 18 114}]
------------------------------------------------------
flag 73133 term 18 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 18 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 114 
------------------------------------------------------
flag 53702 term 18 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 18 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 114 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112} {7016144279285282299 18 113} {7157349313554741451 18 114}]
------------------------------------------------------
client write log 8050447782495651944 (index 115) to leader 0
client write log 9112564029100385124 (index 116) to leader 0
client write log 7828332169647158797 (index 117) to leader 0
client write log 6479146415633518744 (index 118) to leader 0
client write log 7163237137076946339 (index 119) to leader 0
client write log 6064196987541924357 (index 120) to leader 0
client write log 237808602433684980 (index 121) to leader 0
client write log 2753163100491580364 (index 122) to leader 0
client write log 1484969388164759969 (index 123) to leader 0
client write log 5318202256705713409 (index 124) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85153 term 18 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 18 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 114 
------------------------------------------------------
flag 69374 term 18 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 18 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 114 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 109} {1754849226783250948 16 110} {141175489610690388 16 111} {3709142667639612654 16 112} {7016144279285282299 18 113} {7157349313554741451 18 114} {8050447782495651944 18 115} {9112564029100385124 18 116} {7828332169647158797 18 117} {6479146415633518744 18 118} {7163237137076946339 18 119} {6064196987541924357 18 120} {237808602433684980 18 121} {2753163100491580364 18 122} {1484969388164759969 18 123} {5318202256705713409 18 124}]
------------------------------------------------------
term 18 Server0 start snapshot! index=119
term 18 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=124
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 114->113
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 0  matchIndex[1]: 113
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 18
------------------------------------------------------
flag 83353 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 18 leaderCommit: 124 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 18 119} {6064196987541924357 18 120} {237808602433684980 18 121} {2753163100491580364 18 122} {1484969388164759969 18 123} {5318202256705713409 18 124}]
------------------------------------------------------
term 18 Server2 start snapshot! index=119
term 18 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=124
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2764873259342983020 (index 125) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 leader 0 nextIndex[1]: 0  matchIndex[1]: 113
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 18
------------------------------------------------------
flag 63792 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 18 leaderCommit: 124 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 18 119} {6064196987541924357 18 120} {237808602433684980 18 121} {2753163100491580364 18 122} {1484969388164759969 18 123} {5318202256705713409 18 124} {2764873259342983020 18 125}]
------------------------------------------------------
term 19 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 server 0 not vote for server 1, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 1 vote for server 0
term 20 server 2 vote for server 0
term 20 server 0 get vote from server 1
term 20 server 0 become leader
------------------------------------------------------
term 20 server 0 get outdate rpc reply from server 2
flag 49772 term 20 leader 0 nextIndex[1]: 126  matchIndex[1]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 72499 term 20 leader 0 nextIndex[2]: 126  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 18 119} {6064196987541924357 18 120} {237808602433684980 18 121} {2753163100491580364 18 122} {1484969388164759969 18 123} {5318202256705713409 18 124} {2764873259342983020 18 125}]
------------------------------------------------------
term 20 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 126->125
------------------------------------------------------
term 20 leader 0 nextIndex[1]: 114  matchIndex[1]: 0
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 18
------------------------------------------------------
flag 56833 term 20 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 20 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 18 119} {6064196987541924357 18 120} {237808602433684980 18 121} {2753163100491580364 18 122} {1484969388164759969 18 123} {5318202256705713409 18 124} {2764873259342983020 18 125}]
------------------------------------------------------
term 20 server 1 InstallSnapshot success
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 18 rf.commitIndex 119 rf.lastApplied 119
term 20 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26291 term 20 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 57315 term 20 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 20 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 18 119} {6064196987541924357 18 120} {237808602433684980 18 121} {2753163100491580364 18 122} {1484969388164759969 18 123} {5318202256705713409 18 124} {2764873259342983020 18 125}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 18 119} {6064196987541924357 18 120} {237808602433684980 18 121} {2753163100491580364 18 122} {1484969388164759969 18 123} {5318202256705713409 18 124} {2764873259342983020 18 125}]
------------------------------------------------------
flag 20729 term 20 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 20 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 71878 term 20 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 20 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 18 119} {6064196987541924357 18 120} {237808602433684980 18 121} {2753163100491580364 18 122} {1484969388164759969 18 123} {5318202256705713409 18 124} {2764873259342983020 18 125}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 18 119} {6064196987541924357 18 120} {237808602433684980 18 121} {2753163100491580364 18 122} {1484969388164759969 18 123} {5318202256705713409 18 124} {2764873259342983020 18 125}]
------------------------------------------------------
flag 39664 term 20 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 20 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 93716 term 20 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 20 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 18 119} {6064196987541924357 18 120} {237808602433684980 18 121} {2753163100491580364 18 122} {1484969388164759969 18 123} {5318202256705713409 18 124} {2764873259342983020 18 125}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 18 119} {6064196987541924357 18 120} {237808602433684980 18 121} {2753163100491580364 18 122} {1484969388164759969 18 123} {5318202256705713409 18 124} {2764873259342983020 18 125}]
------------------------------------------------------
flag 1250 term 20 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 20 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 8366 term 20 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 20 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 18 119} {6064196987541924357 18 120} {237808602433684980 18 121} {2753163100491580364 18 122} {1484969388164759969 18 123} {5318202256705713409 18 124} {2764873259342983020 18 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 18 119} {6064196987541924357 18 120} {237808602433684980 18 121} {2753163100491580364 18 122} {1484969388164759969 18 123} {5318202256705713409 18 124} {2764873259342983020 18 125}]
------------------------------------------------------
flag 11373 term 20 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 20 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 10657 term 20 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 20 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 18 119} {6064196987541924357 18 120} {237808602433684980 18 121} {2753163100491580364 18 122} {1484969388164759969 18 123} {5318202256705713409 18 124} {2764873259342983020 18 125}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 18 119} {6064196987541924357 18 120} {237808602433684980 18 121} {2753163100491580364 18 122} {1484969388164759969 18 123} {5318202256705713409 18 124} {2764873259342983020 18 125}]
------------------------------------------------------
term 20 server 2 not vote for server 1, 任期不够新
term 20 server 1 get outdate rpc reply from server 2
flag 327 term 20 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 20 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 29374 term 20 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 20 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 18 119} {6064196987541924357 18 120} {237808602433684980 18 121} {2753163100491580364 18 122} {1484969388164759969 18 123} {5318202256705713409 18 124} {2764873259342983020 18 125}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 18 119} {6064196987541924357 18 120} {237808602433684980 18 121} {2753163100491580364 18 122} {1484969388164759969 18 123} {5318202256705713409 18 124} {2764873259342983020 18 125}]
------------------------------------------------------
flag 21879 term 20 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 20 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 16024 term 20 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 20 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 18 119} {6064196987541924357 18 120} {237808602433684980 18 121} {2753163100491580364 18 122} {1484969388164759969 18 123} {5318202256705713409 18 124} {2764873259342983020 18 125}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 18 119} {6064196987541924357 18 120} {237808602433684980 18 121} {2753163100491580364 18 122} {1484969388164759969 18 123} {5318202256705713409 18 124} {2764873259342983020 18 125}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5682967863960384802 (index 126) to leader 0
flag 6383 term 20 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 20 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 90309 term 20 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 20 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 18 119} {6064196987541924357 18 120} {237808602433684980 18 121} {2753163100491580364 18 122} {1484969388164759969 18 123} {5318202256705713409 18 124} {2764873259342983020 18 125} {5682967863960384802 20 126}]
------------------------------------------------------
flag 77896 term 20 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 20 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 126 
------------------------------------------------------
flag 68285 term 20 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 20 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 18 119} {6064196987541924357 18 120} {237808602433684980 18 121} {2753163100491580364 18 122} {1484969388164759969 18 123} {5318202256705713409 18 124} {2764873259342983020 18 125} {5682967863960384802 20 126}]
------------------------------------------------------
client write log 6269203125645653814 (index 127) to leader 0
client write log 5741899258997790005 (index 128) to leader 0
client write log 8802418813217886660 (index 129) to leader 0
client write log 8519554765433432687 (index 130) to leader 0
client write log 1658087179030998024 (index 131) to leader 0
client write log 2058859852104770646 (index 132) to leader 0
client write log 2635945050853021364 (index 133) to leader 0
client write log 3873000075334868120 (index 134) to leader 0
flag 20626 term 20 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 20 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 126 
------------------------------------------------------
flag 58021 term 20 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 20 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 18 119} {6064196987541924357 18 120} {237808602433684980 18 121} {2753163100491580364 18 122} {1484969388164759969 18 123} {5318202256705713409 18 124} {2764873259342983020 18 125} {5682967863960384802 20 126} {6269203125645653814 20 127} {5741899258997790005 20 128} {8802418813217886660 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134}]
------------------------------------------------------
term 20 Server0 start snapshot! index=129
term 20 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=134
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
flag 86864 term 20 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 20 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134}]
------------------------------------------------------
term 20 Server2 start snapshot! index=129
term 20 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=134
-------------------------------------------------------------
!!!!!!connect server 1
client write log 795303204376221298 (index 135) to leader 0
term 20 server 2 not vote for server 1, 日志不够新
term 20 server 0 not vote for server 1, 日志不够新
term 22 server 2 vote for server 0
term 22 server 0 get vote from server 2
term 22 server 0 become leader
------------------------------------------------------
term 22 server 1 vote for server 0
term 22 server 0 get outdate rpc reply from server 1
flag 80474 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
flag 59981 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 22 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 136->135
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 136->135
------------------------------------------------------
term 22 leader 0 nextIndex[1]: 126  matchIndex[1]: 0
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
flag 93674 term 22 leader 0 nextIndex[2]: 135  matchIndex[2]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
term 22 server 1 InstallSnapshot success
------------------------------------------------------
term 22 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 20 rf.commitIndex 129 rf.lastApplied 129
flag 64850 term 22 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 22 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
flag 95675 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
flag 95535 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
flag 86765 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75583 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
flag 76306 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
flag 71987 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
flag 55970 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
flag 92069 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
flag 81350 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
flag 54838 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
flag 25928 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
flag 9037 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
flag 42379 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70476 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
flag 60618 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
flag 82858 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
flag 48299 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
flag 78563 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
flag 30337 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
flag 99391 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
flag 97055 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
flag 23586 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
flag 77928 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
flag 33534 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
flag 2076 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
flag 3690 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
flag 43358 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
term 22 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96586 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
flag 61002 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
flag 71113 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
flag 62912 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
flag 20498 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
flag 4993 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135}]
------------------------------------------------------
client write log 795303204376221298 (index 136) to leader 0
flag 50936 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
flag 73053 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135} {795303204376221298 22 136}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135} {795303204376221298 22 136}]
------------------------------------------------------
flag 3089 term 22 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
flag 25252 term 22 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135} {795303204376221298 22 136}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135} {795303204376221298 22 136}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10515 term 22 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
flag 27649 term 22 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135} {795303204376221298 22 136}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135} {795303204376221298 22 136}]
------------------------------------------------------
flag 72278 term 22 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
flag 46016 term 22 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135} {795303204376221298 22 136}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135} {795303204376221298 22 136}]
------------------------------------------------------
flag 48263 term 22 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
flag 59122 term 22 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135} {795303204376221298 22 136}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135} {795303204376221298 22 136}]
------------------------------------------------------
flag 16578 term 22 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
flag 7401 term 22 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135} {795303204376221298 22 136}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135} {795303204376221298 22 136}]
------------------------------------------------------
flag 58380 term 22 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
flag 24306 term 22 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135} {795303204376221298 22 136}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135} {795303204376221298 22 136}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 33200 term 22 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
flag 39874 term 22 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23484 term 22 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
flag 45568 term 22 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
term 22 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95777 term 22 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
flag 83112 term 22 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
term 23 server 1 vote for server 2
term 23 server 2 get vote from server 1
term 23 server 2 become leader
------------------------------------------------------
flag 81632 term 23 leader 2 nextIndex[0]: 137  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
flag 73817 term 23 leader 2 nextIndex[1]: 137  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135} {795303204376221298 22 136}]
------------------------------------------------------
client write log 9187815789332049224 (index 137) to leader 2
flag 80889 term 22 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
flag 61074 term 22 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
flag 26771 term 23 leader 2 nextIndex[0]: 137  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
flag 89092 term 23 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135} {795303204376221298 22 136} {9187815789332049224 23 137}]
------------------------------------------------------
flag 17406 term 22 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
flag 60864 term 22 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
flag 25811 term 23 leader 2 nextIndex[0]: 137  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
flag 4355 term 23 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135} {795303204376221298 22 136} {9187815789332049224 23 137}]
------------------------------------------------------
client write log 6204597693282505505 (index 138) to leader 2
flag 95849 term 22 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
flag 81922 term 22 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 137->136
------------------------------------------------------
flag 89308 term 23 leader 2 nextIndex[0]: 137  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
flag 15462 term 23 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135} {795303204376221298 22 136} {9187815789332049224 23 137} {6204597693282505505 23 138}]
------------------------------------------------------
flag 81456 term 22 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
term 22 leader 0 nextIndex[2]: 0  matchIndex[2]: 136
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 137->136
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
flag 37655 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135} {795303204376221298 22 136} {9187815789332049224 23 137} {6204597693282505505 23 138}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 0
client write log 6308045099048446501 (index 139) to leader 2
flag 65053 term 22 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
term 22 leader 0 nextIndex[2]: 0  matchIndex[2]: 136
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
term 23 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 23 server 1 AppendEntries false 领导者任期过期 args.Term 22
------------------------------------------------------
term 22 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
flag 14804 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
term 23 server 0 InstallSnapshot fail
rf.commitIndex 136 args.LastIncludedIndex 129
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 20 129} {8519554765433432687 20 130} {1658087179030998024 20 131} {2058859852104770646 20 132} {2635945050853021364 20 133} {3873000075334868120 20 134} {795303204376221298 20 135} {795303204376221298 22 136} {9187815789332049224 23 137} {6204597693282505505 23 138} {6308045099048446501 23 139}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
term 23 Server2 start snapshot! index=139
term 23 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
term 23 server 2 not vote for server 0, 日志不够新
term 23 server 1 not vote for server 0, 日志不够新
term 25 server 1 vote for server 2
term 25 server 2 get vote from server 1
term 25 server 2 become leader
------------------------------------------------------
term 25 server 0 vote for server 2
term 25 server 2 get outdate rpc reply from server 0
flag 54442 term 25 leader 2 nextIndex[0]: 140  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 11413 term 25 leader 2 nextIndex[1]: 140  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
term 25 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 140->139
------------------------------------------------------
term 25 Server1 start snapshot! index=139
term 25 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 2 nextIndex[0]: 137  matchIndex[0]: 0
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 93535 term 25 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
term 25 server 0 InstallSnapshot success
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 23 rf.commitIndex 139 rf.lastApplied 139
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71521 term 25 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 25 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 57759 term 25 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50432 term 25 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 25 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 97372 term 25 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
flag 74015 term 25 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 25 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 51432 term 25 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40880 term 25 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 25 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 21751 term 25 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
flag 55022 term 25 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 25 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 1443 term 25 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7580578815981472750 (index 140) to leader 2
flag 34527 term 25 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 25 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 54904 term 25 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7580578815981472750 25 140}]
------------------------------------------------------
flag 45216 term 25 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 25 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 21552 term 25 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7580578815981472750 25 140}]
------------------------------------------------------
client write log 8706812428570435209 (index 141) to leader 2
client write log 4205596247300179509 (index 142) to leader 2
client write log 1252028537815220541 (index 143) to leader 2
client write log 1407429112548832470 (index 144) to leader 2
client write log 1021005724751119961 (index 145) to leader 2
client write log 5220891776302135968 (index 146) to leader 2
client write log 7357403394614780034 (index 147) to leader 2
client write log 5254512261140116299 (index 148) to leader 2
client write log 5737326532149743581 (index 149) to leader 2
flag 96628 term 25 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 25 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 89817 term 25 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 23 139} {7580578815981472750 25 140} {8706812428570435209 25 141} {4205596247300179509 25 142} {1252028537815220541 25 143} {1407429112548832470 25 144} {1021005724751119961 25 145} {5220891776302135968 25 146} {7357403394614780034 25 147} {5254512261140116299 25 148} {5737326532149743581 25 149}]
------------------------------------------------------
term 25 Server2 start snapshot! index=149
term 25 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
term 25 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
flag 87659 term 25 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 25 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 25 149}]
------------------------------------------------------
term 25 Server1 start snapshot! index=149
term 25 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7540709640703511379 (index 150) to leader 2
term 25 server 2 not vote for server 0, 日志不够新
term 25 server 1 not vote for server 0, 日志不够新
term 27 server 1 vote for server 2
term 27 server 2 get vote from server 1
term 27 server 2 become leader
------------------------------------------------------
term 27 server 0 vote for server 2
term 27 server 2 get outdate rpc reply from server 0
flag 28529 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 25542 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 server 1 AppendEntries false prev日志不匹配
term 27 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 151->150
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 151->150
------------------------------------------------------
term 27 leader 2 nextIndex[0]: 140  matchIndex[0]: 0
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
flag 82984 term 27 leader 2 nextIndex[1]: 150  matchIndex[1]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
term 27 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
Server0 get CondInstallSnapshot!
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
rf.lastIncludedIndex 149 rf.lastIncludedTerm 25 rf.commitIndex 149 rf.lastApplied 149
flag 49916 term 27 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 27 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 96138 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
flag 10391 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 33979 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
flag 24362 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 88455 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15302 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 17363 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96502 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 61065 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
flag 22642 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 93988 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13434 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 12496 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
flag 66550 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 26891 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40906 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 54336 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
flag 89050 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 8467 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
flag 56025 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 24510 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49911 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 36233 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
flag 52610 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 33445 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
flag 93326 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 59218 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
flag 546 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 66466 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
flag 59017 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 93222 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
flag 18741 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 19183 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83848 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 59434 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=149
leader log:
[{snapshot 25 149} {7540709640703511379 25 150}]
------------------------------------------------------
client write log 7540709640703511379 (index 151) to leader 2
flag 84949 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 28915 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7540709640703511379 25 150} {7540709640703511379 27 151}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7540709640703511379 25 150} {7540709640703511379 27 151}]
------------------------------------------------------
flag 11744 term 27 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 151 
------------------------------------------------------
flag 37837 term 27 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 151 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7540709640703511379 25 150} {7540709640703511379 27 151}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7540709640703511379 25 150} {7540709640703511379 27 151}]
------------------------------------------------------
flag 83267 term 27 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 151 
------------------------------------------------------
flag 74769 term 27 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 151 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
term 27 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
[{snapshot 25 149} {7540709640703511379 25 150} {7540709640703511379 27 151}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7540709640703511379 25 150} {7540709640703511379 27 151}]
------------------------------------------------------
flag 52727 term 27 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 151 
------------------------------------------------------
flag 74841 term 27 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 151 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7540709640703511379 25 150} {7540709640703511379 27 151}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7540709640703511379 25 150} {7540709640703511379 27 151}]
------------------------------------------------------
flag 99442 term 27 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 151 
------------------------------------------------------
flag 63097 term 27 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 151 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7540709640703511379 25 150} {7540709640703511379 27 151}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7540709640703511379 25 150} {7540709640703511379 27 151}]
------------------------------------------------------
flag 49309 term 27 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 151 
------------------------------------------------------
flag 44296 term 27 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 151 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7540709640703511379 25 150} {7540709640703511379 27 151}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7540709640703511379 25 150} {7540709640703511379 27 151}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2309 term 27 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 151 
------------------------------------------------------
flag 27280 term 27 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 151 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7540709640703511379 25 150} {7540709640703511379 27 151}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7540709640703511379 25 150} {7540709640703511379 27 151}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1876948941513498542 (index 152) to leader 2
flag 88177 term 27 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 151 
------------------------------------------------------
flag 8676 term 27 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 151 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {7540709640703511379 25 150} {7540709640703511379 27 151} {1876948941513498542 27 152}]
------------------------------------------------------
flag 51589 term 27 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 15025 term 27 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {7540709640703511379 25 150} {7540709640703511379 27 151} {1876948941513498542 27 152}]
------------------------------------------------------
client write log 6564561651700389346 (index 153) to leader 2
client write log 1602906605924984343 (index 154) to leader 2
client write log 2278543217250282887 (index 155) to leader 2
client write log 8713740246473911794 (index 156) to leader 2
client write log 3298506166448385931 (index 157) to leader 2
client write log 5143330293358017401 (index 158) to leader 2
client write log 2496556642030646480 (index 159) to leader 2
client write log 43038421274370202 (index 160) to leader 2
client write log 1333317471128583470 (index 161) to leader 2
client write log 3128974429335927617 (index 162) to leader 2
client write log 3395693790067382411 (index 163) to leader 2
client write log 4493420061772344263 (index 164) to leader 2
client write log 3679425184209818180 (index 165) to leader 2
client write log 3871931306267542973 (index 166) to leader 2
client write log 8119578234748132796 (index 167) to leader 2
flag 76149 term 27 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 25733 term 27 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 149} {7540709640703511379 25 150} {7540709640703511379 27 151} {1876948941513498542 27 152} {6564561651700389346 27 153} {1602906605924984343 27 154} {2278543217250282887 27 155} {8713740246473911794 27 156} {3298506166448385931 27 157} {5143330293358017401 27 158} {2496556642030646480 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167}]
------------------------------------------------------
term 27 Server2 start snapshot! index=159
term 27 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=167
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 27
------------------------------------------------------
flag 25289 term 27 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 27 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167}]
------------------------------------------------------
term 27 Server1 start snapshot! index=159
term 27 server1 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=167
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3128739217444799127 (index 168) to leader 2
term 27 server 2 not vote for server 0, 日志不够新
term 27 server 1 not vote for server 0, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 server 1 vote for server 2
term 29 server 2 get vote from server 1
term 29 server 0 vote for server 2
term 29 server 2 become leader
------------------------------------------------------
term 29 server 2 get outdate rpc reply from server 0
flag 51295 term 29 leader 2 nextIndex[0]: 169  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 47993 term 29 leader 2 nextIndex[1]: 169  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 169->168
------------------------------------------------------
term 29 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 169->168
------------------------------------------------------
term 29 leader 2 nextIndex[0]: 152  matchIndex[0]: 0
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 27
------------------------------------------------------
flag 54011 term 29 leader 2 nextIndex[1]: 168  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
term 29 server 0 InstallSnapshot success
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 27 rf.commitIndex 159 rf.lastApplied 159
term 29 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23275 term 29 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 29 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 67478 term 29 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
flag 15548 term 29 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 36344 term 29 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
flag 46519 term 29 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 38695 term 29 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41884 term 29 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 44171 term 29 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
flag 52844 term 29 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 98421 term 29 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
flag 20211 term 29 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 45182 term 29 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
flag 49609 term 29 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 72289 term 29 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12418 term 29 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 28381 term 29 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58418 term 29 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 17058 term 29 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
flag 94280 term 29 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 67949 term 29 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
flag 37159 term 29 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 91795 term 29 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75810 term 29 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 31098 term 29 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
flag 40816 term 29 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 8391 term 29 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75749 term 29 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 83280 term 29 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
flag 5105 term 29 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 76782 term 29 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
flag 8804 term 29 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 42848 term 29 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90676 term 29 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 28192 term 29 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
flag 57072 term 29 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 59547 term 29 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168}]
------------------------------------------------------
client write log 3128739217444799127 (index 169) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 server 0 not vote for server 2, 任期不够新
term 29 server 2 get outdate rpc reply from server 0
flag 3240 term 29 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 96540 term 29 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168} {3128739217444799127 29 169}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 159} {43038421274370202 27 160} {1333317471128583470 27 161} {3128974429335927617 27 162} {3395693790067382411 27 163} {4493420061772344263 27 164} {3679425184209818180 27 165} {3871931306267542973 27 166} {8119578234748132796 27 167} {3128739217444799127 27 168} {3128739217444799127 29 169}]
------------------------------------------------------
term 29 Server2 start snapshot! index=169
term 29 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
flag 48072 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 23185 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 29 Server1 start snapshot! index=169
term 29 Server0 start snapshot! index=169
term 29 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
term 29 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
flag 18284 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 41973 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
flag 23683 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 3354 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
flag 748 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 43095 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
flag 4534 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 84974 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 74028 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 93213 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 92998 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 63730 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 59594 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 18274 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 16141 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 38328 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 1 vote for server 0
term 30 server 0 get vote from server 1
term 30 server 0 become leader
------------------------------------------------------
flag 7179 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 61189 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
client write log 8671930020394326931 (index 170) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37297 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 26512 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 87751 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 55510 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {8671930020394326931 30 170}]
------------------------------------------------------
flag 68377 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 84439 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 99877 term 30 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 4034 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {8671930020394326931 30 170}]
------------------------------------------------------
client write log 6511581648842503045 (index 171) to leader 0
client write log 5832488660567506064 (index 172) to leader 0
client write log 6845617662131896491 (index 173) to leader 0
client write log 2424403747350619108 (index 174) to leader 0
client write log 6566810987063242966 (index 175) to leader 0
client write log 8943283568910199843 (index 176) to leader 0
client write log 331950676943387688 (index 177) to leader 0
client write log 8867463523468278869 (index 178) to leader 0
flag 7443 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 9450 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 86795 term 30 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 67322 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 170->169
------------------------------------------------------
term 29 leader 2 nextIndex[0]: 0  matchIndex[0]: 169
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 29
------------------------------------------------------
flag 396 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 55557 term 30 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 74112 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 178 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
!!!!!!connect server 2
client write log 784069462842785921 (index 170) to leader 2
term 29 leader 2 nextIndex[0]: 0  matchIndex[0]: 169
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 29
------------------------------------------------------
flag 28059 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 1 AppendEntries false 领导者任期过期 args.Term 29
------------------------------------------------------
term 30 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14203 term 30 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 77901 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 178 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41875 term 30 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 59236 term 30 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
flag 96159 term 30 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 16414 term 30 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
flag 22671 term 30 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 52429 term 30 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
flag 72413 term 30 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 48445 term 30 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
flag 47235 term 30 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 67608 term 30 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
flag 52088 term 30 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 37602 term 30 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
flag 97857 term 30 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 24330 term 30 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
flag 64180 term 30 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 75273 term 30 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
flag 25688 term 30 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 75258 term 30 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
flag 15989 term 30 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 96381 term 30 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
flag 79083 term 30 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 50647 term 30 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
flag 69244 term 30 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 80079 term 30 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
flag 1130 term 30 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 75001 term 30 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
flag 71885 term 30 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 4530 term 30 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73428 term 30 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 45326 term 30 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
flag 59525 term 30 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 54476 term 30 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
flag 69333 term 30 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 93609 term 30 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
flag 27053 term 30 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 91593 term 30 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
flag 34232 term 30 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 59703 term 30 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178}]
------------------------------------------------------
client write log 784069462842785921 (index 179) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69620 term 30 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 87710 term 30 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178} {784069462842785921 30 179}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 169} {8671930020394326931 30 170} {6511581648842503045 30 171} {5832488660567506064 30 172} {6845617662131896491 30 173} {2424403747350619108 30 174} {6566810987063242966 30 175} {8943283568910199843 30 176} {331950676943387688 30 177} {8867463523468278869 30 178} {784069462842785921 30 179}]
------------------------------------------------------
term 30 Server0 start snapshot! index=179
term 30 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
flag 93135 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
flag 4578 term 30 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
term 30 Server1 start snapshot! index=179
term 30 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
term 30 Server2 start snapshot! index=179
term 30 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
flag 17208 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
flag 28285 term 30 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
flag 74648 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
flag 11133 term 30 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
flag 50819 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
flag 42706 term 30 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
flag 73656 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
flag 91117 term 30 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3312009641236032621 (index 180) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83676 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
flag 48926 term 30 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {3312009641236032621 30 180}]
------------------------------------------------------
flag 41649 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
flag 35496 term 30 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 30 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {3312009641236032621 30 180}]
------------------------------------------------------
client write log 7915218123563651254 (index 181) to leader 0
client write log 3309420078519701197 (index 182) to leader 0
client write log 528234719696132614 (index 183) to leader 0
client write log 7543219925346385587 (index 184) to leader 0
client write log 100580768599332637 (index 185) to leader 0
client write log 1586945053696205280 (index 186) to leader 0
client write log 8295203899477716879 (index 187) to leader 0
client write log 898231455809544959 (index 188) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53989 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
flag 77123 term 30 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 30 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188}]
------------------------------------------------------
flag 39435 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 11817 term 30 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 30 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5830290521999160575 (index 189) to leader 0
term 30 server 2 not vote for server 1, 日志不够新
term 30 server 0 not vote for server 1, 日志不够新
term 32 server 1 vote for server 0
term 32 server 2 vote for server 0
term 32 server 0 get vote from server 2
term 32 server 0 become leader
------------------------------------------------------
term 32 server 0 get outdate rpc reply from server 1
flag 51410 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 10580 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 190->189
------------------------------------------------------
term 32 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 190->189
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75984 term 32 leader 0 nextIndex[1]: 180  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 97515 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62441 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 95048 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
flag 68142 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 81160 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49283 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 38178 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
flag 68885 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 16290 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
flag 54605 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 99502 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
flag 89240 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 45764 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
flag 25615 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 58356 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
flag 46697 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 30513 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
flag 19555 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 52850 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
flag 21888 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 18230 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74929 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 21890 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
flag 55402 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 84285 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
flag 40510 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 91416 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28254 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 29102 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89873 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 93480 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67124 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 81063 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
flag 23511 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 70528 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 557 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 42281 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189}]
------------------------------------------------------
client write log 5830290521999160575 (index 190) to leader 0
flag 70860 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 1947 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189} {5830290521999160575 32 190}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 179} {3312009641236032621 30 180} {7915218123563651254 30 181} {3309420078519701197 30 182} {528234719696132614 30 183} {7543219925346385587 30 184} {100580768599332637 30 185} {1586945053696205280 30 186} {8295203899477716879 30 187} {898231455809544959 30 188} {5830290521999160575 30 189} {5830290521999160575 32 190}]
------------------------------------------------------
term 32 Server0 start snapshot! index=189
term 32 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
flag 51986 term 32 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 32 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 35337 term 32 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 32 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {5830290521999160575 32 190}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {5830290521999160575 32 190}]
------------------------------------------------------
term 32 Server2 start snapshot! index=189
term 32 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
term 32 Server1 start snapshot! index=189
term 32 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
flag 68750 term 32 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 32 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 79124 term 32 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 32 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {5830290521999160575 32 190}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {5830290521999160575 32 190}]
------------------------------------------------------
term 32 server 2 not vote for server 0, 任期不够新
term 32 server 0 get outdate rpc reply from server 2
flag 93029 term 32 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 32 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 59982 term 32 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 32 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {5830290521999160575 32 190}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {5830290521999160575 32 190}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61531 term 32 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 32 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 95704 term 32 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 32 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {5830290521999160575 32 190}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {5830290521999160575 32 190}]
------------------------------------------------------
flag 67083 term 32 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 32 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 4248 term 32 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 32 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {5830290521999160575 32 190}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {5830290521999160575 32 190}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4115496605142534472 (index 191) to leader 0
flag 71399 term 32 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 32 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 61793 term 32 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 32 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {5830290521999160575 32 190} {4115496605142534472 32 191}]
------------------------------------------------------
flag 40250 term 32 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 32 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 9471 term 32 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {5830290521999160575 32 190} {4115496605142534472 32 191}]
------------------------------------------------------
client write log 5755353302435975546 (index 192) to leader 0
client write log 5612244516722813555 (index 193) to leader 0
client write log 5086926953214504040 (index 194) to leader 0
client write log 4382474989456549389 (index 195) to leader 0
client write log 5593031804025974632 (index 196) to leader 0
client write log 2553909758559350965 (index 197) to leader 0
client write log 1993275401575986696 (index 198) to leader 0
client write log 1489407660556141938 (index 199) to leader 0
client write log 4533287467525321503 (index 200) to leader 0
client write log 3719692270783809439 (index 201) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38697 term 32 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 32 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 17902 term 32 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 30 189} {5830290521999160575 32 190} {4115496605142534472 32 191} {5755353302435975546 32 192} {5612244516722813555 32 193} {5086926953214504040 32 194} {4382474989456549389 32 195} {5593031804025974632 32 196} {2553909758559350965 32 197} {1993275401575986696 32 198} {1489407660556141938 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201}]
------------------------------------------------------
term 32 Server0 start snapshot! index=199
term 32 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=201
-------------------------------------------------------------
term 32 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 43205 term 32 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201}]
------------------------------------------------------
term 32 Server2 start snapshot! index=199
term 32 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=201
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7386414755852366366 (index 202) to leader 0
term 32 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 35238 term 32 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 33 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202}]
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 server 2 vote for server 0
term 34 server 1 vote for server 0
term 34 server 0 get vote from server 2
term 34 server 0 become leader
------------------------------------------------------
term 34 server 0 get outdate rpc reply from server 1
flag 25468 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
flag 4556 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202}]
------------------------------------------------------
term 34 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 203->202
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 191  matchIndex[1]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 92787 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
term 34 server 1 InstallSnapshot success
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 32 rf.commitIndex 199 rf.lastApplied 199
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202}]
------------------------------------------------------
flag 73433 term 34 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 34 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
flag 83993 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202}]
------------------------------------------------------
flag 41203 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
flag 28611 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202}]
------------------------------------------------------
flag 24320 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
flag 92116 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7079 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
flag 35072 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202}]
------------------------------------------------------
flag 89230 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
flag 4482 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
term 34 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202}]
------------------------------------------------------
flag 37837 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
flag 29151 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202}]
------------------------------------------------------
flag 62447 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
flag 23628 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 71923 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
flag 15541 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
flag 31727 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
flag 99003 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10889 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
flag 17876 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
flag 4376 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
flag 17730 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
term 35 server 1 vote for server 2
term 35 server 2 get vote from server 1
term 35 server 2 become leader
------------------------------------------------------
client write log 5690470224320838148 (index 203) to leader 2
flag 30042 term 35 leader 2 nextIndex[0]: 203  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
flag 22146 term 35 leader 2 nextIndex[1]: 203  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202} {5690470224320838148 35 203}]
------------------------------------------------------
flag 54435 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
flag 52490 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
flag 74495 term 35 leader 2 nextIndex[0]: 203  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
flag 96311 term 35 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 35 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202} {5690470224320838148 35 203}]
------------------------------------------------------
client write log 5309813057954338044 (index 204) to leader 2
flag 46008 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
flag 50969 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
flag 85692 term 35 leader 2 nextIndex[0]: 203  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
flag 63378 term 35 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 35 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202} {5690470224320838148 35 203} {5309813057954338044 35 204}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 203->202
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 0  matchIndex[1]: 202
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 22804 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
flag 24815 term 35 leader 2 nextIndex[0]: 203  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 204 
------------------------------------------------------
flag 70123 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202} {5690470224320838148 35 203} {5309813057954338044 35 204}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2848644818481747678 (index 205) to leader 2
term 34 leader 0 nextIndex[1]: 0  matchIndex[1]: 202
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 28101 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
term 35 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 35 server 2 AppendEntries false 领导者任期过期 args.Term 34
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 203->202
------------------------------------------------------
term 35 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 2861 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202} {5690470224320838148 35 203} {5309813057954338044 35 204} {2848644818481747678 35 205}]
------------------------------------------------------
term 35 server 0 InstallSnapshot fail
rf.commitIndex 202 args.LastIncludedIndex 199
------------------------------------------------------
term 35 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 200 matchIndex[0] 199 
------------------------------------------------------------------------
term 35 server 2 not vote for server 0, 日志不够新
term 35 server 1 not vote for server 0, 日志不够新
term 37 server 0 vote for server 2
term 37 server 1 vote for server 2
term 37 server 2 get vote from server 0
term 37 server 2 become leader
------------------------------------------------------
term 37 server 2 get outdate rpc reply from server 1
flag 42286 term 37 leader 2 nextIndex[0]: 206  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 25082 term 37 leader 2 nextIndex[1]: 206  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202} {5690470224320838148 35 203} {5309813057954338044 35 204} {2848644818481747678 35 205}]
------------------------------------------------------
term 37 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 206->205
------------------------------------------------------
flag 10761 term 37 leader 2 nextIndex[0]: 203  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 205 
------------------------------------------------------
flag 66654 term 37 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 37 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202} {5690470224320838148 35 203} {5309813057954338044 35 204} {2848644818481747678 35 205}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202} {5690470224320838148 35 203} {5309813057954338044 35 204} {2848644818481747678 35 205}]
------------------------------------------------------
flag 97504 term 37 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 37 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 36006 term 37 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 37 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202} {5690470224320838148 35 203} {5309813057954338044 35 204} {2848644818481747678 35 205}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202} {5690470224320838148 35 203} {5309813057954338044 35 204} {2848644818481747678 35 205}]
------------------------------------------------------
term 37 server 0 not vote for server 1, 任期不够新
term 37 server 1 get outdate rpc reply from server 0
flag 96486 term 37 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 37 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 72125 term 37 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 37 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202} {5690470224320838148 35 203} {5309813057954338044 35 204} {2848644818481747678 35 205}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202} {5690470224320838148 35 203} {5309813057954338044 35 204} {2848644818481747678 35 205}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66319 term 37 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 37 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 84495 term 37 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 37 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202} {5690470224320838148 35 203} {5309813057954338044 35 204} {2848644818481747678 35 205}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202} {5690470224320838148 35 203} {5309813057954338044 35 204} {2848644818481747678 35 205}]
------------------------------------------------------
flag 69793 term 37 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 37 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 44197 term 37 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 37 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202} {5690470224320838148 35 203} {5309813057954338044 35 204} {2848644818481747678 35 205}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202} {5690470224320838148 35 203} {5309813057954338044 35 204} {2848644818481747678 35 205}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94540 term 37 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 37 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 21854 term 37 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 37 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202} {5690470224320838148 35 203} {5309813057954338044 35 204} {2848644818481747678 35 205}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202} {5690470224320838148 35 203} {5309813057954338044 35 204} {2848644818481747678 35 205}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1035765925568436617 (index 206) to leader 2
flag 57081 term 37 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 37 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 95634 term 37 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 37 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202} {5690470224320838148 35 203} {5309813057954338044 35 204} {2848644818481747678 35 205} {1035765925568436617 37 206}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 206->205
------------------------------------------------------
term 37 leader 2 nextIndex[0]: 0  matchIndex[0]: 205
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 36590 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 37 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202} {5690470224320838148 35 203} {5309813057954338044 35 204} {2848644818481747678 35 205} {1035765925568436617 37 206}]
------------------------------------------------------
client write log 7291879737365650093 (index 207) to leader 2
client write log 8601384290821992502 (index 208) to leader 2
client write log 7093456435152110482 (index 209) to leader 2
client write log 5562257933549253159 (index 210) to leader 2
client write log 5604816974828494522 (index 211) to leader 2
client write log 263139171472250316 (index 212) to leader 2
client write log 5594304139611458279 (index 213) to leader 2
client write log 8833304239239962787 (index 214) to leader 2
client write log 1190169170910615012 (index 215) to leader 2
client write log 6935055702757445352 (index 216) to leader 2
client write log 3933306032250502344 (index 217) to leader 2
client write log 8654761967826752820 (index 218) to leader 2
client write log 8094847624405434829 (index 219) to leader 2
term 37 leader 2 nextIndex[0]: 0  matchIndex[0]: 205
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 11609 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 37 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 32 199} {4533287467525321503 32 200} {3719692270783809439 32 201} {7386414755852366366 32 202} {5690470224320838148 35 203} {5309813057954338044 35 204} {2848644818481747678 35 205} {1035765925568436617 37 206} {7291879737365650093 37 207} {8601384290821992502 37 208} {7093456435152110482 37 209} {5562257933549253159 37 210} {5604816974828494522 37 211} {263139171472250316 37 212} {5594304139611458279 37 213} {8833304239239962787 37 214} {1190169170910615012 37 215} {6935055702757445352 37 216} {3933306032250502344 37 217} {8654761967826752820 37 218} {8094847624405434829 37 219}]
------------------------------------------------------
term 37 Server2 start snapshot! index=209
term 37 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=219
-------------------------------------------------------------
term 37 Server2 start snapshot! index=219
term 37 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 leader 2 nextIndex[0]: 0  matchIndex[0]: 205
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 37
------------------------------------------------------
flag 846 term 37 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 37 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 37 219}]
------------------------------------------------------
term 37 Server1 start snapshot! index=209
term 37 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=219
-------------------------------------------------------------
term 37 Server1 start snapshot! index=219
term 37 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
!!!!!!connect server 0
client write log 669568130734904741 (index 220) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 leader 2 nextIndex[0]: 0  matchIndex[0]: 205
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 37
------------------------------------------------------
flag 95535 term 37 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 37 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 37 219} {669568130734904741 37 220}]
------------------------------------------------------
term 38 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 37 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 server 1 vote for server 2
term 39 server 0 vote for server 2
term 39 server 2 get vote from server 1
term 39 server 2 become leader
------------------------------------------------------
term 39 server 2 get outdate rpc reply from server 0
flag 5662 term 39 leader 2 nextIndex[0]: 221  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
flag 38468 term 39 leader 2 nextIndex[1]: 221  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
term 39 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 221->220
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 37 219} {669568130734904741 37 220}]
------------------------------------------------------
term 39 leader 2 nextIndex[0]: 206  matchIndex[0]: 0
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 37
------------------------------------------------------
flag 5532 term 39 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 39 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 37 219} {669568130734904741 37 220}]
------------------------------------------------------
term 39 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 37 rf.commitIndex 219 rf.lastApplied 219
term 39 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90286 term 39 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 39 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
flag 89240 term 39 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 39 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 37 219} {669568130734904741 37 220}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 37 219} {669568130734904741 37 220}]
------------------------------------------------------
flag 41579 term 39 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 39 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
flag 55655 term 39 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 39 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 37 219} {669568130734904741 37 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 37 219} {669568130734904741 37 220}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35100 term 39 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 39 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
flag 2116 term 39 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 39 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 37 219} {669568130734904741 37 220}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 37 219} {669568130734904741 37 220}]
------------------------------------------------------
flag 67833 term 39 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 39 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
flag 23854 term 39 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 39 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 37 219} {669568130734904741 37 220}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 37 219} {669568130734904741 37 220}]
------------------------------------------------------
flag 75519 term 39 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 39 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
flag 68180 term 39 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 39 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
term 39 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
[{snapshot 37 219} {669568130734904741 37 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 37 219} {669568130734904741 37 220}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96411 term 39 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 39 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
flag 58702 term 39 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 39 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 37 219} {669568130734904741 37 220}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 37 219} {669568130734904741 37 220}]
------------------------------------------------------
flag 34605 term 39 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 39 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
flag 281 term 39 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 39 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 37 219} {669568130734904741 37 220}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 37 219} {669568130734904741 37 220}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 393110433570708982 (index 221) to leader 2
flag 90370 term 39 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 39 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
flag 69610 term 39 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 39 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 37 219} {669568130734904741 37 220} {393110433570708982 39 221}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21859 term 39 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 39 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
flag 77643 term 39 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 39 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 39 leaderCommit: 221 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 37 219} {669568130734904741 37 220} {393110433570708982 39 221}]
------------------------------------------------------
client write log 7947439070648280748 (index 222) to leader 2
client write log 561237829656582201 (index 223) to leader 2
client write log 1399261933475564400 (index 224) to leader 2
client write log 1630033397730016788 (index 225) to leader 2
client write log 4819480330039750873 (index 226) to leader 2
client write log 8396659390034601898 (index 227) to leader 2
client write log 8217563426788165381 (index 228) to leader 2
client write log 1971220442201117664 (index 229) to leader 2
client write log 8178888316824269877 (index 230) to leader 2
client write log 5382940841299627989 (index 231) to leader 2
client write log 4896628382855211046 (index 232) to leader 2
client write log 6126394160998646025 (index 233) to leader 2
client write log 3722736697303117473 (index 234) to leader 2
flag 14286 term 39 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 39 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
flag 86381 term 39 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 39 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 39 leaderCommit: 221 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 37 219} {669568130734904741 37 220} {393110433570708982 39 221} {7947439070648280748 39 222} {561237829656582201 39 223} {1399261933475564400 39 224} {1630033397730016788 39 225} {4819480330039750873 39 226} {8396659390034601898 39 227} {8217563426788165381 39 228} {1971220442201117664 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234}]
------------------------------------------------------
term 39 Server2 start snapshot! index=229
term 39 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=234
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 39
------------------------------------------------------
flag 69036 term 39 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234}]
------------------------------------------------------
term 39 Server1 start snapshot! index=229
term 39 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=234
-------------------------------------------------------------
!!!!!!connect server 0
client write log 908497137277147628 (index 235) to leader 2
term 39 server 2 not vote for server 0, 日志不够新
term 39 server 1 not vote for server 0, 日志不够新
term 41 server 1 vote for server 2
term 41 server 2 get vote from server 1
term 41 server 2 become leader
------------------------------------------------------
term 41 server 0 vote for server 2
term 41 server 2 get outdate rpc reply from server 0
term 41 server 2 not vote for server 1, 任期不够新
term 41 server 1 get outdate rpc reply from server 2
flag 17607 term 41 leader 2 nextIndex[0]: 236  matchIndex[0]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
flag 88322 term 41 leader 2 nextIndex[1]: 236  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
term 41 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 41 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 236->235
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 236->235
------------------------------------------------------
term 41 leader 2 nextIndex[0]: 221  matchIndex[0]: 0
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 39
------------------------------------------------------
flag 83652 term 41 leader 2 nextIndex[1]: 235  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
term 41 server 0 InstallSnapshot success
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 39 rf.commitIndex 229 rf.lastApplied 229
flag 57250 term 41 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 41 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
flag 44477 term 41 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69230 term 41 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
flag 48159 term 41 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
flag 88987 term 41 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
flag 1441 term 41 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
flag 55810 term 41 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
flag 59182 term 41 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
flag 43080 term 41 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
flag 33585 term 41 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
flag 71854 term 41 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
flag 28236 term 41 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74489 term 41 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
flag 29331 term 41 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
flag 77740 term 41 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
flag 42217 term 41 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
flag 56770 term 41 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
flag 3608 term 41 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
flag 48382 term 41 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
flag 89801 term 41 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
flag 5819 term 41 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
flag 67185 term 41 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20847 term 41 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
flag 78942 term 41 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
flag 34855 term 41 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
flag 73670 term 41 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
term 41 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
flag 62326 term 41 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
flag 41872 term 41 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17337 term 41 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
flag 74546 term 41 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
flag 8227 term 41 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
flag 87025 term 41 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 server 1 not vote for server 0, 任期不够新
term 41 server 0 get outdate rpc reply from server 1
flag 64566 term 41 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
flag 17419 term 41 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37083 term 41 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
flag 44743 term 41 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235}]
------------------------------------------------------
client write log 908497137277147628 (index 236) to leader 2
flag 75036 term 41 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
flag 49220 term 41 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235} {908497137277147628 41 236}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235} {908497137277147628 41 236}]
------------------------------------------------------
flag 95923 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
flag 45463 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:236 
term 41 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235} {908497137277147628 41 236}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235} {908497137277147628 41 236}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58102 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
flag 44642 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235} {908497137277147628 41 236}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235} {908497137277147628 41 236}]
------------------------------------------------------
flag 87172 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
flag 84454 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235} {908497137277147628 41 236}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235} {908497137277147628 41 236}]
------------------------------------------------------
flag 41649 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
flag 96957 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235} {908497137277147628 41 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235} {908497137277147628 41 236}]
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25987 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
flag 14653 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235} {908497137277147628 41 236}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235} {908497137277147628 41 236}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 2
flag 2529 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
flag 27166 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
flag 95837 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
flag 90166 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
flag 8973 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
flag 98097 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
flag 17436 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
flag 99902 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
term 42 server 1 vote for server 0
term 42 server 0 get vote from server 1
term 42 server 0 become leader
------------------------------------------------------
flag 13271 term 42 leader 0 nextIndex[1]: 237  matchIndex[1]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
flag 82455 term 42 leader 0 nextIndex[2]: 237  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235} {908497137277147628 41 236}]
------------------------------------------------------
client write log 2692961168263251148 (index 237) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20832 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
flag 33936 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6463 term 42 leader 0 nextIndex[1]: 237  matchIndex[1]: 236
term 42 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
flag 37300 term 42 leader 0 nextIndex[2]: 237  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235} {908497137277147628 41 236} {2692961168263251148 42 237}]
------------------------------------------------------
flag 21913 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
flag 6246 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
flag 39319 term 42 leader 0 nextIndex[1]: 238  matchIndex[1]: 237
term 42 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
flag 14385 term 42 leader 0 nextIndex[2]: 237  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235} {908497137277147628 41 236} {2692961168263251148 42 237}]
------------------------------------------------------
client write log 3211956779389186877 (index 238) to leader 0
client write log 3146526938189620022 (index 239) to leader 0
client write log 7605233013389114131 (index 240) to leader 0
client write log 5881671069466725730 (index 241) to leader 0
client write log 3843606782938397367 (index 242) to leader 0
client write log 5912752260667360083 (index 243) to leader 0
client write log 3438266504982669920 (index 244) to leader 0
client write log 519793043142875885 (index 245) to leader 0
client write log 1095573468691341398 (index 246) to leader 0
client write log 7759828416167886630 (index 247) to leader 0
client write log 2742144739715926958 (index 248) to leader 0
client write log 3847595898002001513 (index 249) to leader 0
client write log 2825943873150595645 (index 250) to leader 0
flag 39126 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
flag 37806 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 237->236
------------------------------------------------------
flag 21593 term 42 leader 0 nextIndex[1]: 238  matchIndex[1]: 237
term 42 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
flag 29800 term 42 leader 0 nextIndex[2]: 237  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 229} {8178888316824269877 39 230} {5382940841299627989 39 231} {4896628382855211046 39 232} {6126394160998646025 39 233} {3722736697303117473 39 234} {908497137277147628 39 235} {908497137277147628 41 236} {2692961168263251148 42 237} {3211956779389186877 42 238} {3146526938189620022 42 239} {7605233013389114131 42 240} {5881671069466725730 42 241} {3843606782938397367 42 242} {5912752260667360083 42 243} {3438266504982669920 42 244} {519793043142875885 42 245} {1095573468691341398 42 246} {7759828416167886630 42 247} {2742144739715926958 42 248} {3847595898002001513 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
term 42 Server0 start snapshot! index=239
term 42 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=250
-------------------------------------------------------------
term 42 Server0 start snapshot! index=249
term 42 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=250
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
flag 92279 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
term 41 leader 2 nextIndex[1]: 0  matchIndex[1]: 236
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 39
------------------------------------------------------
flag 52124 term 42 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 42 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
term 42 leader 0 nextIndex[2]: 237  matchIndex[2]: 0
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
term 42 Server1 start snapshot! index=239
term 42 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=250
-------------------------------------------------------------
term 42 Server1 start snapshot! index=249
term 42 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=250
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4103168514710352338 (index 237) to leader 2
flag 75756 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
term 41 leader 2 nextIndex[1]: 0  matchIndex[1]: 236
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 39
------------------------------------------------------
term 42 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 42 server 0 AppendEntries false 领导者任期过期 args.Term 41
------------------------------------------------------
term 41 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25349 term 42 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 42 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
term 42 leader 0 nextIndex[2]: 237  matchIndex[2]: 0
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 2 InstallSnapshot success
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
term 42 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 42 rf.commitIndex 249 rf.lastApplied 249
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
term 42 server 1 not vote for server 2, 日志不够新
term 42 server 0 not vote for server 2, 日志不够新
term 44 server 2 vote for server 0
term 44 server 1 vote for server 0
term 44 server 0 get vote from server 2
term 44 server 0 become leader
------------------------------------------------------
term 44 server 0 get outdate rpc reply from server 1
flag 95147 term 44 leader 0 nextIndex[1]: 251  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
flag 56421 term 44 leader 0 nextIndex[2]: 251  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
term 44 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 251->250
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
flag 20968 term 44 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
flag 44854 term 44 leader 0 nextIndex[2]: 250  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70668 term 44 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
flag 16730 term 44 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
term 44 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64542 term 44 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
flag 91042 term 44 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
flag 84310 term 44 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
flag 44905 term 44 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
flag 92687 term 44 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
flag 34651 term 44 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 2 not vote for server 0, 任期不够新
term 44 server 0 get outdate rpc reply from server 2
flag 61490 term 44 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
flag 22981 term 44 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
term 44 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
flag 41946 term 44 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
flag 8572 term 44 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
flag 19497 term 44 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
flag 11920 term 44 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55169 term 44 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
flag 54039 term 44 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
flag 95704 term 44 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
flag 9987 term 44 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26500 term 44 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
flag 31159 term 44 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50429 term 44 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
flag 838 term 44 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58288 term 44 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
flag 46235 term 44 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
term 44 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
flag 90315 term 44 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
flag 25537 term 44 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
flag 54847 term 44 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
flag 70289 term 44 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
flag 68966 term 44 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
flag 73837 term 44 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
term 44 server 2 not vote for server 0, 任期不够新
term 44 server 0 get outdate rpc reply from server 2
flag 46344 term 44 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
flag 68949 term 44 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {2825943873150595645 42 250}]
------------------------------------------------------
client write log 4103168514710352338 (index 251) to leader 0
flag 76404 term 44 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
flag 51974 term 44 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 44 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {2825943873150595645 42 250} {4103168514710352338 44 251}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {2825943873150595645 42 250} {4103168514710352338 44 251}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72964 term 44 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 44 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 44 leaderCommit: 251 
------------------------------------------------------
flag 76659 term 44 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 44 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 44 leaderCommit: 251 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {2825943873150595645 42 250} {4103168514710352338 44 251}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {2825943873150595645 42 250} {4103168514710352338 44 251}]
------------------------------------------------------
flag 34389 term 44 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 44 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 44 leaderCommit: 251 
------------------------------------------------------
flag 77336 term 44 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 44 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 44 leaderCommit: 251 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {2825943873150595645 42 250} {4103168514710352338 44 251}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {2825943873150595645 42 250} {4103168514710352338 44 251}]
------------------------------------------------------
flag 10646 term 44 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 44 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 44 leaderCommit: 251 
------------------------------------------------------
flag 4944 term 44 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 44 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 44 leaderCommit: 251 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {2825943873150595645 42 250} {4103168514710352338 44 251}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {2825943873150595645 42 250} {4103168514710352338 44 251}]
------------------------------------------------------
term 44 server 0 not vote for server 2, 任期不够新
term 44 server 2 get outdate rpc reply from server 0
flag 20122 term 44 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 44 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 44 leaderCommit: 251 
------------------------------------------------------
flag 35586 term 44 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 44 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 44 leaderCommit: 251 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {2825943873150595645 42 250} {4103168514710352338 44 251}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {2825943873150595645 42 250} {4103168514710352338 44 251}]
------------------------------------------------------
flag 22794 term 44 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 44 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 44 leaderCommit: 251 
------------------------------------------------------
flag 8888 term 44 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 44 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 44 leaderCommit: 251 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {2825943873150595645 42 250} {4103168514710352338 44 251}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {2825943873150595645 42 250} {4103168514710352338 44 251}]
------------------------------------------------------
flag 850 term 44 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 44 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 44 leaderCommit: 251 
------------------------------------------------------
flag 39055 term 44 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 44 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 44 leaderCommit: 251 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {2825943873150595645 42 250} {4103168514710352338 44 251}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {2825943873150595645 42 250} {4103168514710352338 44 251}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6154835819777234656 (index 252) to leader 0
flag 46726 term 44 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 44 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 44 leaderCommit: 251 
------------------------------------------------------
flag 84564 term 44 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 44 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 44 leaderCommit: 251 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {2825943873150595645 42 250} {4103168514710352338 44 251} {6154835819777234656 44 252}]
------------------------------------------------------
flag 34697 term 44 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 44 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
flag 93436 term 44 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 44 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {2825943873150595645 42 250} {4103168514710352338 44 251} {6154835819777234656 44 252}]
------------------------------------------------------
client write log 2916355211133819775 (index 253) to leader 0
client write log 2401197874338834158 (index 254) to leader 0
client write log 5781336818870788083 (index 255) to leader 0
client write log 3910000329820589762 (index 256) to leader 0
client write log 326552920196762811 (index 257) to leader 0
client write log 5397625971703178146 (index 258) to leader 0
client write log 6913985425513726973 (index 259) to leader 0
client write log 8631770431092197070 (index 260) to leader 0
client write log 2053562681444170173 (index 261) to leader 0
client write log 4848196510867394407 (index 262) to leader 0
client write log 197235218071304525 (index 263) to leader 0
client write log 3847873554415999005 (index 264) to leader 0
client write log 831478083125863112 (index 265) to leader 0
client write log 2120519373381860070 (index 266) to leader 0
client write log 268951249803367354 (index 267) to leader 0
flag 30955 term 44 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 44 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
flag 35494 term 44 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 44 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 42 249} {2825943873150595645 42 250} {4103168514710352338 44 251} {6154835819777234656 44 252} {2916355211133819775 44 253} {2401197874338834158 44 254} {5781336818870788083 44 255} {3910000329820589762 44 256} {326552920196762811 44 257} {5397625971703178146 44 258} {6913985425513726973 44 259} {8631770431092197070 44 260} {2053562681444170173 44 261} {4848196510867394407 44 262} {197235218071304525 44 263} {3847873554415999005 44 264} {831478083125863112 44 265} {2120519373381860070 44 266} {268951249803367354 44 267}]
------------------------------------------------------
term 44 Server0 start snapshot! index=259
term 44 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=267
-------------------------------------------------------------
term 44 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 44
------------------------------------------------------
flag 42053 term 44 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 44 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {8631770431092197070 44 260} {2053562681444170173 44 261} {4848196510867394407 44 262} {197235218071304525 44 263} {3847873554415999005 44 264} {831478083125863112 44 265} {2120519373381860070 44 266} {268951249803367354 44 267}]
------------------------------------------------------
term 44 Server2 start snapshot! index=259
term 44 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=267
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4595373881734890348 (index 268) to leader 0
term 44 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 44
------------------------------------------------------
flag 73543 term 44 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 44 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 44 259} {8631770431092197070 44 260} {2053562681444170173 44 261} {4848196510867394407 44 262} {197235218071304525 44 263} {3847873554415999005 44 264} {831478083125863112 44 265} {2120519373381860070 44 266} {268951249803367354 44 267} {4595373881734890348 44 268}]
------------------------------------------------------
term 45 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 server 2 vote for server 0
term 46 server 1 vote for server 0
term 46 server 0 get vote from server 2
term 46 server 0 become leader
------------------------------------------------------
term 46 server 0 get outdate rpc reply from server 1
flag 37651 term 46 leader 0 nextIndex[1]: 269  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 44 leaderCommit: 268 
------------------------------------------------------
flag 96369 term 46 leader 0 nextIndex[2]: 269  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 44 leaderCommit: 268 
------------------------------------------------------
term 46 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 269->268
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 44 259} {8631770431092197070 44 260} {2053562681444170173 44 261} {4848196510867394407 44 262} {197235218071304525 44 263} {3847873554415999005 44 264} {831478083125863112 44 265} {2120519373381860070 44 266} {268951249803367354 44 267} {4595373881734890348 44 268}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 252  matchIndex[1]: 0
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 44
------------------------------------------------------
flag 21348 term 46 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 46 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 44 leaderCommit: 268 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 46 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 44 259} {8631770431092197070 44 260} {2053562681444170173 44 261} {4848196510867394407 44 262} {197235218071304525 44 263} {3847873554415999005 44 264} {831478083125863112 44 265} {2120519373381860070 44 266} {268951249803367354 44 267} {4595373881734890348 44 268}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 44 rf.commitIndex 259 rf.lastApplied 259
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
flag 39104 term 46 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 46 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 44 leaderCommit: 268 
------------------------------------------------------
flag 51645 term 46 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 46 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 44 leaderCommit: 268 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 44 259} {8631770431092197070 44 260} {2053562681444170173 44 261} {4848196510867394407 44 262} {197235218071304525 44 263} {3847873554415999005 44 264} {831478083125863112 44 265} {2120519373381860070 44 266} {268951249803367354 44 267} {4595373881734890348 44 268}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 44 259} {8631770431092197070 44 260} {2053562681444170173 44 261} {4848196510867394407 44 262} {197235218071304525 44 263} {3847873554415999005 44 264} {831478083125863112 44 265} {2120519373381860070 44 266} {268951249803367354 44 267} {4595373881734890348 44 268}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33725 term 46 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 46 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 44 leaderCommit: 268 
------------------------------------------------------
flag 20017 term 46 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 46 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 44 leaderCommit: 268 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 44 259} {8631770431092197070 44 260} {2053562681444170173 44 261} {4848196510867394407 44 262} {197235218071304525 44 263} {3847873554415999005 44 264} {831478083125863112 44 265} {2120519373381860070 44 266} {268951249803367354 44 267} {4595373881734890348 44 268}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 44 259} {8631770431092197070 44 260} {2053562681444170173 44 261} {4848196510867394407 44 262} {197235218071304525 44 263} {3847873554415999005 44 264} {831478083125863112 44 265} {2120519373381860070 44 266} {268951249803367354 44 267} {4595373881734890348 44 268}]
------------------------------------------------------
flag 84017 term 46 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 46 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 44 leaderCommit: 268 
------------------------------------------------------
flag 97209 term 46 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 46 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 44 leaderCommit: 268 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 44 259} {8631770431092197070 44 260} {2053562681444170173 44 261} {4848196510867394407 44 262} {197235218071304525 44 263} {3847873554415999005 44 264} {831478083125863112 44 265} {2120519373381860070 44 266} {268951249803367354 44 267} {4595373881734890348 44 268}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 44 259} {8631770431092197070 44 260} {2053562681444170173 44 261} {4848196510867394407 44 262} {197235218071304525 44 263} {3847873554415999005 44 264} {831478083125863112 44 265} {2120519373381860070 44 266} {268951249803367354 44 267} {4595373881734890348 44 268}]
------------------------------------------------------
flag 9639 term 46 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 46 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 44 leaderCommit: 268 
------------------------------------------------------
flag 61248 term 46 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 46 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 44 leaderCommit: 268 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 44 259} {8631770431092197070 44 260} {2053562681444170173 44 261} {4848196510867394407 44 262} {197235218071304525 44 263} {3847873554415999005 44 264} {831478083125863112 44 265} {2120519373381860070 44 266} {268951249803367354 44 267} {4595373881734890348 44 268}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 44 259} {8631770431092197070 44 260} {2053562681444170173 44 261} {4848196510867394407 44 262} {197235218071304525 44 263} {3847873554415999005 44 264} {831478083125863112 44 265} {2120519373381860070 44 266} {268951249803367354 44 267} {4595373881734890348 44 268}]
------------------------------------------------------
flag 62966 term 46 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 46 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 44 leaderCommit: 268 
------------------------------------------------------
flag 85982 term 46 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 46 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 44 leaderCommit: 268 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 44 259} {8631770431092197070 44 260} {2053562681444170173 44 261} {4848196510867394407 44 262} {197235218071304525 44 263} {3847873554415999005 44 264} {831478083125863112 44 265} {2120519373381860070 44 266} {268951249803367354 44 267} {4595373881734890348 44 268}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 44 259} {8631770431092197070 44 260} {2053562681444170173 44 261} {4848196510867394407 44 262} {197235218071304525 44 263} {3847873554415999005 44 264} {831478083125863112 44 265} {2120519373381860070 44 266} {268951249803367354 44 267} {4595373881734890348 44 268}]
------------------------------------------------------
flag 49334 term 46 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 46 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 44 leaderCommit: 268 
------------------------------------------------------
flag 52909 term 46 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 46 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 44 leaderCommit: 268 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 44 259} {8631770431092197070 44 260} {2053562681444170173 44 261} {4848196510867394407 44 262} {197235218071304525 44 263} {3847873554415999005 44 264} {831478083125863112 44 265} {2120519373381860070 44 266} {268951249803367354 44 267} {4595373881734890348 44 268}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 44 259} {8631770431092197070 44 260} {2053562681444170173 44 261} {4848196510867394407 44 262} {197235218071304525 44 263} {3847873554415999005 44 264} {831478083125863112 44 265} {2120519373381860070 44 266} {268951249803367354 44 267} {4595373881734890348 44 268}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 496 term 46 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 46 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 44 leaderCommit: 268 
------------------------------------------------------
flag 81535 term 46 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 46 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 44 leaderCommit: 268 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 44 259} {8631770431092197070 44 260} {2053562681444170173 44 261} {4848196510867394407 44 262} {197235218071304525 44 263} {3847873554415999005 44 264} {831478083125863112 44 265} {2120519373381860070 44 266} {268951249803367354 44 267} {4595373881734890348 44 268}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 44 259} {8631770431092197070 44 260} {2053562681444170173 44 261} {4848196510867394407 44 262} {197235218071304525 44 263} {3847873554415999005 44 264} {831478083125863112 44 265} {2120519373381860070 44 266} {268951249803367354 44 267} {4595373881734890348 44 268}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8612187435052476857 (index 269) to leader 0
flag 94604 term 46 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 46 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 44 leaderCommit: 268 
------------------------------------------------------
flag 50946 term 46 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 46 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 44 leaderCommit: 268 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 44 259} {8631770431092197070 44 260} {2053562681444170173 44 261} {4848196510867394407 44 262} {197235218071304525 44 263} {3847873554415999005 44 264} {831478083125863112 44 265} {2120519373381860070 44 266} {268951249803367354 44 267} {4595373881734890348 44 268} {8612187435052476857 46 269}]
------------------------------------------------------
term 46 Server0 start snapshot! index=269
term 46 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
term 46 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 46
------------------------------------------------------
flag 78900 term 46 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 46 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 46 leaderCommit: 269 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 46 269}]
------------------------------------------------------
term 46 Server2 start snapshot! index=269
term 46 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
client write log 8688389044482901431 (index 270) to leader 0
client write log 3573085229650288189 (index 271) to leader 0
client write log 1030949466345025978 (index 272) to leader 0
client write log 3920545073223891891 (index 273) to leader 0
client write log 2479544847383707099 (index 274) to leader 0
client write log 8311342444440246469 (index 275) to leader 0
client write log 4825034005552901182 (index 276) to leader 0
client write log 1070799766102868429 (index 277) to leader 0
client write log 7195282104811910556 (index 278) to leader 0
client write log 2042145777627782965 (index 279) to leader 0
client write log 4110906838535344383 (index 280) to leader 0
client write log 209798384891769082 (index 281) to leader 0
term 46 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 46
------------------------------------------------------
flag 87596 term 46 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 46 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 46 leaderCommit: 269 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 46 269} {8688389044482901431 46 270} {3573085229650288189 46 271} {1030949466345025978 46 272} {3920545073223891891 46 273} {2479544847383707099 46 274} {8311342444440246469 46 275} {4825034005552901182 46 276} {1070799766102868429 46 277} {7195282104811910556 46 278} {2042145777627782965 46 279} {4110906838535344383 46 280} {209798384891769082 46 281}]
------------------------------------------------------
term 46 Server0 start snapshot! index=279
term 46 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=281
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 46
------------------------------------------------------
flag 36509 term 46 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281}]
------------------------------------------------------
term 46 Server2 start snapshot! index=279
term 46 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=281
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8058051522823643747 (index 282) to leader 0
term 46 server 2 not vote for server 1, 日志不够新
term 46 server 0 not vote for server 1, 日志不够新
term 48 server 1 vote for server 0
term 48 server 2 vote for server 0
term 48 server 0 get vote from server 1
term 48 server 0 become leader
------------------------------------------------------
term 48 server 0 get outdate rpc reply from server 2
flag 23019 term 48 leader 0 nextIndex[1]: 283  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 4385 term 48 leader 0 nextIndex[2]: 283  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 48 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 283->282
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 283->282
------------------------------------------------------
term 48 leader 0 nextIndex[1]: 269  matchIndex[1]: 0
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 46
------------------------------------------------------
flag 75336 term 48 leader 0 nextIndex[2]: 282  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
term 48 server 1 InstallSnapshot success
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 46 rf.commitIndex 279 rf.lastApplied 279
term 48 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58483 term 48 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 48 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 40791 term 48 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21178 term 48 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 53575 term 48 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
flag 14785 term 48 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 37437 term 48 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37727 term 48 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 34276 term 48 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
flag 82532 term 48 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 3850 term 48 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
flag 53776 term 48 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 35307 term 48 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
flag 25691 term 48 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 56185 term 48 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
term 48 server 0 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 0
flag 59911 term 48 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 80249 term 48 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11194 term 48 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 81818 term 48 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62882 term 48 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 94650 term 48 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
flag 78962 term 48 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 56529 term 48 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
flag 87890 term 48 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 20768 term 48 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83584 term 48 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 21288 term 48 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
flag 39991 term 48 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 25113 term 48 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
flag 92396 term 48 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 74878 term 48 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
flag 5307 term 48 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 32303 term 48 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
flag 65877 term 48 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 31028 term 48 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
flag 18956 term 48 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 83756 term 48 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282}]
------------------------------------------------------
client write log 8058051522823643747 (index 283) to leader 0
flag 62213 term 48 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 56035 term 48 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49395 term 48 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 48 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 60911 term 48 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 48 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283}]
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22536 term 48 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 48 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 60458 term 48 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 48 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283}]
------------------------------------------------------
flag 68714 term 48 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 48 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 92518 term 48 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 48 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283}]
------------------------------------------------------
flag 91622 term 48 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 48 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 84571 term 48 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 48 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283}]
------------------------------------------------------
flag 56017 term 48 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 48 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 21057 term 48 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 48 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 94828 term 48 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 48 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 98081 term 48 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 48 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 84331 term 48 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 48 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 52345 term 48 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 48 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 12825 term 48 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 48 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 23186 term 48 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 48 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 284->283
------------------------------------------------------
term 48 leader 0 nextIndex[1]: 0  matchIndex[1]: 283
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 46
------------------------------------------------------
flag 12225 term 48 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 48 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 49 server 1 vote for server 2
term 49 server 2 get vote from server 1
term 49 server 2 become leader
------------------------------------------------------
flag 51978 term 49 leader 2 nextIndex[0]: 284  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 27991 term 49 leader 2 nextIndex[1]: 284  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283}]
------------------------------------------------------
client write log 4040017615857383110 (index 284) to leader 2
term 48 leader 0 nextIndex[1]: 0  matchIndex[1]: 283
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 46
------------------------------------------------------
flag 41652 term 48 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 48 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
flag 85630 term 49 leader 2 nextIndex[0]: 284  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 14539 term 49 leader 2 nextIndex[1]: 284  matchIndex[1]: 283
term 49 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283} {4040017615857383110 49 284}]
------------------------------------------------------
flag 86576 term 48 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 48 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 283 
------------------------------------------------------
flag 76337 term 48 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 48 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 78442 term 49 leader 2 nextIndex[0]: 284  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 284 
------------------------------------------------------
flag 72808 term 49 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 49 leaderCommit: 284 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283} {4040017615857383110 49 284}]
------------------------------------------------------
client write log 567646358954942639 (index 285) to leader 2
flag 6243 term 48 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 48 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 283 
------------------------------------------------------
flag 23499 term 48 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 48 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 42225 term 49 leader 2 nextIndex[0]: 284  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 284 
------------------------------------------------------
flag 98461 term 49 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 49 leaderCommit: 284 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283} {4040017615857383110 49 284} {567646358954942639 49 285}]
------------------------------------------------------
flag 50468 term 48 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 48 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 283 
------------------------------------------------------
flag 98572 term 48 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 48 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 53658 term 49 leader 2 nextIndex[0]: 284  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 285 
------------------------------------------------------
flag 24803 term 49 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283} {4040017615857383110 49 284} {567646358954942639 49 285}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 280->279
------------------------------------------------------
term 48 leader 0 nextIndex[1]: 0  matchIndex[1]: 279
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 46
------------------------------------------------------
flag 86419 term 48 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 48 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
!!!!!!connect server 0
client write log 4618173883364141008 (index 286) to leader 2
term 49 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 server 2 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67329 term 49 leader 2 nextIndex[0]: 284  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 285 
------------------------------------------------------
flag 61140 term 49 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283} {4040017615857383110 49 284} {567646358954942639 49 285} {4618173883364141008 49 286}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283} {4040017615857383110 49 284} {567646358954942639 49 285} {4618173883364141008 49 286}]
------------------------------------------------------
flag 12931 term 49 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 71310 term 49 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283} {4040017615857383110 49 284} {567646358954942639 49 285} {4618173883364141008 49 286}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283} {4040017615857383110 49 284} {567646358954942639 49 285} {4618173883364141008 49 286}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 287->286
------------------------------------------------------
term 49 leader 2 nextIndex[0]: 0  matchIndex[0]: 286
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 46
------------------------------------------------------
flag 18973 term 49 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 49 server 0 InstallSnapshot fail
rf.commitIndex 286 args.LastIncludedIndex 279
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283} {4040017615857383110 49 284} {567646358954942639 49 285} {4618173883364141008 49 286}]
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
flag 66131 term 49 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 49 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 33010 term 49 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
term 49 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283} {4040017615857383110 49 284} {567646358954942639 49 285} {4618173883364141008 49 286}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283} {4040017615857383110 49 284} {567646358954942639 49 285} {4618173883364141008 49 286}]
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60476 term 49 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 99084 term 49 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283} {4040017615857383110 49 284} {567646358954942639 49 285} {4618173883364141008 49 286}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283} {4040017615857383110 49 284} {567646358954942639 49 285} {4618173883364141008 49 286}]
------------------------------------------------------
flag 12864 term 49 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 45101 term 49 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283} {4040017615857383110 49 284} {567646358954942639 49 285} {4618173883364141008 49 286}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283} {4040017615857383110 49 284} {567646358954942639 49 285} {4618173883364141008 49 286}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2837504777718146063 (index 287) to leader 2
flag 13118 term 49 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 87223 term 49 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283} {4040017615857383110 49 284} {567646358954942639 49 285} {4618173883364141008 49 286} {2837504777718146063 49 287}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46782 term 49 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 287 
------------------------------------------------------
flag 63778 term 49 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 49 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 287 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283} {4040017615857383110 49 284} {567646358954942639 49 285} {4618173883364141008 49 286} {2837504777718146063 49 287}]
------------------------------------------------------
client write log 7843186099824902032 (index 288) to leader 2
client write log 8808008587902451190 (index 289) to leader 2
client write log 1533532835903610651 (index 290) to leader 2
client write log 2963816451216171204 (index 291) to leader 2
client write log 1283187108356143404 (index 292) to leader 2
client write log 554141769188942948 (index 293) to leader 2
client write log 7777013284522627791 (index 294) to leader 2
flag 19285 term 49 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 287 
------------------------------------------------------
flag 76095 term 49 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 49 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 287 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 279} {4110906838535344383 46 280} {209798384891769082 46 281} {8058051522823643747 46 282} {8058051522823643747 48 283} {4040017615857383110 49 284} {567646358954942639 49 285} {4618173883364141008 49 286} {2837504777718146063 49 287} {7843186099824902032 49 288} {8808008587902451190 49 289} {1533532835903610651 49 290} {2963816451216171204 49 291} {1283187108356143404 49 292} {554141769188942948 49 293} {7777013284522627791 49 294}]
------------------------------------------------------
term 49 Server2 start snapshot! index=289
term 49 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=294
-------------------------------------------------------------
term 49 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 49
------------------------------------------------------
flag 87467 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 49 289} {1533532835903610651 49 290} {2963816451216171204 49 291} {1283187108356143404 49 292} {554141769188942948 49 293} {7777013284522627791 49 294}]
------------------------------------------------------
term 49 Server1 start snapshot! index=289
term 49 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=294
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2357192749731819842 (index 295) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 49
------------------------------------------------------
flag 60775 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
term 50 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
update leader CommitIndex=295
leader log:
[{snapshot 49 289} {1533532835903610651 49 290} {2963816451216171204 49 291} {1283187108356143404 49 292} {554141769188942948 49 293} {7777013284522627791 49 294} {2357192749731819842 49 295}]
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 server 1 vote for server 2
term 51 server 0 vote for server 2
term 51 server 2 get vote from server 1
term 51 server 2 become leader
------------------------------------------------------
term 51 server 2 get outdate rpc reply from server 0
flag 79497 term 51 leader 2 nextIndex[0]: 296  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
flag 83241 term 51 leader 2 nextIndex[1]: 296  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
term 51 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 296->295
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 49 289} {1533532835903610651 49 290} {2963816451216171204 49 291} {1283187108356143404 49 292} {554141769188942948 49 293} {7777013284522627791 49 294} {2357192749731819842 49 295}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 287  matchIndex[0]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 49
------------------------------------------------------
flag 32187 term 51 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 51 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 49 289} {1533532835903610651 49 290} {2963816451216171204 49 291} {1283187108356143404 49 292} {554141769188942948 49 293} {7777013284522627791 49 294} {2357192749731819842 49 295}]
------------------------------------------------------
term 51 server 0 InstallSnapshot success
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 49 rf.commitIndex 289 rf.lastApplied 289
flag 34141 term 51 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 51 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
flag 67253 term 51 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 51 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 49 289} {1533532835903610651 49 290} {2963816451216171204 49 291} {1283187108356143404 49 292} {554141769188942948 49 293} {7777013284522627791 49 294} {2357192749731819842 49 295}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 49 289} {1533532835903610651 49 290} {2963816451216171204 49 291} {1283187108356143404 49 292} {554141769188942948 49 293} {7777013284522627791 49 294} {2357192749731819842 49 295}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70702 term 51 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 51 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
flag 61296 term 51 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 51 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 49 289} {1533532835903610651 49 290} {2963816451216171204 49 291} {1283187108356143404 49 292} {554141769188942948 49 293} {7777013284522627791 49 294} {2357192749731819842 49 295}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 49 289} {1533532835903610651 49 290} {2963816451216171204 49 291} {1283187108356143404 49 292} {554141769188942948 49 293} {7777013284522627791 49 294} {2357192749731819842 49 295}]
------------------------------------------------------
flag 78560 term 51 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 51 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
flag 92541 term 51 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 51 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 49 289} {1533532835903610651 49 290} {2963816451216171204 49 291} {1283187108356143404 49 292} {554141769188942948 49 293} {7777013284522627791 49 294} {2357192749731819842 49 295}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 49 289} {1533532835903610651 49 290} {2963816451216171204 49 291} {1283187108356143404 49 292} {554141769188942948 49 293} {7777013284522627791 49 294} {2357192749731819842 49 295}]
------------------------------------------------------
flag 68100 term 51 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 51 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
flag 97706 term 51 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 51 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 49 289} {1533532835903610651 49 290} {2963816451216171204 49 291} {1283187108356143404 49 292} {554141769188942948 49 293} {7777013284522627791 49 294} {2357192749731819842 49 295}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 49 289} {1533532835903610651 49 290} {2963816451216171204 49 291} {1283187108356143404 49 292} {554141769188942948 49 293} {7777013284522627791 49 294} {2357192749731819842 49 295}]
------------------------------------------------------
flag 81219 term 51 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 51 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
flag 74208 term 51 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 51 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 49 289} {1533532835903610651 49 290} {2963816451216171204 49 291} {1283187108356143404 49 292} {554141769188942948 49 293} {7777013284522627791 49 294} {2357192749731819842 49 295}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 49 289} {1533532835903610651 49 290} {2963816451216171204 49 291} {1283187108356143404 49 292} {554141769188942948 49 293} {7777013284522627791 49 294} {2357192749731819842 49 295}]
------------------------------------------------------
flag 99660 term 51 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 51 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
flag 57280 term 51 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 51 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 49 289} {1533532835903610651 49 290} {2963816451216171204 49 291} {1283187108356143404 49 292} {554141769188942948 49 293} {7777013284522627791 49 294} {2357192749731819842 49 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 49 289} {1533532835903610651 49 290} {2963816451216171204 49 291} {1283187108356143404 49 292} {554141769188942948 49 293} {7777013284522627791 49 294} {2357192749731819842 49 295}]
------------------------------------------------------
flag 61490 term 51 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 51 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
flag 11676 term 51 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 51 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 49 289} {1533532835903610651 49 290} {2963816451216171204 49 291} {1283187108356143404 49 292} {554141769188942948 49 293} {7777013284522627791 49 294} {2357192749731819842 49 295}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 49 289} {1533532835903610651 49 290} {2963816451216171204 49 291} {1283187108356143404 49 292} {554141769188942948 49 293} {7777013284522627791 49 294} {2357192749731819842 49 295}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3061456555225735534 (index 296) to leader 2
flag 30538 term 51 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 51 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
flag 93467 term 51 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 51 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 49 289} {1533532835903610651 49 290} {2963816451216171204 49 291} {1283187108356143404 49 292} {554141769188942948 49 293} {7777013284522627791 49 294} {2357192749731819842 49 295} {3061456555225735534 51 296}]
------------------------------------------------------
flag 65874 term 51 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 51 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 296 
------------------------------------------------------
flag 2756 term 51 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 51 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 51 leaderCommit: 296 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 49 289} {1533532835903610651 49 290} {2963816451216171204 49 291} {1283187108356143404 49 292} {554141769188942948 49 293} {7777013284522627791 49 294} {2357192749731819842 49 295} {3061456555225735534 51 296}]
------------------------------------------------------
client write log 7446607950890178872 (index 297) to leader 2
client write log 7688899189993570944 (index 298) to leader 2
client write log 5255381470695069294 (index 299) to leader 2
client write log 1326265695502456089 (index 300) to leader 2
client write log 8781599340686174564 (index 301) to leader 2
client write log 3681202252004239448 (index 302) to leader 2
client write log 4651103975373476412 (index 303) to leader 2
client write log 8010254163506688256 (index 304) to leader 2
client write log 3972242206396545864 (index 305) to leader 2
client write log 8562950209376160861 (index 306) to leader 2
client write log 6021372753479984221 (index 307) to leader 2
client write log 8883613033029816516 (index 308) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58129 term 51 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 51 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 296 
------------------------------------------------------
flag 35801 term 51 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 51 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 51 leaderCommit: 296 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 289} {1533532835903610651 49 290} {2963816451216171204 49 291} {1283187108356143404 49 292} {554141769188942948 49 293} {7777013284522627791 49 294} {2357192749731819842 49 295} {3061456555225735534 51 296} {7446607950890178872 51 297} {7688899189993570944 51 298} {5255381470695069294 51 299} {1326265695502456089 51 300} {8781599340686174564 51 301} {3681202252004239448 51 302} {4651103975373476412 51 303} {8010254163506688256 51 304} {3972242206396545864 51 305} {8562950209376160861 51 306} {6021372753479984221 51 307} {8883613033029816516 51 308}]
------------------------------------------------------
term 51 Server2 start snapshot! index=299
term 51 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=308
-------------------------------------------------------------
term 51 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 51
------------------------------------------------------
flag 18616 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 308 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 51 299} {1326265695502456089 51 300} {8781599340686174564 51 301} {3681202252004239448 51 302} {4651103975373476412 51 303} {8010254163506688256 51 304} {3972242206396545864 51 305} {8562950209376160861 51 306} {6021372753479984221 51 307} {8883613033029816516 51 308}]
------------------------------------------------------
term 51 Server1 start snapshot! index=299
term 51 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=308
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3001744872392940406 (index 309) to leader 2
term 51 server 2 not vote for server 1, 任期不够新
term 51 server 1 get outdate rpc reply from server 2
term 51 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 51
------------------------------------------------------
flag 2943 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 308 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 52 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 51 299} {1326265695502456089 51 300} {8781599340686174564 51 301} {3681202252004239448 51 302} {4651103975373476412 51 303} {8010254163506688256 51 304} {3972242206396545864 51 305} {8562950209376160861 51 306} {6021372753479984221 51 307} {8883613033029816516 51 308} {3001744872392940406 51 309}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 52 Server2 start snapshot! index=309
term 52 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 1 vote for server 2
term 53 server 0 vote for server 2
term 53 server 2 get vote from server 0
term 53 server 2 become leader
------------------------------------------------------
term 53 server 2 get outdate rpc reply from server 1
flag 95238 term 53 leader 2 nextIndex[0]: 310  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
flag 12430 term 53 leader 2 nextIndex[1]: 310  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
term 53 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 51 309}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 310->309
------------------------------------------------------
term 53 Server1 start snapshot! index=309
term 53 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 0
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
flag 47582 term 53 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 51 309}]
------------------------------------------------------
term 53 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
term 53 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
rf.lastIncludedIndex 309 rf.lastIncludedTerm 51 rf.commitIndex 309 rf.lastApplied 309
flag 69050 term 53 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
flag 34507 term 53 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 51 309}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 51 309}]
------------------------------------------------------
flag 16575 term 53 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
flag 14650 term 53 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 51 309}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 51 309}]
------------------------------------------------------
flag 8940 term 53 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
flag 996 term 53 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 51 309}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 51 309}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84118 term 53 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
flag 23629 term 53 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 51 309}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 51 309}]
------------------------------------------------------
flag 50796 term 53 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
flag 53295 term 53 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 51 309}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 51 309}]
------------------------------------------------------
!!!!!!diconnect server 2
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36620 term 53 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
flag 73795 term 53 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
flag 83172 term 53 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
flag 95804 term 53 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
term 53 server 1 not vote for server 0, 任期不够新
term 53 server 0 get outdate rpc reply from server 1
flag 30037 term 53 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
flag 36308 term 53 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
term 54 server 0 vote for server 1
term 54 server 1 get vote from server 0
term 54 server 1 become leader
------------------------------------------------------
flag 8644 term 54 leader 1 nextIndex[0]: 310  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
flag 18911 term 54 leader 1 nextIndex[2]: 310  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 51 309}]
------------------------------------------------------
flag 94393 term 53 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
flag 83000 term 53 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
client write log 2224927959832210781 (index 310) to leader 1
flag 79398 term 54 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 54 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
flag 82999 term 54 leader 1 nextIndex[2]: 310  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {2224927959832210781 54 310}]
------------------------------------------------------
flag 54794 term 53 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
flag 78407 term 53 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60074 term 54 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 54 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 54 leaderCommit: 310 
------------------------------------------------------
flag 41919 term 54 leader 1 nextIndex[2]: 310  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {2224927959832210781 54 310}]
------------------------------------------------------
flag 75079 term 53 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
flag 58582 term 53 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
client write log 6337557999585276674 (index 311) to leader 1
flag 93267 term 54 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 54 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 54 leaderCommit: 310 
------------------------------------------------------
flag 5440 term 54 leader 1 nextIndex[2]: 310  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 51 309} {2224927959832210781 54 310} {6337557999585276674 54 311}]
------------------------------------------------------
flag 29229 term 53 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
flag 63652 term 53 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82539 term 54 leader 1 nextIndex[0]: 312  matchIndex[0]: 311
term 54 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 54 leaderCommit: 311 
------------------------------------------------------
flag 75311 term 54 leader 1 nextIndex[2]: 310  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 51 309} {2224927959832210781 54 310} {6337557999585276674 54 311}]
------------------------------------------------------
flag 71944 term 53 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
flag 72260 term 53 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
!!!!!!connect server 2
client write log 3155434624480915561 (index 312) to leader 1
flag 75011 term 54 leader 1 nextIndex[0]: 312  matchIndex[0]: 311
term 54 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 54 leaderCommit: 311 
------------------------------------------------------
flag 96709 term 54 leader 1 nextIndex[2]: 310  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {2224927959832210781 54 310} {6337557999585276674 54 311} {3155434624480915561 54 312}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {2224927959832210781 54 310} {6337557999585276674 54 311} {3155434624480915561 54 312}]
------------------------------------------------------
flag 83130 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 54 leaderCommit: 312 
------------------------------------------------------
flag 89930 term 54 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 54 leaderCommit: 312 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {2224927959832210781 54 310} {6337557999585276674 54 311} {3155434624480915561 54 312}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {2224927959832210781 54 310} {6337557999585276674 54 311} {3155434624480915561 54 312}]
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60931 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 54 leaderCommit: 312 
------------------------------------------------------
flag 87032 term 54 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 54 leaderCommit: 312 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {2224927959832210781 54 310} {6337557999585276674 54 311} {3155434624480915561 54 312}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {2224927959832210781 54 310} {6337557999585276674 54 311} {3155434624480915561 54 312}]
------------------------------------------------------
flag 9008 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 54 leaderCommit: 312 
------------------------------------------------------
flag 84457 term 54 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 54 leaderCommit: 312 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {2224927959832210781 54 310} {6337557999585276674 54 311} {3155434624480915561 54 312}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {2224927959832210781 54 310} {6337557999585276674 54 311} {3155434624480915561 54 312}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 313->312
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95563 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 54 leaderCommit: 312 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 0  matchIndex[2]: 312
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
term 54 server 2 InstallSnapshot fail
rf.commitIndex 312 args.LastIncludedIndex 309
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {2224927959832210781 54 310} {6337557999585276674 54 311} {3155434624480915561 54 312}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61604 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 54 leaderCommit: 312 
------------------------------------------------------
flag 96432 term 54 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 54 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {2224927959832210781 54 310} {6337557999585276674 54 311} {3155434624480915561 54 312}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {2224927959832210781 54 310} {6337557999585276674 54 311} {3155434624480915561 54 312}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78115 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 54 leaderCommit: 312 
------------------------------------------------------
flag 11144 term 54 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 54 leaderCommit: 312 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {2224927959832210781 54 310} {6337557999585276674 54 311} {3155434624480915561 54 312}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {2224927959832210781 54 310} {6337557999585276674 54 311} {3155434624480915561 54 312}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4516703391558207255 (index 313) to leader 1
flag 45577 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 54 leaderCommit: 312 
------------------------------------------------------
flag 67235 term 54 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 54 leaderCommit: 312 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {2224927959832210781 54 310} {6337557999585276674 54 311} {3155434624480915561 54 312} {4516703391558207255 54 313}]
------------------------------------------------------
term 54 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67149 term 54 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 54 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 54 leaderCommit: 313 
------------------------------------------------------
flag 93492 term 54 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 54 leaderCommit: 313 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {2224927959832210781 54 310} {6337557999585276674 54 311} {3155434624480915561 54 312} {4516703391558207255 54 313}]
------------------------------------------------------
client write log 2773964992566675802 (index 314) to leader 1
client write log 5496847427657508040 (index 315) to leader 1
client write log 6926067249746303548 (index 316) to leader 1
client write log 8052667249073380218 (index 317) to leader 1
client write log 6094507366145310719 (index 318) to leader 1
client write log 8520375469680782748 (index 319) to leader 1
client write log 6804866869727437204 (index 320) to leader 1
client write log 3419278263190078407 (index 321) to leader 1
flag 59560 term 54 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 54 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 54 leaderCommit: 313 
------------------------------------------------------
flag 54346 term 54 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 54 leaderCommit: 313 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 51 309} {2224927959832210781 54 310} {6337557999585276674 54 311} {3155434624480915561 54 312} {4516703391558207255 54 313} {2773964992566675802 54 314} {5496847427657508040 54 315} {6926067249746303548 54 316} {8052667249073380218 54 317} {6094507366145310719 54 318} {8520375469680782748 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321}]
------------------------------------------------------
term 54 Server1 start snapshot! index=319
term 54 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=321
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12238 term 54 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321}]
------------------------------------------------------
term 54 Server0 start snapshot! index=319
term 54 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=321
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1331637708002369479 (index 322) to leader 1
term 54 server 1 not vote for server 2, 日志不够新
term 54 server 0 not vote for server 2, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 server 2 vote for server 1
term 56 server 0 vote for server 1
term 56 server 1 get vote from server 2
term 56 server 1 become leader
------------------------------------------------------
term 56 server 1 get outdate rpc reply from server 0
flag 63179 term 56 leader 1 nextIndex[0]: 323  matchIndex[0]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 44691 term 56 leader 1 nextIndex[2]: 323  matchIndex[2]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 56 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 323->322
------------------------------------------------------
term 56 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 323->322
------------------------------------------------------
flag 56773 term 56 leader 1 nextIndex[0]: 322  matchIndex[0]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 56 leader 1 nextIndex[2]: 313  matchIndex[2]: 0
term 56 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 54
------------------------------------------------------
term 56 server 2 InstallSnapshot success
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:321 
term 56 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 54 rf.commitIndex 319 rf.lastApplied 319
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 server 2 not vote for server 1, 任期不够新
term 56 server 1 get outdate rpc reply from server 2
flag 46860 term 56 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 79571 term 56 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 56 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27270 term 56 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 98788 term 56 leader 1 nextIndex[2]: 323  matchIndex[2]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
flag 33568 term 56 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 92110 term 56 leader 1 nextIndex[2]: 323  matchIndex[2]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56534 term 56 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 39479 term 56 leader 1 nextIndex[2]: 323  matchIndex[2]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23383 term 56 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 67319 term 56 leader 1 nextIndex[2]: 323  matchIndex[2]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76651 term 56 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 55574 term 56 leader 1 nextIndex[2]: 323  matchIndex[2]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:321 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
flag 37058 term 56 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 56870 term 56 leader 1 nextIndex[2]: 323  matchIndex[2]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18407 term 56 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 45306 term 56 leader 1 nextIndex[2]: 323  matchIndex[2]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
term 56 server 2 not vote for server 0, 任期不够新
term 56 server 0 get outdate rpc reply from server 2
flag 47561 term 56 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 49499 term 56 leader 1 nextIndex[2]: 323  matchIndex[2]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 server 2 not vote for server 0, 任期不够新
term 56 server 0 get outdate rpc reply from server 2
flag 76981 term 56 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 69009 term 56 leader 1 nextIndex[2]: 323  matchIndex[2]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22396 term 56 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 72814 term 56 leader 1 nextIndex[2]: 323  matchIndex[2]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
term 56 server 0 not vote for server 2, 任期不够新
term 56 server 2 get outdate rpc reply from server 0
flag 75672 term 56 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 2647 term 56 leader 1 nextIndex[2]: 323  matchIndex[2]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
flag 99423 term 56 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 59239 term 56 leader 1 nextIndex[2]: 323  matchIndex[2]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
flag 45105 term 56 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 29443 term 56 leader 1 nextIndex[2]: 323  matchIndex[2]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
flag 73305 term 56 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 32219 term 56 leader 1 nextIndex[2]: 323  matchIndex[2]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55077 term 56 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 46872 term 56 leader 1 nextIndex[2]: 323  matchIndex[2]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
flag 25268 term 56 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 3615 term 56 leader 1 nextIndex[2]: 323  matchIndex[2]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322}]
------------------------------------------------------
client write log 1331637708002369479 (index 323) to leader 1
flag 55741 term 56 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 302 term 56 leader 1 nextIndex[2]: 323  matchIndex[2]: 322
term 56 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322} {1331637708002369479 56 323}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322} {1331637708002369479 56 323}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44621 term 56 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 56 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 56 leaderCommit: 323 
------------------------------------------------------
flag 77012 term 56 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 56 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 56 leaderCommit: 323 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322} {1331637708002369479 56 323}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322} {1331637708002369479 56 323}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27189 term 56 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 56 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 56 leaderCommit: 323 
------------------------------------------------------
flag 86650 term 56 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 56 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 56 leaderCommit: 323 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322} {1331637708002369479 56 323}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322} {1331637708002369479 56 323}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40327 term 56 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 56 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 56 leaderCommit: 323 
------------------------------------------------------
flag 6862 term 56 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 56 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 56 leaderCommit: 323 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322} {1331637708002369479 56 323}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322} {1331637708002369479 56 323}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32945 term 56 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 56 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 56 leaderCommit: 323 
------------------------------------------------------
flag 51551 term 56 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 56 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 56 leaderCommit: 323 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322} {1331637708002369479 56 323}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322} {1331637708002369479 56 323}]
------------------------------------------------------
flag 64687 term 56 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 56 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 56 leaderCommit: 323 
------------------------------------------------------
flag 2391 term 56 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 56 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 56 leaderCommit: 323 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322} {1331637708002369479 56 323}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322} {1331637708002369479 56 323}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53578 term 56 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 56 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 56 leaderCommit: 323 
------------------------------------------------------
flag 3522 term 56 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 56 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 56 leaderCommit: 323 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322} {1331637708002369479 56 323}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322} {1331637708002369479 56 323}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4153747991777010310 (index 324) to leader 1
flag 71423 term 56 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 56 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 56 leaderCommit: 323 
------------------------------------------------------
flag 56921 term 56 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 56 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 56 leaderCommit: 323 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322} {1331637708002369479 56 323} {4153747991777010310 56 324}]
------------------------------------------------------
flag 68710 term 56 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 56 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
flag 31276 term 56 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 56 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322} {1331637708002369479 56 323} {4153747991777010310 56 324}]
------------------------------------------------------
client write log 3329732470541404176 (index 325) to leader 1
client write log 2300833478376140400 (index 326) to leader 1
client write log 2959193709238304399 (index 327) to leader 1
client write log 5680461009589615513 (index 328) to leader 1
client write log 3254987819562198319 (index 329) to leader 1
client write log 4261415770508439271 (index 330) to leader 1
flag 29279 term 56 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 56 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
flag 93729 term 56 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 56 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=330
leader log:
[{snapshot 54 319} {6804866869727437204 54 320} {3419278263190078407 54 321} {1331637708002369479 54 322} {1331637708002369479 56 323} {4153747991777010310 56 324} {3329732470541404176 56 325} {2300833478376140400 56 326} {2959193709238304399 56 327} {5680461009589615513 56 328} {3254987819562198319 56 329} {4261415770508439271 56 330}]
------------------------------------------------------
term 56 Server1 start snapshot! index=329
term 56 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
flag 72626 term 56 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 56 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 56 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 56 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 56
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330}]
------------------------------------------------------
term 56 Server0 start snapshot! index=329
term 56 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4263986726224312536 (index 331) to leader 1
term 56 server 1 not vote for server 2, 日志不够新
term 56 server 0 not vote for server 2, 日志不够新
term 58 server 2 vote for server 1
term 58 server 0 vote for server 1
term 58 server 1 get vote from server 2
term 58 server 1 become leader
------------------------------------------------------
term 58 server 1 get outdate rpc reply from server 0
flag 69924 term 58 leader 1 nextIndex[0]: 332  matchIndex[0]: 0
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 49685 term 58 leader 1 nextIndex[2]: 332  matchIndex[2]: 0
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 332->331
------------------------------------------------------
term 58 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 332->331
------------------------------------------------------
flag 51807 term 58 leader 1 nextIndex[0]: 331  matchIndex[0]: 0
term 58 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 leader 1 nextIndex[2]: 324  matchIndex[2]: 0
term 58 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 56
------------------------------------------------------
term 58 server 2 InstallSnapshot success
------------------------------------------------------
term 58 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 56 rf.commitIndex 329 rf.lastApplied 329
term 58 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
flag 98140 term 58 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 75192 term 58 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 58 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
flag 49311 term 58 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 27410 term 58 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19005 term 58 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 88371 term 58 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72386 term 58 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 38206 term 58 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
flag 87611 term 58 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 38438 term 58 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96683 term 58 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 84231 term 58 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
term 58 server 1 not vote for server 0, 任期不够新
term 58 server 0 get outdate rpc reply from server 1
flag 41132 term 58 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 77394 term 58 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
flag 46538 term 58 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 4179 term 58 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
flag 11764 term 58 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 14136 term 58 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11808 term 58 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 16134 term 58 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81642 term 58 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 40804 term 58 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
flag 63593 term 58 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 12359 term 58 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
flag 92651 term 58 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 58407 term 58 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
flag 88884 term 58 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 1689 term 58 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45981 term 58 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 22536 term 58 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23943 term 58 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 40590 term 58 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
flag 84186 term 58 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 73469 term 58 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
flag 52620 term 58 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 61243 term 58 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331}]
------------------------------------------------------
client write log 4263986726224312536 (index 332) to leader 1
flag 73635 term 58 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
flag 51819 term 58 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332}]
------------------------------------------------------
flag 14488 term 58 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 13695 term 58 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332}]
------------------------------------------------------
flag 27092 term 58 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 39882 term 58 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332}]
------------------------------------------------------
flag 97334 term 58 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 36944 term 58 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
term 58 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69262 term 58 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 14960 term 58 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332}]
------------------------------------------------------
flag 3413 term 58 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 90050 term 58 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 17639 term 58 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 89883 term 58 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 39027 term 58 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 66723 term 58 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 49493 term 58 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 22388 term 58 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 12684 term 58 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 59668 term 58 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
term 59 server 2 vote for server 0
term 59 server 0 get vote from server 2
term 59 server 0 become leader
------------------------------------------------------
flag 59974 term 59 leader 0 nextIndex[1]: 333  matchIndex[1]: 0
term 59 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 56712 term 59 leader 0 nextIndex[2]: 333  matchIndex[2]: 0
term 59 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332}]
------------------------------------------------------
client write log 3982632631562881399 (index 333) to leader 0
flag 37531 term 58 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 37787 term 58 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
term 58 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52256 term 59 leader 0 nextIndex[1]: 333  matchIndex[1]: 0
term 59 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 68700 term 59 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 59 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333}]
------------------------------------------------------
flag 44852 term 58 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 61955 term 58 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 83469 term 59 leader 0 nextIndex[1]: 333  matchIndex[1]: 0
term 59 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 333 
------------------------------------------------------
flag 88492 term 59 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 59 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 59 leaderCommit: 333 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333}]
------------------------------------------------------
client write log 2817290244986271039 (index 334) to leader 0
flag 48396 term 58 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 41199 term 58 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 30031 term 59 leader 0 nextIndex[1]: 333  matchIndex[1]: 0
term 59 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 333 
------------------------------------------------------
flag 50137 term 59 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 59 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 59 leaderCommit: 333 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
flag 12650 term 58 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 7726 term 58 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
flag 98873 term 59 leader 0 nextIndex[1]: 333  matchIndex[1]: 0
term 59 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 334 
------------------------------------------------------
flag 10373 term 59 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5415690927983446691 (index 333) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 333->332
------------------------------------------------------
term 58 leader 1 nextIndex[0]: 0  matchIndex[0]: 332
term 58 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 56
------------------------------------------------------
flag 87332 term 58 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 58 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 332 
------------------------------------------------------
term 59 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 58 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 59 server 2 AppendEntries false 领导者任期过期 args.Term 58
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22337 term 59 leader 0 nextIndex[1]: 333  matchIndex[1]: 0
term 59 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 58 leaderCommit: 334 
------------------------------------------------------
flag 66905 term 59 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30976 term 59 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
flag 81631 term 59 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
flag 55983 term 59 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
flag 36484 term 59 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
flag 14535 term 59 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
flag 56983 term 59 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 335->334
------------------------------------------------------
term 59 leader 0 nextIndex[1]: 0  matchIndex[1]: 334
term 59 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 56
------------------------------------------------------
flag 58643 term 59 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
term 59 server 1 InstallSnapshot fail
rf.commitIndex 334 args.LastIncludedIndex 329
------------------------------------------------------
term 59 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
flag 85502 term 59 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 59 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
flag 59353 term 59 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
term 59 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
term 59 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27202 term 59 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
flag 12354 term 59 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
flag 62804 term 59 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
flag 92606 term 59 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
flag 90200 term 59 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
flag 22668 term 59 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
flag 6855 term 59 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
flag 54162 term 59 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
flag 97002 term 59 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
flag 86722 term 59 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
flag 50839 term 59 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
flag 87526 term 59 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
term 59 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91404 term 59 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
flag 57143 term 59 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
flag 14471 term 59 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
flag 77609 term 59 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
flag 68554 term 59 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
flag 21959 term 59 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
flag 67064 term 59 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
flag 25393 term 59 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
flag 97660 term 59 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
flag 86559 term 59 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
flag 34504 term 59 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
flag 48282 term 59 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
flag 10684 term 59 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
flag 69196 term 59 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
flag 15381 term 59 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
flag 78744 term 59 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334}]
------------------------------------------------------
client write log 5415690927983446691 (index 335) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89582 term 59 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
flag 92564 term 59 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 59 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 59 leaderCommit: 334 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334} {5415690927983446691 59 335}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334} {5415690927983446691 59 335}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69349 term 59 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 59 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 59 leaderCommit: 335 
------------------------------------------------------
flag 45649 term 59 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 59 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 59 leaderCommit: 335 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334} {5415690927983446691 59 335}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334} {5415690927983446691 59 335}]
------------------------------------------------------
flag 1938 term 59 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 59 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 59 leaderCommit: 335 
------------------------------------------------------
flag 34447 term 59 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 59 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 59 leaderCommit: 335 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334} {5415690927983446691 59 335}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334} {5415690927983446691 59 335}]
------------------------------------------------------
flag 13203 term 59 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 59 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 59 leaderCommit: 335 
------------------------------------------------------
flag 44537 term 59 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 59 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 59 leaderCommit: 335 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334} {5415690927983446691 59 335}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334} {5415690927983446691 59 335}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18458 term 59 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 59 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 59 leaderCommit: 335 
------------------------------------------------------
flag 90110 term 59 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 59 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 59 leaderCommit: 335 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334} {5415690927983446691 59 335}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334} {5415690927983446691 59 335}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73302 term 59 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 59 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 59 leaderCommit: 335 
------------------------------------------------------
flag 49560 term 59 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 59 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 59 leaderCommit: 335 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334} {5415690927983446691 59 335}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334} {5415690927983446691 59 335}]
------------------------------------------------------
flag 82528 term 59 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 59 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 59 leaderCommit: 335 
------------------------------------------------------
flag 53382 term 59 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 59 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 59 leaderCommit: 335 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334} {5415690927983446691 59 335}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334} {5415690927983446691 59 335}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3563205340343742835 (index 336) to leader 0
flag 29294 term 59 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 59 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 59 leaderCommit: 335 
------------------------------------------------------
flag 50212 term 59 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 59 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 59 leaderCommit: 335 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334} {5415690927983446691 59 335} {3563205340343742835 59 336}]
------------------------------------------------------
flag 10848 term 59 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 59 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 59 leaderCommit: 336 
------------------------------------------------------
flag 43530 term 59 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 59 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 59 leaderCommit: 336 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334} {5415690927983446691 59 335} {3563205340343742835 59 336}]
------------------------------------------------------
client write log 5148555959397464170 (index 337) to leader 0
client write log 2386833925919513072 (index 338) to leader 0
client write log 3103922841661899861 (index 339) to leader 0
client write log 1288551706029290621 (index 340) to leader 0
client write log 992213955711459093 (index 341) to leader 0
client write log 3999188935925866074 (index 342) to leader 0
client write log 2061949417876804237 (index 343) to leader 0
client write log 2221594501881822380 (index 344) to leader 0
flag 32568 term 59 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 59 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 59 leaderCommit: 336 
------------------------------------------------------
flag 16864 term 59 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 59 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 59 leaderCommit: 336 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 56 329} {4261415770508439271 56 330} {4263986726224312536 56 331} {4263986726224312536 58 332} {3982632631562881399 59 333} {2817290244986271039 59 334} {5415690927983446691 59 335} {3563205340343742835 59 336} {5148555959397464170 59 337} {2386833925919513072 59 338} {3103922841661899861 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344}]
------------------------------------------------------
term 59 Server0 start snapshot! index=339
term 59 server0 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=344
-------------------------------------------------------------
term 59 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 59 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 59
------------------------------------------------------
flag 1226 term 59 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 59 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344}]
------------------------------------------------------
term 59 Server2 start snapshot! index=339
term 59 server2 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=344
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5261123276637966668 (index 345) to leader 0
term 59 server 2 not vote for server 1, 日志不够新
term 59 server 0 not vote for server 1, 日志不够新
term 61 server 2 vote for server 0
term 61 server 0 get vote from server 2
term 61 server 0 become leader
------------------------------------------------------
term 61 server 1 vote for server 0
term 61 server 0 get outdate rpc reply from server 1
flag 19227 term 61 leader 0 nextIndex[1]: 346  matchIndex[1]: 0
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 49105 term 61 leader 0 nextIndex[2]: 346  matchIndex[2]: 0
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 61 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 61 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 346->345
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 346->345
------------------------------------------------------
term 61 leader 0 nextIndex[1]: 336  matchIndex[1]: 0
term 61 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 59
------------------------------------------------------
flag 9998 term 61 leader 0 nextIndex[2]: 345  matchIndex[2]: 0
term 61 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
term 61 server 1 InstallSnapshot success
------------------------------------------------------
term 61 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 340 matchIndex[1] 339 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 59 rf.commitIndex 339 rf.lastApplied 339
flag 37352 term 61 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 61 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 66479 term 61 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
term 61 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
flag 26691 term 61 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 6083 term 61 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
term 61 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
flag 70993 term 61 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 88003 term 61 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
term 61 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
flag 32824 term 61 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 24334 term 61 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
term 61 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19572 term 61 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 64213 term 61 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 61 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
flag 58454 term 61 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 18304 term 61 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
term 61 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27898 term 61 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 16900 term 61 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
term 61 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71758 term 61 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 45177 term 61 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
term 61 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
term 61 server 1 not vote for server 0, 任期不够新
term 61 server 0 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39929 term 61 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 78135 term 61 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
term 61 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
flag 92757 term 61 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 51995 term 61 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
term 61 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
flag 69730 term 61 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 56240 term 61 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
term 61 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35175 term 61 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 63952 term 61 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
term 61 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
flag 55855 term 61 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 2748 term 61 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
term 61 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97960 term 61 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 29791 term 61 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
term 61 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
flag 89402 term 61 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 126 term 61 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
term 61 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
flag 96046 term 61 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 88895 term 61 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 61 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97299 term 61 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 94327 term 61 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
term 61 server 1 AppendEntries true commitIndex:344 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
------------------------------------------------------
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
flag 24428 term 61 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 94139 term 61 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
term 61 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345}]
------------------------------------------------------
client write log 5261123276637966668 (index 346) to leader 0
flag 29048 term 61 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
flag 1799 term 61 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 61 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 59 leaderCommit: 344 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345} {5261123276637966668 61 346}]
------------------------------------------------------
term 61 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345} {5261123276637966668 61 346}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75733 term 61 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 61 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 61 leaderCommit: 346 
------------------------------------------------------
flag 71632 term 61 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 61 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 61 leaderCommit: 346 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345} {5261123276637966668 61 346}]
------------------------------------------------------
term 61 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345} {5261123276637966668 61 346}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20747 term 61 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 61 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 61 leaderCommit: 346 
------------------------------------------------------
flag 13635 term 61 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 61 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 61 leaderCommit: 346 
------------------------------------------------------
term 61 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345} {5261123276637966668 61 346}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345} {5261123276637966668 61 346}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17206 term 61 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 61 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 61 leaderCommit: 346 
------------------------------------------------------
flag 79434 term 61 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 61 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 61 leaderCommit: 346 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345} {5261123276637966668 61 346}]
------------------------------------------------------
term 61 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345} {5261123276637966668 61 346}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65228 term 61 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 61 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 61 leaderCommit: 346 
------------------------------------------------------
flag 44588 term 61 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 61 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 61 leaderCommit: 346 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
term 61 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345} {5261123276637966668 61 346}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345} {5261123276637966668 61 346}]
------------------------------------------------------
flag 41429 term 61 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 61 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 61 leaderCommit: 346 
------------------------------------------------------
flag 16870 term 61 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 61 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 61 leaderCommit: 346 
------------------------------------------------------
term 61 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345} {5261123276637966668 61 346}]
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 59 339} {1288551706029290621 59 340} {992213955711459093 59 341} {3999188935925866074 59 342} {2061949417876804237 59 343} {2221594501881822380 59 344} {5261123276637966668 59 345} {5261123276637966668 61 346}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
  ... Passed --  75.1  3 1736  749153  346
--- PASS: TestSnapshotInstall2D (75.12s)
PASS
